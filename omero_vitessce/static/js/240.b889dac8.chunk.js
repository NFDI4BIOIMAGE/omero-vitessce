/*! For license information please see 240.b889dac8.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkvitesscedemo=self.webpackChunkvitesscedemo||[]).push([[240],{240:(t,e,n)=>{n.r(e),n.d(e,{h:()=>Ms});var r=n(43),i=n(950),o=n(837);function a(t,e){for(var n=0;n<e.length;n++){const r=e[n];if("string"!=typeof r&&!Array.isArray(r))for(const e in r)if("default"!==e&&!(e in t)){const n=Object.getOwnPropertyDescriptor(r,e);n&&Object.defineProperty(t,e,n.get?n:{enumerable:!0,get:()=>r[e]})}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var s,l={exports:{}},u={};s=u,function(t){var e=t.Promise,n=e&&"resolve"in e&&"reject"in e&&"all"in e&&"race"in e&&function(){var t;return new e((function(e){t=e})),"function"==typeof t}();s?(s.Promise=n?e:w,s.Polyfill=w):n||(t.Promise=w);var r="pending",i="sealed",o="fulfilled",a="rejected",l=function(){};function u(t){return"[object Array]"===Object.prototype.toString.call(t)}var c,h=typeof setImmediate<"u"?setImmediate:setTimeout,f=[];function d(){for(var t=0;t<f.length;t++)f[t][0](f[t][1]);f=[],c=!1}function p(t,e){f.push([t,e]),c||(c=!0,h(d,0))}function m(t){var e=t.owner,n=e.state_,r=e.data_,i=t[n],s=t.then;if("function"==typeof i){n=o;try{r=i(r)}catch(l){b(s,l)}}v(s,r)||(n===o&&g(s,r),n===a&&b(s,r))}function v(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,(function(r){n||(n=!0,e!==r?g(t,r):y(t,r))}),(function(e){n||(n=!0,b(t,e))})),!0}}catch(i){return n||b(t,i),!0}return!1}function g(t,e){(t===e||!v(t,e))&&y(t,e)}function y(t,e){t.state_===r&&(t.state_=i,t.data_=e,p(x,t))}function b(t,e){t.state_===r&&(t.state_=i,t.data_=e,p(T,t))}function _(t){var e=t.then_;t.then_=void 0;for(var n=0;n<e.length;n++)m(e[n])}function x(t){t.state_=o,_(t)}function T(t){t.state_=a,_(t)}function w(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof w))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function n(t){b(e,t)}try{t((function(t){g(e,t)}),n)}catch(r){n(r)}}(t,this)}w.prototype={constructor:w,state_:r,then_:null,data_:void 0,then:function(t,e){var n={owner:this,then:new this.constructor(l),fulfilled:t,rejected:e};return this.state_===o||this.state_===a?p(m,n):this.then_.push(n),n.then},catch:function(t){return this.then(null,t)}},w.all=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var a,s=0;s<t.length;s++)(a=t[s])&&"function"==typeof a.then?a.then(o(s),n):r[s]=a;i||e(r)}))},w.race=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)}))},w.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},w.reject=function(t){return new this((function(e,n){n(t)}))}}(typeof window<"u"?window:typeof o.aT<"u"?o.aT:typeof self<"u"?self:o.aT);var c=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;var d=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch{return!1}}()?Object.assign:function(t,e){for(var n,r,i=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))h.call(n,a)&&(i[a]=n[a]);if(c){r=c(n);for(var s=0;s<r.length;s++)f.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i};const p=(0,o.g)(d);window.Promise||(window.Promise=u.Polyfill),Object.assign||(Object.assign=p);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var m=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-m}}for(var v=Date.now(),g=["ms","moz","webkit","o"],y=0;y<g.length&&!window.requestAnimationFrame;++y){var b=g[y];window.requestAnimationFrame=window[b+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b+"CancelAnimationFrame"]||window[b+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+v-e;return n<0&&(n=0),v=e,window.setTimeout((function(){v=Date.now(),t(performance.now())}),n)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var _=/iPhone/i,x=/iPod/i,T=/iPad/i,w=/\biOS-universal(?:.+)Mac\b/i,S=/\bAndroid(?:.+)Mobile\b/i,E=/Android/i,k=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,C=/Silk/i,A=/Windows Phone/i,O=/\bWindows(?:.+)ARM\b/i,P=/BlackBerry/i,M=/BB10/i,I=/Opera Mini/i,R=/\b(CriOS|Chrome)(?:.+)Mobile/i,L=/Mobile(?:.+)Firefox\b/i,D=function(t){return typeof t<"u"&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&typeof MSStream>"u"};var N=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),typeof(r=n.split("Twitter"))[1]<"u"&&(n=r[0]);var i=function(t){return function(e){return e.test(t)}}(n),o={apple:{phone:i(_)&&!i(A),ipod:i(x),tablet:!i(_)&&(i(T)||D(e))&&!i(A),universal:i(w),device:(i(_)||i(x)||i(T)||i(w)||D(e))&&!i(A)},amazon:{phone:i(k),tablet:!i(k)&&i(C),device:i(k)||i(C)},android:{phone:!i(A)&&i(k)||!i(A)&&i(S),tablet:!i(A)&&!i(k)&&!i(S)&&(i(C)||i(E)),device:!i(A)&&(i(k)||i(C)||i(S)||i(E))||i(/\bokhttp\b/i)},windows:{phone:i(A),tablet:i(O),device:i(A)||i(O)},other:{blackberry:i(P),blackberry10:i(M),opera:i(I),firefox:i(L),chrome:i(R),device:i(P)||i(M)||i(I)||i(L)||i(R)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator);var j={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(N.tablet||N.phone){var n;if(N.apple.device)if(n=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(n[1],10)<11&&(e=!1);if(N.android.device)if(n=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(n[1],10)<7&&(e=!1)}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:N.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!N.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},B={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function a(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var l,u,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,o),!0;case 6:return c.fn.call(c.context,e,r,i,o,a),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,r);break;case 4:c[u].fn.call(c[u].context,e,r,i);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn===e&&(!i||s.once)&&(!r||s.context===r)&&a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==e||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}(B);var F=B.exports;const H=(0,o.g)(F);var z={},U={exports:{}};!function(t,e){!function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a="object"==typeof o.aT&&o.aT;(a.global===a||a.window===a||a.self===a)&&(n=a);var s,l,u=2147483647,c=36,h=1,f=26,d=38,p=700,m=72,v=128,g="-",y=/^xn--/,b=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=c-h,w=Math.floor,S=String.fromCharCode;function E(t){throw RangeError(x[t])}function k(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function C(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+k((t=t.replace(_,".")).split("."),e).join(".")}function A(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function O(t){return k(t,(function(t){var e="";return t>65535&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=S(t)})).join("")}function P(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c}function M(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function I(t,e,n){var r=0;for(t=n?w(t/p):t>>1,t+=w(t/e);t>T*f>>1;r+=c)t=w(t/T);return w(r+(T+1)*t/(t+d))}function R(t){var e,n,r,i,o,a,s,l,d,p,y=[],b=t.length,_=0,x=v,T=m;for((n=t.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&E("not-basic"),y.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=_,a=1,s=c;i>=b&&E("invalid-input"),((l=P(t.charCodeAt(i++)))>=c||l>w((u-_)/a))&&E("overflow"),_+=l*a,!(l<(d=s<=T?h:s>=T+f?f:s-T));s+=c)a>w(u/(p=c-d))&&E("overflow"),a*=p;T=I(_-o,e=y.length+1,0==o),w(_/e)>u-x&&E("overflow"),x+=w(_/e),_%=e,y.splice(_++,0,x)}return O(y)}function L(t){var e,n,r,i,o,a,s,l,d,p,y,b,_,x,T,k=[];for(b=(t=A(t)).length,e=v,n=0,o=m,a=0;a<b;++a)(y=t[a])<128&&k.push(S(y));for(r=i=k.length,i&&k.push(g);r<b;){for(s=u,a=0;a<b;++a)(y=t[a])>=e&&y<s&&(s=y);for(s-e>w((u-n)/(_=r+1))&&E("overflow"),n+=(s-e)*_,e=s,a=0;a<b;++a)if((y=t[a])<e&&++n>u&&E("overflow"),y==e){for(l=n,d=c;!(l<(p=d<=o?h:d>=o+f?f:d-o));d+=c)T=l-p,x=c-p,k.push(S(M(p+T%x,0))),l=w(T/x);k.push(S(M(l,0))),o=I(n,_,r==i),n=0,++r}++n,++e}return k.join("")}if(s={version:"1.3.2",ucs2:{decode:A,encode:O},decode:R,encode:L,toASCII:function(t){return C(t,(function(t){return b.test(t)?"xn--"+L(t):t}))},toUnicode:function(t){return C(t,(function(t){return y.test(t)?R(t.slice(4).toLowerCase()):t}))}},r&&i)if(t.exports==r)i.exports=s;else for(l in s)s.hasOwnProperty(l)&&(r[l]=s[l]);else n.punycode=s}(o.aT)}(U,U.exports);var V=U.exports,G={};function X(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Y=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};G.decode=G.parse=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s=t.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var u,c,h,f,d=t[l].replace(o,"%20"),p=d.indexOf(n);p>=0?(u=d.substr(0,p),c=d.substr(p+1)):(u=d,c=""),h=decodeURIComponent(u),f=decodeURIComponent(c),X(i,h)?Array.isArray(i[h])?i[h].push(f):i[h]=[i[h],f]:i[h]=f}return i},G.encode=G.stringify=function(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(r){var i=encodeURIComponent(Y(r))+n;return Array.isArray(t[r])?t[r].map((function(t){return i+encodeURIComponent(Y(t))})).join(e):i+encodeURIComponent(Y(t[r]))})).join(e):r?encodeURIComponent(Y(r))+n+encodeURIComponent(Y(t)):""};var W=V,q={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}},K=z.parse=Ct;function $(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}z.resolve=function(t,e){return Ct(t,!1,!0).resolve(e)},z.resolveObject=function(t,e){return t?Ct(t,!1,!0).resolveObject(e):e},z.format=function(t){return q.isString(t)&&(t=Ct(t)),t instanceof $?t.format():$.prototype.format.call(t)},z.Url=$;var Z,Q,J,tt,et,nt,rt,it,ot,at,st,lt,ut,ct,ht,ft,dt,pt=/^([a-z0-9.+-]+:)/i,mt=/:[0-9]*$/,vt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,gt=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),yt=["'"].concat(gt),bt=["%","/","?",";","#"].concat(yt),_t=["/","?","#"],xt=/^[+a-z0-9A-Z_-]{0,63}$/,Tt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,wt={javascript:!0,"javascript:":!0},St={javascript:!0,"javascript:":!0},Et={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},kt=G;function Ct(t,e,n){if(t&&q.isObject(t)&&t instanceof $)return t;var r=new $;return r.parse(t,e,n),r}$.prototype.parse=function(t,e,n){if(!q.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(i);o[0]=o[0].replace(/\\/g,"/");var a=t=o.join(i);if(a=a.trim(),!n&&1===t.split("#").length){var s=vt.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=e?kt.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=pt.exec(a);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===a.substr(0,2);c&&(!l||!St[l])&&(a=a.substr(2),this.slashes=!0)}if(!St[l]&&(c||l&&!Et[l])){for(var h=-1,f=0;f<_t.length;f++){-1!==(m=a.indexOf(_t[f]))&&(-1===h||m<h)&&(h=m)}var d,p;-1!==(p=-1===h?a.lastIndexOf("@"):a.lastIndexOf("@",h))&&(d=a.slice(0,p),a=a.slice(p+1),this.auth=decodeURIComponent(d)),h=-1;for(f=0;f<bt.length;f++){var m;-1!==(m=a.indexOf(bt[f]))&&(-1===h||m<h)&&(h=m)}-1===h&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),y=(f=0,g.length);f<y;f++){var b=g[f];if(b&&!b.match(xt)){for(var _="",x=0,T=b.length;x<T;x++)b.charCodeAt(x)>127?_+="x":_+=b[x];if(!_.match(xt)){var w=g.slice(0,f),S=g.slice(f+1),E=b.match(Tt);E&&(w.push(E[1]),S.unshift(E[2])),S.length&&(a="/"+S.join(".")+a),this.hostname=w.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=W.toASCII(this.hostname));var k=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+k,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!wt[u])for(f=0,y=yt.length;f<y;f++){var A=yt[f];if(-1!==a.indexOf(A)){var O=encodeURIComponent(A);O===A&&(O=escape(A)),a=a.split(A).join(O)}}var P=a.indexOf("#");-1!==P&&(this.hash=a.substr(P),a=a.slice(0,P));var M=a.indexOf("?");if(-1!==M?(this.search=a.substr(M),this.query=a.substr(M+1),e&&(this.query=kt.parse(this.query)),a=a.slice(0,M)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Et[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var I=this.search||"";this.path=k+I}return this.href=this.format(),this},$.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&q.isObject(this.query)&&Object.keys(this.query).length&&(o=kt.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||Et[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+i+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},$.prototype.resolve=function(t){return this.resolveObject(Ct(t,!1,!0)).format()},$.prototype.resolveObject=function(t){if(q.isString(t)){var e=new $;e.parse(t,!1,!0),t=e}for(var n=new $,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),s=0;s<a.length;s++){var l=a[s];"protocol"!==l&&(n[l]=t[l])}return Et[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Et[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||St[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=v||m||n.host&&t.pathname,y=g,b=n.pathname&&n.pathname.split("/")||[],_=(f=t.pathname&&t.pathname.split("/")||[],n.protocol&&!Et[n.protocol]);if(_&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),g=g&&(""===f[0]||""===b[0])),v)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),n.search=t.search,n.query=t.query;else if(!q.isNullOrUndefined(t.search)){if(_)n.hostname=n.host=b.shift(),(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift());return n.search=t.search,n.query=t.query,(!q.isNull(n.pathname)||!q.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=b.slice(-1)[0],T=(n.host||t.host||b.length>1)&&("."===x||".."===x)||""===x,w=0,S=b.length;S>=0;S--)"."===(x=b[S])?b.splice(S,1):".."===x?(b.splice(S,1),w++):w&&(b.splice(S,1),w--);if(!g&&!y)for(;w--;w)b.unshift("..");g&&""!==b[0]&&(!b[0]||"/"!==b[0].charAt(0))&&b.unshift(""),T&&"/"!==b.join("/").substr(-1)&&b.push("");var E,k=""===b[0]||b[0]&&"/"===b[0].charAt(0);_&&(n.hostname=n.host=k?"":b.length?b.shift():"",(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift()));return(g=g||n.host&&b.length)&&!k&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),(!q.isNull(n.pathname)||!q.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},$.prototype.parseHost=function(){var t=this.host,e=mt.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Z||(Z={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Q||(Q={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(J||(J={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(tt||(tt={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(et||(et={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(nt||(nt={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(rt||(rt={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(it||(it={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(ot||(ot={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(at||(at={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(st||(st={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(lt||(lt={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(ut||(ut={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(ct||(ct={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(ht||(ht={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(ft||(ft={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(dt||(dt={})),j.RETINA_PREFIX=/@([0-9\.]+)x/,j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var At,Ot=!1,Pt="5.3.12";function Mt(t){var e;if(!Ot){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=["\n %c %c %c PixiJS "+Pt+" - \u2730 "+t+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,n)}else window.console&&window.console.log("PixiJS "+Pt+" - "+t+" - http://www.pixijs.com/");Ot=!0}}function It(){return typeof At>"u"&&(At=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,r}catch{return!1}}()),At}function Rt(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Lt(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function Dt(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}var Nt=function(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[tt.NORMAL_NPM]=tt.NORMAL,t[tt.ADD_NPM]=tt.ADD,t[tt.SCREEN_NPM]=tt.SCREEN,e[tt.NORMAL]=tt.NORMAL_NPM,e[tt.ADD]=tt.ADD_NPM,e[tt.SCREEN]=tt.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function jt(t,e){return Nt[e?1:0][t]}function Bt(t,e,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function Ft(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,r=t>>8&255,i=255&t;return(255*e<<24)+((n=n*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(i=i*e+.5|0)}function Ht(t,e,n,r){return(n=n||new Float32Array(4))[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(r||void 0===r)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}function zt(t,e){void 0===e&&(e=null);var n=6*t;if((e=e||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function Ut(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Vt={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function Gt(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function Xt(t){return!(t&t-1)&&!!t}function Yt(t){var e=(t>65535?1:0)<<4,n=((t>>>=e)>255?1:0)<<3;return e|=n,e|=n=((t>>>=n)>15?1:0)<<2,(e|=n=((t>>>=n)>3?1:0)<<1)|(t>>>=n)>>1}function Wt(t,e,n){var r,i=t.length;if(!(e>=i||0===n)){var o=i-(n=e+n>i?i-e:n);for(r=e;r<o;++r)t[r]=t[r+n];t.length=o}}function qt(t){return 0===t?0:t<0?-1:1}var Kt=0;function $t(){return++Kt}var Zt={};function Qt(t,e,n){if(void 0===n&&(n=3),!Zt[e]){var r=(new Error).stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),Zt[e]=!0}}var Jt={},te=Object.create(null),ee=Object.create(null);var ne=function(){function t(t,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||j.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function re(t){var e,n,r,i=t.width,o=t.height,a=t.getContext("2d"),s=a.getImageData(0,0,i,o).data,l=s.length,u={top:null,left:null,right:null,bottom:null},c=null;for(e=0;e<l;e+=4)0!==s[e+3]&&(n=e/4%i,r=~~(e/4/i),null===u.top&&(u.top=r),(null===u.left||n<u.left)&&(u.left=n),(null===u.right||u.right<n)&&(u.right=n+1),(null===u.bottom||u.bottom<r)&&(u.bottom=r));return null!==u.top&&(i=u.right-u.left,o=u.bottom-u.top+1,c=a.getImageData(u.left,u.top,i,o)),{height:o,width:i,data:c}}var ie,oe=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ae(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,ie||(ie=document.createElement("a")),ie.href=t;var n=K(ie.href),r=!n.port&&""===e.port||n.port===e.port;return n.hostname===e.hostname&&r&&n.protocol===e.protocol?"":"anonymous"}function se(t,e){var n=j.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):void 0!==e?e:1}const le=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:ee,CanvasRenderTarget:ne,DATA_URI:oe,EventEmitter:H,ProgramCache:Jt,TextureCache:te,clearTextureCache:function(){var t;for(t in te)delete te[t];for(t in ee)delete ee[t]},correctBlendMode:jt,createIndicesForQuads:zt,decomposeDataUri:function(t){var e=oe.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}},deprecation:Qt,destroyTextureCache:function(){var t;for(t in te)te[t].destroy();for(t in ee)ee[t].destroy()},determineCrossOrigin:ae,earcut:o.aU,getBufferType:Ut,getResolutionOfUrl:se,hex2rgb:Rt,hex2string:Lt,interleaveTypedArrays:function(t,e){for(var n=0,r=0,i={},o=0;o<t.length;o++)r+=e[o],n+=t[o].length;var a=new ArrayBuffer(4*n),s=null,l=0;for(o=0;o<t.length;o++){var u=e[o],c=t[o],h=Ut(c);i[h]||(i[h]=new Vt[h](a)),s=i[h];for(var f=0;f<c.length;f++){s[(f/u|0)*r+l+f%u]=c[f]}l+=u}return new Float32Array(a)},isMobile:N,isPow2:Xt,isWebGLSupported:It,log2:Yt,nextPow2:Gt,premultiplyBlendMode:Nt,premultiplyRgba:Bt,premultiplyTint:Ft,premultiplyTintToRgba:Ht,removeItems:Wt,rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},sayHello:Mt,sign:qt,skipHello:function(){Ot=!0},string2hex:Dt,trimCanvas:re,uid:$t,url:z},Symbol.toStringTag,{value:"Module"}));var ue,ce=2*Math.PI,he=180/Math.PI,fe=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(ue||(ue={}));var de=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(n),this.height=Number(r),this.type=ue.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(n-e,0),this.y=r,this.height=Math.max(i-r,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var n=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=r-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=n-e,this.y=r,this.height=i-r,this},t}(),pe=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.radius=n,this.type=ue.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-t,i=this.y-e;return(r*=r)+(i*=i)<=n},t.prototype.getBounds=function(){return new de(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),me=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=n,this.height=r,this.type=ue.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return(n*=n)+(r*=r)<=1},t.prototype.getBounds=function(){return new de(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),ve=function(){function t(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var i=[],o=0,a=r.length;o<a;o++)i.push(r[o].x,r[o].y);r=i}this.points=r,this.type=ue.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],l=this.points[2*o],u=this.points[2*o+1];s>e!=u>e&&t<(e-s)/(u-s)*(l-a)+a&&(n=!n)}return n},t}(),ge=function(){function t(t,e,n,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=20),this.x=t,this.y=e,this.width=n,this.height=r,this.radius=i,this.type=ue.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),r=e-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i||(n=t-(this.x+this.width-this.radius))*n+r*r<=i||n*n+(r=e-(this.y+this.height-this.radius))*r<=i||(n=t-(this.x+this.radius))*n+r*r<=i)return!0}return!1},t}(),ye=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),be=function(){function t(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this._x=n,this._y=r,this.cb=t,this.scope=e}return t.prototype.clone=function(e,n){return void 0===e&&(e=this.cb),void 0===n&&(n=this.scope),new t(e,n,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),_e=function(){function t(t,e,n,r,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new ye;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new ye;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,i=t.y;return e.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,n,r,i,o,a,s,l){return this.a=Math.cos(a+l)*i,this.b=Math.sin(a+l)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(n*this.a+r*this.c),this.ty=e-(n*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),a=Math.atan2(n,e),s=Math.abs(o+a);return s<1e-5||Math.abs(ce-s)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(r*r+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),xe=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Te=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],we=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Se=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ee=[],ke=[],Ce=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];Ee.push(e);for(var n=0;n<16;n++)for(var r=Ce(xe[t]*xe[n]+we[t]*Te[n]),i=Ce(Te[t]*xe[n]+Se[t]*Te[n]),o=Ce(xe[t]*we[n]+we[t]*Se[n]),a=Ce(Te[t]*we[n]+Se[t]*Se[n]),s=0;s<16;s++)if(xe[s]===r&&Te[s]===i&&we[s]===o&&Se[s]===a){e.push(s);break}}for(t=0;t<16;t++){var l=new _e;l.set(xe[t],Te[t],we[t],Se[t],0,0),ke.push(l)}}();var Ae={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return xe[t]},uY:function(t){return Te[t]},vX:function(t){return we[t]},vY:function(t){return Se[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Ee[t][e]},sub:function(t,e){return Ee[t][Ae.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Ae.S:Ae.N:2*Math.abs(e)<=Math.abs(t)?t>0?Ae.E:Ae.W:e>0?t>0?Ae.SE:Ae.SW:t>0?Ae.NE:Ae.NW},matrixAppendRotationInv:function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=ke[Ae.inv(e)];i.tx=n,i.ty=r,t.append(i)}},Oe=function(){function t(){this.worldTransform=new _e,this.localTransform=new _e,this.position=new be(this.onChange,this,0,0),this.scale=new be(this.onChange,this,1,1),this.pivot=new be(this.onChange,this,0,0),this.skew=new be(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();j.SORTABLE_CHILDREN=!1;var Pe=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?de.EMPTY:((t=t||new de(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[2])<e?o:e,n=(a=t[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[4])<e?o:e,n=(a=t[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[6])<e?o:e,n=(a=t[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},t.prototype.addFrame=function(t,e,n,r,i){this.addFrameMatrix(t.worldTransform,e,n,r,i)},t.prototype.addFrameMatrix=function(t,e,n,r,i){var o=t.a,a=t.b,s=t.c,l=t.d,u=t.tx,c=t.ty,h=this.minX,f=this.minY,d=this.maxX,p=this.maxY,m=o*e+s*n+u,v=a*e+l*n+c;h=m<h?m:h,f=v<f?v:f,d=m>d?m:d,p=v>p?v:p,h=(m=o*r+s*n+u)<h?m:h,f=(v=a*r+l*n+c)<f?v:f,d=m>d?m:d,p=v>p?v:p,h=(m=o*e+s*i+u)<h?m:h,f=(v=a*e+l*i+c)<f?v:f,d=m>d?m:d,p=v>p?v:p,h=(m=o*r+s*i+u)<h?m:h,f=(v=a*r+l*i+c)<f?v:f,d=m>d?m:d,p=v>p?v:p,this.minX=h,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addVertexData=function(t,e,n){for(var r=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=e;s<n;s+=2){var l=t[s],u=t[s+1];r=l<r?l:r,i=u<i?u:i,o=l>o?l:o,a=u>a?u:a}this.minX=r,this.minY=i,this.maxX=o,this.maxY=a},t.prototype.addVertices=function(t,e,n,r){this.addVerticesMatrix(t.worldTransform,e,n,r)},t.prototype.addVerticesMatrix=function(t,e,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var a=t.a,s=t.b,l=t.c,u=t.d,c=t.tx,h=t.ty,f=this.minX,d=this.minY,p=this.maxX,m=this.maxY,v=n;v<r;v+=2){var g=e[v],y=e[v+1],b=a*g+l*y+c,_=u*y+s*g+h;f=Math.min(f,b-i),p=Math.max(p,b+i),d=Math.min(d,_-o),m=Math.max(m,_+o)}this.minX=f,this.minY=d,this.maxX=p,this.maxY=m},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>l?i:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>l?i:l,this.maxY=o>u?o:u}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,n,r,i,o){t-=i,e-=o,n+=i,r+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},t}(),Me=function(t,e){return(Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ie(t,e){function n(){this.constructor=t}Me(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Re=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Oe,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Pe,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Ie(e,t),e.mixin=function(t){for(var n=Object.keys(t),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t,i))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new de),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new de),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Pe);var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=n,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-i,o},e.prototype.toGlobal=function(t,e,n){return void 0===n&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,r){return e&&(t=e.toGlobal(t,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,n,r,i,o,a,s,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Le),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*he},set:function(t){this.transform.rotation=t*fe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1);(this._mask=t,this._mask)&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(H),Le=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return Ie(e,t),e}(Re);function De(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Re.prototype.displayObjectUpdateTransform=Re.prototype.updateTransform;var Ne=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=j.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Ie(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var i=e[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);Wt(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var i=e[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,Wt(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit("removed",this),this.emit("childRemoved",i,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Wt(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var n,r=t,i=e-r;if(i>0&&i<=e){n=this.children.splice(r,i);for(var o=0;o<n.length;++o)n[o].parent=null,n[o].transform&&(n[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(o=0;o<n.length;++o)n[o].emit("removed",this),this.emit("childRemoved",n[o],this,o);return n}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,n=this.children.length;e<n;++e){var r=this.children[e];r._lastSortedIndex=e,!t&&0!==r.zIndex&&(t=!0)}t&&this.children.length>1&&this.children.sort(De),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var n=e._mask.maskObject||e._mask;n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,n){void 0===n&&(n=!1);var r=t.prototype.getLocalBounds.call(this,e);if(!n)for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i];a.visible&&a.updateTransform()}return r},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}n&&t.mask.push(this,this._mask),this._render(t);r=0;for(var i=this.children.length;r<i;r++)this.children[r].render(t);t.batch.flush(),n&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var n="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(Re);Ne.prototype.containerUpdateTransform=Ne.prototype.updateTransform;var je={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Re.mixin(je);var Be,Fe=100,He=function(){function t(t){this._hookDiv=null,(N.tablet||N.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=Fe+"px",e.style.height=Fe+"px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){var t=performance.now();if(!(N.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),n=this.renderer.resolution,r=e.width/this.renderer.width*n,i=e.height/this.renderer.height*n,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var s=this.children[a];if(s.renderId!==this.renderId)s._accessibleActive=!1,Wt(this.children,a,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,a--;else{o=s._accessibleDiv;var l=s.hitArea,u=s.worldTransform;s.hitArea?(o.style.left=(u.tx+l.x*u.a)*r+"px",o.style.top=(u.ty+l.y*u.d)*i+"px",o.style.width=l.width*u.a*r+"px",o.style.height=l.height*u.d*i+"px"):(l=s.getBounds(),this.capHitArea(l),o.style.left=l.x*r+"px",o.style.top=l.y*i+"px",o.style.width=l.width*r+"px",o.style.height=l.height*i+"px",o.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(o.title=s.accessibleTitle),o.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&o.setAttribute("aria-label",s.accessibleHint)),(s.accessibleTitle!==o.title||s.tabIndex!==o.tabIndex)&&(o.title=s.accessibleTitle,o.tabIndex=s.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=Fe+"px",e.style.height=Fe+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:(!t.accessibleHint||null===t.accessibleHint)&&(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();j.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Be||(Be={}));var ze=function(){function t(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=0),void 0===r&&(r=!1),this.fn=t,this.context=e,this.priority=n,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),Ue=function(){function t(){var t=this;this._head=new ze(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/j.TARGET_FPMS,this.elapsedMS=1/j.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,n){return void 0===n&&(n=Be.NORMAL),this._addListener(new ze(t,e,n))},t.prototype.addOnce=function(t,e,n){return void 0===n&&(n=Be.NORMAL),this._addListener(new ze(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*j.TARGET_FPMS;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,j.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Ve=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Be.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Ue.shared:new Ue,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),Ge=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new ye,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),Xe=function(t,e){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ye=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),We=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!==(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!==(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!==(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),qe=function(){function t(){this._tempPoint=new ye}return t.prototype.recursiveFindHit=function(t,e,n,r,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i,l=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,l=!1)),s=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(r=!1)),l&&e.interactiveChildren&&e.children)for(var u=e.children,c=u.length-1;c>=0;c--){var h=u[c],f=this.recursiveFindHit(t,h,n,r,s);if(f){if(!h.parent)continue;s=!1,f&&(t.target&&(r=!1),a=!0)}}return i&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),n&&n(t,e,!!a))),a},t.prototype.findHit=function(t,e,n,r){this.recursiveFindHit(t,e,n,r,!1)},t}(),Ke={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Re.mixin(Ke);var $e={target:null,data:{global:null}},Ze=function(t){function e(e,n){var r=t.call(this)||this;return n=n||{},r.renderer=e,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new Ge,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new Ye,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new qe,r._tempDisplayObject=new Le,r._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function(t,e){function n(){this.constructor=t}Xe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return $e.target=null,$e.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive($e,e,null,!0),$e.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Ue.system.add(this.tickerUpdate,this,Be.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Ue.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){(!n.stopPropagationHint||t===n.stopsPropagatingAt)&&(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.delayDispatchEvent=function(t,e,n){this.delayedEvents.push({displayObject:t,eventString:e,eventData:n})},e.prototype.mapPositionToPoint=function(t,e,n){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*i,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},e.prototype.processInteractive=function(t,e,n,r){var i=this.search.findHit(t,e,n,r),o=this.delayedEvents;if(!o.length)return i;t.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var l=o[s],u=l.displayObject,c=l.eventString,h=l.eventData;h.stopsPropagatingAt===u&&(h.stopPropagationHint=!0),this.dispatchEvent(u,c,h)}return i},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var r=t.data,i=t.data.identifier;if(n)if(e.trackedPointers[i]||(e.trackedPointers[i]=new We(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var r=this.normalizeToPointerData(t),i=r.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],l=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,l);if(u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,n,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;this.emit(c?"rightup"+o:"mouseup"+o,u)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(s.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var r=t.data,i=t.data.identifier,o=e.trackedPointers[i],a="touch"===r.pointerType,s="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;if(s){var u=2===r.button,c=We.FLAGS,h=u?c.RIGHT_DOWN:c.LEFT_DOWN,f=void 0!==o&&o.flags&h;n?(this.dispatchEvent(e,u?"rightup":"mouseup",t),f&&(this.dispatchEvent(e,u?"rightclick":"click",t),l=!0)):f&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&((!s||l)&&this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);("mouse"===e[0].pointerType||"pen"===e[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t,this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),("mouse"===i.pointerType||"pen"===i.pointerType)&&this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var r=t.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,n),(!this.moveWhenInside||n)&&(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var r=t.data,i=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=e.trackedPointers[i];n&&!a&&(a=e.trackedPointers[i]=new We(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),("mouse"===e.pointerType||"pen"===e.pointerType)&&this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e,n=t.pointerId;return 1===n||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[n]?e=this.activeInteractionData[n]:((e=this.interactionDataPool.pop()||new Ge).identifier=n,this.activeInteractionData[n]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,r=t.changedTouches.length;n<r;n++){var i=t.changedTouches[n];typeof i.button>"u"&&(i.button=t.touches.length?1:0),typeof i.buttons>"u"&&(i.buttons=t.touches.length?1:0),typeof i.isPrimary>"u"&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var o=t;typeof o.isPrimary>"u"&&(o.isPrimary=!0),typeof o.width>"u"&&(o.width=1),typeof o.height>"u"&&(o.height=1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="mouse"),typeof o.pointerId>"u"&&(o.pointerId=1),typeof o.pressure>"u"&&(o.pressure=.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(H),Qe=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,n,r,i,o,a,s){if(arguments.length>8)throw new Error("max arguments reached");var l=this.name,u=this.items;this._aliasCount++;for(var c=0,h=u.length;c<h;c++)u[c][l](t,e,n,r,i,o,a,s);return u===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Qe.prototype,{dispatch:{value:Qe.prototype.emit},run:{value:Qe.prototype.emit}}),j.PREFER_ENV=N.any?Z.WEBGL:Z.WEBGL2,j.STRICT_TEXTURE_CACHE=!1;var Je=[];function tn(t,e){if(!t)return null;var n="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(var i=Je.length-1;i>=0;--i){var o=Je[i];if(o.test&&o.test(t,n))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var en=function(t,e){return(en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function nn(t,e){function n(){this.constructor=t}en(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var rn=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Qe("setRealSize"),this.onUpdate=new Qe("update"),this.onError=new Qe("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),on=function(t){function e(e,n){var r=this,i=n||{},o=i.width,a=i.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(r=t.call(this,o,a)||this).data=e,r}return nn(e,t),e.prototype.upload=function(t,e,n){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===lt.UNPACK),n.width===e.width&&n.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(n.width=e.width,n.height=e.height,r.texImage2D(e.target,0,n.internalFormat,e.width,e.height,0,e.format,n.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(rn),an={scaleMode:ot.NEAREST,format:nt.RGBA,alphaMode:lt.NPM},sn=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=t.call(this)||this,i=(n=n||{}).alphaMode,o=n.mipmap,a=n.anisotropicLevel,s=n.scaleMode,l=n.width,u=n.height,c=n.wrapMode,h=n.format,f=n.type,d=n.target,p=n.resolution,m=n.resourceOptions;return e&&!(e instanceof rn)&&((e=tn(e,m)).internal=!0),r.width=l||0,r.height=u||0,r.resolution=p||j.RESOLUTION,r.mipmap=void 0!==o?o:j.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:j.ANISOTROPIC_LEVEL,r.wrapMode=c||j.WRAP_MODE,r.scaleMode=void 0!==s?s:j.SCALE_MODE,r.format=h||nt.RGBA,r.type=f||it.UNSIGNED_BYTE,r.target=d||rt.TEXTURE_2D,r.alphaMode=void 0!==i?i:lt.UNPACK,void 0!==n.premultiplyAlpha&&(r.premultiplyAlpha=n.premultiplyAlpha),r.uid=$t(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=l>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return nn(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var n;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,n){return this.resolution=n||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,n){return this.resolution=n||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Xt(this.realWidth)&&Xt(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ee[this.cacheId],delete te[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,n,r){void 0===r&&(r=j.STRICT_TEXTURE_CACHE);var i="string"==typeof t,o=null;i?o=t:(t._pixiId||(t._pixiId="pixiid_"+$t()),o=t._pixiId);var a=ee[o];if(i&&r&&!a)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return a||((a=new e(t,n)).cacheId=o,e.addToCache(a,o)),a},e.fromBuffer=function(t,n,r,i){t=t||new Float32Array(n*r*4);var o=new on(t,{width:n,height:r}),a=t instanceof Float32Array?it.FLOAT:it.UNSIGNED_BYTE;return new e(o,Object.assign(an,i||{width:n,height:r,type:a}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),ee[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),ee[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=ee[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete ee[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete ee[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(H),ln=function(t){function e(e,n){var r=this,i=n||{},o=i.width,a=i.height;(r=t.call(this,o,a)||this).items=[],r.itemDirtyIds=[];for(var s=0;s<e;s++){var l=new sn;r.items.push(l),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return nn(e,t),e.prototype.initFromArray=function(t,e){for(var n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof rn?this.addResourceAt(t[n],n):this.addResourceAt(tn(t[n],e),n))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],n=e.realWidth,r=e.realHeight;return t.resize(n,r),Promise.resolve(t)})),this._load},e}(rn),un=function(t){function e(e,n){var r,i,o=this,a=n||{},s=a.width,l=a.height;return Array.isArray(e)?(r=e,i=e.length):i=e,o=t.call(this,i,{width:s,height:l})||this,r&&o.initFromArray(r,n),o}return nn(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=rt.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,n){var r=this,i=r.length,o=r.itemDirtyIds,a=r.items,s=t.gl;n.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,i,0,e.format,e.type,null);for(var l=0;l<i;l++){var u=a[l];o[l]<u.dirtyId&&(o[l]=u.dirtyId,u.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,e.format,e.type,u.resource.source))}return!0},e}(ln),cn=function(t){function e(e){var n=this,r=e,i=r.naturalWidth||r.videoWidth||r.width,o=r.naturalHeight||r.videoHeight||r.height;return(n=t.call(this,i,o)||this).source=e,n.noSubImage=!1,n}return nn(e,t),e.crossOrigin=function(t,e,n){void 0===n&&0!==e.indexOf("data:")?t.crossOrigin=ae(e):!1!==n&&(t.crossOrigin="string"==typeof n?n:"anonymous")},e.prototype.upload=function(t,e,n,r){var i=t.gl,o=e.realWidth,a=e.realHeight;return r=r||this.source,i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===lt.UNPACK),this.noSubImage||e.target!==i.TEXTURE_2D||n.width!==o||n.height!==a?(n.width=o,n.height=a,i.texImage2D(e.target,0,e.format,e.format,e.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e.format,e.type,r),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(rn),hn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nn(e,t),e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(cn),fn=function(t){function e(n,r){var i=this,o=r||{},a=o.width,s=o.height,l=o.autoLoad,u=o.linkBaseTexture;if(n&&n.length!==e.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");i=t.call(this,6,{width:a,height:s})||this;for(var c=0;c<e.SIDES;c++)i.items[c].target=rt.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=!1!==u,n&&i.initFromArray(n,r),!1!==l&&i.load(),i}return nn(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=rt.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=rt.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,n,r){for(var i=this.itemDirtyIds,o=0;o<e.SIDES;o++){var a=this.items[o];i[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(t,a,r),i[o]=a.dirtyId):i[o]<-1&&(t.gl.texImage2D(a.target,0,r.internalFormat,n.realWidth,n.realHeight,0,n.format,r.type,null),i[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(ln),dn=function(t){function e(e,n){var r=this;if(n=n||{},!(e instanceof HTMLImageElement)){var i=new Image;cn.crossOrigin(i,e,n.crossorigin),i.src=e,e=i}return r=t.call(this,e)||this,!e.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==n.createBitmap?n.createBitmap:j.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,r.alphaMode="number"==typeof n.alphaMode?n.alphaMode:null,void 0!==n.premultiplyAlpha&&(r.premultiplyAlpha=n.premultiplyAlpha),r.bitmap=null,r._load=null,!1!==n.autoLoad&&r.load(),r}return nn(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,n){var r=e.source;e.url=r.src;var i=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(t){n(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===lt.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,n,r){if("number"==typeof this.alphaMode&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,n,r,this.bitmap),!this.preserveBitmap){var i=!0,o=n._glTextures;for(var a in o){var s=o[a];if(s!==r&&s.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(cn),pn=function(t){function e(e,n){var r=this;return n=n||{},(r=t.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=n.scale||1,r._overrideWidth=n.width,r._overrideHeight=n.height,r._resolve=null,r._crossorigin=n.crossorigin,r._load=null,!1!==n.autoLoad&&r.load(),r}return nn(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;cn.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(n){t._resolve&&(e.onerror=null,t.onError.emit(n))},e.onload=function(){if(t._resolve){var n=e.width,r=e.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=n*t.scale,o=r*t.scale;(t._overrideWidth||t._overrideHeight)&&(i=t._overrideWidth||t._overrideHeight/r*n,o=t._overrideHeight||t._overrideWidth/n*r),i=Math.round(i),o=Math.round(o);var a=t.source;a.width=i,a.height=o,a._pixiId="canvas_"+$t(),a.getContext("2d").drawImage(e,0,0,n,r,0,0,i,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var n=e.SVG_SIZE.exec(t),r={};return n&&(r[n[1]]=Math.round(parseFloat(n[3])),r[n[5]]=Math.round(parseFloat(n[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(cn),mn=function(t){function e(n,r){var i=this;if(r=r||{},!(n instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof n&&(n=[n]);var a=n[0].src||n[0];cn.crossOrigin(o,a,r.crossorigin);for(var s=0;s<n.length;++s){var l=document.createElement("source"),u=n[s],c=u.src,h=u.mime,f=(c=c||n[s]).split("?").shift().toLowerCase(),d=f.substr(f.lastIndexOf(".")+1);h=h||e.MIME_TYPES[d]||"video/"+d,l.src=c,l.type=h,o.appendChild(l)}n=o}return(i=t.call(this,n)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return nn(e,t),e.prototype.update=function(e){if(!this.destroyed){var n=Ue.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){t.valid?n(t):(t._resolve=n,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ue.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ue.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&Ue.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Ue.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ue.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,n){return t instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(cn),vn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nn(e,t),e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(cn);Je.push(dn,vn,hn,mn,pn,on,fn,un);var gn={Resource:rn,BaseImageResource:cn,INSTALLED:Je,autoDetectResource:tn,AbstractMultiResource:ln,ArrayResource:un,BufferResource:on,CanvasResource:hn,CubeResource:fn,ImageResource:dn,SVGResource:pn,VideoResource:mn,ImageBitmapResource:vn},yn=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),bn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nn(e,t),e.prototype.upload=function(t,e,n){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===lt.UNPACK),n.width===e.width&&n.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(n.width=e.width,n.height=e.height,r.texImage2D(e.target,0,1===t.context.webGLVersion?r.DEPTH_COMPONENT:r.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(on),_n=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Qe("disposeFramebuffer"),this.multisample=dt.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new sn(null,{scaleMode:ot.NEAREST,resolution:1,mipmap:st.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new sn(new bn(null,{width:this.width,height:this.height}),{scaleMode:ot.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:st.OFF,format:nt.DEPTH_COMPONENT,type:it.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(t/i,e/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(t/i,e/i)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),xn=function(t){function e(e){var n=this;"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});n=t.call(this,null,e)||this;var r=e||{},i=r.width,o=r.height;return n.mipmap=0,n.width=Math.ceil(i)||100,n.height=Math.ceil(o)||100,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new _n(n.width*n.resolution,n.height*n.resolution).addColorTexture(0,n),n.maskStack=[],n.filterStack=[{}],n}return nn(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(sn),Tn=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,n){var r=e.width,i=e.height;if(n){var o=t.width/2/r,a=t.height/2/i,s=t.x/r+o,l=t.y/i+a;n=Ae.add(n,Ae.NW),this.x0=s+o*Ae.uX(n),this.y0=l+a*Ae.uY(n),n=Ae.add(n,2),this.x1=s+o*Ae.uX(n),this.y1=l+a*Ae.uY(n),n=Ae.add(n,2),this.x2=s+o*Ae.uX(n),this.y2=l+a*Ae.uY(n),n=Ae.add(n,2),this.x3=s+o*Ae.uX(n),this.y3=l+a*Ae.uY(n)}else this.x0=t.x/r,this.y0=t.y/i,this.x1=(t.x+t.width)/r,this.y1=t.y/i,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/i,this.x3=t.x/r,this.y3=(t.y+t.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),wn=new Tn,Sn=function(t){function e(n,r,i,o,a,s){var l=t.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new de(0,0,1,1)),n instanceof e&&(n=n.baseTexture),l.baseTexture=n,l._frame=r,l.trim=o,l.valid=!1,l._uvs=wn,l.uvMatrix=null,l.orig=i||r,l._rotate=Number(a||0),!0===a)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=s?new ye(s.x,s.y):new ye(0,0),l._updateID=0,l.textureCacheIds=[],n.valid?l.noFrame?n.valid&&l.onBaseTextureUpdated(n):l.frame=r:n.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&n.on("update",l.onBaseTextureUpdated,l),l}return nn(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var n=this.baseTexture;n&&n.url&&te[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===wn&&(this._uvs=new Tn),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,n,r){void 0===n&&(n={}),void 0===r&&(r=j.STRICT_TEXTURE_CACHE);var i="string"==typeof t,o=null;i?o=t:(t._pixiId||(t._pixiId="pixiid_"+$t()),o=t._pixiId);var a=te[o];if(i&&r&&!a)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return a||(n.resolution||(n.resolution=se(t)),(a=new e(new sn(t,n))).baseTexture.cacheId=o,sn.addToCache(a.baseTexture,o),e.addToCache(a,o)),a},e.fromURL=function(t,n){var r=Object.assign({autoLoad:!1},n?.resourceOptions),i=e.from(t,Object.assign({resourceOptions:r},n),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},e.fromBuffer=function(t,n,r,i){return new e(sn.fromBuffer(t,n,r,i))},e.fromLoader=function(t,n,r){var i=new dn(t);i.url=n;var o=new e(new sn(i,{scaleMode:j.SCALE_MODE,resolution:se(n)}));return r||(r=n),sn.addToCache(o.baseTexture,r),e.addToCache(o,r),r!==n&&(sn.addToCache(o.baseTexture,n),e.addToCache(o,n)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),te[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),te[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=te[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete te[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)te[t.textureCacheIds[r]]===t&&delete te[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,r=t.width,i=t.height,o=e+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,u="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+u)}this.valid=r&&i&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(H);function En(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Sn.EMPTY=new Sn(new sn),En(Sn.EMPTY),En(Sn.EMPTY.baseTexture),Sn.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Sn(new sn(new hn(t)))}(),En(Sn.WHITE),En(Sn.WHITE.baseTexture);var kn=function(t){function e(e,n){var r=this,i=null;if(!(e instanceof xn)){var o=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+a+") instead of the ctor directly."),i=arguments[0],n=null,e=new xn({width:o,height:a,scaleMode:s,resolution:l})}return(r=t.call(this,e,n)||this).legacyRenderer=i,r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return nn(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,n){void 0===n&&(n=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new xn(t))},e}(Sn),Cn=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var n=new xn(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new kn(n)},t.prototype.getOptimalTexture=function(e,n,r){void 0===r&&(r=1);var i=t.SCREEN_KEY;e*=r,n*=r,(!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight)&&(i=(65535&(e=Gt(e)))<<16|65535&(n=Gt(n))),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(e,n)),o.filterPoolKey=i,o.setResolution(r),o},t.prototype.getFilterTexture=function(t,e){var n=this.getOptimalTexture(t.width,t.height,e||t.resolution);return n.filterFrame=t.filterFrame,n},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var n=t.SCREEN_KEY,r=this.texturePool[n];if(this.enableFullScreen=e.width>0&&e.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),An=function(){function t(t,e,n,r,i,o,a){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=n,this.type=r,this.stride=i,this.start=o,this.instance=a}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,n,r,i,o){return new t(e,n,r,i,o)},t}(),On=0,Pn=function(){function t(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=On++,this.disposeRunner=new Qe("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function Mn(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var In={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Rn={5126:4,5123:2,5121:1},Ln=0,Dn={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Nn=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ln++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Qe("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,n,r,i,o,a,s){if(void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Pn||(e instanceof Array&&(e=new Float32Array(e)),e=new Pn(e));var l=t.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],e,n,r,i);return this}var c=this.buffers.indexOf(e);return-1===c&&(this.buffers.push(e),c=this.buffers.length-1),this.attributes[t]=new An(c,n,r,i,o,a,s),this.instanced=this.instanced||s,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof Pn||(t instanceof Array&&(t=new Uint16Array(t)),t=new Pn(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],n=[],r=new Pn;for(t in this.attributes){var i=this.attributes[t],o=this.buffers[i.buffer];e.push(o.data),n.push(i.size*Rn[i.type]/4),i.buffer=0}for(r.data=function(t,e){for(var n=0,r=0,i={},o=0;o<t.length;o++)r+=e[o],n+=t[o].length;var a=new ArrayBuffer(4*n),s=null,l=0;for(o=0;o<t.length;o++){var u=e[o],c=t[o],h=Mn(c);i[h]||(i[h]=new In[h](a)),s=i[h];for(var f=0;f<c.length;f++)s[(f/u|0)*r+l+f%u]=c[f];l+=u}return new Float32Array(a)}(e,n),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,n=0;n<this.buffers.length;n++)e.buffers[n]=new Pn(this.buffers[n].data.slice(0));for(var n in this.attributes){var r=this.attributes[n];e.attributes[n]=new An(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var n,r=new t,i=[],o=[],a=[],s=0;s<e.length;s++){n=e[s];for(var l=0;l<n.buffers.length;l++)o[l]=o[l]||0,o[l]+=n.buffers[l].data.length,a[l]=0}for(s=0;s<n.buffers.length;s++)i[s]=new(Dn[Mn(n.buffers[s].data)])(o[s]),r.buffers[s]=new Pn(i[s]);for(s=0;s<e.length;s++){n=e[s];for(l=0;l<n.buffers.length;l++)i[l].set(n.buffers[l].data,a[l]),a[l]+=n.buffers[l].data.length}if(r.attributes=n.attributes,n.indexBuffer){r.indexBuffer=r.buffers[n.buffers.indexOf(n.indexBuffer)],r.indexBuffer.index=!0;var u=0,c=0,h=0,f=0;for(s=0;s<n.buffers.length;s++)if(n.buffers[s]!==n.indexBuffer){f=s;break}for(var s in n.attributes){var d=n.attributes[s];(0|d.buffer)===f&&(c+=d.size*Rn[d.type]/4)}for(s=0;s<e.length;s++){var p=e[s].indexBuffer.data;for(l=0;l<p.length;l++)r.indexBuffer.data[l+h]+=u;u+=n.buffers[f].data.length/c,h+=p.length}}return r},t}(),jn=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return nn(e,t),e}(Nn),Bn=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Pn(e.vertices),e.uvBuffer=new Pn(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return nn(e,t),e.prototype.map=function(t,e){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Nn),Fn=0,Hn=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Fn++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,n,r){this.uniforms[e]=new t(n,r)},t.from=function(e,n){return new t(e,n)},t}(),zn=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new de,this.destinationFrame=new de,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Un=function(t){function e(e){var n=t.call(this,e)||this;return n.defaultFilterStack=[{}],n.texturePool=new Cn,n.texturePool.setScreenSize(e.view),n.statePool=[],n.quad=new jn,n.quadUv=new Bn,n.tempRect=new de,n.activeState={},n.globalUniforms=new Hn({outputFrame:n.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),n.forceClear=!1,n.useMaxPadding=!1,n}return nn(e,t),e.prototype.push=function(t,e){for(var n=this.renderer,r=this.defaultFilterStack,i=this.statePool.pop()||new zn,o=e[0].resolution,a=e[0].padding,s=e[0].autoFit,l=e[0].legacy,u=1;u<e.length;u++){var c=e[u];o=Math.min(o,c.resolution),a=this.useMaxPadding?Math.max(a,c.padding):a+c.padding,s=s&&c.autoFit,l=l||c.legacy}1===r.length&&(this.defaultFilterStack[0].renderTexture=n.renderTexture.current),r.push(i),i.resolution=o,i.legacy=l,i.target=t,i.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),i.sourceFrame.pad(a),s&&i.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),i.sourceFrame.ceil(o),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,o),i.filters=e,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;var h=this.tempRect;h.width=i.sourceFrame.width,h.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,n.renderTexture.bind(i.renderTexture,i.sourceFrame,h),n.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),n=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var i=r.inputSize,o=r.inputPixel,a=r.inputClamp;if(i[0]=e.destinationFrame.width,i[1]=e.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=i[0]*e.resolution,o[1]=i[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=e.sourceFrame.width*i[2]-.5*o[2],a[3]=e.sourceFrame.height*i[3]-.5*o[3],e.legacy){var s=r.filterArea;s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=e.sourceFrame.x,s[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var l=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,e.renderTexture,l.renderTexture,ut.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,e.resolution);c.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){n[h].apply(this,u,c,ut.CLEAR,e);var f=u;u=c,c=f}n[h].apply(this,u,l.renderTexture,ut.BLEND,e),this.returnFilterTexture(u),this.returnFilterTexture(c)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){if(void 0===e&&(e=ut.CLEAR),t&&t.filterFrame){var n=this.tempRect;n.width=t.filterFrame.width,n.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,n)}else this.renderer.renderTexture.bind(t);"boolean"==typeof e&&(e=e?ut.CLEAR:ut.BLEND,Qt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===ut.CLEAR||e===ut.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(t,e,n,r){var i=this.renderer;this.bindAndClear(n,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,i.state.set(t.state),i.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(et.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(et.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,o=e._texture.orig,a=t.set(i.width,0,0,i.height,r.x,r.y),s=e.worldTransform.copyTo(_e.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(e.anchor.x,e.anchor.y),a},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,n){return void 0===n&&(n=1),this.texturePool.getOptimalTexture(t,e,n)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var n=t;t=e,e=n}t=t||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(yn),Vn=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),Gn=function(t){function e(e){var n=t.call(this,e)||this;return n.emptyRenderer=new Vn(e),n.currentRenderer=n.emptyRenderer,n}return nn(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var n=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=n[r]||null,t[r]&&(t[r]._batchLocation=r)},e.prototype.boundArray=function(t,e,n,r){for(var i=t.elements,o=t.ids,a=t.count,s=0,l=0;l<a;l++){var u=i[l],c=u._batchLocation;if(c>=0&&c<r&&e[c]===u)o[l]=c;else for(;s<r;){var h=e[s];if(!h||h._batchEnabled!==n||h._batchLocation!==s){o[l]=s,u._batchLocation=s,e[s]=u;break}s++}}},e}(yn),Xn=0,Yn=function(t){function e(e){var n=t.call(this,e)||this;return n.webGLVersion=1,n.extensions={},n.supports={uint32Indices:!1},n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),e.view.addEventListener("webglcontextlost",n.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n}return nn(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Xn++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Xn++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var n;if(j.PREFER_ENV>=Z.WEBGL2&&(n=t.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var e=t.getContextAttributes(),n="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;n&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(yn),Wn=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=dt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},qn=new de,Kn=function(t){function e(e){var n=t.call(this,e)||this;return n.managedFramebuffers=[],n.unknownFramebuffer=new _n(10,10),n.msaaSamples=null,n}return nn(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new de,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;j.PREFER_ENV===Z.WEBGL_LEGACY&&(e=null,n=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var n=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var i=0;i<t.colorTextures.length;i++){var o=t.colorTextures[i];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,n,r){var i=this.viewport;(i.width!==n||i.height!==r||i.x!==t||i.y!==e)&&(i.x=t,i.y=e,i.width=n,i.height=r,this.gl.viewport(t,e,n,r))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,n,r,i){void 0===i&&(i=J.COLOR|J.DEPTH);var o=this.gl;o.clearColor(t,e,n,r),o.clear(i)},e.prototype.initFramebuffer=function(t){var e=this.gl,n=new Wn(e.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},e.prototype.resizeFramebuffer=function(t){var e=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var r=t.colorTextures,i=0;i<r.length;i++)this.renderer.texture.bind(r[i],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,n=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures.length;e.drawBuffers||(r=Math.min(r,1)),n.multisample>1&&(n.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,n.msaaBuffer));for(var i=[],o=0;o<r;o++)if(!(0===o&&n.multisample>1)){var a=t.colorTextures[o],s=a.parentTextureArray||a;this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,a.target,s._glTextures[this.CONTEXT_UID].texture,0),i.push(e.COLOR_ATTACHMENT0+o)}if((i.length>1&&e.drawBuffers(i),t.depthTexture)&&this.writeDepthTexture){var l=t.depthTexture;this.renderer.texture.bind(l,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,0)}!n.stencil&&(t.stencil||t.depth)&&(n.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,n.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,n=dt.NONE;if(t<=1||null===e)return n;for(var r=0;r<e.length;r++)if(e[r]<=t){n=e[r];break}return 1===n&&(n=dt.NONE),n},e.prototype.blit=function(t,e,n){var r=this,i=r.current,o=r.renderer,a=r.gl,s=r.CONTEXT_UID;if(2===o.context.webGLVersion&&i){var l=i.glFramebuffers[s];if(l){if(!t){if(l.multisample<=1)return;l.blitFramebuffer||(l.blitFramebuffer=new _n(i.width,i.height),l.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(t=l.blitFramebuffer).width=i.width,t.height=i.height}e||((e=qn).width=i.width,e.height=i.height),n||(n=e);var u=e.width===n.width&&e.height===n.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,n.x,n.y,n.width,n.height,a.COLOR_BUFFER_BIT,u?a.NEAREST:a.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var n=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete t.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(t);i>=0&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(n.framebuffer),n.stencil&&r.deleteRenderbuffer(n.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<e.length;n++)this.disposeFramebuffer(e[n],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var n=t.width,r=t.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),e.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new de},e}(yn),$n=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Zn={5126:4,5123:2,5121:1},Qn=function(t){function e(e){var n=t.call(this,e)||this;return n._activeGeometry=null,n._activeVao=null,n.hasVao=!0,n.hasInstance=!0,n.canUseUInt32ElementIndex=!1,n.managedGeometries={},n.managedBuffers={},n}return nn(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;j.PREFER_ENV===Z.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(t){return n.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return n.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(t,e){return r.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,n,i,o){return r.drawElementsInstancedANGLE(t,e,n,i,o)},t.drawArraysInstanced=function(t,e,n,i){return r.drawArraysInstancedANGLE(t,e,n,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var n=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);var o=r[e.program.id]||this.initGeometryVao(t,e.program,i);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,n=0;n<t.buffers.length;n++){var r=t.buffers[n],i=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==i.updateID){i.updateID=r._updateID;var o=r.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,i.buffer),this._boundBuffer=i,i.byteLength>=r.data.byteLength)e.bufferSubData(o,0,r.data);else{var a=r.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;i.byteLength=r.data.byteLength,e.bufferData(o,r.data,a)}}}},e.prototype.checkCompatibility=function(t,e){var n=t.attributes,r=e.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},e.prototype.getSignature=function(t,e){var n=t.attributes,r=e.attributeData,i=["g",t.id];for(var o in n)r[o]&&i.push(o);return i.join("-")},e.prototype.initGeometryVao=function(t,e,n){void 0===n&&(n=!0),this.checkCompatibility(t,e);var r=this.gl,i=this.CONTEXT_UID,o=this.getSignature(t,e),a=t.glVertexArrayObjects[this.CONTEXT_UID],s=a[o];if(s)return a[e.id]=s,s;var l=t.buffers,u=t.attributes,c={},h={};for(var f in l)c[f]=0,h[f]=0;for(var f in u)!u[f].size&&e.attributeData[f]?u[f].size=e.attributeData[f].size:u[f].size||console.warn("PIXI Geometry attribute '"+f+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[u[f].buffer]+=u[f].size*Zn[u[f].type];for(var f in u){var d=u[f],p=d.size;void 0===d.stride&&(c[d.buffer]===p*Zn[d.type]?d.stride=0:d.stride=c[d.buffer]),void 0===d.start&&(d.start=h[d.buffer],h[d.buffer]+=p*Zn[d.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var m=0;m<l.length;m++){var v=l[m];v._glBuffers[i]||(v._glBuffers[i]=new $n(r.createBuffer()),this.managedBuffers[v.id]=v,v.disposeRunner.add(this)),n&&v._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=s,a[e.id]=s,a[o]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),n&&(e||r.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var n=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,i=t.buffers;if(t.disposeRunner.remove(this),n){for(var o=0;o<i.length;o++){var a=i[o]._glBuffers[this.CONTEXT_UID];a.refCount--,0===a.refCount&&!e&&this.disposeBuffer(i[o],e)}if(!e)for(var s in n)if("g"===s[0]){var l=n[s];this._activeVao===l&&this.unbind(),r.deleteVertexArray(l)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],t);e=Object.keys(this.managedBuffers);for(n=0;n<e.length;n++)this.disposeBuffer(this.managedBuffers[e[n]],t)},e.prototype.activateVao=function(t,e){var n=this.gl,r=this.CONTEXT_UID,i=t.buffers,o=t.attributes;t.indexBuffer&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var a=null;for(var s in o){var l=o[s],u=i[l.buffer]._glBuffers[r];if(e.attributeData[s]){a!==u&&(n.bindBuffer(n.ARRAY_BUFFER,u.buffer),a=u);var c=e.attributeData[s].location;if(n.enableVertexAttribArray(c),n.vertexAttribPointer(c,l.size,l.type||n.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(c,1)}}}},e.prototype.draw=function(t,e,n,r){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(t,e||o.indexBuffer.data.length,s,(n||0)*a,r||1):i.drawElements(t,e||o.indexBuffer.data.length,s,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(t,n,e||o.getSize(),r||1):i.drawArrays(t,n,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(yn),Jn=function(){function t(t){void 0===t&&(t=null),this.type=ft.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=ft.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function tr(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function er(t,e,n,r){var i=tr(t,t.VERTEX_SHADER,e),o=tr(t,t.FRAGMENT_SHADER,n),a=t.createProgram();if(t.attachShader(a,i),t.attachShader(a,o),r)for(var s in r)t.bindAttribLocation(a,r[s],s);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(t.getShaderParameter(i,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(i))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(n),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(i),t.deleteShader(o),a}function nr(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e}function rr(t,e){switch(t){case"float":case"int":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return nr(2*e);case"bvec3":return nr(3*e);case"bvec4":return nr(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var ir,or={},ar=or;function sr(){if(ar===or||ar&&ar.isContextLost()){var t=document.createElement("canvas"),e=void 0;j.PREFER_ENV>=Z.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),ar=e}return ar}function lr(t,e,n){if("precision"!==t.substring(0,9)){var r=e;return e===ht.HIGH&&n!==ht.HIGH&&(r=ht.MEDIUM),"precision "+r+" float;\n"+t}return n!==ht.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var ur={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function cr(t){return ur[t]}var hr=null,fr={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function dr(t,e){if(!hr){var n=Object.keys(fr);hr={};for(var r=0;r<n.length;++r){var i=n[r];hr[t[i]]=fr[i]}}return hr[e]}var pr=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],mr={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},vr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var gr,yr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function br(t){for(var e="",n=0;n<t;++n)n>0&&(e+="\nelse "),n<t-1&&(e+="if(test == "+n+".0){}");return e}function _r(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=e.createShader(e.FRAGMENT_SHADER);;){var r=yr.replace(/%forloop%/gi,br(t));if(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}return t}var xr=0,Tr={},wr=function(){function t(e,n,r){void 0===r&&(r="pixi-shader"),this.id=xr++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Tr[r]?(Tr[r]++,r+="-"+Tr[r]):Tr[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=lr(this.vertexSrc,j.PRECISION_VERTEX,ht.HIGH),this.fragmentSrc=lr(this.fragmentSrc,j.PRECISION_FRAGMENT,function(){if(!ir){ir=ht.MEDIUM;var t=sr();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);ir=e.precision?ht.HIGH:ht.MEDIUM}}return ir}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var n=sr();if(n){var r=er(n,t,e);this.attributeData=this.getAttributeData(r,n),this.uniformData=this.getUniformData(r,n),n.deleteProgram(r)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var n={},r=[],i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=e.getActiveAttrib(t,o),s=dr(e,a.type),l={type:s,name:a.name,size:cr(s),location:0};n[a.name]=l,r.push(l)}r.sort((function(t,e){return t.name>e.name?1:-1}));for(o=0;o<r.length;o++)r[o].location=o;return n},t.prototype.getUniformData=function(t,e){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=e.getActiveUniform(t,i),a=o.name.replace(/\[.*?\]$/,""),s=o.name.match(/\[.*?\]$/),l=dr(e,o.type);n[a]={type:l,size:o.size,isArray:s,value:rr(l,o.size)}}return n},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,n,r){var i=e+n,o=Jt[i];return o||(Jt[i]=o=new t(e,n,r)),o},t}(),Sr=function(){function t(t,e){for(var n in this.program=t,this.uniformGroup=e?e instanceof Hn?e:new Hn(e):new Hn({}),t.uniformData)this.uniformGroup.uniforms[n]instanceof Array&&(this.uniformGroup.uniforms[n]=new Float32Array(this.uniformGroup.uniforms[n]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var n in e.uniforms){var r=e.uniforms[n];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,n,r){return new t(wr.from(e,n),r)},t}(),Er=function(){function t(){this.data=0,this.blendMode=tt.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==tt.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),kr=function(t){function e(n,r,i){var o=this,a=wr.from(n||e.defaultVertexSrc,r||e.defaultFragmentSrc);return(o=t.call(this,a,i)||this).padding=0,o.resolution=j.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new Er,o}return nn(e,t),e.prototype.apply=function(t,e,n,r,i){t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(Sr),Cr=new _e,Ar=function(){function t(t,e){this._texture=t,this.mapCoord=new _e,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,r=0;r<t.length;r+=2){var i=t[r],o=t[r+1];e[r]=i*n.a+o*n.c+n.tx,e[r+1]=i*n.b+o*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=e.orig,i=e.trim;i&&(Cr.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Cr));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(e._frame.x+s+l)/o.width,a[1]=(e._frame.y+s+l)/o.height,a[2]=(e._frame.x+e._frame.width-s+l)/o.width,a[3]=(e._frame.y+e._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),Or=function(t){function e(e){var n=this,r=new _e;return n=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,n.maskSprite=e,n.maskMatrix=r,n}return nn(e,t),e.prototype.apply=function(t,e,n,r){var i=this.maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Ar(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,n,r))},e}(kr),Pr=function(t){function e(e){var n=t.call(this,e)||this;return n.enableScissor=!1,n.alphaMaskPool=[],n.maskDataPool=[],n.maskStack=[],n.alphaMaskIndex=0,n}return nn(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var n=e;if(!n.isMaskData){var r=this.maskDataPool.pop()||new Jn;r.pooled=!0,r.maskObject=e,n=r}switch(n.autoDetect&&this.detect(n),n.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),n._target=t,n.type){case ft.SCISSOR:this.maskStack.push(n),this.renderer.scissor.push(n);break;case ft.STENCIL:this.maskStack.push(n),this.renderer.stencil.push(n);break;case ft.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n),this.maskStack.push(n)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case ft.SCISSOR:this.renderer.scissor.pop();break;case ft.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case ft.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=ft.SPRITE;else if(t.type=ft.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var n=e.worldTransform,r=Math.atan2(n.b,n.a),i=Math.atan2(n.d,n.c);r=Math.round(r*(180/Math.PI)*100),i=((i=Math.round(i*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0===(r=(r%9e3+9e3)%9e3)&&9e3===i&&(t.type=ft.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,n=t._target,r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Or(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e;var i=n.filterArea;n.filterArea=e.getBounds(!0),this.renderer.filter.push(n,r),n.filterArea=i,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(yn),Mr=function(t){function e(e){var n=t.call(this,e)||this;return n.maskStack=[],n.glConst=0,n}return nn(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==n&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(yn),Ir=function(t){function e(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return nn(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var n=t._scissorRect,r=e.getBounds(!0),i=this.renderer.gl;e.renderable=!1,n?r.fit(n):i.enable(i.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=r,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,n=this.renderer.projection,r=n.transform,i=n.sourceFrame,o=n.destinationFrame,a=e?e.resolution:this.renderer.resolution,s=(t.x-i.x)*a+o.x,l=(t.y-i.y)*a+o.y,u=t.width*a,c=t.height*a;r&&(s+=r.tx*a,l+=r.ty*a),e||(l=this.renderer.height-c-l),this.renderer.gl.scissor(s,l,u,c)},e}(Mr),Rr=function(t){function e(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return nn(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,n=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.enable(n.STENCIL_TEST)),t._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,r,this._getBitwiseMask()),n.stencilOp(n.KEEP,n.KEEP,n.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Mr),Lr=function(t){function e(e){var n=t.call(this,e)||this;return n.destinationFrame=null,n.sourceFrame=null,n.defaultFrame=null,n.projectionMatrix=new _e,n.transform=null,n}return nn(e,t),e.prototype.update=function(t,e,n,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,n,r){var i=this.projectionMatrix,o=r?-1:1;i.identity(),i.a=1/e.width*2,i.d=o*(1/e.height*2),i.tx=-1-e.x*i.a,i.ty=-o-e.y*i.d},e.prototype.setTransform=function(t){},e}(yn),Dr=new de,Nr=new de,jr=new de,Br=function(t){function e(e){var n=t.call(this,e)||this;return n.clearColor=e._backgroundColorRgba,n.defaultMaskStack=[],n.current=null,n.sourceFrame=new de,n.destinationFrame=new de,n}return nn(e,t),e.prototype.bind=function(t,e,n){void 0===t&&(t=null);var r,i,o,a=this.renderer;this.current=t,t?(o=(r=t.baseTexture).resolution,e||(Dr.width=t.frame.width,Dr.height=t.frame.height,e=Dr),n||(Nr.x=t.frame.x,Nr.y=t.frame.y,Nr.width=e.width,Nr.height=e.height,n=Nr),i=r.framebuffer):(o=a.resolution,e||(Dr.width=a.screen.width,Dr.height=a.screen.height,e=Dr),n||((n=Dr).width=e.width,n.height=e.height)),jr.x=n.x*o,jr.y=n.y*o,jr.width=n.width*o,jr.height=n.height*o,this.renderer.framebuffer.bind(i,jr),this.renderer.projection.update(n,e,o,!i),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(yn),Fr=function(){},Hr=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),zr=0,Ur={textureCount:0},Vr=function(t){function e(e){var n=t.call(this,e)||this;return n.destroyed=!1,n.systemCheck(),n.gl=null,n.shader=null,n.program=null,n.cache={},n.id=zr++,n}return nn(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof gr)return gr;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");gr=!0===t({a:"b"},"a","b")}catch{gr=!1}return gr}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),e||(Ur.textureCount=0,this.syncUniformGroup(t.uniformGroup,Ur)),r},e.prototype.setUniforms=function(t){var e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var n=this.getglProgram();(!t.static||t.dirtyId!==n.uniformGroups[t.id])&&(n.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,e))},e.prototype.syncUniforms=function(t,e,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,n)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var n=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in t.uniforms){var i=e[r];if(i){for(var o=t.uniforms[r],a=!1,s=0;s<pr.length;s++)if(pr[s].test(i,o)){n.push(pr[s].code(r,o)),a=!0;break}if(!a){var l=(1===i.size?mr:vr)[i.type].replace("location",'ud["'+r+'"].location');n.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+l+";")}}else t.uniforms[r].group&&n.push('\n                    renderer.shader.syncUniformGroup(uv["'+r+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var n=t.uniforms,r=[];for(var i in n)r.push(i),e[i]&&r.push(e[i].type);return r.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,n=t.program,r={};for(var i in n.attributeData)r[i]=n.attributeData[i].location;var o=er(e,n.vertexSrc,n.fragmentSrc,r),a={};for(var i in n.uniformData){var s=n.uniformData[i];a[i]={location:e.getUniformLocation(o,i),value:rr(s.type,s.size)}}var l=new Hr(o,a);return n.glPrograms[this.renderer.CONTEXT_UID]=l,l},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(yn);var Gr=function(t){function e(e){var n=t.call(this,e)||this;return n.gl=null,n.stateId=0,n.polygonOffset=0,n.blendMode=tt.NONE,n._blendEq=!1,n.map=[],n.map[0]=n.setBlend,n.map[1]=n.setOffset,n.map[2]=n.setCullFace,n.map[3]=n.setDepthTest,n.map[4]=n.setFrontFace,n.checks=[],n.defaultState=new Er,n.defaultState.blend=!0,n}return nn(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[tt.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.ADD]=[t.ONE,t.ONE],e[tt.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.NONE]=[0,0],e[tt.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[tt.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tt.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[tt.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[tt.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[tt.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[tt.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[tt.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[tt.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[tt.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[tt.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,n=0;e;)1&e&&this.map[n].call(this,!!(t.data&1<<n)),e>>=1,n++;this.stateId=t.data}for(n=0;n<this.checks.length;n++)this.checks[n](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],n=this.gl;2===e.length?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var n=this.checks.indexOf(t);e&&-1===n?this.checks.push(t):!e&&-1!==n&&this.checks.splice(n,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(yn),Xr=function(t){function e(e){var n=t.call(this,e)||this;return n.count=0,n.checkCount=0,n.maxIdle=j.GC_MAX_IDLE,n.checkCountMax=j.GC_MAX_CHECK_COUNT,n.mode=j.GC_MODE,n}return nn(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==ct.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,n=!1,r=0;r<e.length;r++){var i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){var o=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[o++]=e[r]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},e}(yn),Yr=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Wr=function(t){function e(e){var n=t.call(this,e)||this;return n.boundTextures=[],n.currentLocation=-1,n.managedTextures=[],n._unknownBoundTextures=!1,n.unknownTexture=new sn,n}return nn(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new Yr(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Yr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(n=0;n<this.boundTextures.length;n++)this.bind(null,n)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var n=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<n.length;r++)n[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(t.target,this.emptyTextures[t.target].texture),n[r]=null)},e.prototype.initTexture=function(t){var e=new Yr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var n=this.renderer.gl;t.type===n.FLOAT&&t.format===n.RGBA&&(e.internalFormat=n.RGBA32F),t.type===it.HALF_FLOAT&&(e.type=n.HALF_FLOAT),e.type===n.HALF_FLOAT&&t.format===n.RGBA&&(e.internalFormat=n.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var n=this.renderer;if(this.initTextureType(t,e),!t.resource||!t.resource.upload(n,t,e)){var r=t.realWidth,i=t.realHeight,o=n.gl;(e.width!==r||e.height!==i||e.dirtyId<0)&&(e.width=r,e.height=i,o.texImage2D(t.target,0,e.internalFormat,r,i,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var n=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&Wt(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==st.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=at.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var n=this.gl;if(e.mipmap&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===ot.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===ot.LINEAR){var i=Math.min(t.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===ot.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===ot.LINEAR?n.LINEAR:n.NEAREST)},e}(yn),qr={FilterSystem:Un,BatchSystem:Gn,ContextSystem:Yn,FramebufferSystem:Kn,GeometrySystem:Qn,MaskSystem:Pr,ScissorSystem:Ir,StencilSystem:Rr,ProjectionSystem:Lr,RenderTextureSystem:Br,ShaderSystem:Vr,StateSystem:Gr,TextureGCSystem:Xr,TextureSystem:Wr},Kr=new _e,$r=function(t){function e(e,n){void 0===e&&(e=Q.UNKNOWN);var r=t.call(this)||this;return(n=Object.assign({},j.RENDER_OPTIONS,n)).roundPixels&&(j.ROUND_PIXELS=n.roundPixels,Qt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),r.options=n,r.type=e,r.screen=new de(0,0,n.width,n.height),r.view=n.view||document.createElement("canvas"),r.resolution=n.resolution||j.RESOLUTION,r.transparent=n.transparent,r.autoDensity=n.autoDensity||n.autoResize||!1,r.preserveDrawingBuffer=n.preserveDrawingBuffer,r.clearBeforeRender=n.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,0],r._backgroundColorString="#000000",r.backgroundColor=n.backgroundColor||r._backgroundColor,r._lastObjectRendered=null,r.plugins={},r}return nn(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,n,r){0===(r=r||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var i=kn.create({width:0|r.width,height:0|r.height,scaleMode:e,resolution:n});return Kr.tx=-r.x,Kr.ty=-r.y,this.render(t,i,!1,Kr,!!t.parent),i},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var n=this;n.plugins=null,n.type=Q.UNKNOWN,n.view=null,n.screen=null,n._tempDisplayObjectParent=null,n.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Lt(t),Rt(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(H),Zr=function(t){function e(n){var r=t.call(this,Q.WEBGL,n)||this;return n=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new Qe("destroy"),contextChange:new Qe("contextChange"),reset:new Qe("reset"),update:new Qe("update"),postrender:new Qe("postrender"),prerender:new Qe("prerender"),resize:new Qe("resize")},r.globalUniforms=new Hn({projectionMatrix:new _e},!0),r.addSystem(Pr,"mask").addSystem(Yn,"context").addSystem(Gr,"state").addSystem(Vr,"shader").addSystem(Wr,"texture").addSystem(Qn,"geometry").addSystem(Kn,"framebuffer").addSystem(Ir,"scissor").addSystem(Rr,"stencil").addSystem(Lr,"projection").addSystem(Xr,"textureGC").addSystem(Un,"filter").addSystem(Br,"renderTexture").addSystem(Gn,"batch"),r.initPlugins(e.__plugins),n.context?r.context.initFromContext(n.context):r.context.initFromOptions({alpha:!!r.transparent,antialias:n.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,Mt(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return nn(e,t),e.create=function(t){if(It())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var n=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=n,this.runners)this.runners[r].add(n);return this},e.prototype.render=function(t,e,n,r,i){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(e||(this._lastObjectRendered=t),!i){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.runners.resize.emit(e,n)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var n in this.runners.destroy.emit(),this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,n){e.__plugins=e.__plugins||{},e.__plugins[t]=n},e}($r);function Qr(t){return Zr.create(t)}var Jr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",ti="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ei=function(){this.texArray=null,this.blend=0,this.type=et.TRIANGLES,this.start=0,this.size=0,this.data=null},ni=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),ri=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),ii=function(t){function e(e){var n=t.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Er.for2d(),n.size=4*j.SPRITE_BATCH_SIZE,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return nn(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;j.PREFER_ENV===Z.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),j.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=_r(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,n=e._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new ei);for(;n.length<i;)n.push(new ni);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,n=this.MAX_TEXTURES,r=e._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count,s=++sn._globalBatch,l=0,u=r[0],c=0;i.copyBoundTextures(o,n);for(var h=0;h<this._bufferSize;++h){var f=t[h];t[h]=null,f._batchEnabled!==s&&(u.count>=n&&(i.boundArray(u,o,s,n),this.buildDrawCalls(u,c,h),c=h,u=r[++l],++s),f._batchEnabled=s,f.touched=a,u.elements[u.count++]=f)}u.count>0&&(i.boundArray(u,o,s,n),this.buildDrawCalls(u,c,this._bufferSize),++l,++s);for(h=0;h<o.length;h++)o[h]=null;sn._globalBatch=s},e.prototype.buildDrawCalls=function(t,n,r){var i=this,o=i._bufferedElements,a=i._attributeBuffer,s=i._indexBuffer,l=i.vertexSize,u=e._drawCallPool,c=this._dcIndex,h=this._aIndex,f=this._iIndex,d=u[c];d.start=this._iIndex,d.texArray=t;for(var p=n;p<r;++p){var m=o[p],v=m._texture.baseTexture,g=Nt[v.alphaMode?1:0][m.blendMode];o[p]=null,n<p&&d.blend!==g&&(d.size=f-d.start,n=p,(d=u[++c]).texArray=t,d.start=f),this.packInterleavedGeometry(m,a,s,h,f),h+=m.vertexData.length/2*l,f+=m.indices.length,d.blend=g}n<r&&(d.size=f-d.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=f},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,n=t._attributeBuffer,r=t._indexBuffer;j.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(n.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(n.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,n=this.renderer,r=n.gl,i=n.state,o=e._drawCallPool,a=null,s=0;s<t;s++){var l=o[s],u=l.texArray,c=l.type,h=l.size,f=l.start,d=l.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=d,i.set(this.state),r.drawElements(c,h,r.UNSIGNED_SHORT,2*f)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),j.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Gt(Math.ceil(t/8)),n=Yt(e),r=8*e;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new ri(r*this.vertexSize*4)),i},e.prototype.getIndexBuffer=function(t){var e=Gt(Math.ceil(t/12)),n=Yt(e),r=12*e;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i},e.prototype.packInterleavedGeometry=function(t,e,n,r,i){for(var o=e.uint32View,a=e.float32View,s=r/this.vertexSize,l=t.uvs,u=t.indices,c=t.vertexData,h=t._texture.baseTexture._batchLocation,f=Math.min(t.worldAlpha,1),d=f<1&&t._texture.baseTexture.alphaMode?Ft(t._tintRGB,f):t._tintRGB+(255*f<<24),p=0;p<c.length;p+=2)a[r++]=c[p],a[r++]=c[p+1],a[r++]=l[p],a[r++]=l[p+1],o[r++]=d,a[r++]=h;for(p=0;p<u.length;p++)n[i++]=s+u[p]},e._drawCallPool=[],e._textureArrayPool=[],e}(Vn),oi=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),n=0;n<t;n++)e[n]=n;this.defaultGroupCache[t]=Hn.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new wr(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new _e,default:this.defaultGroupCache[t]};return new Sr(this.programCache[t],i)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var n=0;n<t;n++)n>0&&(e+="\nelse "),n<t-1&&(e+="if(vTextureId < "+n+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),ai=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n._buffer=new Pn(null,e,!1),n._indexBuffer=new Pn(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,it.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,it.FLOAT).addAttribute("aColor",n._buffer,4,!0,it.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,it.FLOAT).addIndex(n._indexBuffer),n}return nn(e,t),e}(Nn),si="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",li="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ui=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:si,fragment:li,geometryClass:ai,vertexSize:6},t),n=e.vertex,r=e.fragment,i=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var a=t.call(this,e)||this;return a.shaderGenerator=new oi(n,r),a.geometryClass=o,a.vertexSize=i,a}return nn(e,t),e}(ii)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return si},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return li},enumerable:!1,configurable:!0}),t}(),ci=ui.create(),hi=function(){function t(e){var n=this;e=Object.assign({forceCanvas:!1},e),this.renderer=Qr(e),this.stage=new Ne,t._plugins.forEach((function(t){t.init.call(n,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,n){var r=this,i=t._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();hi._plugins=[];var fi=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,n;if(e.cancelResize(),e._resizeTo===window)t=window.innerWidth,n=window.innerHeight;else{var r=e._resizeTo;t=r.clientWidth,n=r.clientHeight}e.renderer.resize(t,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();hi.registerPlugin(fi);var di=new de,pi=function(){function t(t){this.renderer=t,t.extract=this}return t.prototype.image=function(t,e,n){var r=new Image;return r.src=this.base64(t,e,n),r},t.prototype.base64=function(t,e,n){return this.canvas(t).toDataURL(e,n)},t.prototype.canvas=function(e){var n,r,i,o=this.renderer,a=!1,s=!1;e&&(e instanceof kn?i=e:(i=this.renderer.generateTexture(e),s=!0)),i?(n=i.baseTexture.resolution,r=i.frame,a=!1,o.renderTexture.bind(i)):(n=this.renderer.resolution,a=!0,(r=di).width=this.renderer.width,r.height=this.renderer.height,o.renderTexture.bind(null));var l=Math.floor(r.width*n+1e-4),u=Math.floor(r.height*n+1e-4),c=new ne(l,u,1),h=new Uint8Array(4*l*u),f=o.gl;f.readPixels(r.x*n,r.y*n,l,u,f.RGBA,f.UNSIGNED_BYTE,h);var d=c.context.getImageData(0,0,l,u);if(t.arrayPostDivide(h,d.data),c.context.putImageData(d,0,0),a){var p=new ne(c.width,c.height,1);p.context.scale(1,-1),p.context.drawImage(c.canvas,0,-u),c.destroy(),c=p}return s&&i.destroy(!0),c.canvas},t.prototype.pixels=function(e){var n,r,i,o=this.renderer,a=!1;e&&(e instanceof kn?i=e:(i=this.renderer.generateTexture(e),a=!0)),i?(n=i.baseTexture.resolution,r=i.frame,o.renderTexture.bind(i)):(n=o.resolution,(r=di).width=o.width,r.height=o.height,o.renderTexture.bind(null));var s=r.width*n,l=r.height*n,u=new Uint8Array(4*s*l),c=o.gl;return c.readPixels(r.x*n,r.y*n,s,l,c.RGBA,c.UNSIGNED_BYTE,u),a&&i.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(t,e){for(var n=0;n<t.length;n+=4){var r=e[n+3]=t[n+3];0!==r?(e[n]=Math.round(Math.min(255*t[n]/r,255)),e[n+1]=Math.round(Math.min(255*t[n+1]/r,255)),e[n+2]=Math.round(Math.min(255*t[n+2]/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}},t}(),mi=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return;const n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),i={};let o=14;for(;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(t,e,r){e&&(i[n.q.name][e]=r)})),i};const vi=(0,o.g)(mi);class gi{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;this._fn=t,this._once=e,this._thisArg=n,this._next=this._prev=this._owner=null}detach(){return null!==this._owner&&(this._owner.detach(this),!0)}}function yi(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}class bi{constructor(){this._head=this._tail=void 0}handlers(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._head;if(t)return!!e;const n=[];for(;e;)n.push(e),e=e._next;return n}has(t){if(!(t instanceof gi))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}dispatch(){let t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}add(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return yi(this,new gi(t,!1,e))}once(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return yi(this,new gi(t,!0,e))}detach(t){if(!(t instanceof gi))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}detachAll(){let t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}function _i(){}function xi(t,e,n,r){var i=0,o=t.length;!function a(s){s||i===o?n&&n(s):r?setTimeout((function(){e(t[i++],a)}),1):e(t[i++],a)}()}function Ti(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}var wi={};function Si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ei(t,e,n){return e&&Si(t.prototype,e),n&&Si(t,n),t}var ki=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Ci=null;function Ai(){}var Oi=function(){function t(e,n,r){if("string"!=typeof e||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Ai,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new bi,this.onProgress=new bi,this.onComplete=new bi,this.onAfterMiddleware=new bi}t.setExtensionLoadType=function(e,n){Pi(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){Pi(t._xhrTypeMap,e,n)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var n=this;if(!this.isLoading){if(this.isComplete)return void(e&&setTimeout((function(){return e(n)}),1));switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:ki&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},e._hasFlag=function(t){return 0!==(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,n){n||(n=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=n,r},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Mi(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(Mi(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(Mi(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,n="",r=typeof e.status>"u"?200:e.status;if((""===e.responseType||"text"===e.responseType||typeof e.responseType>"u")&&(n=e.responseText),0===r&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,"text/xml")}else{var o=document.createElement("div");o.innerHTML=n,this.data=o}this.type=t.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=e.response||n;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Ci||(Ci=document.createElement("a")),Ci.href=t;var n=!(t=vi(Ci.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&n&&r===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var r=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(r>-1?r:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Ei(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Pi(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}function Mi(t){return t.toString().replace("object ","")}Oi.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Oi.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Oi.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Oi.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Oi._loadTypeMap={gif:Oi.LOAD_TYPE.IMAGE,png:Oi.LOAD_TYPE.IMAGE,bmp:Oi.LOAD_TYPE.IMAGE,jpg:Oi.LOAD_TYPE.IMAGE,jpeg:Oi.LOAD_TYPE.IMAGE,tif:Oi.LOAD_TYPE.IMAGE,tiff:Oi.LOAD_TYPE.IMAGE,webp:Oi.LOAD_TYPE.IMAGE,tga:Oi.LOAD_TYPE.IMAGE,svg:Oi.LOAD_TYPE.IMAGE,"svg+xml":Oi.LOAD_TYPE.IMAGE,mp3:Oi.LOAD_TYPE.AUDIO,ogg:Oi.LOAD_TYPE.AUDIO,wav:Oi.LOAD_TYPE.AUDIO,mp4:Oi.LOAD_TYPE.VIDEO,webm:Oi.LOAD_TYPE.VIDEO},Oi._xhrTypeMap={xhtml:Oi.XHR_RESPONSE_TYPE.DOCUMENT,html:Oi.XHR_RESPONSE_TYPE.DOCUMENT,htm:Oi.XHR_RESPONSE_TYPE.DOCUMENT,xml:Oi.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Oi.XHR_RESPONSE_TYPE.DOCUMENT,svg:Oi.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Oi.XHR_RESPONSE_TYPE.DOCUMENT,gif:Oi.XHR_RESPONSE_TYPE.BLOB,png:Oi.XHR_RESPONSE_TYPE.BLOB,bmp:Oi.XHR_RESPONSE_TYPE.BLOB,jpg:Oi.XHR_RESPONSE_TYPE.BLOB,jpeg:Oi.XHR_RESPONSE_TYPE.BLOB,tif:Oi.XHR_RESPONSE_TYPE.BLOB,tiff:Oi.XHR_RESPONSE_TYPE.BLOB,webp:Oi.XHR_RESPONSE_TYPE.BLOB,tga:Oi.XHR_RESPONSE_TYPE.BLOB,json:Oi.XHR_RESPONSE_TYPE.JSON,text:Oi.XHR_RESPONSE_TYPE.TEXT,txt:Oi.XHR_RESPONSE_TYPE.TEXT,ttf:Oi.XHR_RESPONSE_TYPE.BUFFER,otf:Oi.XHR_RESPONSE_TYPE.BUFFER},Oi.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var Ri=window.URL||window.webkitURL;var Li={caching:function(t,e){var n=this;wi[t.url]?(t.data=wi[t.url],t.complete()):t.onComplete.once((function(){return wi[n.url]=n.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Oi.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=Ri.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=Oi.TYPE.IMAGE,void(t.data.onload=function(){Ri.revokeObjectURL(n),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",n=0;n<t.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<t.length?r[o]=255&t.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var a=0;a<i.length;++a)e+=Ii.charAt(i[a])}return e}(t.xhr.responseText),t.type=Oi.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Di=/(#[\w-]+)?$/,Ni=function(){function t(e,n){var r=this;void 0===e&&(e=""),void 0===n&&(n=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var n=0,r={_tasks:[],concurrency:e,saturated:_i,unsaturated:_i,buffer:e/4,empty:_i,drain:_i,error:_i,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){n=0,r.drain=_i,r.started=!1,r._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!r.paused&&n<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),(n+=1)===r.concurrency&&r.saturated(),t(e.data,Ti(o(e)))}},length:function(){return r._tasks.length},running:function(){return n},idle:function(){return r._tasks.length+n===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var t=1;t<=r.concurrency;t++)r.process()}}};function i(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,null==t&&r.idle())setTimeout((function(){return r.drain()}),1);else{var i={data:t,callback:"function"==typeof n?n:_i};e?r._tasks.unshift(i):r._tasks.push(i),setTimeout((function(){return r.process()}),1)}}function o(t){return function(){n-=1,t.callback.apply(t,arguments),null!=arguments[0]&&r.error(arguments[0],t.data),n<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new bi,this.onError=new bi,this.onLoad=new bi,this.onStart=new bi,this.onComplete=new bi;for(var i=0;i<t._defaultBeforeMiddleware.length;++i)this.pre(t._defaultBeforeMiddleware[i]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,n,r){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(r=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Oi(t,e,n),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=n.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var l=o.progressChunk*(a.length+1)/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=l;for(var u=0;u<a.length;++u)a[u].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,n=vi(t,{strictMode:!0});if(e=n.protocol||!n.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=Di.exec(e)[0];-1!==(e=e.substr(0,e.length-r.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=r}return e},e._loadResource=function(t,e){var n=this;t._dequeue=e,xi(this._beforeMiddleware,(function(e,r){e.call(n,t,(function(){r(t.isComplete?{}:null)}))}),(function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),xi(this._afterMiddleware,(function(n,r){n.call(e,t,r)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},Ei(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();Ni._defaultBeforeMiddleware=[],Ni._defaultAfterMiddleware=[],Ni.pre=function(t){return Ni._defaultBeforeMiddleware.push(t),Ni},Ni.use=function(t){return Ni._defaultAfterMiddleware.push(t),Ni};var ji=Oi,Bi=function(t,e){return(Bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Fi=function(){function t(){}return t.use=function(t,e){t.data&&t.type===Oi.TYPE.IMAGE&&(t.texture=Sn.fromLoader(t.data,t.url,t.name)),e()},t}(),Hi=function(t){function e(n,r){for(var i=t.call(this,n,r)||this,o=0;o<e._plugins.length;++o){var a=e._plugins[o],s=a.pre,l=a.use;s&&i.pre(s),l&&i.use(l)}return i._protected=!1,i}return function(t,e){function n(){this.constructor=t}Bi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(Ni);Hi.registerPlugin({use:Li.parsing}),Hi.registerPlugin(Fi);var zi=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Hi.shared:new Hi},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),Ui=function(t,e){return(Ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Vi(t,e){function n(){this.constructor=t}Ui(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Gi,Xi,Yi=function(t){function e(e,n,r,i){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===i&&(i=!1);var o=t.call(this)||this;return r>16384&&(r=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=r,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=tt.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return Vi(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,Rt(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Ne),Wi=function(){function t(t,e,n){this.geometry=new Nn,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var i=t[r];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||it.FLOAT,offset:i.offset},e[r]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Pn(zt(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){(a=this.dynamicProperties[n]).offset=e,e+=a.size,this.dynamicStride+=a.size}var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Pn(this.dynamicData,!1,!1);var i=0;this.staticStride=0;for(n=0;n<this.staticProperties.length;++n){(a=this.staticProperties[n]).offset=i,i+=a.size,this.staticStride+=a.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Pn(this.staticData,!0,!1);for(n=0;n<this.dynamicProperties.length;++n){var a=this.dynamicProperties[n];t.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===it.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(n=0;n<this.staticProperties.length;++n){a=this.staticProperties[n];t.addAttribute(a.attributeName,this.staticBuffer,0,a.type===it.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(t,e,n,i.type===it.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(t,e,n,i.type===it.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),qi=function(t){function e(e){var n=t.call(this,e)||this;return n.shader=null,n.properties=null,n.tempMatrix=new _e,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:it.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Sr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),n.state=Er.for2d(),n}return Vi(e,t),e.prototype.render=function(t){var e=t.children,n=t._maxSize,r=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>n&&!t.autoResize&&(o=n);var a=t._buffers;a||(a=t._buffers=this.generateBuffers(t));var s=e[0]._texture.baseTexture;this.state.blendMode=jt(t.blendMode,s.alphaMode),i.state.set(this.state);var l=i.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=Bt(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var c=!1,h=0,f=0;h<o;h+=r,f+=1){var d=o-h;d>r&&(d=r),f>=a.length&&a.push(this._generateOneMoreBuffer(t));var p=a[f];p.uploadDynamic(e,h,d);var m=t._bufferUpdateIDs[f]||0;(c=c||p._updateID<m)&&(p._updateID=t._updateID,p.uploadStatic(e,h,d)),i.geometry.bind(p.geometry),l.drawElements(l.TRIANGLES,6*d,l.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],n=t._maxSize,r=t._batchSize,i=t._properties,o=0;o<n;o+=r)e.push(new Wi(this.properties,i,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,n=t._properties;return new Wi(this.properties,n,e)},e.prototype.uploadVertices=function(t,e,n,r,i,o){for(var a=0,s=0,l=0,u=0,c=0;c<n;++c){var h=t[e+c],f=h._texture,d=h.scale.x,p=h.scale.y,m=f.trim,v=f.orig;m?(a=(s=m.x-h.anchor.x*v.width)+m.width,l=(u=m.y-h.anchor.y*v.height)+m.height):(a=v.width*(1-h.anchor.x),s=v.width*-h.anchor.x,l=v.height*(1-h.anchor.y),u=v.height*-h.anchor.y),r[o]=s*d,r[o+1]=u*p,r[o+i]=a*d,r[o+i+1]=u*p,r[o+2*i]=a*d,r[o+2*i+1]=l*p,r[o+3*i]=s*d,r[o+3*i+1]=l*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,n,r,i,o){for(var a=0;a<n;++a){var s=t[e+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,n,r,i,o){for(var a=0;a<n;++a){var s=t[e+a],l=s._texture.baseTexture.alphaMode>0,u=s.alpha,c=u<1&&l?Ft(s._tintRGB,u):s._tintRGB+(255*u<<24);r[o]=c,r[o+i]=c,r[o+2*i]=c,r[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Vn);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(Gi||(Gi={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(Xi||(Xi={}));var Ki={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},$i=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Sn.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Sn.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Zi=function(t,e){return(Zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Qi(t,e){function n(){this.constructor=t}Zi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ji={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var n=t.points,r=t.holes,i=e.points,a=e.indices;if(n.length>=6){for(var s=[],l=0;l<r.length;l++){var u=r[l];s.push(n.length/2),n=n.concat(u.points)}var c=(0,o.aU)(n,s,2);if(!c)return;var h=i.length/2;for(l=0;l<c.length;l+=3)a.push(c[l]+h),a.push(c[l+1]+h),a.push(c[l+2]+h);for(l=0;l<n.length;l++)i.push(n[l])}}},to={build:function(t){var e,n,r=t.shape,i=t.points,o=r.x,a=r.y;if(i.length=0,t.type===ue.CIRC)e=r.radius,n=r.radius;else{var s=t.shape;e=s.width,n=s.height}if(0!==e&&0!==n){var l=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(e+n));l/=2.3;for(var u=2*Math.PI/l,c=0;c<l-.5;c++)i.push(o+Math.sin(-u*c)*e,a+Math.cos(-u*c)*n);i.push(i[0],i[1])}},triangulate:function(t,e){var n=t.points,r=e.points,i=e.indices,o=r.length/2,a=o,s=t.shape,l=t.matrix,u=s.x,c=s.y;r.push(t.matrix?l.a*u+l.c*c+l.tx:u,t.matrix?l.b*u+l.d*c+l.ty:c);for(var h=0;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(o++,a,o)}},eo={build:function(t){var e=t.shape,n=e.x,r=e.y,i=e.width,o=e.height,a=t.points;a.length=0,a.push(n,r,n+i,r,n+i,r+o,n,r+o)},triangulate:function(t,e){var n=t.points,r=e.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function no(t,e,n){return t+(e-t)*n}function ro(t,e,n,r,i,o,a){void 0===a&&(a=[]);for(var s=a,l=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0;p<=20;++p)l=no(t,n,m=p/20),u=no(e,r,m),c=no(n,i,m),h=no(r,o,m),f=no(l,c,m),d=no(u,h,m),s.push(f,d);return s}var io={build:function(t){var e=t.shape,n=t.points,r=e.x,i=e.y,o=e.width,a=e.height,s=Math.max(0,Math.min(e.radius,Math.min(o,a)/2));n.length=0,s?(ro(r,i+s,r,i,r+s,i,n),ro(r+o-s,i,r+o,i,r+o,i+s,n),ro(r+o,i+a-s,r+o,i+a,r+o-s,i+a,n),ro(r+s,i+a,r,i+a,r,i+a-s,n)):n.push(r,i,r+o,i,r+o,i+a,r,i+a)},triangulate:function(t,e){for(var n=t.points,r=e.points,i=e.indices,a=r.length/2,s=(0,o.aU)(n,null,2),l=0,u=s.length;l<u;l+=3)i.push(s[l]+a),i.push(s[l+1]+a),i.push(s[l+2]+a);for(l=0,u=n.length;l<u;l++)r.push(n[l],n[++l])}};function oo(t,e,n,r,i,o,a,s){var l,u;a?(l=r,u=-n):(l=-r,u=n);var c=t-n*i+l,h=e-r*i+u,f=t+n*o+l,d=e+r*o+u;return s.push(c,h),s.push(f,d),2}function ao(t,e,n,r,i,o,a,s){var l=n-t,u=r-e,c=Math.atan2(l,u),h=Math.atan2(i-t,o-e);s&&c<h?c+=2*Math.PI:!s&&c>h&&(h+=2*Math.PI);var f=c,d=h-c,p=Math.abs(d),m=Math.sqrt(l*l+u*u),v=1+(15*p*Math.sqrt(m)/Math.PI|0),g=d/v;if(f+=g,s){a.push(t,e),a.push(n,r);for(var y=1,b=f;y<v;y++,b+=g)a.push(t,e),a.push(t+Math.sin(b)*m,e+Math.cos(b)*m);a.push(t,e),a.push(i,o)}else{a.push(n,r),a.push(t,e);for(y=1,b=f;y<v;y++,b+=g)a.push(t+Math.sin(b)*m,e+Math.cos(b)*m),a.push(t,e);a.push(i,o),a.push(t,e)}return 2*v}function so(t,e){t.lineStyle.native?function(t,e){var n=0,r=t.shape,i=t.points||r.points,o=r.type!==ue.POLY||r.closeStroke;if(0!==i.length){var a=e.points,s=e.indices,l=i.length/2,u=a.length/2,c=u;for(a.push(i[0],i[1]),n=1;n<l;n++)a.push(i[2*n],i[2*n+1]),s.push(c,c+1),c++;o&&s.push(c,u)}}(t,e):function(t,e){var n=t.shape,r=t.points||n.points.slice(),i=e.closePointEps;if(0!==r.length){var o=t.lineStyle,a=new ye(r[0],r[1]),s=new ye(r[r.length-2],r[r.length-1]),l=n.type!==ue.POLY||n.closeStroke,u=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var c=.5*(a.x+s.x),h=.5*(s.y+a.y);r.unshift(c,h),r.push(c,h)}var f=e.points,d=r.length/2,p=r.length,m=f.length/2,v=o.width/2,g=v*v,y=o.miterLimit*o.miterLimit,b=r[0],_=r[1],x=r[2],T=r[3],w=0,S=0,E=-(_-T),k=b-x,C=0,A=0,O=Math.sqrt(E*E+k*k);E/=O,k/=O,E*=v,k*=v;var P=o.alignment,M=2*(1-P),I=2*P;l||(o.cap===Xi.ROUND?p+=ao(b-E*(M-I)*.5,_-k*(M-I)*.5,b-E*M,_-k*M,b+E*I,_+k*I,f,!0)+2:o.cap===Xi.SQUARE&&(p+=oo(b,_,E,k,M,I,!0,f))),f.push(b-E*M,_-k*M),f.push(b+E*I,_+k*I);for(var R=1;R<d-1;++R){b=r[2*(R-1)],_=r[2*(R-1)+1],x=r[2*R],T=r[2*R+1],w=r[2*(R+1)],S=r[2*(R+1)+1],E=-(_-T),k=b-x,E/=O=Math.sqrt(E*E+k*k),k/=O,E*=v,k*=v,C=-(T-S),A=x-w,C/=O=Math.sqrt(C*C+A*A),A/=O,C*=v,A*=v;var L=x-b,D=_-T,N=x-w,j=S-T,B=D*N-j*L,F=B<0;if(Math.abs(B)<.1)f.push(x-E*M,T-k*M),f.push(x+E*I,T+k*I);else{var H=(-E+b)*(-k+T)-(-E+x)*(-k+_),z=(-C+w)*(-A+T)-(-C+x)*(-A+S),U=(L*z-N*H)/B,V=(j*H-D*z)/B,G=(U-x)*(U-x)+(V-T)*(V-T),X=x+(U-x)*M,Y=T+(V-T)*M,W=x-(U-x)*I,q=T-(V-T)*I,K=F?M:I;G<=Math.min(L*L+D*D,N*N+j*j)+K*K*g?o.join===Gi.BEVEL||G/g>y?(F?(f.push(X,Y),f.push(x+E*I,T+k*I),f.push(X,Y),f.push(x+C*I,T+A*I)):(f.push(x-E*M,T-k*M),f.push(W,q),f.push(x-C*M,T-A*M),f.push(W,q)),p+=2):o.join===Gi.ROUND?F?(f.push(X,Y),f.push(x+E*I,T+k*I),p+=ao(x,T,x+E*I,T+k*I,x+C*I,T+A*I,f,!0)+4,f.push(X,Y),f.push(x+C*I,T+A*I)):(f.push(x-E*M,T-k*M),f.push(W,q),p+=ao(x,T,x-E*M,T-k*M,x-C*M,T-A*M,f,!1)+4,f.push(x-C*M,T-A*M),f.push(W,q)):(f.push(X,Y),f.push(W,q)):(f.push(x-E*M,T-k*M),f.push(x+E*I,T+k*I),o.join===Gi.BEVEL||G/g>y||(o.join===Gi.ROUND?p+=F?ao(x,T,x+E*I,T+k*I,x+C*I,T+A*I,f,!0)+2:ao(x,T,x-E*M,T-k*M,x-C*M,T-A*M,f,!1)+2:(F?(f.push(W,q),f.push(W,q)):(f.push(X,Y),f.push(X,Y)),p+=2)),f.push(x-C*M,T-A*M),f.push(x+C*I,T+A*I),p+=2)}}b=r[2*(d-2)],_=r[2*(d-2)+1],x=r[2*(d-1)],E=-(_-(T=r[2*(d-1)+1])),k=b-x,E/=O=Math.sqrt(E*E+k*k),k/=O,E*=v,k*=v,f.push(x-E*M,T-k*M),f.push(x+E*I,T+k*I),l||(o.cap===Xi.ROUND?p+=ao(x-E*(M-I)*.5,T-k*(M-I)*.5,x-E*M,T-k*M,x+E*I,T+k*I,f,!1)+2:o.cap===Xi.SQUARE&&(p+=oo(x,T,E,k,M,I,!1,f)));var $=e.indices,Z=Ki.epsilon*Ki.epsilon;for(R=m;R<p+m-2;++R)b=f[2*R],_=f[2*R+1],x=f[2*(R+1)],T=f[2*(R+1)+1],w=f[2*(R+2)],S=f[2*(R+2)+1],!(Math.abs(b*(T-S)+x*(S-_)+w*(_-T))<Z)&&$.push(R,R+1,R+2)}}(t,e)}var lo,uo=function(t){function e(e,n,r,i,o,a){void 0===a&&(a=0);o=o||i/2;for(var s=-1*Math.PI/2+a,l=2*r,u=ce/l,c=[],h=0;h<l;h++){var f=h%2?o:i,d=h*u+s;c.push(e+f*Math.cos(d),n+f*Math.sin(d))}return t.call(this,c)||this}return Qi(e,t),e}(ve),co=function(){function t(){}return t.curveTo=function(t,e,n,r,i,o){var a=o[o.length-2],s=o[o.length-1]-e,l=a-t,u=r-e,c=n-t,h=Math.abs(s*c-l*u);if(h<1e-8||0===i)return(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e),null;var f=s*s+l*l,d=u*u+c*c,p=s*u+l*c,m=i*Math.sqrt(f)/h,v=i*Math.sqrt(d)/h,g=m*p/f,y=v*p/d,b=m*c+v*l,_=m*u+v*s,x=l*(v+g),T=s*(v+g),w=c*(m+y),S=u*(m+y);return{cx:b+t,cy:_+e,radius:i,startAngle:Math.atan2(T-_,x-b),endAngle:Math.atan2(S-_,w-b),anticlockwise:l*u>c*s}},t.arc=function(t,e,n,r,i,o,a,s,l){for(var u=a-o,c=Ki._segmentsCount(Math.abs(u)*i,40*Math.ceil(Math.abs(u)/ce)),h=u/(2*c),f=2*h,d=Math.cos(h),p=Math.sin(h),m=c-1,v=m%1/m,g=0;g<=m;++g){var y=h+o+f*(g+v*g),b=Math.cos(y),_=-Math.sin(y);l.push((d*b+p*_)*i+n,(d*-_+p*b)*i+r)}},t}(),ho=function(){function t(){}return t.curveLength=function(t,e,n,r,i,o,a,s){for(var l=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0,v=0,g=0,y=0,b=t,_=e,x=1;x<=10;++x)g=b-(m=(p=(d=(f=1-(u=x/10))*f)*f)*t+3*d*u*n+3*f*(c=u*u)*i+(h=c*u)*a),y=_-(v=p*e+3*d*u*r+3*f*c*o+h*s),b=m,_=v,l+=Math.sqrt(g*g+y*y);return l},t.curveTo=function(e,n,r,i,o,a,s){var l=s[s.length-2],u=s[s.length-1];s.length-=2;var c=Ki._segmentsCount(t.curveLength(l,u,e,n,r,i,o,a)),h=0,f=0,d=0,p=0,m=0;s.push(l,u);for(var v=1,g=0;v<=c;++v)d=(f=(h=1-(g=v/c))*h)*h,m=(p=g*g)*g,s.push(d*l+3*f*g*e+3*h*p*r+m*o,d*u+3*f*g*n+3*h*p*i+m*a)},t}(),fo=function(){function t(){}return t.curveLength=function(t,e,n,r,i,o){var a=t-2*n+i,s=e-2*r+o,l=2*n-2*t,u=2*r-2*e,c=4*(a*a+s*s),h=4*(a*l+s*u),f=l*l+u*u,d=2*Math.sqrt(c+h+f),p=Math.sqrt(c),m=2*c*p,v=2*Math.sqrt(f),g=h/p;return(m*d+p*h*(d-v)+(4*f*c-h*h)*Math.log((2*p+g+d)/(g+v)))/(4*m)},t.curveTo=function(e,n,r,i,o){for(var a=o[o.length-2],s=o[o.length-1],l=Ki._segmentsCount(t.curveLength(a,s,e,n,r,i)),u=0,c=0,h=1;h<=l;++h){var f=h/l;u=a+(e-a)*f,c=s+(n-s)*f,o.push(u+(e+(r-e)*f-u)*f,c+(n+(i-n)*f-c)*f)}},t}(),po=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,n){this.reset(),this.style=t,this.start=e,this.attribStart=n},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),mo=((lo={})[ue.POLY]=Ji,lo[ue.CIRC]=to,lo[ue.ELIP]=to,lo[ue.RECT]=eo,lo[ue.RREC]=io,lo),vo=[],go=[],yo={buildPoly:Ji,buildCircle:to,buildRectangle:eo,buildRoundedRectangle:io,FILL_COMMANDS:mo,BATCH_POOL:vo,DRAW_CALL_POOL:go,buildLine:so,Star:uo,ArcUtils:co,BezierUtils:ho,QuadraticUtils:fo,BatchPart:po},bo=function(){function t(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=n,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),_o=new ye,xo=new Pe,To=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new Pe,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return Qi(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),go.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),vo.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null);var i=new bo(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var n=new bo(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,n=0;n<e.length;++n){var r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,_o):_o.copyFrom(t),r.shape.contains(_o.x,_o.y))){var i=!1;if(r.holes)for(var o=0;o<r.holes.length;o++){if(r.holes[o].shape.contains(_o.x,_o.y)){i=!0;break}}if(!i)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,n=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var a=n[o],s=a.fillStyle,l=a.lineStyle;mo[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var u=0;u<2;u++){var c=0===u?s:l;if(c.visible){var h=c.texture.baseTexture,f=this.indices.length,d=this.points.length/2;h.wrapMode=at.REPEAT,0===u?this.processFill(a):this.processLine(a);var p=this.points.length/2-d;0!==p&&(r&&!this._compareStyles(i,c)&&(r.end(f,d),r=null),r||((r=vo.pop()||new po).begin(c,f,d),this.batches.push(r),i=c),this.addUvs(this.points,e,c.texture,d,p,c.matrix))}}}var m=this.indices.length,v=this.points.length/2;if(r&&r.end(m,v),0===this.batches.length)return void(this.batchable=!0);if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var g=v>65535&&t;this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,n=t.length;e<n;e++)for(var r=t[e],i=0;i<r.size;i++){var o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,n=0;n<t.length;n++)if(t[n].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++sn._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),go.push(this.drawCalls[e]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=go.pop();i||((i=new ei).texArray=new ni),i.texArray.count=0,i.start=0,i.size=0,i.type=et.TRIANGLES;var o=0,a=null,s=0,l=!1,u=et.TRIANGLES,c=0;this.drawCalls.push(i);for(e=0;e<this.batches.length;e++){var h=this.batches[e],f=h.style,d=f.texture.baseTexture;l!==!!f.native&&(u=(l=!!f.native)?et.LINES:et.TRIANGLES,a=null,o=8,t++),a!==d&&(a=d,d._batchEnabled!==t&&(8===o&&(t++,o=0,i.size>0&&((i=go.pop())||((i=new ei).texArray=new ni),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=u),d.touched=1,d._batchEnabled=t,d._batchLocation=o,d.wrapMode=10497,i.texArray.elements[i.texArray.count++]=d,o++)),i.size+=h.size,c+=h.size,s=d._batchLocation,this.addColors(n,f.color,f.alpha,h.attribSize,h.attribStart),this.addTextureIds(r,s,h.attribSize,h.attribStart)}sn._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*t.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,l=0;l<t.length/2;l++)o[s++]=t[2*l],o[s++]=t[2*l+1],o[s++]=e[2*l],o[s++]=e[2*l+1],a[s++]=n[l],o[s++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),Ji.triangulate(t,this)):mo[t.type].triangulate(t,this)},e.prototype.processLine=function(t){so(t,this);for(var e=0;e<t.holes.length;e++)so(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var n=t[e];mo[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=xo,n=_e.IDENTITY;this._bounds.clear(),e.clear();for(var r=0;r<this.graphicsData.length;r++){var i=this.graphicsData[r],o=i.shape,a=i.type,s=i.lineStyle,l=i.matrix||_e.IDENTITY,u=0;if(s&&s.visible){var c=s.alignment;u=s.width,a===ue.POLY?u*=.5+Math.abs(.5-c):u*=Math.max(0,c)}if(n!==l&&(e.isEmpty()||(t.addBoundsMatrix(e,n),e.clear()),n=l),a===ue.RECT||a===ue.RREC){var h=o;e.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,u,u)}else if(a===ue.CIRC){var f=o;e.addFramePad(f.x,f.y,f.x,f.y,f.radius+u,f.radius+u)}else if(a===ue.ELIP){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.width+u,d.height+u)}else{var p=o;t.addVerticesMatrix(n,p.points,0,p.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,n),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var n=0;n<t.length/2;n++){var r=t[2*n],i=t[2*n+1];t[2*n]=e.a*r+e.c*i+e.tx,t[2*n+1]=e.b*r+e.d*i+e.ty}},e.prototype.addColors=function(t,e,n,r,i){void 0===i&&(i=0);var o=Ft((e>>16)+(65280&e)+((255&e)<<16),n);t.length=Math.max(t.length,i+r);for(var a=0;a<r;a++)t[i+a]=o},e.prototype.addTextureIds=function(t,e,n,r){void 0===r&&(r=0),t.length=Math.max(t.length,r+n);for(var i=0;i<n;i++)t[r+i]=e},e.prototype.addUvs=function(t,e,n,r,i,o){void 0===o&&(o=null);for(var a=0,s=e.length,l=n.frame;a<i;){var u=t[2*(r+a)],c=t[2*(r+a)+1];if(o){var h=o.a*u+o.c*c+o.tx;c=o.b*u+o.d*c+o.ty,u=h}a++,e.push(u/l.width,c/l.height)}var f=n.baseTexture;(l.width<f.width||l.height<f.height)&&this.adjustUvs(e,n,s,i)},e.prototype.adjustUvs=function(t,e,n,r){for(var i=e.baseTexture,o=1e-6,a=n+2*r,s=e.frame,l=s.width/i.width,u=s.height/i.height,c=s.x/s.width,h=s.y/s.height,f=Math.floor(t[n]+o),d=Math.floor(t[n+1]+o),p=n+2;p<a;p+=2)f=Math.min(f,Math.floor(t[p]+o)),d=Math.min(d,Math.floor(t[p+1]+o));c-=f,h-=d;for(p=n;p<a;p+=2)t[p]=(t[p]+c)*l,t[p+1]=(t[p+1]+h)*u},e.BATCHABLE_SIZE=100,e}(ai),wo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Xi.BUTT,e.join=Gi.MITER,e.miterLimit=10,e}return Qi(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}($i),So=new Float32Array(3),Eo={},ko=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n._geometry=e||new To,n._geometry.refCount++,n.shader=null,n.state=Er.for2d(),n._fillStyle=new $i,n._lineStyle=new wo,n._matrix=null,n._holeMode=!1,n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n.pluginName="batch",n._transformID=-1,n.tint=16777215,n.blendMode=tt.NORMAL,n}return Qi(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){Qt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments;t={width:e[0],texture:e[1],color:e[2],alpha:e[3],matrix:e[4],alignment:e[5],native:e[6]},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:Sn.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Xi.BUTT,join:Gi.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new ve,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new ve,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),fo.curveTo(t,e,n,r,i),this},e.prototype.bezierCurveTo=function(t,e,n,r,i,o){return this._initCurve(),ho.curveTo(t,e,n,r,i,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,n,r,i){this._initCurve(t,e);var o=this.currentPath.points,a=co.curveTo(t,e,n,r,i,o);if(a){var s=a.cx,l=a.cy,u=a.radius,c=a.startAngle,h=a.endAngle,f=a.anticlockwise;this.arc(s,l,u,c,h,f)}return this},e.prototype.arc=function(t,e,n,r,i,o){if(void 0===o&&(o=!1),r===i)return this;if(!o&&i<=r?i+=ce:o&&r<=i&&(r+=ce),0===i-r)return this;var a=t+Math.cos(r)*n,s=e+Math.sin(r)*n,l=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var c=Math.abs(u[u.length-2]-a),h=Math.abs(u[u.length-1]-s);c<l&&h<l||u.push(a,s)}else this.moveTo(a,s),u=this.currentPath.points;return co.arc(a,s,t,e,n,r,i,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:Sn.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof Sn){Qt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments;t={texture:e[0],color:e[1],alpha:e[2],matrix:e[3]},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:Sn.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var n=t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:n},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,n,r){return this.drawShape(new de(t,e,n,r))},e.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new ge(t,e,n,r,i))},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new pe(t,e,n))},e.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new me(t,e,n,r))},e.prototype.drawPolygon=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var r,i=!0,o=e[0];o.points?(i=o.closeStroke,r=o.points):r=Array.isArray(e[0])?e[0]:e;var a=new ve(r);return a.closeStroke=i,this.drawShape(a),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,n,r,i,o){return void 0===o&&(o=0),this.drawPolygon(new uo(t,e,n,r,i,o))},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===ue.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,n=t.context.supports.uint32Indices;e.updateBatches(n),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(var r=0;r<n;r++){var i=t.batches[r],o=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(t.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),l={vertexData:a,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:Rt(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=l}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,n=this.batches.length;e<n;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,o=e.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(255&r)/255*i,o.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(var s=0,l=a.length;s<l;s++)this._renderDrawCallDirect(t,n.drawCalls[s])},e.prototype._renderDrawCallDirect=function(t,e){for(var n=e.texArray,r=e.type,i=e.size,o=e.start,a=n.count,s=0;s<a;s++)t.texture.bind(n.elements[s],s);t.geometry.draw(r,i,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,n=this.pluginName;if(!e){if(!Eo[n]){for(var r=t.plugins.batch.MAX_TEXTURES,i=new Int32Array(r),o=0;o<r;o++)i[o]=o;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new _e,default:Hn.from({uSamplers:i},!0)},s=t.plugins[n]._shader.program;Eo[n]=new Sr(s,a)}e=Eo[n]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,n=e.minX,r=e.minY,i=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,n,r,i,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Rt(this.tint,So),e=0;e<this.batches.length;e++){var n=this.batches[e],r=n._batchRGB,i=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);n._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,l=this._geometry.points,u=this.vertexData,c=0,h=0;h<l.length;h+=2){var f=l[h],d=l[h+1];u[c++]=n*f+i*d+a,u[c++]=o*d+r*f+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new ye,e}(Ne),Co=function(t,e){return(Co=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ao,Oo=new ye,Po=new Uint16Array([0,1,2,0,2,3]),Mo=function(t){function e(e){var n=t.call(this)||this;return n._anchor=new be(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=tt.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||Sn.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=Po,n.pluginName="batch",n.isSprite=!0,n._roundPixels=j.ROUND_PIXELS,n}return function(t,e){function n(){this.constructor=t}Co(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=qt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=qt(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,l=this.vertexData,u=t.trim,c=t.orig,h=this._anchor,f=0,d=0,p=0,m=0;if(u?(f=(d=u.x-h._x*c.width)+u.width,p=(m=u.y-h._y*c.height)+u.height):(f=(d=-h._x*c.width)+c.width,p=(m=-h._y*c.height)+c.height),l[0]=n*d+i*m+a,l[1]=o*m+r*d+s,l[2]=n*f+i*m+a,l[3]=o*m+r*f+s,l[4]=n*f+i*p+a,l[5]=o*p+r*f+s,l[6]=n*d+i*p+a,l[7]=o*p+r*d+s,this._roundPixels)for(var v=j.RESOLUTION,g=0;g<l.length;++g)l[g]=Math.round((l[g]*v|0)/v)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,l=i.d,u=i.tx,c=i.ty,h=-r._x*n.width,f=h+n.width,d=-r._y*n.height,p=d+n.height;e[0]=o*h+s*d+u,e[1]=l*d+a*h+c,e[2]=o*f+s*d+u,e[3]=l*d+a*f+c,e[4]=o*f+s*p+u,e[5]=l*p+a*f+c,e[6]=o*h+s*p+u,e[7]=l*p+a*h+c},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new de),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Oo);var e=this._texture.orig.width,n=this._texture.orig.height,r=-e*this.anchor.x,i=0;return Oo.x>=r&&Oo.x<r+e&&(i=-n*this.anchor.y,Oo.y>=i&&Oo.y<i+n)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var n="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null},e.from=function(t,n){return new e(t instanceof Sn?t:Sn.from(t,n))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=qt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=qt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Sn.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Ne),Io=function(t,e){return(Io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(Ao||(Ao={}));var Ro={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ao.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Lo=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Do=function(){function t(t){this.styleID=0,this.reset(),Bo(this,t,t)}return t.prototype.clone=function(){var e={};return Bo(e,this,Ro),new t(e)},t.prototype.reset=function(){Bo(this,Ro,Ro)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=jo(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=jo(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=jo(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Lo.indexOf(r)<0&&(r='"'+r+'"'),e[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function No(t){return"number"==typeof t?Lt(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function jo(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=No(t[e]);return t}return No(t)}function Bo(t,e,n){for(var r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var Fo=function(){function t(t,e,n,r,i,o,a,s,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=l}return t.measureText=function(e,n,r,i){void 0===i&&(i=t._canvas),r=r??n.wordWrap;var o=n.toFontString(),a=t.measureFont(o);0===a.fontSize&&(a.fontSize=n.fontSize,a.ascent=n.fontSize);var s=i.getContext("2d");s.font=o;for(var l=(r?t.wordWrap(e,n,i):e).split(/(?:\r\n|\r|\n)/),u=new Array(l.length),c=0,h=0;h<l.length;h++){var f=s.measureText(l[h]).width+(l[h].length-1)*n.letterSpacing;u[h]=f,c=Math.max(c,f)}var d=c+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||a.fontSize+n.strokeThickness,m=Math.max(p,a.fontSize+n.strokeThickness)+(l.length-1)*(p+n.leading);return n.dropShadow&&(m+=n.dropShadowDistance),new t(e,n,d,m,l,u,p+n.leading,c,a)},t.wordWrap=function(e,n,r){void 0===r&&(r=t._canvas);for(var i=r.getContext("2d"),o=0,a="",s="",l=Object.create(null),u=n.letterSpacing,c=n.whiteSpace,h=t.collapseSpaces(c),f=t.collapseNewlines(c),d=!h,p=n.wordWrapWidth+u,m=t.tokenize(e),v=0;v<m.length;v++){var g=m[v];if(t.isNewline(g)){if(!f){s+=t.addLine(a),d=!h,a="",o=0;continue}g=" "}if(h){var y=t.isBreakingSpace(g),b=t.isBreakingSpace(a[a.length-1]);if(y&&b)continue}var _=t.getFromCache(g,u,l,i);if(_>p)if(""!==a&&(s+=t.addLine(a),a="",o=0),t.canBreakWords(g,n.breakWords))for(var x=t.wordWrapSplit(g),T=0;T<x.length;T++){for(var w=x[T],S=1;x[T+S];){var E=x[T+S],k=w[w.length-1];if(t.canBreakChars(k,E,g,T,n.breakWords))break;w+=E,S++}T+=w.length-1;var C=t.getFromCache(w,u,l,i);C+o>p&&(s+=t.addLine(a),d=!1,a="",o=0),a+=w,o+=C}else{a.length>0&&(s+=t.addLine(a),a="",o=0);var A=v===m.length-1;s+=t.addLine(g,!A),d=!1,a="",o=0}else _+o>p&&(d=!1,s+=t.addLine(a),a="",o=0),(a.length>0||!t.isBreakingSpace(g)||d)&&(a+=g,o+=_)}return s+=t.addLine(a,!1)},t.addLine=function(e,n){return void 0===n&&(n=!0),e=t.trimRight(e),e=n?e+"\n":e},t.getFromCache=function(t,e,n,r){var i=n[t];if("number"!=typeof i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var n=e.length-1;n>=0;n--){var r=e[n];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],r="";if("string"!=typeof e)return n;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(""!==r&&(n.push(r),r=""),n.push(o)):r+=o}return""!==r&&n.push(r),n},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,r,i){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={ascent:0,descent:0,fontSize:0},r=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),l=2*s;s=s*t.BASELINE_MULTIPLIER|0,r.width=a,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var u=i.getImageData(0,0,a,l).data,c=u.length,h=4*a,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var m=0;m<h;m+=4)if(255!==u[d+m]){p=!0;break}if(p)break;d+=h}for(n.ascent=s-f,d=c-h,p=!1,f=l;f>s;--f){for(m=0;m<h;m+=4)if(255!==u[d+m]){p=!0;break}if(p)break;d-=h}return n.descent=f-s,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),Ho=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch{return document.createElement("canvas")}}();Ho.width=Ho.height=10,Fo._canvas=Ho,Fo._context=Ho.getContext("2d"),Fo._fonts={},Fo.METRICS_STRING="|\xc9q\xc5",Fo.BASELINE_SYMBOL="M",Fo.BASELINE_MULTIPLIER=1.4,Fo._newlines=[10,13],Fo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var zo={texture:!0,children:!1,baseTexture:!0},Uo=function(t){function e(e,n,r){var i=this,o=!1;r||(r=document.createElement("canvas"),o=!0),r.width=3,r.height=3;var a=Sn.from(r);return a.orig=new de,a.trim=new de,(i=t.call(this,a)||this)._ownCanvas=o,i.canvas=r,i.context=i.canvas.getContext("2d"),i._resolution=j.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=e,i.style=n,i.localStyleID=-1,i}return function(t,e){function n(){this.constructor=t}Io(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var n=this.context,r=Fo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,o=r.height,a=r.lines,s=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var h,f,d=e.dropShadow?2:1,p=0;p<d;++p){var m=e.dropShadow&&0===p,v=m?Math.ceil(Math.max(1,o)+2*e.padding):0,g=v*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";var y=e.dropShadowColor,b=Rt("number"==typeof y?y:Dt(y)),_=e.dropShadowBlur*this._resolution,x=e.dropShadowDistance*this._resolution;n.shadowColor="rgba("+255*b[0]+","+255*b[1]+","+255*b[2]+","+e.dropShadowAlpha+")",n.shadowBlur=_,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*x,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*x+g}else n.fillStyle=this._generateFillStyle(e,a,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var T=0;T<a.length;T++)h=e.strokeThickness/2,f=e.strokeThickness/2+T*s+c.ascent,"right"===e.align?h+=u-l[T]:"center"===e.align&&(h+=(u-l[T])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[T],h+e.padding,f+e.padding-v,!0),e.fill&&this.drawLetterSpacing(a[T],h+e.padding,f+e.padding-v)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n,r){void 0===r&&(r=!1);var i=this._style.letterSpacing;if(0!==i)for(var o=e,a=Array.from?Array.from(t):t.split(""),s=this.context.measureText(t).width,l=0,u=0;u<a.length;++u){var c=a[u];r?this.context.strokeText(c,o,n):this.context.fillText(c,o,n),o+=s-(l=this.context.measureText(t.substring(u+1)).width)+i,s=l}else r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=re(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;n.trim.width=n._frame.width=Math.ceil(t.width/this._resolution),n.trim.height=n._frame.height=Math.ceil(t.height/this._resolution),n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,n){var r=t.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];var i,o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,s=Math.ceil(this.canvas.width/this._resolution)-o-2*a,l=Math.ceil(this.canvas.height/this._resolution)-o-2*a,u=r.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var h=u.length+1,f=1;f<h;++f)c.push(f/h);if(u.unshift(r[0]),c.unshift(0),u.push(r[r.length-1]),c.push(1),t.fillGradientType===Ao.LINEAR_VERTICAL){i=this.context.createLinearGradient(s/2,a,s/2,l+a);var d=0,p=(n.fontProperties.fontSize+t.strokeThickness)/l;for(f=0;f<e.length;f++)for(var m=n.lineHeight*f,v=0;v<u.length;v++){var g=m/l+("number"==typeof c[v]?c[v]:v/u.length)*p,y=Math.max(d,g);y=Math.min(y,1),i.addColorStop(y,u[v]),d=y}}else{i=this.context.createLinearGradient(a,l/2,s+a,l/2);var b=u.length+1,_=1;for(f=0;f<u.length;f++){var x=void 0;x="number"==typeof c[f]?c[f]:_/b,i.addColorStop(x,u[f]),_++}}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},zo,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=qt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=qt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof Do?t:new Do(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(Mo);j.UPLOADS_PER_FRAME=4;var Vo=function(t,e){return(Vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Go=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function Xo(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof Sn){var i=t._textures[r].baseTexture;-1===e.indexOf(i)&&(e.push(i),n=!0)}return n}function Yo(t,e){if(t.baseTexture instanceof sn){var n=t.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function Wo(t,e){if(t._texture&&t._texture instanceof Sn){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function qo(t,e){return e instanceof Uo&&(e.updateText(!0),!0)}function Ko(t,e){if(e instanceof Do){var n=e.toFontString();return Fo.measureFont(n),!0}return!1}function $o(t,e){if(t instanceof Uo){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function Zo(t,e){return t instanceof Do&&(-1===e.indexOf(t)&&e.push(t),!0)}var Qo=function(){function t(t){var e=this;this.limiter=new Go(j.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook($o),this.registerFindHook(Zo),this.registerFindHook(Xo),this.registerFindHook(Yo),this.registerFindHook(Wo),this.registerUploadHook(qo),this.registerUploadHook(Ko)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Ue.system.addOnce(this.tick,this,Be.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Ue.system.addOnce(this.tick,this,Be.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(n=0,r=i.length;n<r;n++)i[n]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ne)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&Ue.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Jo(t,e){return e instanceof sn&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function ta(t,e){if(!(e instanceof ko))return!1;var n=e.geometry;e.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var o=r[i].style.texture;o&&Jo(t,o.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function ea(t,e){return t instanceof ko&&(e.push(t),!0)}var na=function(t){function e(e){var n=t.call(this,e)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(ea),n.registerUploadHook(Jo),n.registerUploadHook(ta),n}return function(t,e){function n(){this.constructor=t}Vo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Qo),ra=function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}(),ia=function(){function t(t,e,n){void 0===n&&(n=null),this._texture=t instanceof Sn?t:null,this.baseTexture=t instanceof sn?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,n=se(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,r=t.BATCH_SIZE;n-e<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],o=this._frames[i],a=o.frame;if(a){var s=null,l=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,c=new de(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s=o.rotated?new de(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new de(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new de(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Sn(this.baseTexture,s,c,l,o.rotated?2:0,o.anchor),Sn.addToCache(this.textures[i],i)}n++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var n=0;n<t[e].length;n++){var r=t[e][n];this.animations[e].push(this.textures[r])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var n in void 0===t&&(t=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),oa=function(){function t(){}return t.use=function(e,n){var r=this,i=e.name+"_image";if(e.data&&e.type===ji.TYPE.JSON&&e.data.frames&&!r.resources[i]){var o={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},a=t.getResourcePath(e,r.baseUrl);r.add(i,a,o,(function(t){if(t.error)n(t.error);else{var r=new ia(t.texture,e.data,e.url);r.parse((function(){e.spritesheet=r,e.textures=r.textures,n()}))}}))}else n()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:z.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),aa=function(t,e){return(aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function sa(t,e){function n(){this.constructor=t}aa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var la=new ye,ua=function(t){function e(e,n,r){void 0===n&&(n=100),void 0===r&&(r=100);var i=t.call(this,e)||this;return i.tileTransform=new Oe,i._width=n,i._height=r,i.uvMatrix=i.texture.uvMatrix||new Ar(e),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}return sa(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;!e||!e.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new de),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,la);var e=this._width,n=this._height,r=-e*this.anchor._x;if(la.x>=r&&la.x<r+e){var i=-n*this.anchor._y;if(la.y>=i&&la.y<i+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,n){return"number"==typeof n&&(Qt("5.3.0","TilingSprite.from use options instead of width and height args"),n={width:n,height:arguments[2]}),new e(Sn.from(t,n),n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(Mo),ca="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",ha=new _e,fa=function(t){function e(e){var n=t.call(this,e)||this,r={globals:n.renderer.globalUniforms};return n.shader=Sr.from(ca,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",r),n.simpleShader=Sr.from(ca,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",r),n.quad=new Bn,n.state=Er.for2d(),n}return sa(e,t),e.prototype.render=function(t){var e=this.renderer,n=this.quad,r=n.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=n.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),n.invalidate();var i=t._texture,o=i.baseTexture,a=t.tileTransform.localTransform,s=t.uvMatrix,l=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;l&&(o._glTextures[e.CONTEXT_UID]?l=o.wrapMode!==at.CLAMP:o.wrapMode===at.CLAMP&&(o.wrapMode=at.REPEAT));var u=l?this.simpleShader:this.shader,c=i.width,h=i.height,f=t._width,d=t._height;ha.set(a.a*c/f,a.b*c/d,a.c*h/f,a.d*h/d,a.tx/f,a.ty/d),ha.invert(),l?ha.prepend(s.mapCoord):(u.uniforms.uMapCoord=s.mapCoord.toArray(!0),u.uniforms.uClampFrame=s.uClampFrame,u.uniforms.uClampOffset=s.uClampOffset),u.uniforms.uTransform=ha.toArray(!0),u.uniforms.uColor=Ht(t.tint,t.worldAlpha,u.uniforms.uColor,o.alphaMode),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=i,e.shader.bind(u),e.geometry.bind(n),this.state.blendMode=jt(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Vn),da=function(t,e){return(da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function pa(t,e){function n(){this.constructor=t}da(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ma=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),va=new ye,ga=new ve,ya=function(t){function e(e,n,r,i){void 0===i&&(i=et.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=n,o.state=r||Er.for2d(),o.drawMode=i,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o._roundPixels=j.ROUND_PIXELS,o.batchUvs=null,o}return pa(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===et.TRIANGLES&&n.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var n=this.transform.worldTransform,r=n.a,i=n.b,o=n.c,a=n.d,s=n.tx,l=n.ty,u=this.vertexData,c=0;c<u.length/2;c++){var h=e[2*c],f=e[2*c+1];u[2*c]=r*h+o*f+s,u[2*c+1]=i*h+a*f+l}if(this._roundPixels){var d=j.RESOLUTION;for(c=0;c<u.length;++c)u[c]=Math.round((u[c]*d|0)/d)}this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new ma(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,va);for(var e=this.geometry.getBuffer("aVertexPosition").data,n=ga.points,r=this.geometry.getIndex().data,i=r.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*r[a],l=2*r[a+1],u=2*r[a+2];if(n[0]=e[s],n[1]=e[s+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[u],n[5]=e[u+1],ga.contains(va.x,va.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Ne),ba=function(t){function e(e,n){var r=this,i={uSampler:e,alpha:1,uTextureMatrix:_e.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(i,n.uniforms),(r=t.call(this,n.program||wr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,r.uvMatrix=new Ar(e),r.batchable=void 0===n.program,r.pluginName=n.pluginName,r.tint=n.tint,r.alpha=n.alpha,r}return pa(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Ht(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Sr),_a=function(t){function e(e,n,r){var i=t.call(this)||this,o=new Pn(e),a=new Pn(n,!0),s=new Pn(r,!0,!0);return i.addAttribute("aVertexPosition",o,2,!1,it.FLOAT).addAttribute("aTextureCoord",a,2,!1,it.FLOAT).addIndex(s),i._updateId=-1,i}return pa(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Nn),xa=function(t,e){return(xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ta=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},wa=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var r in e){var i=e[r].match(/^[a-z]+/gm)[0],o=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var s in o){var l=o[s].split("="),u=l[0],c=l[1].replace(/"/gm,""),h=parseFloat(c),f=isNaN(h)?c:h;a[u]=f}n[i].push(a)}var d=new Ta;return n.info.forEach((function(t){return d.info.push({face:t.face,size:parseInt(t.size,10)})})),n.common.forEach((function(t){return d.common.push({lineHeight:parseInt(t.lineHeight,10)})})),n.page.forEach((function(t){return d.page.push({id:parseInt(t.id,10),file:t.file})})),n.char.forEach((function(t){return d.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),n.kerning.forEach((function(t){return d.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),d},t}(),Sa=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new Ta,n=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),s=0;s<n.length;s++)e.info.push({face:n[s].getAttribute("face"),size:parseInt(n[s].getAttribute("size"),10)});for(s=0;s<r.length;s++)e.common.push({lineHeight:parseInt(r[s].getAttribute("lineHeight"),10)});for(s=0;s<i.length;s++)e.page.push({id:parseInt(i[s].getAttribute("id"),10)||0,file:i[s].getAttribute("file")});for(s=0;s<o.length;s++){var l=o[s];e.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(s=0;s<a.length;s++)e.kerning.push({first:parseInt(a[s].getAttribute("first"),10),second:parseInt(a[s].getAttribute("second"),10),amount:parseInt(a[s].getAttribute("amount"),10)});return e},t}(),Ea=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return Sa.test(e)}return!1},t.parse=function(t){var e=(new window.DOMParser).parseFromString(t,"text/xml");return Sa.parse(e)},t}(),ka=[wa,Sa,Ea];function Ca(t){for(var e=0;e<ka.length;e++)if(ka[e].test(t))return ka[e];return null}function Aa(t,e,n,r,i,o,a){var s=n.text,l=n.fontProperties;e.translate(r,i),e.scale(o,o);var u=a.strokeThickness/2,c=-a.strokeThickness/2;if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=function(t,e,n,r,i,o){var a=n.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var s,l=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,c=Math.ceil(t.width/r)-l-2*u,h=Math.ceil(t.height/r)-l-2*u,f=a.slice(),d=n.fillGradientStops.slice();if(!d.length)for(var p=f.length+1,m=1;m<p;++m)d.push(m/p);if(f.unshift(a[0]),d.unshift(0),f.push(a[a.length-1]),d.push(1),n.fillGradientType===Ao.LINEAR_VERTICAL){s=e.createLinearGradient(c/2,u,c/2,h+u);var v=0,g=(o.fontProperties.fontSize+n.strokeThickness)/h;for(m=0;m<i.length;m++)for(var y=o.lineHeight*m,b=0;b<f.length;b++){var _=y/h+("number"==typeof d[b]?d[b]:b/f.length)*g,x=Math.max(v,_);x=Math.min(x,1),s.addColorStop(x,f[b]),v=x}}else{s=e.createLinearGradient(u,h/2,c+u,h/2);var T=f.length+1,w=1;for(m=0;m<f.length;m++){var S=void 0;S="number"==typeof d[m]?d[m]:w/T,s.addColorStop(S,f[m]),w++}}return s}(t,e,a,o,[s],n),e.strokeStyle=a.stroke,a.dropShadow){var h=a.dropShadowColor,f=Rt("number"==typeof h?h:Dt(h)),d=a.dropShadowBlur*o,p=a.dropShadowDistance*o;e.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+a.dropShadowAlpha+")",e.shadowBlur=d,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(s,u,c+n.lineHeight-l.descent),a.fill&&e.fillText(s,u,c+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var Oa=function(){function t(t,e,n){var r=t.info[0],i=t.common[0],o=se(t.page[0].file),a={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/o,this.chars={},this.pageTextures=a;for(var s=0;s<t.page.length;s++){var l=t.page[s],u=l.id,c=l.file;a[u]=e instanceof Array?e[s]:e[c]}for(s=0;s<t.char.length;s++){var h=t.char[s],f=(u=h.id,h.page),d=t.char[s],p=d.x,m=d.y,v=d.width,g=d.height,y=d.xoffset,b=d.yoffset,_=d.xadvance;m/=o,v/=o,g/=o,y/=o,b/=o,_/=o;var x=new de((p/=o)+a[f].frame.x/o,m+a[f].frame.y/o,v,g);this.chars[u]={xOffset:y,yOffset:b,xAdvance:_,kerning:{},texture:new Sn(a[f].baseTexture,x),page:f}}for(s=0;s<t.kerning.length;s++){var T=t.kerning[s],w=T.first,S=T.second,E=T.amount;w/=o,S/=o,E/=o,this.chars[S]&&(this.chars[S].kerning[w]=E)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,n,r){var i;if(e instanceof Ta)i=e;else{var o=Ca(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}n instanceof Sn&&(n=[n]);var a=new t(i,n,r);return t.available[a.font]=a,a},t.uninstall=function(e){var n=t.available[e];if(!n)throw new Error("No font found named '"+e+"'");n.destroy(),delete t.available[e]},t.from=function(e,n,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,r),o=i.chars,a=i.padding,s=i.resolution,l=i.textureWidth,u=i.textureHeight,c=function(t){"string"==typeof t&&(t=[t]);for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,l=a;s<=l;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,i.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),h=n instanceof Do?n:new Do(n),f=l,d=new Ta;d.info[0]={face:h.fontFamily,size:h.fontSize},d.common[0]={lineHeight:h.fontSize};for(var p,m,v,g=0,y=0,b=0,_=[],x=0;x<c.length;x++){p||((p=document.createElement("canvas")).width=l,p.height=u,m=p.getContext("2d"),v=new sn(p,{resolution:s}),_.push(new Sn(v)),d.page.push({id:_.length-1,file:""}));var T=Fo.measureText(c[x],h,!1,p),w=T.width,S=Math.ceil(T.height),E=Math.ceil(("italic"===h.fontStyle?2:1)*w);if(y>=u-S*s){if(0===y)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+h.fontSize+"px fonts");--x,p=null,m=null,v=null,y=0,g=0,b=0}else if(b=Math.max(S+T.fontProperties.descent,b),E*s+g>=f)--x,y+=b*s,y=Math.ceil(y),g=0,b=0;else{Aa(p,m,T,g,y,s,h);var k=T.text.charCodeAt(0);d.char.push({id:k,page:_.length-1,x:g/s,y:y/s,width:E,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(w-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),g+=(E+2*a)*s,g=Math.ceil(g)}}var C=new t(d,_,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=C,C},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),Pa=[],Ma=[],Ia=function(t){function e(n,r){void 0===r&&(r={});var i=t.call(this)||this;i._tint=16777215,r.font&&(Qt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(r));var o=Object.assign({},e.styleDefaults,r),a=o.align,s=o.tint,l=o.maxWidth,u=o.letterSpacing,c=o.fontName,h=o.fontSize;if(!Oa.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._fontName=c,i._fontSize=h||Oa.available[c].size,i._text=n,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=u,i._anchor=new be((function(){i.dirty=!0}),i,0,0),i._roundPixels=j.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return function(t,e){function n(){this.constructor=t}xa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.updateText=function(){for(var t,e=Oa.available[this._fontName],n=this._fontSize/e.size,r=new ye,i=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",s=a.length,l=this._maxWidth*e.size/this._fontSize,u=null,c=0,h=0,f=0,d=-1,p=0,m=0,v=0,g=0;g<s;g++){var y=a.charCodeAt(g),b=a.charAt(g);if(/(?:\s)/.test(b)&&(d=g,p=c),"\r"!==b&&"\n"!==b){var _=e.chars[y];if(_){u&&_.kerning[u]&&(r.x+=_.kerning[u]);var x=Ma.pop()||{texture:Sn.EMPTY,line:0,charCode:0,position:new ye};x.texture=_.texture,x.line=f,x.charCode=y,x.position.x=r.x+_.xOffset+this._letterSpacing/2,x.position.y=r.y+_.yOffset,i.push(x),r.x+=_.xAdvance+this._letterSpacing,c=r.x,v=Math.max(v,_.yOffset+_.texture.height),u=y,-1!==d&&l>0&&r.x>l&&(Wt(i,1+d-++m,1+g-d),g=d,d=-1,o.push(p),h=Math.max(h,p),f++,r.x=0,r.y+=e.lineHeight,u=null)}}else o.push(c),h=Math.max(h,c),++f,++m,r.x=0,r.y+=e.lineHeight,u=null}var T=a.charAt(a.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(c=p),o.push(c),h=Math.max(h,c));var w=[];for(g=0;g<=f;g++){var S=0;"right"===this._align?S=h-o[g]:"center"===this._align&&(S=(h-o[g])/2),w.push(S)}var E=i.length,k={},C=[],A=this._activePagesMeshData;for(g=0;g<A.length;g++)Pa.push(A[g]);for(g=0;g<E;g++){var O=(B=i[g].texture).baseTexture.uid;if(!k[O]){if(!(X=Pa.pop())){var P=new _a,M=new ba(Sn.EMPTY);X={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new ya(P,M),vertices:null,uvs:null,indices:null}}X.index=0,X.indexCount=0,X.vertexCount=0,X.uvsCount=0,X.total=0;var I=this._textureCache;I[O]=I[O]||new Sn(B.baseTexture),X.mesh.texture=I[O],X.mesh.tint=this._tint,C.push(X),k[O]=X}k[O].total++}for(g=0;g<A.length;g++)-1===C.indexOf(A[g])&&this.removeChild(A[g].mesh);for(g=0;g<C.length;g++)C[g].mesh.parent!==this&&this.addChild(C[g].mesh);for(var g in this._activePagesMeshData=C,k){var R=(X=k[g]).total;if(!((null===(t=X.indices)||void 0===t?void 0:t.length)>6*R)||X.vertices.length<2*ya.BATCHABLE_SIZE)X.vertices=new Float32Array(8*R),X.uvs=new Float32Array(8*R),X.indices=new Uint16Array(6*R);else for(var L=X.total,D=X.vertices,N=4*L*2;N<D.length;N++)D[N]=0;X.mesh.size=6*R}for(g=0;g<E;g++){var j=(b=i[g]).position.x+w[b.line];this._roundPixels&&(j=Math.round(j));var B,F=j*n,H=b.position.y*n,z=k[(B=b.texture).baseTexture.uid],U=B.frame,V=B._uvs,G=z.index++;z.indices[6*G+0]=0+4*G,z.indices[6*G+1]=1+4*G,z.indices[6*G+2]=2+4*G,z.indices[6*G+3]=0+4*G,z.indices[6*G+4]=2+4*G,z.indices[6*G+5]=3+4*G,z.vertices[8*G+0]=F,z.vertices[8*G+1]=H,z.vertices[8*G+2]=F+U.width*n,z.vertices[8*G+3]=H,z.vertices[8*G+4]=F+U.width*n,z.vertices[8*G+5]=H+U.height*n,z.vertices[8*G+6]=F,z.vertices[8*G+7]=H+U.height*n,z.uvs[8*G+0]=V.x0,z.uvs[8*G+1]=V.y0,z.uvs[8*G+2]=V.x1,z.uvs[8*G+3]=V.y1,z.uvs[8*G+4]=V.x2,z.uvs[8*G+5]=V.y2,z.uvs[8*G+6]=V.x3,z.uvs[8*G+7]=V.y3}for(var g in this._textWidth=h*n,this._textHeight=(r.y+e.lineHeight)*n,k){var X=k[g];if(0!==this.anchor.x||0!==this.anchor.y)for(var Y=0,W=this._textWidth*this.anchor.x,q=this._textHeight*this.anchor.y,K=0;K<X.total;K++)X.vertices[Y++]-=W,X.vertices[Y++]-=q,X.vertices[Y++]-=W,X.vertices[Y++]-=q,X.vertices[Y++]-=W,X.vertices[Y++]-=q,X.vertices[Y++]-=W,X.vertices[Y++]-=q;this._maxLineHeight=v*n;var $=X.mesh.geometry.getBuffer("aVertexPosition"),Z=X.mesh.geometry.getBuffer("aTextureCoord"),Q=X.mesh.geometry.getIndex();$.data=X.vertices,Z.data=X.uvs,Q.data=X.indices,$.update(),Z.update(),Q.update()}for(g=0;g<i.length;g++)Ma.push(i[g])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!Oa.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.prototype.destroy=function(e){var n=this._textureCache;for(var r in n){n[r].destroy(),delete n[r]}this._textureCache=null,t.prototype.destroy.call(this,e)},e.registerFont=function(t,e){return Qt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Oa.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return Qt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Oa.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Ne),Ra=function(){function t(){}return t.add=function(){ji.setExtensionXhrType("fnt",ji.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,n){var r=Ca(e.data);if(r)for(var i=t.getBaseUrl(this,e),o=r.parse(e.data),a={},s=function(t){a[t.metadata.pageFile]=t.texture,Object.keys(a).length===o.page.length&&(e.bitmapFont=Oa.install(o,a,!0),n())},l=0;l<o.page.length;++l){var u=o.page[l].file,c=i+u,h=!1;for(var f in this.resources){var d=this.resources[f];if(d.url===c){d.metadata.pageFile=u,d.texture?s(d):d.onAfterMiddleware.add(s),h=!0;break}}if(!h){var p={crossOrigin:e.crossOrigin,loadType:ji.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(c,p,s)}}else n()},t.getBaseUrl=function(e,n){var r=n.isDataUrl?"":t.dirname(n.url);return n.isDataUrl&&("."===r&&(r=""),e.baseUrl&&r&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(r+="/")),(r=r.replace(e.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}(),La=function(t,e){return(La=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Da=function(t){function e(e){void 0===e&&(e=1);var n=t.call(this,Jr,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return n.alpha=e,n}return function(t,e){function n(){this.constructor=t}La(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(kr),Na=function(t,e){return(Na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ja(t,e){function n(){this.constructor=t}Na(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ba,Fa,Ha,za,Ua,Va,Ga,Xa,Ya,Wa,qa,Ka,$a,Za,Qa,Ja,ts,es={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},ns=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Ba||(Ba={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Fa||(Fa={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Ha||(Ha={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(za||(za={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Ua||(Ua={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Va||(Va={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Ga||(Ga={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Xa||(Xa={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Ya||(Ya={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Wa||(Wa={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(qa||(qa={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Ka||(Ka={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}($a||($a={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Za||(Za={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Qa||(Qa={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Ja||(Ja={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(ts||(ts={}));var rs=function(t){function e(e,n,r,i,o){void 0===n&&(n=8),void 0===r&&(r=4),void 0===i&&(i=j.FILTER_RESOLUTION),void 0===o&&(o=5);var a=this,s=function(t,e){var n,r=Math.ceil(t/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";n=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=n.replace("%index%",a.toString());o+=s=s.replace("%sampleIndex%",a-(r-1)+".0"),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),l=function(t){for(var e,n=es[t],r=n.length,i=ns,o="",a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());e=a,a>=r&&(e=t-a-1),o+=s=s.replace("%value%",n[e].toString()),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(a=t.call(this,s,l)||this).horizontal=e,a.resolution=i,a._quality=0,a.quality=r,a.blur=n,a}return ja(e,t),e.prototype.apply=function(t,e,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/e.width):this.uniforms.strength=1/n.height*(n.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{var i=t.getFilterTexture(),o=t.renderer,a=e,s=i;this.state.blend=!1,t.applyFilter(this,a,s,$a.CLEAR);for(var l=1;l<this.passes-1;l++){t.bindAndClear(a,$a.BLIT),this.uniforms.uSampler=s;var u=s;s=a,a=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,s,n,r),t.returnFilterTexture(i)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(kr),is=function(t){function e(e,n,r,i){void 0===e&&(e=8),void 0===n&&(n=4),void 0===r&&(r=j.FILTER_RESOLUTION),void 0===i&&(i=5);var o=t.call(this)||this;return o.blurXFilter=new rs(!0,e,n,r,i),o.blurYFilter=new rs(!1,e,n,r,i),o.resolution=r,o.quality=n,o.blur=e,o.repeatEdgePixels=!1,o}return ja(e,t),e.prototype.apply=function(t,e,n,r){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var a=t.getFilterTexture();this.blurXFilter.apply(t,e,a,$a.CLEAR),this.blurYFilter.apply(t,a,n,r),t.returnFilterTexture(a)}else o?this.blurYFilter.apply(t,e,n,r):this.blurXFilter.apply(t,e,n,r)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(kr),os=function(t,e){return(os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var as=function(t){function e(){var e=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,ti,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",n)||this).alpha=1,e}return function(t,e){function n(){this.constructor=t}os(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var n=t;e&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var n=2*t/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,l=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,c=(255&r)/255,h=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,l,u,c,e=e||.15,0,o-l,a-u,s-c,0,0];this._loadMatrix(h,i)},e.prototype.night=function(t,e){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(kr);as.prototype.grayscale=as.prototype.greyscale;var ss=function(t,e){return(ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ls=function(t){function e(e,n){var r=this,i=new _e;return e.renderable=!1,(r=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=i,null==n&&(n=20),r.scale=new ye(n,n),r}return function(t,e){function n(){this.constructor=t}ss(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.apply=function(t,e,n,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(kr),us=function(t,e){return(us=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var cs=function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(t,e){function n(){this.constructor=t}us(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(kr),hs=function(t,e){return(hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var fs=function(t){function e(e,n){void 0===e&&(e=.5),void 0===n&&(n=Math.random());var r=t.call(this,ti,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=n,r}return function(t,e){function n(){this.constructor=t}hs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(kr),ds=new _e;Re.prototype._cacheAsBitmap=!1,Re.prototype._cacheData=null;var ps=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Re.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new ps),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Re.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Re.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var n=this.getLocalBounds(null,!0).clone();if(this.filters){var r=this.filters[0].padding;n.pad(r)}n.ceil(j.RESOLUTION);var i=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),a=t.renderTexture.destinationFrame.clone(),s=t.projection.transform,l=kn.create({width:n.width,height:n.height}),u="cacheAsBitmap_"+$t();this._cacheData.textureCacheId=u,sn.addToCache(l.baseTexture,u),Sn.addToCache(l,u);var c=this.transform.localTransform.copyTo(ds).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,t.render(this,l,!0,c,!1),t.projection.transform=s,t.renderTexture.bind(i,o,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new Mo(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-n.x/n.width,h.anchor.y=-n.y/n.height,h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)}},Re.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Re.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var r=t.context,i=t._projTransform;e.ceil(j.RESOLUTION);var o=kn.create({width:e.width,height:e.height}),a="cacheAsBitmap_"+$t();this._cacheData.textureCacheId=a,sn.addToCache(o.baseTexture,a),Sn.addToCache(o,a);var s=ds;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,s,!1),t.context=r,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new Mo(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-e.x/e.width,l.anchor.y=-e.y/e.height,l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},Re.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Re.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Re.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,sn.removeFromCache(this._cacheData.textureCacheId),Sn.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Re.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Re.prototype.name=null,Ne.prototype.getChildByName=function(t,e){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===t)return this.children[n];if(e)for(n=0,r=this.children.length;n<r;n++){if(this.children[n].getChildByName){var i=this.children[n].getChildByName(t,!0);if(i)return i}}return null},Re.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new ye),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var ms=function(t,e){return(ms=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function vs(t,e){function n(){this.constructor=t}ms(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var gs=function(t){function e(e,n,r,i){void 0===e&&(e=100),void 0===n&&(n=100),void 0===r&&(r=10),void 0===i&&(i=10);var o=t.call(this)||this;return o.segWidth=r,o.segHeight=i,o.width=e,o.height=n,o.build(),o}return vs(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],n=[],r=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,l=0;l<t;l++){var u=l%this.segWidth,c=l/this.segWidth|0;e.push(u*a,c*s),n.push(u/i,c/o)}var h=i*o;for(l=0;l<h;l++){var f=l%i,d=l/i|0,p=d*this.segWidth+f,m=d*this.segWidth+f+1,v=(d+1)*this.segWidth+f,g=(d+1)*this.segWidth+f+1;r.push(p,m,v,m,g,v)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(_a),ys=function(t){function e(e,n,r){void 0===e&&(e=200),void 0===r&&(r=0);var i=t.call(this,new Float32Array(4*n.length),new Float32Array(4*n.length),new Uint16Array(6*(n.length-1)))||this;return i.points=n,i._width=e,i.textureScale=r,i.build(),i}return vs(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),n.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var i=n.data,o=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var a=0,s=t[0],l=this._width*this.textureScale,u=t.length,c=0;c<u;c++){var h=4*c;if(this.textureScale>0){var f=s.x-t[c].x,d=s.y-t[c].y,p=Math.sqrt(f*f+d*d);s=t[c],a+=p/l}else a=c/(u-1);i[h]=a,i[h+1]=0,i[h+2]=a,i[h+3]=1}var m=0;for(c=0;c<u-1;c++){h=2*c;o[m++]=h,o[m++]=h+1,o[m++]=h+2,o[m++]=h+2,o[m++]=h+1,o[m++]=h+3}n.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,n=t[0],r=0,i=0,o=this.buffers[0].data,a=t.length,s=0;s<a;s++){var l=t[s],u=4*s;i=-((e=s<t.length-1?t[s+1]:l).x-n.x),r=e.y-n.y;var c=Math.sqrt(r*r+i*i),h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=c,i/=c,r*=h,i*=h,o[u]=l.x+r,o[u+1]=l.y+i,o[u+2]=l.x-r,o[u+3]=l.y-i,n=l}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(_a),bs=function(t){function e(e,n,r){void 0===r&&(r=0);var i=this,o=new ys(e.height,n,r),a=new ba(e);return r>0&&(e.baseTexture.wrapMode=at.REPEAT),(i=t.call(this,o,a)||this).autoUpdate=!0,i}return vs(e,t),e.prototype._render=function(e){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,e)},e}(ya),_s=function(t){function e(e,n,r){var i=this,o=new gs(e.width,e.height,n,r),a=new ba(Sn.WHITE);return(i=t.call(this,o,a)||this).texture=e,i}return vs(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(ya),xs=function(t){function e(e,n,r,i,o){void 0===e&&(e=Sn.EMPTY);var a=this,s=new _a(n,r,i);s.getBuffer("aVertexPosition").static=!1;var l=new ba(e);return(a=t.call(this,s,l,null,o)||this).autoUpdate=!0,a}return vs(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(ya),Ts=function(t){function e(e,n,r,i,o){void 0===n&&(n=10),void 0===r&&(r=10),void 0===i&&(i=10),void 0===o&&(o=10);var a=t.call(this,Sn.WHITE,4,4)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=n,a._rightWidth=i,a._topHeight=r,a._bottomHeight=o,a.texture=e,a}return vs(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,n=this._topHeight+this._bottomHeight,r=this._height>n?1:this._height/n;return Math.min(e,r)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var n=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(_s),ws=function(t,e){return(ws=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ss=function(t){function e(e,n){void 0===n&&(n=!0);var r=t.call(this,e[0]instanceof Sn?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=n,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return function(t,e){function n(){this.constructor=t}ws(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ue.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ue.shared.add(this.update,this,Be.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var n=[],r=0;r<t.length;++r)n.push(Sn.from(t[r]));return new e(n)},e.fromImages=function(t){for(var n=[],r=0;r<t.length;++r)n.push(Sn.from(t[r]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof Sn)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Ue.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ue.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Mo),Es=function(t,e){return(Es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ks(t,e){function n(){this.constructor=t}Es(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Cs="5.0.0";Zr.registerPlugin("accessibility",He),Zr.registerPlugin("extract",pi),Zr.registerPlugin("interaction",Ze),Zr.registerPlugin("particle",qi),Zr.registerPlugin("prepare",na),Zr.registerPlugin("batch",ci),Zr.registerPlugin("tilingSprite",fa),Hi.registerPlugin(Ra),Hi.registerPlugin(oa),hi.registerPlugin(Ve),hi.registerPlugin(zi);var As={AlphaFilter:Da,BlurFilter:is,BlurFilterPass:rs,ColorMatrixFilter:as,DisplacementFilter:ls,FXAAFilter:cs,NoiseFilter:fs};const Os=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return lt},AbstractBatchRenderer:ii,AbstractRenderer:$r,AccessibilityManager:He,AnimatedSprite:Ss,AppLoaderPlugin:zi,Application:hi,Attribute:An,get BLEND_MODES(){return tt},get BUFFER_BITS(){return J},BasePrepare:Qo,BaseRenderTexture:xn,BaseTexture:sn,BatchDrawCall:ei,BatchGeometry:ai,BatchPluginFactory:ui,BatchRenderer:ci,BatchShaderGenerator:oi,BatchTextureArray:ni,BitmapFont:Oa,BitmapFontData:Ta,BitmapFontLoader:Ra,BitmapText:Ia,Bounds:Pe,Buffer:Pn,get CLEAR_MODES(){return ut},Circle:pe,Container:Ne,CountLimiter:Go,DEG_TO_RAD:fe,get DRAW_MODES(){return et},DisplayObject:Re,get ENV(){return Z},Ellipse:me,Extract:pi,get FORMATS(){return nt},FillStyle:$i,Filter:kr,FilterState:zn,Framebuffer:_n,get GC_MODES(){return ct},GLFramebuffer:Wn,GLProgram:Hr,GLTexture:Yr,GRAPHICS_CURVES:Ki,Geometry:Nn,Graphics:ko,GraphicsData:bo,GraphicsGeometry:To,IGLUniformData:Fr,InteractionData:Ge,InteractionEvent:Ye,InteractionManager:Ze,InteractionTrackingData:We,get LINE_CAP(){return Xi},get LINE_JOIN(){return Gi},LineStyle:wo,Loader:Hi,LoaderResource:ji,get MASK_TYPES(){return ft},get MIPMAP_MODES(){return st},get MSAA_QUALITY(){return dt},MaskData:Jn,Matrix:_e,Mesh:ya,MeshBatchUvs:ma,MeshGeometry:_a,MeshMaterial:ba,NineSlicePlane:Ts,ObjectRenderer:Vn,ObservablePoint:be,PI_2:ce,get PRECISION(){return ht},ParticleContainer:Yi,ParticleRenderer:qi,PlaneGeometry:gs,Point:ye,Polygon:ve,Prepare:na,Program:wr,Quad:jn,QuadUv:Bn,RAD_TO_DEG:he,get RENDERER_TYPE(){return Q},Rectangle:de,RenderTexture:kn,RenderTexturePool:Cn,Renderer:Zr,RopeGeometry:ys,RoundedRectangle:ge,Runner:Qe,get SCALE_MODES(){return ot},get SHAPES(){return ue},Shader:Sr,SimpleMesh:xs,SimplePlane:_s,SimpleRope:bs,Sprite:Mo,SpriteMaskFilter:Or,Spritesheet:ia,SpritesheetLoader:oa,State:Er,System:yn,get TARGETS(){return rt},get TEXT_GRADIENT(){return Ao},get TYPES(){return it},TemporaryDisplayObject:Le,Text:Uo,TextMetrics:Fo,TextStyle:Do,Texture:Sn,TextureLoader:Fi,TextureMatrix:Ar,TextureUvs:Tn,Ticker:Ue,TickerPlugin:Ve,TilingSprite:ua,TilingSpriteRenderer:fa,TimeLimiter:ra,Transform:Oe,get UPDATE_PRIORITY(){return Be},UniformGroup:Hn,VERSION:"5.3.12",ViewableBuffer:ri,get WRAP_MODES(){return at},accessibleTarget:je,autoDetectRenderer:Qr,checkMaxIfStatementsInShader:_r,defaultFilterVertex:ti,defaultVertex:Jr,filters:As,graphicsUtils:yo,groupD8:Ae,interactiveTarget:Ke,isMobile:N,resources:gn,settings:j,systems:qr,uniformParsers:pr,useDeprecated:function(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return Qt(Cs,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return Qt(Cs,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return Qt(Cs,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return Qt(Cs,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return Qt(Cs,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return Qt(Cs,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return Qt(Cs,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return Qt(Cs,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}},CanvasTinter:{get:function(){return Qt("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),t.canvasUtils}},GroupD8:{get:function(){return Qt("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),t.groupD8}}}),t.accessibility={},Object.defineProperties(t.accessibility,{AccessibilityManager:{get:function(){return Qt("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),t.AccessibilityManager}}}),t.interaction={},Object.defineProperties(t.interaction,{InteractionManager:{get:function(){return Qt("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),t.InteractionManager}},InteractionData:{get:function(){return Qt("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),t.InteractionData}},InteractionEvent:{get:function(){return Qt("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),t.InteractionEvent}}}),t.prepare={},Object.defineProperties(t.prepare,{BasePrepare:{get:function(){return Qt("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),t.BasePrepare}},Prepare:{get:function(){return Qt("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),t.Prepare}},CanvasPrepare:{get:function(){return Qt("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),t.CanvasPrepare}}}),t.extract={},Object.defineProperties(t.extract,{Extract:{get:function(){return Qt("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),t.Extract}},CanvasExtract:{get:function(){return Qt("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),t.CanvasExtract}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return Qt(Cs,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return Qt(Cs,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return Qt(Cs,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return Qt(Cs,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),t.TilingSprite.fromFrame=function(e,n,r){return Qt("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),t.TilingSprite.from(e,{width:n,height:r})},t.TilingSprite.fromImage=function(e,n,r,i){return void 0===i&&(i={}),Qt("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),i&&"object"!=typeof i&&(i={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),i.width=n,i.height=r,t.TilingSprite.from(e,i)},Object.defineProperties(t.utils,{getSvgSize:{get:function(){return Qt(Cs,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.resources.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return Qt(Cs,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return Qt(Cs,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return Qt(Cs,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return Qt(Cs,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return Qt(Cs,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return Qt(Cs,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return Qt(Cs,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return Qt(Cs,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return Qt(Cs,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return Qt(Cs,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return Qt(Cs,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return Qt(Cs,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return Qt(Cs,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return Qt(Cs,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){Qt(Cs,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return Qt(Cs,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return Qt(Cs,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return Qt(Cs,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})};var e=function(t){return"on"+t.charAt(0).toUpperCase()+t.slice(1)};Object.assign(t.Loader.prototype,{on:function(t){var n=e(t);Qt(Cs,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+n+".add")},once:function(t){var n=e(t);Qt(Cs,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+n+".once")},off:function(t){var n=e(t);Qt(Cs,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+n+".detach")}}),Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return Qt(Cs,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),t.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return Qt(Cs,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),t.Prepare}}),t.Container.prototype._renderWebGL=function(t){Qt(Cs,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){Qt(Cs,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){Qt(Cs,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){Qt(Cs,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return Qt(Cs,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){Qt(Cs,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var n=t.BaseTexture;n.prototype.loadSource=function(e){Qt(Cs,"PIXI.BaseTexture.loadSource method has been deprecated");var n=t.resources.autoDetectResource(e);n.internal=!0,this.setResource(n),this.update()};var r=!1;Object.defineProperties(n.prototype,{hasLoaded:{get:function(){return Qt(Cs,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var t;return Qt(Cs,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(t=this.resource)||void 0===t?void 0:t.url},set:function(t){Qt(Cs,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return Qt(Cs,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(t){Qt(Cs,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return Qt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){Qt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return r||(Qt("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),r=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),n.fromImage=function(t,e,r,i){Qt(Cs,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:e};return n.from(t,{scaleMode:r,resourceOptions:o})},n.fromCanvas=function(t,e){return Qt(Cs,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),n.from(t,{scaleMode:e})},n.fromSVG=function(t,e,r,i){Qt(Cs,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:e};return n.from(t,{scaleMode:r,resourceOptions:o})},Object.defineProperties(t.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return Qt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){Qt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),t.Point.prototype.copy=function(t){return Qt(Cs,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return Qt(Cs,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return Qt(Cs,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return Qt(Cs,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function(t){return Qt("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return Qt(Cs,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,e)},returnRenderTarget:function(t){Qt(Cs,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){Qt(Cs,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),n=this.activeState,r=n.sourceFrame,i=n.destinationFrame;return e.translate(r.x/i.width,r.y/i.height),e.scale(i.width,i.height),e},calculateNormalizedScreenSpaceMatrix:function(t){Qt(Cs,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,n=e.sourceFrame,r=e.destinationFrame,i=t.identity();i.translate(n.x/r.width,n.y/r.height);var o=r.width/n.width,a=r.height/n.height;return i.scale(o,a),i}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return Qt(Cs,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return Qt(Cs,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(t){function e(e,n,r,i){return Qt(Cs,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,n,r,i)||this}return ks(e,t),e}(t.filters.BlurFilterPass),o=function(t){function e(e,n,r,i){return Qt(Cs,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,n,r,i)||this}return ks(e,t),e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:i,BlurYFilter:o});var a=t.Sprite,s=t.Texture,l=t.Graphics;function u(t,e,n,r){return Qt(Cs,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),a.from(e,{resourceOptions:{scale:r,crossorigin:n}})}function c(t,e,n,r){return Qt(Cs,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),s.from(e,{resourceOptions:{scale:r,crossorigin:n}})}l.prototype.generateCanvasTexture||(l.prototype.generateCanvasTexture=function(){Qt(Cs,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(l.prototype,"graphicsData",{get:function(){return Qt(Cs,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),a.fromImage=u.bind(null,"fromImage"),a.fromSVG=u.bind(null,"fromSVG"),a.fromCanvas=u.bind(null,"fromCanvas"),a.fromVideo=u.bind(null,"fromVideo"),a.fromFrame=u.bind(null,"fromFrame"),s.fromImage=c.bind(null,"fromImage"),s.fromSVG=c.bind(null,"fromSVG"),s.fromCanvas=c.bind(null,"fromCanvas"),s.fromVideo=c.bind(null,"fromVideo"),s.fromFrame=c.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return Qt(Cs,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){Qt(Cs,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return Qt(Cs,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){Qt(Cs,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){Qt(Cs,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){Qt(Cs,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(t.BitmapText.prototype,"font",{get:function(){return Qt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(e){if(Qt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),e){var n={font:e};this._upgradeStyle(n),n.fontSize=n.fontSize||t.BitmapFont.available[n.fontName].size,this._fontName=n.fontName,this._fontSize=n.fontSize,this.dirty=!0}}})},utils:le},Symbol.toStringTag,{value:"Module"})),Ps=(0,o.aV)(Os);!function(t){var e,n,o;window,t.exports=(e=r,n=i,o=Ps,function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=317)}([function(t,e,n){n.r(e);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t};function a(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r&&e.documentElement.namespaceURI===r?e.createElement(t):e.createElementNS(n,t)}}function s(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var l=function(t){var e=o(t);return(e.local?s:a)(e)};function u(){}var c=function(t){return null==t?u:function(){return this.querySelector(t)}},h=function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,u=r[i]=new Array(l),h=0;h<l;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),u[h]=a);return new Gt(r,this._parents)};function f(){return[]}var d=function(t){return null==t?f:function(){return this.querySelectorAll(t)}},p=function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(r.push(t.call(a,a.__data__,u,s)),i.push(a));return new Gt(r,i)},m=function(t){return function(){return this.matches(t)}},v=function(t){"function"!=typeof t&&(t=m(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new Gt(r,this._parents)},g=function(t){return new Array(t.length)},y=function(){return new Gt(this._enter||this._groups.map(g),this._parents)};function b(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}b.prototype={constructor:b,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var _=function(t){return function(){return t}},x="$";function T(t,e,n,r,i,o){for(var a,s=0,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new b(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function w(t,e,n,r,i,o,a){var s,l,u,c={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=u=x+a.call(l,l.__data__,s,e),u in c?i[s]=l:c[u]=l);for(s=0;s<f;++s)(l=c[u=x+a.call(t,o[s],s,o)])?(r[s]=l,l.__data__=o[s],c[u]=null):n[s]=new b(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&c[d[s]]===l&&(i[s]=l)}var S=function(t,e){if(!t)return d=new Array(this.size()),u=-1,this.each((function(t){d[++u]=t})),d;var n=e?w:T,r=this._parents,i=this._groups;"function"!=typeof t&&(t=_(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,d=t.call(c,c&&c.__data__,u,r),p=d.length,m=s[u]=new Array(p),v=a[u]=new Array(p);n(c,h,m,v,l[u]=new Array(f),d,e);for(var g,y,b=0,x=0;b<p;++b)if(g=m[b]){for(b>=x&&(x=b+1);!(y=v[x])&&++x<p;);g._next=y||null}}return(a=new Gt(a,r))._enter=s,a._exit=l,a},E=function(){return new Gt(this._exit||this._groups.map(g),this._parents)},k=function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},C=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=e[s],c=n[s],h=u.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(f[d]=l);for(;s<r;++s)a[s]=e[s];return new Gt(a,this._parents)},A=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},O=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=P);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,u=i[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(e)}return new Gt(i,this._parents).order()};function P(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var M=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},I=function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},R=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},L=function(){var t=0;return this.each((function(){++t})),t},D=function(){return!this.node()},N=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this};function j(t){return function(){this.removeAttribute(t)}}function B(t){return function(){this.removeAttributeNS(t.space,t.local)}}function F(t,e){return function(){this.setAttribute(t,e)}}function H(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function z(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function U(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var V=function(t,e){var n=o(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?B:j:"function"==typeof e?n.local?U:z:n.local?H:F)(n,e))},G=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function X(t){return function(){this.style.removeProperty(t)}}function Y(t,e,n){return function(){this.style.setProperty(t,e,n)}}function W(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}var q=function(t,e,n){return arguments.length>1?this.each((null==e?X:"function"==typeof e?W:Y)(t,e,n??"")):K(this.node(),t)};function K(t,e){return t.style.getPropertyValue(e)||G(t).getComputedStyle(t,null).getPropertyValue(e)}function $(t){return function(){delete this[t]}}function Z(t,e){return function(){this[t]=e}}function Q(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}var J=function(t,e){return arguments.length>1?this.each((null==e?$:"function"==typeof e?Q:Z)(t,e)):this.node()[t]};function tt(t){return t.trim().split(/^|\s+/)}function et(t){return t.classList||new nt(t)}function nt(t){this._node=t,this._names=tt(t.getAttribute("class")||"")}function rt(t,e){for(var n=et(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function it(t,e){for(var n=et(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ot(t){return function(){rt(this,t)}}function at(t){return function(){it(this,t)}}function st(t,e){return function(){(e.apply(this,arguments)?rt:it)(this,t)}}nt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var lt=function(t,e){var n=tt(t+"");if(arguments.length<2){for(var r=et(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?st:e?ot:at)(n,e))};function ut(){this.textContent=""}function ct(t){return function(){this.textContent=t}}function ht(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}var ft=function(t){return arguments.length?this.each(null==t?ut:("function"==typeof t?ht:ct)(t)):this.node().textContent};function dt(){this.innerHTML=""}function pt(t){return function(){this.innerHTML=t}}function mt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}var vt=function(t){return arguments.length?this.each(null==t?dt:("function"==typeof t?mt:pt)(t)):this.node().innerHTML};function gt(){this.nextSibling&&this.parentNode.appendChild(this)}var yt=function(){return this.each(gt)};function bt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var _t=function(){return this.each(bt)},xt=function(t){var e="function"==typeof t?t:l(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))};function Tt(){return null}var wt=function(t,e){var n="function"==typeof t?t:l(t),r=null==e?Tt:"function"==typeof e?e:c(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))};function St(){var t=this.parentNode;t&&t.removeChild(this)}var Et=function(){return this.each(St)};function kt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Ct(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var At=function(t){return this.select(t?Ct:kt)},Ot=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Pt={},Mt=null;function It(t,e,n){return t=Rt(t,e,n),function(e){var n=e.relatedTarget;(!n||n!==this&&!(8&n.compareDocumentPosition(this)))&&t.call(this,e)}}function Rt(t,e,n){return function(r){var i=Mt;Mt=r;try{t.call(this,this.__data__,e,n)}finally{Mt=i}}}function Lt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Dt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Nt(t,e,n){var r=Pt.hasOwnProperty(t.type)?It:Rt;return function(i,o,a){var s,l=this.__on,u=r(e,o,a);if(l)for(var c=0,h=l.length;c<h;++c)if((s=l[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(s):this.__on=[s]}}typeof document<"u"&&("onmouseenter"in document.documentElement||(Pt={mouseenter:"mouseover",mouseleave:"mouseout"}));var jt=function(t,e,n){var r,i,o=Lt(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Nt:Dt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value};function Bt(t,e,n,r){var i=Mt;t.sourceEvent=Mt,Mt=t;try{return e.apply(n,r)}finally{Mt=i}}function Ft(t,e,n){var r=G(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ht(t,e){return function(){return Ft(this,t,e)}}function zt(t,e){return function(){return Ft(this,t,e.apply(this,arguments))}}var Ut=function(t,e){return this.each(("function"==typeof e?zt:Ht)(t,e))},Vt=[null];function Gt(t,e){this._groups=t,this._parents=e}function Xt(){return new Gt([[document.documentElement]],Vt)}Gt.prototype=Xt.prototype={constructor:Gt,select:h,selectAll:p,filter:v,data:S,enter:y,exit:E,join:k,merge:C,order:A,sort:O,call:M,nodes:I,node:R,size:L,empty:D,each:N,attr:V,style:q,property:J,classed:lt,text:ft,html:vt,raise:yt,lower:_t,append:xt,insert:wt,remove:Et,clone:At,datum:Ot,on:jt,dispatch:Ut};var Yt=Xt,Wt=function(t){return"string"==typeof t?new Gt([[document.querySelector(t)]],[document.documentElement]):new Gt([[t]],Vt)},qt=function(t){return Wt(l(t).call(document.documentElement))},Kt=0;function $t(){return new Zt}function Zt(){this._="@"+(++Kt).toString(36)}Zt.prototype=$t.prototype={constructor:Zt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Qt=function(){for(var t,e=Mt;t=e.sourceEvent;)e=t;return e},Jt=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},te=function(t){var e=Qt();return e.changedTouches&&(e=e.changedTouches[0]),Jt(t,e)},ee=function(t){return"string"==typeof t?new Gt([document.querySelectorAll(t)],[document.documentElement]):new Gt([t??[]],Vt)},ne=function(t,e,n){arguments.length<3&&(n=e,e=Qt().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Jt(t,r);return null},re=function(t,e){null==e&&(e=Qt().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Jt(t,e[n]);return i};n.d(e,"create",(function(){return qt})),n.d(e,"creator",(function(){return l})),n.d(e,"local",(function(){return $t})),n.d(e,"matcher",(function(){return m})),n.d(e,"mouse",(function(){return te})),n.d(e,"namespace",(function(){return o})),n.d(e,"namespaces",(function(){return i})),n.d(e,"clientPoint",(function(){return Jt})),n.d(e,"select",(function(){return Wt})),n.d(e,"selectAll",(function(){return ee})),n.d(e,"selection",(function(){return Yt})),n.d(e,"selector",(function(){return c})),n.d(e,"selectorAll",(function(){return d})),n.d(e,"style",(function(){return K})),n.d(e,"touch",(function(){return ne})),n.d(e,"touches",(function(){return re})),n.d(e,"window",(function(){return G})),n.d(e,"event",(function(){return Mt})),n.d(e,"customEvent",(function(){return Bt}))},function(t,n){t.exports=e},function(t,e,n){t.exports=n(568)()},function(t,e,n){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){e.__esModule=!0;var r=i(n(131));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(558),__esModule:!0}},function(t,e,n){e.__esModule=!0;var r=i(n(94));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(typeof e>"u"?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){e.__esModule=!0;var r=a(n(331)),i=a(n(565)),o=a(n(94));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(typeof e>"u"?"undefined":(0,o.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,n){n.r(e);var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){return 1===t.length&&(t=o(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};function o(t){return function(e,n){return r(t(e),n)}}var a=i(r),s=a.right,l=a.left,u=s,c=function(t,e){null==e&&(e=h);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o};function h(t,e){return[t,e]}var f=function(t,e,n){var r,i,o,a,s=t.length,l=e.length,u=new Array(s*l);for(null==n&&(n=h),r=o=0;r<s;++r)for(a=t[r],i=0;i<l;++i,++o)u[o]=n(a,e[i]);return u},d=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},p=function(t){return null===t?NaN:+t},m=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,l=0;if(null==e)for(;++a<i;)isNaN(n=p(t[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=p(e(t[a],a,t)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return l/(o-1)},v=function(t,e){var n=m(t,e);return n&&Math.sqrt(n)},g=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},y=Array.prototype,b=y.slice,_=y.map,x=function(t){return function(){return t}},T=function(t){return t},w=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},S=Math.sqrt(50),E=Math.sqrt(10),k=Math.sqrt(2),C=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=A(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function A(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=S?10:o>=E?5:o>=k?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=S?10:o>=E?5:o>=k?2:1)}function O(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=S?i*=10:o>=E?i*=5:o>=k&&(i*=2),e<t?-i:i}var P=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},M=function(){var t=T,e=g,n=P;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var l=e(s),c=l[0],h=l[1],f=n(s,c,h);Array.isArray(f)||(f=O(c,h,f),f=w(Math.ceil(c/f)*f,h,f));for(var d=f.length;f[0]<=c;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var p,m=new Array(d+1);for(i=0;i<=d;++i)(p=m[i]=[]).x0=i>0?f[i-1]:c,p.x1=i<d?f[i]:h;for(i=0;i<a;++i)c<=(o=s[i])&&o<=h&&m[u(f,o,0,d)].push(r[i]);return m}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:x(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:x([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?x(b.call(t)):x(t),r):n},r},I=function(t,e,n){if(null==n&&(n=p),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},R=function(t,e,n){return t=_.call(t,p).sort(r),Math.ceil((n-e)/(2*(I(t,.75)-I(t,.25))*Math.pow(t.length,-1/3)))},L=function(t,e,n){return Math.ceil((n-e)/(3.5*v(t)*Math.pow(t.length,-1/3)))},D=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},N=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=p(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},j=function(t,e){var n,i=t.length,o=-1,a=[];if(null==e)for(;++o<i;)isNaN(n=p(t[o]))||a.push(n);else for(;++o<i;)isNaN(n=p(e(t[o],o,t)))||a.push(n);return I(a.sort(r),.5)},B=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n},F=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},H=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},z=function(t,e){if(n=t.length){var n,i,o=0,a=0,s=t[a];for(null==e&&(e=r);++o<n;)(e(i=t[o],s)<0||0!==e(s,s))&&(s=i,a=o);if(0===e(s,s))return a}},U=function(t,e,n){for(var r,i,o=(n??t.length)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},V=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},G=function(t){if(!(i=t.length))return[];for(var e=-1,n=F(t,X),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r};function X(t){return t.length}var Y=function(){return G(arguments)};n.d(e,"bisect",(function(){return u})),n.d(e,"bisectRight",(function(){return s})),n.d(e,"bisectLeft",(function(){return l})),n.d(e,"ascending",(function(){return r})),n.d(e,"bisector",(function(){return i})),n.d(e,"cross",(function(){return f})),n.d(e,"descending",(function(){return d})),n.d(e,"deviation",(function(){return v})),n.d(e,"extent",(function(){return g})),n.d(e,"histogram",(function(){return M})),n.d(e,"thresholdFreedmanDiaconis",(function(){return R})),n.d(e,"thresholdScott",(function(){return L})),n.d(e,"thresholdSturges",(function(){return P})),n.d(e,"max",(function(){return D})),n.d(e,"mean",(function(){return N})),n.d(e,"median",(function(){return j})),n.d(e,"merge",(function(){return B})),n.d(e,"min",(function(){return F})),n.d(e,"pairs",(function(){return c})),n.d(e,"permute",(function(){return H})),n.d(e,"quantile",(function(){return I})),n.d(e,"range",(function(){return w})),n.d(e,"scan",(function(){return z})),n.d(e,"shuffle",(function(){return U})),n.d(e,"sum",(function(){return V})),n.d(e,"ticks",(function(){return C})),n.d(e,"tickIncrement",(function(){return A})),n.d(e,"tickStep",(function(){return O})),n.d(e,"transpose",(function(){return G})),n.d(e,"variance",(function(){return m})),n.d(e,"zip",(function(){return Y}))},function(t,e,n){n.r(e);var r=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function o(){}var a=.7,s=1/a,l="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3})$/,f=/^#([0-9a-f]{6})$/,d=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),p=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),m=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),v=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),g=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),y=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _(t){var e;return t=(t+"").trim().toLowerCase(),(e=h.exec(t))?new E((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=f.exec(t))?x(parseInt(e[1],16)):(e=d.exec(t))?new E(e[1],e[2],e[3],1):(e=p.exec(t))?new E(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=m.exec(t))?T(e[1],e[2],e[3],e[4]):(e=v.exec(t))?T(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=g.exec(t))?C(e[1],e[2]/100,e[3]/100,1):(e=y.exec(t))?C(e[1],e[2]/100,e[3]/100,e[4]):b.hasOwnProperty(t)?x(b[t]):"transparent"===t?new E(NaN,NaN,NaN,0):null}function x(t){return new E(t>>16&255,t>>8&255,255&t,1)}function T(t,e,n,r){return r<=0&&(t=e=n=NaN),new E(t,e,n,r)}function w(t){return t instanceof o||(t=_(t)),t?new E((t=t.rgb()).r,t.g,t.b,t.opacity):new E}function S(t,e,n,r){return 1===arguments.length?w(t):new E(t,e,n,r??1)}function E(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function k(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function C(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new P(t,e,n,r)}function A(t){if(t instanceof P)return new P(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=_(t)),!t)return new P;if(t instanceof P)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(s=e===a?(n-r)/l+6*(n<r):n===a?(r-e)/l+2:(e-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new P(s,l,u,t.opacity)}function O(t,e,n,r){return 1===arguments.length?A(t):new P(t,e,n,r??1)}function P(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function M(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}r(o,_,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(E,S,i(o,{brighter:function(t){return t=null==t?s:Math.pow(s,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?a:Math.pow(a,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+k(this.r)+k(this.g)+k(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),r(P,O,i(o,{brighter:function(t){return t=null==t?s:Math.pow(s,t),new P(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?a:Math.pow(a,t),new P(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new E(M(t>=240?t-240:t+120,i,r),M(t,i,r),M(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var I=Math.PI/180,R=180/Math.PI,L=18,D=.96422,N=1,j=.82521,B=4/29,F=6/29,H=3*F*F,z=F*F*F;function U(t){if(t instanceof X)return new X(t.l,t.a,t.b,t.opacity);if(t instanceof J){if(isNaN(t.h))return new X(t.l,0,0,t.opacity);var e=t.h*I;return new X(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof E||(t=w(t));var n,r,i=K(t.r),o=K(t.g),a=K(t.b),s=Y((.2225045*i+.7168786*o+.0606169*a)/N);return i===o&&o===a?n=r=s:(n=Y((.4360747*i+.3850649*o+.1430804*a)/D),r=Y((.0139322*i+.0971045*o+.7141733*a)/j)),new X(116*s-16,500*(n-s),200*(s-r),t.opacity)}function V(t,e){return new X(t,0,0,e??1)}function G(t,e,n,r){return 1===arguments.length?U(t):new X(t,e,n,r??1)}function X(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Y(t){return t>z?Math.pow(t,1/3):t/H+B}function W(t){return t>F?t*t*t:H*(t-B)}function q(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function K(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $(t){if(t instanceof J)return new J(t.h,t.c,t.l,t.opacity);if(t instanceof X||(t=U(t)),0===t.a&&0===t.b)return new J(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*R;return new J(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Z(t,e,n,r){return 1===arguments.length?$(t):new J(n,e,t,r??1)}function Q(t,e,n,r){return 1===arguments.length?$(t):new J(t,e,n,r??1)}function J(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}r(X,G,i(o,{brighter:function(t){return new X(this.l+L*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new X(this.l-L*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new E(q(3.1338561*(e=D*W(e))-1.6168667*(t=N*W(t))-.4906146*(n=j*W(n))),q(-.9787684*e+1.9161415*t+.033454*n),q(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),r(J,Q,i(o,{brighter:function(t){return new J(this.h,this.c,this.l+L*(t??1),this.opacity)},darker:function(t){return new J(this.h,this.c,this.l-L*(t??1),this.opacity)},rgb:function(){return U(this).rgb()}}));var tt=-.14861,et=1.78277,nt=-.29227,rt=-.90649,it=1.97294,ot=it*rt,at=it*et,st=et*nt-rt*tt;function lt(t){if(t instanceof ct)return new ct(t.h,t.s,t.l,t.opacity);t instanceof E||(t=w(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(st*r+ot*e-at*n)/(st+ot-at),o=r-i,a=(it*(n-i)-nt*o)/rt,s=Math.sqrt(a*a+o*o)/(it*i*(1-i)),l=s?Math.atan2(a,o)*R-120:NaN;return new ct(l<0?l+360:l,s,i,t.opacity)}function ut(t,e,n,r){return 1===arguments.length?lt(t):new ct(t,e,n,r??1)}function ct(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}r(ct,ut,i(o,{brighter:function(t){return t=null==t?s:Math.pow(s,t),new ct(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?a:Math.pow(a,t),new ct(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*I,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new E(255*(e+n*(tt*r+et*i)),255*(e+n*(nt*r+rt*i)),255*(e+n*(it*r)),this.opacity)}})),n.d(e,"color",(function(){return _})),n.d(e,"rgb",(function(){return S})),n.d(e,"hsl",(function(){return O})),n.d(e,"lab",(function(){return G})),n.d(e,"hcl",(function(){return Q})),n.d(e,"lch",(function(){return Z})),n.d(e,"gray",(function(){return V})),n.d(e,"cubehelix",(function(){return ut}))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(527);Object.defineProperty(e,"absToChr",{enumerable:!0,get:function(){function t(){return Lt(r).default}return t}()});var i=n(528);Object.defineProperty(e,"accessorTransposition",{enumerable:!0,get:function(){function t(){return Lt(i).default}return t}()});var o=n(529);Object.defineProperty(e,"addArrays",{enumerable:!0,get:function(){function t(){return Lt(o).default}return t}()});var a=n(530);Object.defineProperty(e,"addClass",{enumerable:!0,get:function(){function t(){return Lt(a).default}return t}()});var s=n(531);Object.defineProperty(e,"base64ToCanvas",{enumerable:!0,get:function(){function t(){return Lt(s).default}return t}()});var l=n(532);Object.defineProperty(e,"chromInfoBisector",{enumerable:!0,get:function(){function t(){return Lt(l).default}return t}()});var u=n(533);Object.defineProperty(e,"chrToAbs",{enumerable:!0,get:function(){function t(){return Lt(u).default}return t}()});var c=n(323);Object.defineProperty(e,"cloneEvent",{enumerable:!0,get:function(){function t(){return Lt(c).default}return t}()});var h=n(534);Object.defineProperty(e,"colorDomainToRgbaArray",{enumerable:!0,get:function(){function t(){return Lt(h).default}return t}()});var f=n(535);Object.defineProperty(e,"colorToHex",{enumerable:!0,get:function(){function t(){return Lt(f).default}return t}()});var d=n(536);Object.defineProperty(e,"colorToRgba",{enumerable:!0,get:function(){function t(){return Lt(d).default}return t}()});var p=n(326);Object.defineProperty(e,"dataToGenomicLoci",{enumerable:!0,get:function(){function t(){return Lt(p).default}return t}()});var m=n(537);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){function t(){return Lt(m).default}return t}()});var v=n(538);Object.defineProperty(e,"decToHexStr",{enumerable:!0,get:function(){function t(){return Lt(v).default}return t}()});var g=n(539);Object.defineProperty(e,"dictFromTuples",{enumerable:!0,get:function(){function t(){return Lt(g).default}return t}()});var y=n(540);Object.defineProperty(e,"dictItems",{enumerable:!0,get:function(){function t(){return Lt(y).default}return t}()});var b=n(541);Object.defineProperty(e,"dictKeys",{enumerable:!0,get:function(){function t(){return Lt(b).default}return t}()});var _=n(542);Object.defineProperty(e,"dictValues",{enumerable:!0,get:function(){function t(){return Lt(_).default}return t}()});var x=n(543);Object.defineProperty(e,"download",{enumerable:!0,get:function(){function t(){return Lt(x).default}return t}()});var T=n(544);Object.defineProperty(e,"fillInMinWidths",{enumerable:!0,get:function(){function t(){return Lt(T).default}return t}()});var w=n(890);Object.defineProperty(e,"flatten",{enumerable:!0,get:function(){function t(){return Lt(w).default}return t}()});var S=n(891);Object.defineProperty(e,"forEach",{enumerable:!0,get:function(){function t(){return Lt(S).default}return t}()});var E=n(892);Object.defineProperty(e,"forwardEvent",{enumerable:!0,get:function(){function t(){return Lt(E).default}return t}()});var k=n(893);Object.defineProperty(e,"genomeLociToPixels",{enumerable:!0,get:function(){function t(){return Lt(k).default}return t}()});var C=n(894);Object.defineProperty(e,"genomicRangeToChromosomeChunks",{enumerable:!0,get:function(){function t(){return Lt(C).default}return t}()});var A=n(895);Object.defineProperty(e,"getDefaultTrackForDatatype",{enumerable:!0,get:function(){function t(){return Lt(A).default}return t}()});var O=n(896);Object.defineProperty(e,"getElementDim",{enumerable:!0,get:function(){function t(){return Lt(O).default}return t}()});var P=n(897);Object.defineProperty(e,"getTrackByUid",{enumerable:!0,get:function(){function t(){return Lt(P).default}return t}()});var M=n(898);Object.defineProperty(e,"getTrackConfFromHGC",{enumerable:!0,get:function(){function t(){return Lt(M).default}return t}()});var I=n(899);Object.defineProperty(e,"getTrackObjById",{enumerable:!0,get:function(){function t(){return Lt(I).default}return t}()});var R=n(900);Object.defineProperty(e,"getTrackPositionByUid",{enumerable:!0,get:function(){function t(){return Lt(R).default}return t}()});var L=n(441);Object.defineProperty(e,"getXylofon",{enumerable:!0,get:function(){function t(){return Lt(L).default}return t}()});var D=n(901);Object.defineProperty(e,"gradient",{enumerable:!0,get:function(){function t(){return Lt(D).default}return t}()});var N=n(221);Object.defineProperty(e,"hasClass",{enumerable:!0,get:function(){function t(){return Lt(N).default}return t}()});var j=n(902);Object.defineProperty(e,"hasParent",{enumerable:!0,get:function(){function t(){return Lt(j).default}return t}()});var B=n(903);Object.defineProperty(e,"hexStrToInt",{enumerable:!0,get:function(){function t(){return Lt(B).default}return t}()});var F=n(904);Object.defineProperty(e,"intoTheVoid",{enumerable:!0,get:function(){function t(){return Lt(F).default}return t}()});var H=n(905);Object.defineProperty(e,"isTrackOrChildTrack",{enumerable:!0,get:function(){function t(){return Lt(H).default}return t}()});var z=n(906);Object.defineProperty(e,"isWithin",{enumerable:!0,get:function(){function t(){return Lt(z).default}return t}()});var U=n(907);Object.defineProperty(e,"latToY",{enumerable:!0,get:function(){function t(){return Lt(U).default}return t}()});var V=n(908);Object.defineProperty(e,"loadChromInfos",{enumerable:!0,get:function(){function t(){return Lt(V).default}return t}()});var G=n(909);Object.defineProperty(e,"lngToX",{enumerable:!0,get:function(){function t(){return Lt(G).default}return t}()});var X=n(442);Object.defineProperty(e,"map",{enumerable:!0,get:function(){function t(){return Lt(X).default}return t}()});var Y=n(910);Object.defineProperty(e,"max",{enumerable:!0,get:function(){function t(){return Lt(Y).default}return t}()});var W=n(911);Object.defineProperty(e,"maxNonZero",{enumerable:!0,get:function(){function t(){return Lt(W).default}return t}()});var q=n(912);Object.defineProperty(e,"min",{enumerable:!0,get:function(){function t(){return Lt(q).default}return t}()});var K=n(913);Object.defineProperty(e,"minNonZero",{enumerable:!0,get:function(){function t(){return Lt(K).default}return t}()});var $=n(914);Object.defineProperty(e,"mod",{enumerable:!0,get:function(){function t(){return Lt($).default}return t}()});var Z=n(915);Object.defineProperty(e,"ndarrayAssign",{enumerable:!0,get:function(){function t(){return Lt(Z).default}return t}()});var Q=n(916);Object.defineProperty(e,"ndarrayFlatten",{enumerable:!0,get:function(){function t(){return Lt(Q).default}return t}()});var J=n(445);Object.defineProperty(e,"ndarrayToList",{enumerable:!0,get:function(){function t(){return Lt(J).default}return t}()});var tt=n(917);Object.defineProperty(e,"numericifyVersion",{enumerable:!0,get:function(){function t(){return Lt(tt).default}return t}()});var et=n(918);Object.defineProperty(e,"objVals",{enumerable:!0,get:function(){function t(){return Lt(et).default}return t}()});var nt=n(919);Object.defineProperty(e,"or",{enumerable:!0,get:function(){function t(){return Lt(nt).default}return t}()});var rt=n(920);Object.defineProperty(e,"parseChromsizesRows",{enumerable:!0,get:function(){function t(){return Lt(rt).default}return t}()});var it=n(921);Object.defineProperty(e,"pixiTextToSvg",{enumerable:!0,get:function(){function t(){return Lt(it).default}return t}()});var ot=n(922);Object.defineProperty(e,"q",{enumerable:!0,get:function(){function t(){return Lt(ot).default}return t}()});var at=n(439);Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){function t(){return Lt(at).default}return t}()});var st=n(923);Object.defineProperty(e,"rangeQuery2d",{enumerable:!0,get:function(){function t(){return Lt(st).default}return t}()});var lt=n(924);Object.defineProperty(e,"relToAbsChromPos",{enumerable:!0,get:function(){function t(){return Lt(lt).default}return t}()});var ut=n(925);Object.defineProperty(e,"removeClass",{enumerable:!0,get:function(){function t(){return Lt(ut).default}return t}()});var ct=n(926);Object.defineProperty(e,"resetD3BrushStyle",{enumerable:!0,get:function(){function t(){return Lt(ct).default}return t}()});var ht=n(927);Object.defineProperty(e,"rgbToHex",{enumerable:!0,get:function(){function t(){return Lt(ht).default}return t}()});var ft=n(928);Object.defineProperty(e,"scalesCenterAndK",{enumerable:!0,get:function(){function t(){return Lt(ft).default}return t}()});var dt=n(929);Object.defineProperty(e,"scalesToGenomeLoci",{enumerable:!0,get:function(){function t(){return Lt(dt).default}return t}()});var pt=n(930);Object.defineProperty(e,"showMousePosition",{enumerable:!0,get:function(){function t(){return Lt(pt).default}return t}()});var mt=n(931);Object.defineProperty(e,"some",{enumerable:!0,get:function(){function t(){return Lt(mt).default}return t}()});var vt=n(932);Object.defineProperty(e,"sum",{enumerable:!0,get:function(){function t(){return Lt(vt).default}return t}()});var gt=n(933);Object.defineProperty(e,"svgLine",{enumerable:!0,get:function(){function t(){return Lt(gt).default}return t}()});var yt=n(934);Object.defineProperty(e,"throttleAndDebounce",{enumerable:!0,get:function(){function t(){return Lt(yt).default}return t}()});var bt=n(935);Object.defineProperty(e,"tileToCanvas",{enumerable:!0,get:function(){function t(){return Lt(bt).default}return t}()});var _t=n(936);Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){function t(){return Lt(_t).default}return t}()});var xt=n(937);Object.defineProperty(e,"totalTrackPixelHeight",{enumerable:!0,get:function(){function t(){return Lt(xt).default}return t}()});var Tt=n(171);Object.defineProperty(e,"toVoid",{enumerable:!0,get:function(){function t(){return Lt(Tt).default}return t}()});var wt=n(938);Object.defineProperty(e,"trimTrailingSlash",{enumerable:!0,get:function(){function t(){return Lt(wt).default}return t}()});var St=n(939);Object.defineProperty(e,"valueToColor",{enumerable:!0,get:function(){function t(){return Lt(St).default}return t}()});var Et=n(940);Object.defineProperty(e,"expandCombinedTracks",{enumerable:!0,get:function(){function t(){return Lt(Et).default}return t}()});var kt=n(941);Object.defineProperty(e,"segmentsToRows",{enumerable:!0,get:function(){function t(){return Lt(kt).default}return t}()});var Ct=n(443);Object.defineProperty(e,"visitPositionedTracks",{enumerable:!0,get:function(){function t(){return Lt(Ct).default}return t}()});var At=n(444);Object.defineProperty(e,"visitTracks",{enumerable:!0,get:function(){function t(){return Lt(At).default}return t}()});var Ot=n(943);Object.defineProperty(e,"trackUtils",{enumerable:!0,get:function(){function t(){return Lt(Ot).default}return t}()});var Pt=n(137);Object.defineProperty(e,"DenseDataExtrema1D",{enumerable:!0,get:function(){function t(){return Lt(Pt).default}return t}()});var Mt=n(138);Object.defineProperty(e,"DenseDataExtrema2D",{enumerable:!0,get:function(){function t(){return Lt(Mt).default}return t}()});var It=n(446);Object.defineProperty(e,"getTrackObjectFromHGC",{enumerable:!0,get:function(){function t(){return It.getTrackObjectFromHGC}return t}()}),Object.defineProperty(e,"getTrackRenderer",{enumerable:!0,get:function(){function t(){return It.getTrackRenderer}return t}()}),Object.defineProperty(e,"getTiledPlot",{enumerable:!0,get:function(){function t(){return It.getTiledPlot}return t}()});var Rt=n(944);function Lt(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"changeOptions",{enumerable:!0,get:function(){function t(){return Rt.changeOptions}return t}()}),Object.defineProperty(e,"waitForJsonComplete",{enumerable:!0,get:function(){function t(){return Rt.waitForJsonComplete}return t}()}),Object.defineProperty(e,"waitForTilesLoaded",{enumerable:!0,get:function(){function t(){return Rt.waitForTilesLoaded}return t}()}),Object.defineProperty(e,"waitForTransitionsFinished",{enumerable:!0,get:function(){function t(){return Rt.waitForTransitionsFinished}return t}()}),Object.defineProperty(e,"mountHGComponent",{enumerable:!0,get:function(){function t(){return Rt.mountHGComponent}return t}()}),Object.defineProperty(e,"removeHGComponent",{enumerable:!0,get:function(){function t(){return Rt.removeHGComponent}return t}()})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(327);Object.defineProperty(e,"THEME_LIGHT",{enumerable:!0,get:function(){function t(){return r.THEME_LIGHT}return t}()}),Object.defineProperty(e,"THEME_DARK",{enumerable:!0,get:function(){function t(){return r.THEME_DARK}return t}()}),Object.defineProperty(e,"THEME_DEFAULT",{enumerable:!0,get:function(){function t(){return r.THEME_DEFAULT}return t}()});var i=n(324);Object.defineProperty(e,"GLOBALS",{enumerable:!0,get:function(){function t(){return m(i).default}return t}()});var o=n(551);Object.defineProperty(e,"DATATYPE_TO_TRACK_TYPE",{enumerable:!0,get:function(){function t(){return m(o).default}return t}()});var a=n(552);Object.defineProperty(e,"HEATED_OBJECT_MAP",{enumerable:!0,get:function(){function t(){return m(a).default}return t}()});var s=n(553);Object.defineProperty(e,"IS_TRACK_RANGE_SELECTABLE",{enumerable:!0,get:function(){function t(){return m(s).default}return t}()});var l=n(554);Object.defineProperty(e,"OPTIONS_INFO",{enumerable:!0,get:function(){function t(){return m(l).default}return t}()});var u=n(880);Object.defineProperty(e,"TRACKS_INFO",{enumerable:!0,get:function(){function t(){return m(u).default}return t}()});var c=n(882);Object.defineProperty(e,"TRACKS_INFO_BY_TYPE",{enumerable:!0,get:function(){function t(){return m(c).default}return t}()});var h=n(883);Object.defineProperty(e,"POSITIONS_BY_DATATYPE",{enumerable:!0,get:function(){function t(){return m(h).default}return t}()});var f=n(884);Object.defineProperty(e,"DEFAULT_TRACKS_FOR_DATATYPE",{enumerable:!0,get:function(){function t(){return m(f).default}return t}()});var d=n(885);Object.defineProperty(e,"AVAILABLE_FOR_PLUGINS",{enumerable:!0,get:function(){function t(){return m(d).default}return t}()});var p=n(889);function m(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AVAILABLE_TRACK_TYPES",{enumerable:!0,get:function(){function t(){return m(p).default}return t}()}),e.DEFAULT_VIEW_MARGIN=0,e.DEFAULT_VIEW_PADDING=5,e.DEFAULT_CONTAINER_PADDING_X=10,e.DEFAULT_CONTAINER_PADDING_Y=10,e.MAX_CLICK_DELAY=300,e.MOUSE_TOOL_MOVE="move",e.MOUSE_TOOL_SELECT="select",e.TILE_FETCH_DEBOUNCE=100,e.ZOOM_DEBOUNCE=10,e.SHORT_DRAG_TIMEOUT=110,e.LONG_DRAG_TIMEOUT=3e3,e.LOCATION_LISTENER_PREFIX="locationListenerPrefix",e.ZOOM_TRANSITION_DURATION=1e3,e.DEFAULT_SERVER="http://higlass.io/api/v1",e.VIEW_HEADER_MED_WIDTH_SEARCH_BAR=400,e.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR=300,e.TRACK_LOCATIONS=["top","left","right","bottom","center","whole","gallery"],e.MIN_HORIZONTAL_HEIGHT=20,e.MIN_VERTICAL_WIDTH=20},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ReactCSS=e.loop=e.handleActive=e.handleHover=e.hover=void 0;var r=u(n(731)),i=u(n(797)),o=u(n(816)),a=u(n(817)),s=u(n(818)),l=u(n(819));function u(t){return t&&t.__esModule?t:{default:t}}e.hover=a.default,e.handleHover=a.default,e.handleActive=s.default,e.loop=l.default;var c=e.ReactCSS=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),l=(0,i.default)(t,s);return(0,o.default)(l)};e.default=c},function(t,e,n){e.__esModule=!0;var r=o(n(5)),i=o(n(612));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,o){null===e&&(e=Function.prototype);var a=(0,i.default)(e,n);if(void 0===a){var s=(0,r.default)(e);return null===s?void 0:t(s,n,o)}if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(o)}},function(t,e,n){var r=n(9),i=function(t){return function(){return t}};function o(t,e){return function(n){return t+n*e}}function a(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function s(t,e){var n=e-t;return n?o(t,n>180||n<-180?n-360*Math.round(n/360):n):i(isNaN(t)?e:t)}function l(t){return 1==(t=+t)?u:function(e,n){return n-e?a(e,n,t):i(isNaN(e)?n:e)}}function u(t,e){var n=e-t;return n?o(t,n):i(isNaN(t)?e:t)}var c=function t(e){var n=l(e);function i(t,e){var i=n((t=Object(r.rgb)(t)).r,(e=Object(r.rgb)(e)).r),o=n(t.g,e.g),a=n(t.b,e.b),s=u(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1),h=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=S(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},f=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}},d=function(t,e){return e-=t=+t,function(n){return t+e*n}},p=function(t,e){var n,r={},i={};for(n in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)n in t?r[n]=S(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},m=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v=new RegExp(m.source,"g");function g(t){return function(){return t}}function y(t){return function(e){return t(e)+""}}var b,_,x,T,w=function(t,e){var n,r,i,o=m.lastIndex=v.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=m.exec(t))&&(r=v.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:d(n,r)})),o=v.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?y(l[0].x):g(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})},S=function(t,e){var n,o=typeof e;return null==e||"boolean"===o?i(e):("number"===o?d:"string"===o?(n=Object(r.color)(e))?(e=n,c):w:e instanceof r.color?c:e instanceof Date?f:Array.isArray(e)?h:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?p:d)(t,e)},E=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},k=180/Math.PI,C={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},A=function(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*k,skewX:Math.atan(l)*k,scaleX:a,scaleY:s}};function O(t){return"none"===t?C:(b||(b=document.createElement("DIV"),_=document.documentElement,x=document.defaultView),b.style.transform=t,t=x.getComputedStyle(_.appendChild(b),null).getPropertyValue("transform"),_.removeChild(b),t=t.slice(7,-1).split(","),A(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function P(t){return null!=t&&(T||(T=document.createElementNS("http://www.w3.org/2000/svg","g")),T.setAttribute("transform",t),t=T.transform.baseVal.consolidate())?(t=t.matrix,A(t.a,t.b,t.c,t.d,t.e,t.f)):C}function M(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:d(t,i)},{i:l-2,x:d(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:d(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:d(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function l(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:d(t,n)},{i:s-2,x:d(e,r)})}else(1!==n||1!==r)&&o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),l(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var I=M(O,"px, ","px)","deg)"),R=M(P,", ",")",")"),L=Math.SQRT2,D=2,N=4,j=1e-12;function B(t){return((t=Math.exp(t))+1/t)/2}function F(t){return((t=Math.exp(t))-1/t)/2}function H(t){return((t=Math.exp(2*t))-1)/(t+1)}var z=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=s-i,h=l-o,f=c*c+h*h;if(f<j)r=Math.log(u/a)/L,n=function(t){return[i+t*c,o+t*h,a*Math.exp(L*t*r)]};else{var d=Math.sqrt(f),p=(u*u-a*a+N*f)/(2*a*D*d),m=(u*u-a*a-N*f)/(2*u*D*d),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/L,n=function(t){var e=t*r,n=B(v),s=a/(D*d)*(n*H(L*e+v)-F(v));return[i+s*c,o+s*h,a*n/B(L*e+v)]}}return n.duration=1e3*r,n};function U(t){return function e(n){function i(e,i){var o=t((e=Object(r.cubehelix)(e)).h,(i=Object(r.cubehelix)(i)).h),a=u(e.s,i.s),s=u(e.l,i.l),l=u(e.opacity,i.opacity);return function(t){return e.h=o(t),e.s=a(t),e.l=s(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,i.gamma=e,i}(1)}U(s);var V=U(u);n.d(e,"a",(function(){return S})),n.d(e,"c",(function(){return d})),n.d(e,"e",(function(){return E})),n.d(e,"f",(function(){return w})),n.d(e,"g",(function(){return I})),n.d(e,"h",(function(){return R})),n.d(e,"i",(function(){return z})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return V}))},function(t,e,n){var r=n(23),i=n(12),o=n(49),a=n(43),s=n(47),l="prototype",u=function(t,e,n){var c,h,f,d=t&u.F,p=t&u.G,m=t&u.S,v=t&u.P,g=t&u.B,y=t&u.W,b=p?i:i[e]||(i[e]={}),_=b[l],x=p?r:m?r[e]:(r[e]||{})[l];for(c in p&&(n=e),n)(!(h=!d&&x&&void 0!==x[c])||!s(b,c))&&(f=h?x[c]:n[c],b[c]=p&&"function"!=typeof x[c]?n[c]:g&&h?o(f,r):y&&x[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[l]=t[l],e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((b.virtual||(b.virtual={}))[c]=f,t&u.R&&_&&!_[c]&&a(_,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){t.exports={default:n(216),__esModule:!0}},function(t,e,n){t.exports={default:n(208),__esModule:!0}},function(t,e,n){e.__esModule=!0;var r=o(n(516)),i=o(n(17));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var s,l=(0,i.default)(t);!(r=(s=l.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){o=!0,a=u}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){n.r(e);var r=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},i=function(t){return(t=r(Math.abs(t)))?t[1]:NaN},o=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}},a=function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}},s=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(t){return new u(t)}function u(t){if(!(e=s.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}l.prototype=u.prototype,u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var c,h,f,d,p=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},m=function(t,e){var n=r(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},v={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return m(100*t,e)},r:m,s:function(t,e){var n=r(t,e);if(!n)return t+"";var i=n[0],o=n[1],a=o-(c=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+r(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},g=function(t){return t},y=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],b=function(t){var e=t.grouping&&t.thousands?o(t.grouping,t.thousands):g,n=t.currency,r=t.decimal,s=t.numerals?a(t.numerals):g,u=t.percent||"%";function h(t){var i=(t=l(t)).fill,o=t.align,a=t.sign,h=t.symbol,f=t.zero,d=t.width,m=t.comma,g=t.precision,b=t.trim,_=t.type;"n"===_?(m=!0,_="g"):v[_]||(null==g&&(g=12),b=!0,_="g"),(f||"0"===i&&"="===o)&&(f=!0,i="0",o="=");var x="$"===h?n[0]:"#"===h&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",T="$"===h?n[1]:/[%p]/.test(_)?u:"",w=v[_],S=/[defgprs%]/.test(_);function E(t){var n,l,u,h=x,v=T;if("c"===_)v=w(t)+v,t="";else{var E=(t=+t)<0;if(t=w(Math.abs(t),g),b&&(t=p(t)),E&&0==+t&&(E=!1),h=(E?"("===a?a:"-":"-"===a||"("===a?"":a)+h,v=("s"===_?y[8+c/3]:"")+v+(E&&"("===a?")":""),S)for(n=-1,l=t.length;++n<l;)if(48>(u=t.charCodeAt(n))||u>57){v=(46===u?r+t.slice(n+1):t.slice(n))+v,t=t.slice(0,n);break}}m&&!f&&(t=e(t,1/0));var k=h.length+t.length+v.length,C=k<d?new Array(d-k+1).join(i):"";switch(m&&f&&(t=e(C+t,C.length?d-v.length:1/0),C=""),o){case"<":t=h+t+v+C;break;case"=":t=h+C+t+v;break;case"^":t=C.slice(0,k=C.length>>1)+h+t+v+C.slice(k);break;default:t=C+h+t+v}return s(t)}return g=null==g?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return t+""},E}function f(t,e){var n=h(((t=l(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(i(e)/3))),o=Math.pow(10,-r),a=y[8+r/3];return function(t){return n(o*t)+a}}return{format:h,formatPrefix:f}};function _(t){return h=b(t),f=h.format,d=h.formatPrefix,h}_({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var x=function(t){return Math.max(0,-i(Math.abs(t)))},T=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(e)/3)))-i(Math.abs(t)))},w=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,i(e)-i(t))+1};n.d(e,"formatDefaultLocale",(function(){return _})),n.d(e,"format",(function(){return f})),n.d(e,"formatPrefix",(function(){return d})),n.d(e,"formatLocale",(function(){return b})),n.d(e,"formatSpecifier",(function(){return l})),n.d(e,"precisionFixed",(function(){return x})),n.d(e,"precisionPrefix",(function(){return T})),n.d(e,"precisionRound",(function(){return w}))},function(t,e,n){var r=n(106)("wks"),i=n(91),o=n(23).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(822);Object.defineProperty(e,"Alpha",{enumerable:!0,get:function(){return h(r).default}});var i=n(289);Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function(){return h(i).default}});var o=n(825);Object.defineProperty(e,"EditableInput",{enumerable:!0,get:function(){return h(o).default}});var a=n(826);Object.defineProperty(e,"Hue",{enumerable:!0,get:function(){return h(a).default}});var s=n(828);Object.defineProperty(e,"Raised",{enumerable:!0,get:function(){return h(s).default}});var l=n(835);Object.defineProperty(e,"Saturation",{enumerable:!0,get:function(){return h(l).default}});var u=n(437);Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function(){return h(u).default}});var c=n(841);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Swatch",{enumerable:!0,get:function(){return h(c).default}})},function(t,e){var n=t.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(519);Object.defineProperty(e,"chromInfo",{enumerable:!0,get:function(){function t(){return s(r).default}return t}()});var i=n(1077);Object.defineProperty(e,"createDomEvent",{enumerable:!0,get:function(){function t(){return s(i).default}return t}()});var o=n(440);Object.defineProperty(e,"ElementResizeListener",{enumerable:!0,get:function(){function t(){return s(o).default}return t}()});var a=n(1078);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"tileProxy",{enumerable:!0,get:function(){function t(){return s(a).default}return t}()}),Object.defineProperty(e,"requestsInFlight",{enumerable:!0,get:function(){function t(){return a.requestsInFlight}return t}()}),Object.defineProperty(e,"setTileProxyAuthHeader",{enumerable:!0,get:function(){function t(){return a.setTileProxyAuthHeader}return t}()}),Object.defineProperty(e,"getTileProxyAuthHeader",{enumerable:!0,get:function(){function t(){return a.getTileProxyAuthHeader}return t}()}),Object.defineProperty(e,"authHeader",{enumerable:!0,get:function(){function t(){return a.authHeader}return t}()})},function(t,e,n){e.__esModule=!0;var r=i(n(95));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,r.default)(t)}},function(t,e,n){t.exports=n(587)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){n.r(e);var r=n(8),i=n(72),o=Array.prototype,a=o.map,s=o.slice,l={name:"implicit"};function u(t){var e=Object(i.a)(),n=[],r=l;function o(i){var o=i+"",a=e.get(o);if(!a){if(r!==l)return r;e.set(o,a=n.push(i))}return t[(a-1)%t.length]}return t=null==t?[]:s.call(t),o.domain=function(t){if(!arguments.length)return n.slice();n=[],e=Object(i.a)();for(var r,a,s=-1,l=t.length;++s<l;)e.has(a=(r=t[s])+"")||e.set(a,n.push(r));return o},o.range=function(e){return arguments.length?(t=s.call(e),o):t.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return u().domain(n).range(t).unknown(r)},o}function c(){var t,e,n=u().unknown(void 0),i=n.domain,o=n.range,a=[0,1],s=!1,l=0,h=0,f=.5;function d(){var n=i().length,u=a[1]<a[0],c=a[u-0],d=a[1-u];t=(d-c)/Math.max(1,n-l+2*h),s&&(t=Math.floor(t)),c+=(d-c-t*(n-l))*f,e=t*(1-l),s&&(c=Math.round(c),e=Math.round(e));var p=Object(r.range)(n).map((function(e){return c+t*e}));return o(u?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),d()):i()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],d()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],s=!0,d()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,d()):s},n.padding=function(t){return arguments.length?(l=h=Math.max(0,Math.min(1,t)),d()):l},n.paddingInner=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),d()):l},n.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),d()):h},n.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),d()):f},n.copy=function(){return c().domain(i()).range(a).round(s).paddingInner(l).paddingOuter(h).align(f)},d()}function h(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return h(e())},t}function f(){return h(c().paddingInner(1))}var d=n(15),p=function(t){return function(){return t}},m=function(t){return+t},v=[0,1];function g(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:p(e)}function y(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function b(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function _(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function x(t,e,n,i){var o=Math.min(t.length,e.length)-1,a=new Array(o),s=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)a[l]=n(t[l],t[l+1]),s[l]=i(e[l],e[l+1]);return function(e){var n=Object(r.bisect)(t,e,1,o)-1;return s[n](a[n](e))}}function T(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function w(t,e){var n,r,i,o=v,l=v,u=d.a,c=!1;function h(){return n=Math.min(o.length,l.length)>2?x:_,r=i=null,f}function f(e){return(r||(r=n(o,l,c?y(t):t,u)))(+e)}return f.invert=function(t){return(i||(i=n(l,o,g,c?b(e):e)))(+t)},f.domain=function(t){return arguments.length?(o=a.call(t,m),h()):o.slice()},f.range=function(t){return arguments.length?(l=s.call(t),h()):l.slice()},f.rangeRound=function(t){return l=s.call(t),u=d.e,h()},f.clamp=function(t){return arguments.length?(c=!!t,h()):c},f.interpolate=function(t){return arguments.length?(u=t,h()):u},h()}var S=n(20),E=function(t,e,n){var i,o=t[0],a=t[t.length-1],s=Object(r.tickStep)(o,a,e??10);switch((n=Object(S.formatSpecifier)(n??",f")).type){case"s":var l=Math.max(Math.abs(o),Math.abs(a));return null==n.precision&&!isNaN(i=Object(S.precisionPrefix)(s,l))&&(n.precision=i),Object(S.formatPrefix)(n,l);case"":case"e":case"g":case"p":case"r":null==n.precision&&!isNaN(i=Object(S.precisionRound)(s,Math.max(Math.abs(o),Math.abs(a))))&&(n.precision=i-("e"===n.type));break;case"f":case"%":null==n.precision&&!isNaN(i=Object(S.precisionFixed)(s))&&(n.precision=i-2*("%"===n.type))}return Object(S.format)(n)};function k(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(r.ticks)(n[0],n[n.length-1],t??10)},t.tickFormat=function(t,n){return E(e(),t,n)},t.nice=function(n){null==n&&(n=10);var i,o=e(),a=0,s=o.length-1,l=o[a],u=o[s];return u<l&&(i=l,l=u,u=i,i=a,a=s,s=i),(i=Object(r.tickIncrement)(l,u,n))>0?(l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i,i=Object(r.tickIncrement)(l,u,n)):i<0&&(l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i,i=Object(r.tickIncrement)(l,u,n)),i>0?(o[a]=Math.floor(l/i)*i,o[s]=Math.ceil(u/i)*i,e(o)):i<0&&(o[a]=Math.ceil(l*i)/i,o[s]=Math.floor(u*i)/i,e(o)),t},t}function C(){var t=w(g,d.c);return t.copy=function(){return T(t,C())},k(t)}function A(){var t=[0,1];function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=a.call(n,m),e):t.slice()},e.copy=function(){return A().domain(t)},k(e)}var O=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function P(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:p(e)}function M(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function I(t){return isFinite(t)?+("1e"+t):t<0?0:t}function R(t){return 10===t?I:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function L(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function D(t){return function(e){return-t(-e)}}function N(){var t=w(P,M).domain([1,10]),e=t.domain,n=10,i=L(10),o=R(10);function a(){return i=L(n),o=R(n),e()[0]<0&&(i=D(i),o=D(o)),t}return t.base=function(t){return arguments.length?(n=+t,a()):n},t.domain=function(t){return arguments.length?(e(t),a()):e()},t.ticks=function(t){var a,s=e(),l=s[0],u=s[s.length-1];(a=u<l)&&(d=l,l=u,u=d);var c,h,f,d=i(l),p=i(u),m=null==t?10:+t,v=[];if(!(n%1)&&p-d<m){if(d=Math.round(d)-1,p=Math.round(p)+1,l>0){for(;d<p;++d)for(h=1,c=o(d);h<n;++h)if(!((f=c*h)<l)){if(f>u)break;v.push(f)}}else for(;d<p;++d)for(h=n-1,c=o(d);h>=1;--h)if(!((f=c*h)<l)){if(f>u)break;v.push(f)}}else v=Object(r.ticks)(d,p,Math.min(p-d,m)).map(o);return a?v.reverse():v},t.tickFormat=function(e,r){if(null==r&&(r=10===n?".0e":","),"function"!=typeof r&&(r=Object(S.format)(r)),e===1/0)return r;null==e&&(e=10);var a=Math.max(1,n*e/t.ticks().length);return function(t){var e=t/o(Math.round(i(t)));return e*n<n-.5&&(e*=n),e<=a?r(t):""}},t.nice=function(){return e(O(e(),{floor:function(t){return o(Math.floor(i(t)))},ceil:function(t){return o(Math.ceil(i(t)))}}))},t.copy=function(){return T(t,N().base(n))},t}function j(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function B(){var t=1,e=w(r,i),n=e.domain;function r(e,n){return(n=j(n,t)-(e=j(e,t)))?function(r){return(j(r,t)-e)/n}:p(n)}function i(e,n){return n=j(n,t)-(e=j(e,t)),function(r){return j(e+n*r,1/t)}}return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return T(e,B().exponent(t))},k(e)}function F(){return B().exponent(.5)}function H(){var t=[],e=[],n=[];function i(){var i=0,a=Math.max(1,e.length);for(n=new Array(a-1);++i<a;)n[i-1]=Object(r.quantile)(t,i/a);return o}function o(t){if(!isNaN(t=+t))return e[Object(r.bisect)(n,t)]}return o.invertExtent=function(r){var i=e.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,o=0,a=e.length;o<a;++o)null!=(n=e[o])&&!isNaN(n=+n)&&t.push(n);return t.sort(r.ascending),i()},o.range=function(t){return arguments.length?(e=s.call(t),i()):e.slice()},o.quantiles=function(){return n.slice()},o.copy=function(){return H().domain(t).range(e)},o}function z(){var t=0,e=1,n=1,i=[.5],o=[0,1];function a(t){if(t<=t)return o[Object(r.bisect)(i,t,0,n)]}function l(){var r=-1;for(i=new Array(n);++r<n;)i[r]=((r+1)*e-(r-n)*t)/(n+1);return a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[1],l()):[t,e]},a.range=function(t){return arguments.length?(n=(o=s.call(t)).length-1,l()):o.slice()},a.invertExtent=function(r){var a=o.indexOf(r);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=n?[i[n-1],e]:[i[a-1],i[a]]},a.copy=function(){return z().domain([t,e]).range(o)},k(a)}function U(){var t=[.5],e=[0,1],n=1;function i(i){if(i<=i)return e[Object(r.bisect)(t,i,0,n)]}return i.domain=function(r){return arguments.length?(t=s.call(r),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(r){return arguments.length?(e=s.call(r),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(n){var r=e.indexOf(n);return[t[r-1],t[r]]},i.copy=function(){return U().domain(t).range(e)},i}var V=new Date,G=new Date;function X(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return X((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return V.setTime(+e),G.setTime(+r),t(V),t(G),Math.floor(n(V,G))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var Y=X((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Y.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?X((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Y:null};var W=Y;Y.range;var q=1e3,K=6e4,$=36e5,Z=864e5,Q=6048e5,J=X((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*q)}),(function(t,e){return(e-t)/q}),(function(t){return t.getUTCSeconds()})),tt=J;J.range;var et=X((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*q)}),(function(t,e){t.setTime(+t+e*K)}),(function(t,e){return(e-t)/K}),(function(t){return t.getMinutes()})),nt=et;et.range;var rt=X((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*q-t.getMinutes()*K)}),(function(t,e){t.setTime(+t+e*$)}),(function(t,e){return(e-t)/$}),(function(t){return t.getHours()})),it=rt;rt.range;var ot=X((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*K)/Z}),(function(t){return t.getDate()-1})),at=ot;function st(t){return X((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*K)/Q}))}ot.range;var lt=st(0),ut=st(1),ct=st(2),ht=st(3),ft=st(4),dt=st(5),pt=st(6);lt.range,ut.range,ct.range,ht.range,ft.range,dt.range,pt.range;var mt=X((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),vt=mt;mt.range;var gt=X((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));gt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?X((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var yt=gt;gt.range;var bt=X((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*K)}),(function(t,e){return(e-t)/K}),(function(t){return t.getUTCMinutes()})),_t=bt;bt.range;var xt=X((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*$)}),(function(t,e){return(e-t)/$}),(function(t){return t.getUTCHours()})),Tt=xt;xt.range;var wt=X((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Z}),(function(t){return t.getUTCDate()-1})),St=wt;function Et(t){return X((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Q}))}wt.range;var kt=Et(0),Ct=Et(1),At=Et(2),Ot=Et(3),Pt=Et(4),Mt=Et(5),It=Et(6);kt.range,Ct.range,At.range,Ot.range,Pt.range,Mt.range,It.range;var Rt=X((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Lt=Rt;Rt.range;var Dt=X((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Dt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?X((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Nt=Dt;function jt(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bt(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ft(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Ht(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Zt(i),c=Qt(i),h=Zt(o),f=Qt(o),d=Zt(a),p=Qt(a),m=Zt(s),v=Qt(s),g=Zt(l),y=Qt(l),b={a:R,A:L,b:D,B:N,c:null,d:ye,e:ye,f:we,H:be,I:_e,j:xe,L:Te,m:Se,M:Ee,p:j,Q:Je,s:tn,S:ke,u:Ce,U:Ae,V:Oe,w:Pe,W:Me,x:null,X:null,y:Ie,Y:Re,Z:Le,"%":Qe},_={a:B,A:F,b:H,B:z,c:null,d:De,e:De,f:He,H:Ne,I:je,j:Be,L:Fe,m:ze,M:Ue,p:U,Q:Je,s:tn,S:Ve,u:Ge,U:Xe,V:Ye,w:We,W:qe,x:null,X:null,y:Ke,Y:$e,Z:Ze,"%":Qe},x={a:k,A:C,b:A,B:O,c:P,d:le,e:le,f:pe,H:ce,I:ce,j:ue,L:de,m:se,M:he,p:E,Q:ve,s:ge,S:fe,u:te,U:ee,V:ne,w:Jt,W:re,x:M,X:I,y:oe,Y:ie,Z:ae,"%":me};function T(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=Xt[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function w(t,e){return function(n){var r,i,o=Ft(1900);if(S(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Bt(Ft(o.y))).getUTCDay(),r=i>4||0===i?Ct.ceil(r):Ct(r),r=St.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=e(Ft(o.y))).getDay(),r=i>4||0===i?ut.ceil(r):ut(r),r=at.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Bt(Ft(o.y)).getUTCDay():e(Ft(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Bt(o)):e(o)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in Xt?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function E(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1}function k(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1}function C(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1}function A(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1}function O(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1}function P(t,n,r){return S(t,e,n,r)}function M(t,e,r){return S(t,n,e,r)}function I(t,e,n){return S(t,r,e,n)}function R(t){return a[t.getDay()]}function L(t){return o[t.getDay()]}function D(t){return l[t.getMonth()]}function N(t){return s[t.getMonth()]}function j(t){return i[+(t.getHours()>=12)]}function B(t){return a[t.getUTCDay()]}function F(t){return o[t.getUTCDay()]}function H(t){return l[t.getUTCMonth()]}function z(t){return s[t.getUTCMonth()]}function U(t){return i[+(t.getUTCHours()>=12)]}return b.x=T(n,b),b.X=T(r,b),b.c=T(e,b),_.x=T(n,_),_.X=T(r,_),_.c=T(e,_),{format:function(t){var e=T(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",jt);return e.toString=function(){return t},e},utcFormat:function(t){var e=T(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t,Bt);return e.toString=function(){return t},e}}}Dt.range;var zt,Ut,Vt,Gt,Xt={"-":"",_:" ",0:"0"},Yt=/^\s*\d+/,Wt=/^%/,qt=/[\\^$*+?|[\]().{}]/g;function Kt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function $t(t){return t.replace(qt,"\\$&")}function Zt(t){return new RegExp("^(?:"+t.map($t).join("|")+")","i")}function Qt(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Jt(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function te(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ee(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ne(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function re(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ie(t,e,n){var r=Yt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function oe(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function se(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function le(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ue(t,e,n){var r=Yt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ce(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function he(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function fe(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function de(t,e,n){var r=Yt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function pe(t,e,n){var r=Yt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function me(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ve(t,e,n){var r=Yt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ge(t,e,n){var r=Yt.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function ye(t,e){return Kt(t.getDate(),e,2)}function be(t,e){return Kt(t.getHours(),e,2)}function _e(t,e){return Kt(t.getHours()%12||12,e,2)}function xe(t,e){return Kt(1+at.count(yt(t),t),e,3)}function Te(t,e){return Kt(t.getMilliseconds(),e,3)}function we(t,e){return Te(t,e)+"000"}function Se(t,e){return Kt(t.getMonth()+1,e,2)}function Ee(t,e){return Kt(t.getMinutes(),e,2)}function ke(t,e){return Kt(t.getSeconds(),e,2)}function Ce(t){var e=t.getDay();return 0===e?7:e}function Ae(t,e){return Kt(lt.count(yt(t),t),e,2)}function Oe(t,e){var n=t.getDay();return t=n>=4||0===n?ft(t):ft.ceil(t),Kt(ft.count(yt(t),t)+(4===yt(t).getDay()),e,2)}function Pe(t){return t.getDay()}function Me(t,e){return Kt(ut.count(yt(t),t),e,2)}function Ie(t,e){return Kt(t.getFullYear()%100,e,2)}function Re(t,e){return Kt(t.getFullYear()%1e4,e,4)}function Le(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Kt(e/60|0,"0",2)+Kt(e%60,"0",2)}function De(t,e){return Kt(t.getUTCDate(),e,2)}function Ne(t,e){return Kt(t.getUTCHours(),e,2)}function je(t,e){return Kt(t.getUTCHours()%12||12,e,2)}function Be(t,e){return Kt(1+St.count(Nt(t),t),e,3)}function Fe(t,e){return Kt(t.getUTCMilliseconds(),e,3)}function He(t,e){return Fe(t,e)+"000"}function ze(t,e){return Kt(t.getUTCMonth()+1,e,2)}function Ue(t,e){return Kt(t.getUTCMinutes(),e,2)}function Ve(t,e){return Kt(t.getUTCSeconds(),e,2)}function Ge(t){var e=t.getUTCDay();return 0===e?7:e}function Xe(t,e){return Kt(kt.count(Nt(t),t),e,2)}function Ye(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Pt(t):Pt.ceil(t),Kt(Pt.count(Nt(t),t)+(4===Nt(t).getUTCDay()),e,2)}function We(t){return t.getUTCDay()}function qe(t,e){return Kt(Ct.count(Nt(t),t),e,2)}function Ke(t,e){return Kt(t.getUTCFullYear()%100,e,2)}function $e(t,e){return Kt(t.getUTCFullYear()%1e4,e,4)}function Ze(){return"+0000"}function Qe(){return"%"}function Je(t){return+t}function tn(t){return Math.floor(+t/1e3)}function en(t){return zt=Ht(t),Ut=zt.format,zt.parse,Vt=zt.utcFormat,Gt=zt.utcParse,zt}en({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var nn="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Vt(nn),+new Date("2000-01-01T00:00:00.000Z")||Gt(nn);var rn=1e3,on=60*rn,an=60*on,sn=24*an,ln=7*sn,un=30*sn,cn=365*sn;function hn(t){return new Date(t)}function fn(t){return t instanceof Date?+t:+new Date(+t)}function dn(t,e,n,i,o,s,l,u,c){var h=w(g,d.c),f=h.invert,p=h.domain,m=c(".%L"),v=c(":%S"),y=c("%I:%M"),b=c("%I %p"),_=c("%a %d"),x=c("%b %d"),S=c("%B"),E=c("%Y"),k=[[l,1,rn],[l,5,5*rn],[l,15,15*rn],[l,30,30*rn],[s,1,on],[s,5,5*on],[s,15,15*on],[s,30,30*on],[o,1,an],[o,3,3*an],[o,6,6*an],[o,12,12*an],[i,1,sn],[i,2,2*sn],[n,1,ln],[e,1,un],[e,3,3*un],[t,1,cn]];function C(r){return(l(r)<r?m:s(r)<r?v:o(r)<r?y:i(r)<r?b:e(r)<r?n(r)<r?_:x:t(r)<r?S:E)(r)}function A(e,n,i,o){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-n)/e,s=Object(r.bisector)((function(t){return t[2]})).right(k,a);s===k.length?(o=Object(r.tickStep)(n/cn,i/cn,e),e=t):s?(o=(s=k[a/k[s-1][2]<k[s][2]/a?s-1:s])[1],e=s[0]):(o=Math.max(Object(r.tickStep)(n,i,e),1),e=u)}return null==o?e:e.every(o)}return h.invert=function(t){return new Date(f(t))},h.domain=function(t){return arguments.length?p(a.call(t,fn)):p().map(hn)},h.ticks=function(t,e){var n,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=A(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},h.tickFormat=function(t,e){return null==e?C:c(e)},h.nice=function(t,e){var n=p();return(t=A(t,n[0],n[n.length-1],e))?p(O(n,t)):h},h.copy=function(){return T(h,dn(t,e,n,i,o,s,l,u,c))},h}var pn=function(){return dn(yt,vt,lt,at,it,nt,tt,W,Ut).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},mn=function(){return dn(Nt,Lt,kt,St,Tt,_t,tt,W,Vt).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},vn=function(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))},gn=vn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),yn=vn("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),bn=vn("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),_n=vn("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),xn=n(9),Tn=Object(d.b)(Object(xn.cubehelix)(300,.5,0),Object(xn.cubehelix)(-240,.5,1)),wn=Object(d.b)(Object(xn.cubehelix)(-100,.75,.35),Object(xn.cubehelix)(80,1.5,.8)),Sn=Object(d.b)(Object(xn.cubehelix)(260,.75,.35),Object(xn.cubehelix)(80,1.5,.8)),En=Object(xn.cubehelix)(),kn=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return En.h=360*t-100,En.s=1.5-1.5*e,En.l=.8-.9*e,En+""};function Cn(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var An=Cn(vn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),On=Cn(vn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Pn=Cn(vn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Mn=Cn(vn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function In(t){var e=0,n=1,r=!1;function i(i){var o=(i-e)/(n-e);return t(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.clamp=function(t){return arguments.length?(r=!!t,i):r},i.interpolator=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return In(t).domain([e,n]).clamp(r)},k(i)}n.d(e,"scaleBand",(function(){return c})),n.d(e,"scalePoint",(function(){return f})),n.d(e,"scaleIdentity",(function(){return A})),n.d(e,"scaleLinear",(function(){return C})),n.d(e,"scaleLog",(function(){return N})),n.d(e,"scaleOrdinal",(function(){return u})),n.d(e,"scaleImplicit",(function(){return l})),n.d(e,"scalePow",(function(){return B})),n.d(e,"scaleSqrt",(function(){return F})),n.d(e,"scaleQuantile",(function(){return H})),n.d(e,"scaleQuantize",(function(){return z})),n.d(e,"scaleThreshold",(function(){return U})),n.d(e,"scaleTime",(function(){return pn})),n.d(e,"scaleUtc",(function(){return mn})),n.d(e,"schemeCategory10",(function(){return gn})),n.d(e,"schemeCategory20b",(function(){return yn})),n.d(e,"schemeCategory20c",(function(){return bn})),n.d(e,"schemeCategory20",(function(){return _n})),n.d(e,"interpolateCubehelixDefault",(function(){return Tn})),n.d(e,"interpolateRainbow",(function(){return kn})),n.d(e,"interpolateWarm",(function(){return wn})),n.d(e,"interpolateCool",(function(){return Sn})),n.d(e,"interpolateViridis",(function(){return An})),n.d(e,"interpolateMagma",(function(){return On})),n.d(e,"interpolateInferno",(function(){return Pn})),n.d(e,"interpolatePlasma",(function(){return Mn})),n.d(e,"scaleSequential",(function(){return In}))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r="throw",i=function(t){return-1!==t.indexOf(".")},o=function(t,e,n){var i=t.split("."),o=i[0],a=i[1],s=n||r;if(!a){if("throw"===s)throw new Error("Invalid style name: "+t);if("warn"!==s)return null;console.warn("Invalid style name: "+t)}if(!e[o]){if("throw"===s)throw new Error("CSS module import does not exist: "+o);if("warn"!==s)return null;console.warn("CSS module import does not exist: "+o)}if(!e[o][a]){if("throw"===s)throw new Error("CSS module does not exist: "+a);if("warn"!==s)return null;console.warn("CSS module does not exist: "+a)}return e[o][a]};e.default=function(t,e,n){var a=Object.keys(e),s=n&&n.handleMissingStyleName||r;return t.split(" ").filter((function(t){return t})).map((function(t){if(i(t))return o(t,e,s);if(0===a.length)throw new Error("Cannot use styleName attribute for style name '"+t+"' without importing at least one stylesheet.");if(a.length>1)throw new Error("Cannot use anonymous style name '"+t+"' with more than one stylesheet import.");var n=e[a[0]];if(!n[t]){if("throw"===s)throw new Error("Could not resolve the styleName '"+t+"'.");"warn"===s&&console.warn("Could not resolve the styleName '"+t+"'.")}return n[t]})).filter((function(t){return t})).join(" ")}},function(t,e,n){t.exports={default:n(233),__esModule:!0}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(39),i=n(159),o=n(127),a=Object.defineProperty;e.f=n(36)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){e.__esModule=!0;var r=i(n(44));function i(t){return t&&t.__esModule?t:{default:t}}e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={default:n(229),__esModule:!0}},function(t,e,n){t.exports=!n(50)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){t.exports={default:n(555),__esModule:!0}},function(t,e,n){t.exports={default:n(578),__esModule:!0}},function(t,e,n){var r=n(33);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(17)),i=g(n(44)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(14)),c=g(n(7)),h=g(n(30)),f=n(20),d=g(n(26)),p=g(n(177)),m=n(10),v=n(11);function g(t){return t&&t.__esModule?t:{default:t}}function y(t,e){var n=(0,f.precisionPrefix)(e,t);return(0,f.formatPrefix)("."+String(n),t)(t)}function b(t,e){var n=t.map((function(t){return+t})).sort((function(t,e){return e-t}));return y(n[e],n[n.length-1])}function _(t,e,n,r){var i=e/(Math.pow(2,t)*n);if(!(0,h.default)(i)){var o=e/(Math.pow(2,r)*n),a=(0,f.precisionPrefix)(o,i);return(0,f.formatPrefix)("."+String(a),i)(i)}return console.warn("NaN resolution, screen is probably too small."),""}var x=function(t){function e(t,n){(0,a.default)(this,e);var r=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n)),s=t.scene;r.scene=s,r.delayDrawing=!1,r.pBase=new v.GLOBALS.PIXI.Graphics,r.pMasked=new v.GLOBALS.PIXI.Graphics,r.pMask=new v.GLOBALS.PIXI.Graphics,r.pMain=new v.GLOBALS.PIXI.Graphics,r.pBorder=new v.GLOBALS.PIXI.Graphics,r.pBackground=new v.GLOBALS.PIXI.Graphics,r.pForeground=new v.GLOBALS.PIXI.Graphics,r.pLabel=new v.GLOBALS.PIXI.Graphics,r.pMobile=new v.GLOBALS.PIXI.Graphics,r.pAxis=new v.GLOBALS.PIXI.Graphics,r.pMouseOver=new v.GLOBALS.PIXI.Graphics,r.scene.addChild(r.pBase),r.pBase.addChild(r.pMasked),r.pMasked.addChild(r.pBackground),r.pMasked.addChild(r.pMain),r.pMasked.addChild(r.pMask),r.pMasked.addChild(r.pMobile),r.pMasked.addChild(r.pBorder),r.pMasked.addChild(r.pLabel),r.pMasked.addChild(r.pForeground),r.pMasked.addChild(r.pMouseOver),r.pBase.addChild(r.pAxis),r.pMasked.mask=r.pMask,r.prevOptions="",r.options=(0,i.default)(r.options,n);var u=r.getName();return r.labelTextFontFamily="Arial",r.labelTextFontSize=12,r.labelXOffset=0,r.labelText=new v.GLOBALS.PIXI.Text(u,{fontSize:String(r.labelTextFontSize)+"px",fontFamily:r.labelTextFontFamily,fill:"black"}),r.pLabel.addChild(r.labelText),r.errorText=new v.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"red"}),r.errorText.anchor.x=.5,r.errorText.anchor.y=.5,r.pLabel.addChild(r.errorText),r}return(0,c.default)(e,t),(0,s.default)(e,[{key:"setLabelText",value:function(){function t(){}return t}()},{key:"setPosition",value:function(){function t(t){this.position=t,this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}return t}()},{key:"setDimensions",value:function(){function t(t){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"setDimensions",this).call(this,t),this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}return t}()},{key:"setMask",value:function(){function t(t,e){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(t[0],t[1],e[0],e[1]),this.pMask.endFill()}return t}()},{key:"setForeground",value:function(){function t(){this.pForeground.position.y=this.position[1],this.pForeground.position.x=this.position[0]}return t}()},{key:"remove",value:function(){function t(){this.pBase.clear(),this.scene.removeChild(this.pBase)}return t}()},{key:"drawBorder",value:function(){function t(){var t=this.pBorder;if(t.clear(),this.options&&this.options.trackBorderWidth){var e=(0,m.colorToHex)(this.options.trackBorderColor?this.options.trackBorderColor:"white");t.lineStyle(this.options.trackBorderWidth,e),t.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}return t}()},{key:"drawError",value:function(){function t(){if(this.errorText.x=this.position[0]+this.dimensions[0]/2,this.errorText.y=this.position[1]+this.dimensions[1]/2,this.errorText.text=this.errorTextText,this.errorTextText&&this.errorTextText.length){var t=this.pBorder;t.clear(),t.lineStyle(1,(0,m.colorToHex)("red")),t.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}return t}()},{key:"drawBackground",value:function(){function t(){var t=this.pBackground;if(t.clear(),this.options&&this.options.backgroundColor){var e=1,n=this.options.backgroundColor;"transparent"===this.options.backgroundColor&&(e=0,n="white");var r=(0,m.colorToHex)(n);t.beginFill(r,e),t.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}return t}()},{key:"getLabelColor",value:function(){function t(){return this.options.labelColor&&"[glyph-color]"!==this.options.labelColor?this.options.labelColor:this.options.lineStrokeColor||this.options.barFillColor||"black"}return t}()},{key:"getName",value:function(){function t(){return this.options.name?this.options.name:this.tilesetInfo&&this.tilesetInfo.name||""}return t}()},{key:"drawLabel",value:function(){function t(){if(this.labelText){var t=this.pLabel;if(t.clear(),!this.options||!this.options.labelPosition||"hidden"===this.options.labelPosition)return void(this.labelText.alpha=0);t.beginFill((0,m.colorToHex)(this.options.labelBackgroundColor||"white"),+this.options.labelBackgroundOpacity>=0?+this.options.labelBackgroundOpacity:.5);var e=(0,m.colorToHex)(this.getLabelColor()),n=2;if(!(this.dimensions[0]<0)){var i=this.options.labelShowAssembly&&this.tilesetInfo&&this.tilesetInfo.coordSystem?String(this.tilesetInfo.coordSystem)+" | ":"";if(i+=this.getName(),this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.max_width&&this.tilesetInfo.bins_per_dimension){var o=_(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom);i+="\n[Current data resolution: "+String(o)+"]"}else if(this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.resolutions){var a=b(this.tilesetInfo.resolutions,this.calculateZoomLevel());i+="\n[Current data resolution: "+String(a)+"]"}if(this.options&&this.options.dataTransform){var s=null;if(this.tilesetInfo&&this.tilesetInfo.transforms){var l=!0,u=!1,c=void 0;try{for(var h,f=(0,r.default)(this.tilesetInfo.transforms);!(l=(h=f.next()).done);l=!0){var d=h.value;d.value===this.options.dataTransform&&(s=d)}}catch(x){u=!0,c=x}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}}s?i+="\n[Transform: "+String(s.name)+"]":"None"===this.options.dataTransform?i+="\n[Transform: None ]":i+="\n[Transform: Default ]"}this.labelText.text=i,this.labelText.style={fontSize:String(this.labelTextFontSize)+"px",fontFamily:this.labelTextFontFamily,fill:e},this.labelText.alpha=typeof this.options.labelTextOpacity<"u"?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1);var p=+this.options.labelLeftMargin||0,v=+this.options.labelRightMargin||0,g=+this.options.labelTopMargin||0,y=+this.options.labelBottomMargin||0;"topLeft"===this.options.labelPosition?(this.labelText.x=this.position[0]+p+this.labelXOffset,this.labelText.y=this.position[1]+g,this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,t.drawRect(this.position[0]+p+this.labelXOffset,this.position[1]+g,this.labelText.width+n,this.labelText.height+n)):"bottomLeft"===this.options.labelPosition&&!this.flipText||"topRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+(p||g),this.labelText.y=this.position[1]+this.dimensions[1]-(y||v),this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2+this.labelXOffset,t.drawRect(this.position[0]+(p||g)+this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-n-(y||v),this.labelText.width+n,this.labelText.height+n)):"topRight"===this.options.labelPosition&&!this.flipText||"bottomLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]-(v||y),this.labelText.y=this.position[1]+(g||p),this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2+this.labelXOffset,t.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-n-(v||y)-this.labelXOffset,this.position[1]+(g||p),this.labelText.width+n,this.labelText.height+n)):"bottomRight"===this.options.labelPosition?(this.labelText.x=this.position[0]+this.dimensions[0]-v,this.labelText.y=this.position[1]+this.dimensions[1]-y,this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2+this.labelXOffset,t.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-n-v-this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-n-y,this.labelText.width+n,this.labelText.height+n)):"outerLeft"===this.options.labelPosition&&!this.flipText||"outerTop"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):"outerTop"===this.options.labelPosition&&!this.flipText||"outerLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):"outerBottom"===this.options.labelPosition&&!this.flipText||"outerRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):"outerRight"===this.options.labelPosition&&!this.flipText||"outerBottom"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,"outerLeft"===this.options.labelPosition||"outerRight"===this.options.labelPosition||"outerTop"===this.options.labelPosition||"outerBottom"===this.options.labelPosition?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}}}return t}()},{key:"rerender",value:function(){function t(t){this.options=t,this.draw(),this.drawBackground(),this.drawLabel(),this.drawError(),this.drawBorder()}return t}()},{key:"draw",value:function(){function t(){this.drawError()}return t}()},{key:"exportSVG",value:function(){function t(){var t=document.createElement("g"),e=document.createElement("rect");e.setAttribute("x",""+String(this.position[0])),e.setAttribute("y",""+String(this.position[1])),e.setAttribute("width",""+String(this.dimensions[0])),e.setAttribute("height",""+String(this.dimensions[1])),this.options&&this.options.backgroundColor?e.setAttribute("fill",this.options.backgroundColor):e.setAttribute("fill-opacity","0");var n=document.createElement("g");n.setAttribute("class","g-clipped"),t.appendChild(n),n.appendChild(e);var r=document.createElement("g");n.setAttribute("class","g-track"),n.appendChild(r);var i=document.createElement("g");n.setAttribute("class","g-labels"),n.appendChild(i);var o=document.createElementNS("http://www.w3.org/2000/svg","clipPath");t.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.appendChild(a),a.setAttribute("points",String(this.position[0])+","+String(this.position[1])+" "+String(this.position[0]+this.dimensions[0])+","+String(this.position[1])+" "+String(this.position[0]+this.dimensions[0])+","+String(this.position[1]+this.dimensions[1])+" "+String(this.position[0])+","+String(this.position[1]+this.dimensions[1])+" ");var s=d.default.nice();o.setAttribute("id",s),n.setAttribute("style","clip-path:url(#"+String(s)+");");var l=this.labelText.text.split("\n"),u=0,c=3,h=(this.labelTextFontSize+2)*l.length+c;.5===this.labelText.anchor.y?u=h/2:1===this.labelText.anchor.y&&(u=-h);for(var f=0;f<l.length;f++){var p=document.createElement("text");if(p.setAttribute("font-family",this.labelTextFontFamily),p.setAttribute("font-size",String(this.labelTextFontSize)+"px"),p.innerText=l[f],"topLeft"===this.options.labelPosition||"topRight"===this.options.labelPosition){var m=u+(f+1)*(this.labelTextFontSize+2);p.setAttribute("dy",m)}else("bottomLeft"===this.options.labelPosition||"bottomRight"===this.options.labelPosition)&&p.setAttribute("dy",u+f*(this.labelTextFontSize+2));p.setAttribute("fill",this.options.labelColor),.5===this.labelText.anchor.x?p.setAttribute("text-anchor","middle"):1===this.labelText.anchor.x&&p.setAttribute("text-anchor","end"),i.appendChild(p)}return i.setAttribute("transform","translate("+String(this.labelText.x)+","+String(this.labelText.y)+")scale("+String(this.labelText.scale.x)+",1)"),[t,r]}return t}()}]),e}(p.default);e.default=x},function(t,e,n){var r=n(406),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){t.exports=n},function(t,e,n){var r=n(32),i=n(66);t.exports=n(36)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports={default:n(222),__esModule:!0}},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var r=n(829),i=n(290)((function(t,e,n){r(t,e,n)}));t.exports=i},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(105),i=n(87);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(92);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch{return!0}}},function(t,e){t.exports={}},function(t,e,n){var r=n(295),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=function(t){return"function"==typeof t&&"[object Function]"===o.call(t)},u=function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch{return!1}},c=s&&u(),h=function(t,e,n,r){e in t&&(!l(r)||!r())||(c?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},f=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=a.call(o,Object.getOwnPropertySymbols(e)));for(var s=0;s<o.length;s+=1)h(t,o[s],e[o[s]],n[o[s]])};f.supportsDescriptors=!!c,t.exports=f},function(t,e,n){var r=n(947);t.exports=Function.prototype.bind||r},function(t,e,n){var r=n(87);t.exports=function(t){return Object(r(t))}},function(t,e,n){t.exports={default:n(241),__esModule:!0}},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.red=void 0;var r=o(n(839)),i=o(n(840));function o(t){return t&&t.__esModule?t:{default:t}}e.default={simpleCheckForValidColor:function(t){var e=["r","g","b","a","h","s","l","v"],n=0,i=0;return(0,r.default)(e,(function(e){t[e]&&(n+=1,isNaN(t[e])||(i+=1),"s"===e||"l"===e)&&/^\d+%$/.test(t[e])&&(i+=1)})),n===i&&t},toState:function(t,e){var n=t.hex?(0,i.default)(t.hex):(0,i.default)(t),r=n.toHsl(),o=n.toHsv(),a=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=e||0,o.h=e||0),{hsl:r,hex:"000000"===s&&0===a.a?"transparent":"#"+s,rgb:a,hsv:o,oldHue:t.h||e||r.h,source:t.source}},isValidHex:function(t){var e="#"===String(t).charAt(0)?1:0;return t.length!==4+e&&t.length<7+e&&(0,i.default)(t).isValid()},getContrastingColor:function(t){if(!t)return"#fff";var e=this.toState(t);return"transparent"===e.hex?"rgba(0,0,0,0.4)":(299*e.rgb.r+587*e.rgb.g+114*e.rgb.b)/1e3>=128?"#000":"#fff"}},e.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(53);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){var r=n(158),i=n(107);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(215)(!0);n(109)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){t.exports={default:n(520),__esModule:!0}},function(t,e,n){t.exports={default:n(239),__esModule:!0}},function(t,e,n){var r=e.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};e.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},e.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};var i=e.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUITEM:"menuitem",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"},o=e.SPECIAL_ELEMENTS=Object.create(null);o[r.HTML]=Object.create(null),o[r.HTML][i.ADDRESS]=!0,o[r.HTML][i.APPLET]=!0,o[r.HTML][i.AREA]=!0,o[r.HTML][i.ARTICLE]=!0,o[r.HTML][i.ASIDE]=!0,o[r.HTML][i.BASE]=!0,o[r.HTML][i.BASEFONT]=!0,o[r.HTML][i.BGSOUND]=!0,o[r.HTML][i.BLOCKQUOTE]=!0,o[r.HTML][i.BODY]=!0,o[r.HTML][i.BR]=!0,o[r.HTML][i.BUTTON]=!0,o[r.HTML][i.CAPTION]=!0,o[r.HTML][i.CENTER]=!0,o[r.HTML][i.COL]=!0,o[r.HTML][i.COLGROUP]=!0,o[r.HTML][i.DD]=!0,o[r.HTML][i.DETAILS]=!0,o[r.HTML][i.DIR]=!0,o[r.HTML][i.DIV]=!0,o[r.HTML][i.DL]=!0,o[r.HTML][i.DT]=!0,o[r.HTML][i.EMBED]=!0,o[r.HTML][i.FIELDSET]=!0,o[r.HTML][i.FIGCAPTION]=!0,o[r.HTML][i.FIGURE]=!0,o[r.HTML][i.FOOTER]=!0,o[r.HTML][i.FORM]=!0,o[r.HTML][i.FRAME]=!0,o[r.HTML][i.FRAMESET]=!0,o[r.HTML][i.H1]=!0,o[r.HTML][i.H2]=!0,o[r.HTML][i.H3]=!0,o[r.HTML][i.H4]=!0,o[r.HTML][i.H5]=!0,o[r.HTML][i.H6]=!0,o[r.HTML][i.HEAD]=!0,o[r.HTML][i.HEADER]=!0,o[r.HTML][i.HGROUP]=!0,o[r.HTML][i.HR]=!0,o[r.HTML][i.HTML]=!0,o[r.HTML][i.IFRAME]=!0,o[r.HTML][i.IMG]=!0,o[r.HTML][i.INPUT]=!0,o[r.HTML][i.LI]=!0,o[r.HTML][i.LINK]=!0,o[r.HTML][i.LISTING]=!0,o[r.HTML][i.MAIN]=!0,o[r.HTML][i.MARQUEE]=!0,o[r.HTML][i.MENU]=!0,o[r.HTML][i.META]=!0,o[r.HTML][i.NAV]=!0,o[r.HTML][i.NOEMBED]=!0,o[r.HTML][i.NOFRAMES]=!0,o[r.HTML][i.NOSCRIPT]=!0,o[r.HTML][i.OBJECT]=!0,o[r.HTML][i.OL]=!0,o[r.HTML][i.P]=!0,o[r.HTML][i.PARAM]=!0,o[r.HTML][i.PLAINTEXT]=!0,o[r.HTML][i.PRE]=!0,o[r.HTML][i.SCRIPT]=!0,o[r.HTML][i.SECTION]=!0,o[r.HTML][i.SELECT]=!0,o[r.HTML][i.SOURCE]=!0,o[r.HTML][i.STYLE]=!0,o[r.HTML][i.SUMMARY]=!0,o[r.HTML][i.TABLE]=!0,o[r.HTML][i.TBODY]=!0,o[r.HTML][i.TD]=!0,o[r.HTML][i.TEMPLATE]=!0,o[r.HTML][i.TEXTAREA]=!0,o[r.HTML][i.TFOOT]=!0,o[r.HTML][i.TH]=!0,o[r.HTML][i.THEAD]=!0,o[r.HTML][i.TITLE]=!0,o[r.HTML][i.TR]=!0,o[r.HTML][i.TRACK]=!0,o[r.HTML][i.UL]=!0,o[r.HTML][i.WBR]=!0,o[r.HTML][i.XMP]=!0,o[r.MATHML]=Object.create(null),o[r.MATHML][i.MI]=!0,o[r.MATHML][i.MO]=!0,o[r.MATHML][i.MN]=!0,o[r.MATHML][i.MS]=!0,o[r.MATHML][i.MTEXT]=!0,o[r.MATHML][i.ANNOTATION_XML]=!0,o[r.SVG]=Object.create(null),o[r.SVG][i.TITLE]=!0,o[r.SVG][i.FOREIGN_OBJECT]=!0,o[r.SVG][i.DESC]=!0},function(t,e,n){var r={value:function(){}};function i(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function a(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function s(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function l(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}o.prototype=i.prototype={constructor:o,on:function(t,e){var n,r=this._,i=a(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<u;)if(n=(t=i[o]).type)r[n]=l(r[n],t.name,e);else if(null==e)for(n in r)r[n]=l(r[n],t.name,null);return this}for(;++o<u;)if((n=(t=i[o]).type)&&(n=s(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new o(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var u=i;n.d(e,"a",(function(){return u}))},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(2)),i=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}n(68);var a=function(t){return i.default.createElement("div",{"data-menu-item-for":"string"==typeof t.children?t.children:null,onClick:function(){function e(e){return t.onClick(e)}return e}(),onMouseEnter:function(){function e(e){return t.onMouseEnter(e)}return e}(),onMouseLeave:function(){function e(e){return t.onMouseLeave(e)}return e}(),role:"button",className:"ContextMenu-module_context-menu-item-1HeVv",tabIndex:0},i.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},t.children))};a.defaultProps={onMouseEnter:function(){function t(){}return t}(),onMouseLeave:function(){function t(){}return t}()},a.propTypes={children:r.default.node.isRequired,onClick:r.default.func.isRequired,onMouseEnter:r.default.func,onMouseLeave:r.default.func},e.default=a},function(t,e,n){t.exports={"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Provider=e.fake=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(171));function a(t){return t&&t.__esModule?t:{default:t}}var s={__fake__:!0,publish:o.default,subscribe:o.default,unsubscribe:o.default},l=i.default.createContext(s),u=l.Provider,c=l.Consumer,h=function(t){return i.default.forwardRef((function(e,n){return i.default.createElement(c,null,(function(o){return i.default.createElement(t,(0,r.default)({ref:n},e,{pubSub:o}))}))}))};e.default=h,e.fake=s,e.Provider=u},function(t,e,n){var r=n(413),i=n(144),o=n(795),a=n(31);function s(t,e){return(a(t)?r:o)(t,i(e,3))}t.exports=s},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!T(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}default:return t}})),l=r[n];n<o;l=r[++n])b(l)||!k(l)?a+=" "+l:a+=" "+s(l);return a},e.deprecate=function(n,r){if(typeof t<"u"&&!0===t.noDeprecation)return n;if(typeof t>"u")return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;function o(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}return o};var o,a={};function s(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&e._extend(r,n),S(r.showHidden)&&(r.showHidden=!1),S(r.depth)&&(r.depth=2),S(r.colors)&&(r.colors=!1),S(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),h(r,t,r.depth)}function l(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function u(t,e){return t}function c(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}function h(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return T(i)||(i=h(t,i,r)),i}var o=f(t,n);if(o)return o;var a=Object.keys(n),s=c(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),A(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(O(n)){var l=n.name?": "+n.name:"";return t.stylize("[Function"+l+"]","special")}if(E(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return t.stylize(Date.prototype.toString.call(n),"date");if(A(n))return d(n)}var u,y="",b=!1,_=["{","}"];return g(n)&&(b=!0,_=["[","]"]),O(n)&&(y=" [Function"+(n.name?": "+n.name:"")+"]"),E(n)&&(y=" "+RegExp.prototype.toString.call(n)),C(n)&&(y=" "+Date.prototype.toUTCString.call(n)),A(n)&&(y=" "+d(n)),0!==a.length||b&&0!=n.length?r<0?E(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=b?p(t,n,r,s,a):a.map((function(e){return m(t,n,r,s,e,b)})),t.seen.pop(),v(u,y,_)):_[0]+y+_[1]}function f(t,e){if(S(e))return t.stylize("undefined","undefined");if(T(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return x(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):b(e)?t.stylize("null","null"):void 0}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)D(e,String(a))?o.push(m(t,e,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(m(t,e,n,r,i,!0))})),o}function m(t,e,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),D(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(l.value)<0?(s=b(n)?h(t,l.value,null):h(t,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),S(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function v(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function g(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function b(t){return null===t}function _(t){return null==t}function x(t){return"number"==typeof t}function T(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function S(t){return void 0===t}function E(t){return k(t)&&"[object RegExp]"===M(t)}function k(t){return"object"==typeof t&&null!==t}function C(t){return k(t)&&"[object Date]"===M(t)}function A(t){return k(t)&&("[object Error]"===M(t)||t instanceof Error)}function O(t){return"function"==typeof t}function P(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||typeof t>"u"}function M(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(S(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=g,e.isBoolean=y,e.isNull=b,e.isNullOrUndefined=_,e.isNumber=x,e.isString=T,e.isSymbol=w,e.isUndefined=S,e.isRegExp=E,e.isObject=k,e.isDate=C,e.isError=A,e.isFunction=O,e.isPrimitive=P,e.isBuffer=n(971);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),R[t.getMonth()],e].join(" ")}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",L(),e.format.apply(e,arguments))},e.inherits=n(58),e._extend=function(t,e){if(!e||!k(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var N=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function j(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}function B(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(j,e,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(N&&t[N]){var e;if("function"!=typeof(e=t[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),N&&Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=N,e.callbackify=B}).call(this,n(150))},function(t,e,n){var r="$";function i(){}function o(t,e){var n=new i;if(t instanceof i)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,o=-1,a=t.length;if(null==e)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e(r=t[o],o,t),r)}else if(t)for(var s in t)n.set(s,t[s]);return n}i.prototype=o.prototype={constructor:i,has:function(t){return r+t in this},get:function(t){return this[r+t]},set:function(t,e){return this[r+t]=e,this},remove:function(t){var e=r+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===r&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===r&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===r&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===r&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===r&&++t;return t},empty:function(){for(var t in this)if(t[0]===r)return!1;return!0},each:function(t){for(var e in this)e[0]===r&&t(this[e],e.slice(1),this)}};var a=o;function s(){}var l=a.prototype;s.prototype={constructor:s,has:l.has,add:function(t){return this[r+(t+="")]=t,this},remove:l.remove,clear:l.clear,values:l.keys,size:l.size,empty:l.empty,each:l.each},n.d(e,"a",(function(){return a}))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(18)),i=u(n(19)),o=n(104),a=n(24),s=n(10),l=n(69);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.fake,u={absToChr:function(t){return u.chrPositions?(0,s.absToChr)(t,u):null},chrToAbs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=(0,i.default)(t,2),n=e[0],r=e[1];return u.chrPositions?(0,s.chrToAbs)(n,r,u):null}};return a.tileProxy.text(t,(function(t,n){if(t)e&&e(null);else{var i=(0,o.tsvParseRows)(n),a=(0,s.parseChromsizesRows)(i);(0,r.default)(a).forEach((function(t){u[t]=a[t]})),e&&e(u)}}),n).then((function(){return u}))}e.default=c},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=!0},function(t,e,n){n(212);for(var r=n(23),i=n(43),o=n(51),a=n(21)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],h=c&&c.prototype;h&&!h[a]&&i(h,a,u),o[u]=o.Array}},function(t,e,n){var r=n(32).f,i=n(47),o=n(21)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Provider=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(171));function a(t){return t&&t.__esModule?t:{default:t}}var s=i.default.createContext({close:o.default,open:o.default}),l=s.Provider,u=s.Consumer,c=function(t){return i.default.forwardRef((function(e,n){return i.default.createElement(u,null,(function(o){return i.default.createElement(t,(0,r.default)({ref:n},e,{theme:o}))}))}))};e.default=c,e.Provider=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=O(n(63)),i=O(n(55)),o=O(n(95)),a=O(n(37)),s=O(n(19)),l=O(n(34)),u=O(n(35)),c=O(n(17)),h=O(n(25)),f=O(n(18)),d=O(n(30)),p=O(n(38)),m=O(n(5)),v=O(n(3)),g=O(n(4)),y=O(n(6)),b=O(n(14)),_=O(n(7));e.getValueScale=P;var x=n(28),T=n(8),w=O(n(26)),S=O(n(245)),E=O(n(40)),k=n(10),C=O(n(617)),A=n(11);function O(t){return t&&t.__esModule?t:{default:t}}function P(t,e,n,r,i){var o=0;return"log"===(t||i)&&e>0?["log",(0,x.scaleLog)().range([254,0]).domain([e+o,r+o])]:["linear",(0,x.scaleLinear)().range([254,0]).domain([e,r])]}var M=function(t){function e(t,n){(0,v.default)(this,e);var r=(0,y.default)(this,(e.__proto__||(0,m.default)(e)).call(this,t,n)),i=t.pubSub,o=t.dataConfig,a=t.handleTilesetInfoReceived,s=t.animate,l=t.onValueScaleChanged;return r.renderVersion=1,r.visibleTiles=new p.default,r.visibleTileIds=new p.default,r.renderingTiles=new p.default,r.fetching=new p.default,r.scale={},r.fetchedTiles={},r.tileGraphics={},r.maxZoom=0,r.medianVisibleValue=null,r.backgroundTaskScheduler=C.default,r.continuousScaling="requestIdleCallback"in window,r.valueScaleMin=null,r.fixedValueScaleMin=null,r.valueScaleMax=null,r.fixedValueScaleMax=null,r.listeners={},r.pubSub=i,r.animate=s,r.onValueScaleChanged=l,r.prevValueScale=null,t.dataFetcher?r.dataFetcher=t.dataFetcher:r.dataFetcher=new S.default(o,r.pubSub),r.tilesetInfo=null,r.uuid=w.default.nice(),r.trackNotFoundText=new A.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),r.pLabel.addChild(r.trackNotFoundText),r.refreshTilesDebounced=(0,k.throttleAndDebounce)(r.refreshTiles.bind(r),A.ZOOM_DEBOUNCE,A.ZOOM_DEBOUNCE),r.dataFetcher.tilesetInfo((function(t,e){if(r.tilesetInfo=t,r.dataFetcher.dataConfig.tilesetUid||(r.dataFetcher.dataConfig.tilesetUid=e),r.tilesetUid=r.dataFetcher.dataConfig.tilesetUid,r.server=r.dataFetcher.dataConfig.server||"unknown",r.tilesetInfo.chromsizes&&(r.chromInfo=(0,k.parseChromsizesRows)(r.tilesetInfo.chromsizes)),"error"in r.tilesetInfo)return console.warn("Error retrieving tilesetInfo:",o,r.tilesetInfo.error),r.tilesetInfo=null,void r.setError(r.tilesetInfo.error);r.tilesetInfo.resolutions?r.maxZoom=r.tilesetInfo.resolutions.length:r.maxZoom=+r.tilesetInfo.max_zoom,r.options&&r.options.maxZoom&&(r.options.maxZoom>=0?r.maxZoom=Math.min(r.options.maxZoom,r.maxZoom):console.error("Invalid maxZoom on track:",r)),r.refreshTiles(),a&&a(t),r.options||(r.options={}),r.options.name=r.options.name||t.name,r.checkValueScaleLimits(),r.draw(),r.drawLabel(),r.animate()})),r}return(0,_.default)(e,t),(0,g.default)(e,[{key:"setError",value:function(){function t(t){this.errorTextText=t,this.draw(),this.animate()}return t}()},{key:"setFixedValueScaleMin",value:function(){function t(t){(0,d.default)(+t)?this.fixedValueScaleMin=null:this.fixedValueScaleMin=+t}return t}()},{key:"setFixedValueScaleMax",value:function(){function t(t){(0,d.default)(+t)?this.fixedValueScaleMax=null:this.fixedValueScaleMax=+t}return t}()},{key:"checkValueScaleLimits",value:function(){function t(){this.valueScaleMin=typeof this.options.valueScaleMin<"u"?+this.options.valueScaleMin:null,null!==this.fixedValueScaleMin&&(this.valueScaleMin=this.fixedValueScaleMin),this.valueScaleMax=typeof this.options.valueScaleMax<"u"?+this.options.valueScaleMax:null,null!==this.fixedValueScaleMax&&(this.valueScaleMax=this.fixedValueScaleMax)}return t}()},{key:"on",value:function(){function t(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}return t}()},{key:"off",value:function(){function t(t,e){var n=this.listeners[t].indexOf(e);-1===n||n>=this.listeners[t].length||this.listeners[t].splice(n,1)}return t}()},{key:"rerender",value:function(){function t(t){(0,b.default)(e.prototype.__proto__||(0,m.default)(e.prototype),"rerender",this).call(this,t),this.renderVersion+=1,this.tilesetInfo&&(this.checkValueScaleLimits(),this.tilesetInfo.resolutions?this.maxZoom=this.tilesetInfo.resolutions.length:this.maxZoom=+this.tilesetInfo.max_zoom,this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}return t}()},{key:"visibleAndFetchedIds",value:function(){function t(){var t=this;return(0,f.default)(this.fetchedTiles).filter((function(e){return t.visibleTileIds.has(e)}))}return t}()},{key:"visibleAndFetchedTiles",value:function(){function t(){var t=this;return this.visibleAndFetchedIds().map((function(e){return t.fetchedTiles[e]}))}return t}()},{key:"setVisibleTiles",value:function(){function t(t){var e=this;this.visibleTiles=t.map((function(t){return{tileId:e.tileToLocalId(t),remoteId:e.tileToRemoteId(t),mirrored:t.mirrored}})),this.visibleTileIds=new p.default(this.visibleTiles.map((function(t){return t.tileId})))}return t}()},{key:"removeOldTiles",value:function(){function t(){var t=this;this.calculateVisibleTiles();var e=new p.default((0,f.default)(this.fetchedTiles)),n=[].concat((0,h.default)(e)).filter((function(e){return!t.visibleTileIds.has(e)}));this.removeTiles(n)}return t}()},{key:"refreshTiles",value:function(){function t(){var t=this;if(this.tilesetInfo){this.calculateVisibleTiles();for(var e=new p.default((0,f.default)(this.fetchedTiles)),n=[].concat((0,h.default)(this.visibleTiles)).filter((function(n){return!t.fetching.has(n.remoteId)&&!e.has(n.tileId)})),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);this.removeOldTiles(),this.fetchNewTiles(n)}}return t}()},{key:"parentInFetched",value:function(){function t(t){for(var e=t.tileData.tilesetUid,n=t.tileData.zoomLevel,r=t.tileData.tilePos;n>0;)if(n-=1,r=r.map((function(t){return Math.floor(t/2)})),String(e)+"."+String(n)+"."+String(r.join("."))in this.fetchedTiles)return!0;return!1}return t}()},{key:"parentTileId",value:function(){function t(t){var e=t.tileData.zoomLevel-1,n=t.tileData.tilePos.map((function(t){return Math.floor(t/2)})),r=t.tileData.tilesetUid;return String(r)+"."+e+"."+String(n.join("."))}return t}()},{key:"removeTiles",value:function(){function t(t){var e=this;!t.length||!this.areAllVisibleTilesLoaded()||this.renderingTiles.size||(t.forEach((function(t){var n=t;e.destroyTile(e.fetchedTiles[n]),n in e.tileGraphics&&(e.pMain.removeChild(e.tileGraphics[n]),delete e.tileGraphics[n]),delete e.fetchedTiles[n]})),this.synchronizeTilesAndGraphics(),this.draw())}return t}()},{key:"zoomed",value:function(){function t(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.xScale(t),this.yScale(e),this.refreshTilesDebounced(),this.pMobile.position.x=r,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}return t}()},{key:"setPosition",value:function(){function t(t){(0,b.default)(e.prototype.__proto__||(0,m.default)(e.prototype),"setPosition",this).call(this,t)}return t}()},{key:"setDimensions",value:function(){function t(t){(0,b.default)(e.prototype.__proto__||(0,m.default)(e.prototype),"setDimensions",this).call(this,t)}return t}()},{key:"areAllVisibleTilesLoaded",value:function(){function t(){for(var t=new p.default((0,f.default)(this.fetchedTiles)),e=[].concat((0,h.default)(this.visibleTileIds)),n=0;n<e.length;n++)if(!t.has(e[n]))return!1;return!0}return t}()},{key:"allTilesLoaded",value:function(){function t(){}return t}()},{key:"minValue",value:function(){function t(t){return t?(this.scale.minValue=t,this):null!==this.valueScaleMin?this.valueScaleMin:this.scale.minValue}return t}()},{key:"maxValue",value:function(){function t(t){return t?(this.scale.maxValue=t,this):null!==this.valueScaleMax?this.valueScaleMax:this.scale.maxValue}return t}()},{key:"minRawValue",value:function(){function t(){return this.scale.minRawValue}return t}()},{key:"maxRawValue",value:function(){function t(){return this.scale.maxRawValue}return t}()},{key:"initTile",value:function(){function t(){this.scale.minRawValue=this.continuousScaling?this.minVisibleValue():this.minVisibleValueInTiles(),this.scale.maxRawValue=this.continuousScaling?this.maxVisibleValue():this.maxVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue}return t}()},{key:"updateTile",value:function(){function t(){}return t}()},{key:"destroyTile",value:function(){function t(){}return t}()},{key:"addMissingGraphics",value:function(){function t(){var t=(0,f.default)(this.fetchedTiles);this.renderVersion+=1;for(var e=0;e<t.length;e++)if(!(t[e]in this.tileGraphics)){var n=new A.GLOBALS.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[t[e]].graphics=n,this.initTile(this.fetchedTiles[t[e]]),this.tileGraphics[t[e]]=n}}return t}()},{key:"updateExistingGraphics",value:function(){function t(){for(var t=(0,f.default)(this.fetchedTiles),e=0;e<t.length;e++){var n=this.fetchedTiles[t[e]];this.updateTile(n)}}return t}()},{key:"synchronizeTilesAndGraphics",value:function(){function t(){if(this.addMissingGraphics(),this.removeOldTiles(),this.updateExistingGraphics(),this.listeners.dataChanged){var t=!0,e=!1,n=void 0;try{for(var r,i=(0,c.default)(this.listeners.dataChanged);!(t=(r=i.next()).done);t=!0)(0,r.value)(this.visibleAndFetchedTiles().map((function(t){return t.tileData})))}catch(o){e=!0,n=o}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}}}return t}()},{key:"loadTileData",value:function(){function t(t,e){var n=this.lruCache.get(t.tileId);return n||(n=e(t.data,t.type),this.lruCache.put(t.tileId,n)),n}return t}()},{key:"fetchNewTiles",value:function(){function t(t){if(t.length>0){var e=[].concat((0,h.default)(new p.default(t.map((function(t){return t.remoteId})))));this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),e)}}return t}()},{key:"receivedTiles",value:function(){function t(t){for(var e=this,n=function(){function n(n){var r=e.visibleTiles[n].tileId;if(!t[e.visibleTiles[n].remoteId])return"continue";if(e.visibleTiles[n].remoteId in t){if(r in e.fetchedTiles||(e.fetchedTiles[r]=e.visibleTiles[n]),Array.isArray(t[e.visibleTiles[n].remoteId])){var i=t[e.visibleTiles[n].remoteId];e.fetchedTiles[r].tileData=[].concat((0,h.default)(i)),(0,f.default)(i).filter((function(t){return(0,d.default)(+t)})).forEach((function(t){e.fetchedTiles[r].tileData[t]=i[t]}))}else e.fetchedTiles[r].tileData=(0,l.default)({},t[e.visibleTiles[n].remoteId]);e.fetchedTiles[r].tileData.error&&console.warn("Error in loaded tile",r,e.fetchedTiles[r].tileData)}}return n}(),r=0;r<this.visibleTiles.length;r++)n(r);for(var i in t)if(t[i]){var o=t[i].tilePositionId;this.fetching.has(o)&&this.fetching.delete(o)}this.synchronizeTilesAndGraphics(),this.draw(),this.drawLabel(),this.valueScale&&(!this.prevValueScale||(0,u.default)(this.valueScale.domain())!==(0,u.default)(this.prevValueScale.domain()))&&(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged()),this.animate(),this.areAllVisibleTilesLoaded()&&this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesLoaded",{uuid:this.uuid})}return t}()},{key:"draw",value:function(){function t(){var t=this;if(!this.delayDrawing){if(this.tilesetInfo)this.trackNotFoundText.visible=!1;else{this.dataFetcher.tilesetInfoLoading?this.trackNotFoundText.text="Loading...":this.trackNotFoundText.text="Tileset info not found. Server: ["+String(this.server)+"] tilesetUid: ["+String(this.tilesetUid)+"]";var n=(0,s.default)(this.position,2);this.trackNotFoundText.x=n[0],this.trackNotFoundText.y=n[1],this.flipText&&(this.trackNotFoundText.anchor.x=1,this.trackNotFoundText.scale.x=-1),this.trackNotFoundText.visible=!0}this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnStart",{uuid:this.uuid});var r=(0,a.default)(this.fetchedTiles).map((function(t){return t.tileData&&t.tileData.error&&String(t.tileId)+": "+String(t.tileData.error)})).filter((function(t){return t}));r.length?this.errorTextText=r.join("\n"):this.errorTextText="",(0,b.default)(e.prototype.__proto__||(0,m.default)(e.prototype),"draw",this).call(this),(0,f.default)(this.fetchedTiles).forEach((function(e){t.drawTile(t.fetchedTiles[e])})),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnEnd",{uuid:this.uuid})}}return t}()},{key:"drawTile",value:function(){function t(){}return t}()},{key:"calculateMedianVisibleValue",value:function(){function t(){var t,e=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var n=this.visibleAndFetchedIds();0===n.length&&(n=(0,f.default)(this.fetchedTiles));var r=(t=[]).concat.apply(t,(0,h.default)(n.filter((function(t){return e.fetchedTiles[t].tileData.dense})).map((function(t){return(0,o.default)(e.fetchedTiles[t].tileData.dense)})))).filter((function(t){return t>0}));return this.medianVisibleValue=(0,T.median)(r),this.medianVisibleValue}return t}()},{key:"allVisibleValues",value:function(){function t(){var t,e=this;return(t=[]).concat.apply(t,(0,h.default)(this.visibleAndFetchedIds().map((function(t){return(0,o.default)(e.fetchedTiles[t].tileData.dense)}))))}return t}()},{key:"minVisibleValue",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.minVisibleValueInTiles(t)}return t}()},{key:"minVisibleValueInTiles",value:function(){function t(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,f.default)(this.fetchedTiles));var r=Math.min.apply(Math,(0,h.default)(n.map((function(e){return t.fetchedTiles[e].tileData.minNonZero}))));return r===i.default&&(r=null),e?r:null!==this.valueScaleMin?this.valueScaleMin:r}return t}()},{key:"maxVisibleValue",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.maxVisibleValueInTiles(t)}return t}()},{key:"maxVisibleValueInTiles",value:function(){function t(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,f.default)(this.fetchedTiles));var i=Math.max.apply(Math,(0,h.default)(n.map((function(e){return t.fetchedTiles[e].tileData.maxNonZero}))));return i===r.default&&(i=null),e?i:null!==this.valueScaleMax?this.valueScaleMax:i}return t}()},{key:"makeValueScale",value:function(){function t(t,e,n,r){var i=null,o=0,a=r;(null===a||typeof a>"u")&&(a=6);var s=Math.min(this.dimensions[1]-a,a),l=Math.max(this.dimensions[1]-a,a);if(this.dimensions[1]-a<a&&(s=this.dimensions[1]/2,l=this.dimensions[1]/2),"log"===this.options.valueScaling)(o=e)||(o=t),i=(0,x.scaleLog)().domain([o,n+o]).range([s,l]);else{if("quantile"===this.options.valueScaling){var u=this.dimensions[1]-a,c=a,f=(0,x.scaleQuantile)().domain(this.allVisibleValues()).range((0,T.range)(u,c,(c-u)/256));return f.ticks=function(t){return(0,T.ticks)(u,c,t)},[f,0]}if("setquantile"===this.options.valueScaling){var d=this.dimensions[1]-a,m=a,v=new p.default(this.allVisibleValues()),g=(0,x.scaleQuantile)().domain([].concat((0,h.default)(v))).range((0,T.range)(d,m,(m-d)/256));return g.ticks=function(t){return(0,T.ticks)(d,m,t)},[g,0]}i=(0,x.scaleLinear)().domain([t,n]).range([l,s])}return[i,o]}return t}()}]),e}(E.default);e.default=M},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(7)),l=n(0),u=c(n(26));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n)),s=t.svgElement;return o.gMain=(0,l.select)(s).append("g"),o.clipUid=u.default.nice(),o.clipRect=o.gMain.append("clipPath").attr("id","track-bounds-"+String(o.clipUid)).append("rect"),o.gMain.attr("clip-path","url(#track-bounds-"+String(o.clipUid)+")"),o}return(0,s.default)(e,t),(0,o.default)(e,[{key:"setPosition",value:function(){function t(t){this.position=t,this.gMain.attr("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.draw()}return t}()},{key:"setDimensions",value:function(){function t(t){this.dimensions=t,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),t[0]>=0&&t[1]>=0?(this.clipRect.attr("width",t[0]),this.clipRect.attr("height",t[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}return t}()},{key:"remove",value:function(){function t(){this.gMain.remove(),this.gMain=null}return t}()},{key:"draw",value:function(){function t(){return this}return t}()}]),e}(c(n(177)).default);e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.mix=e.Mixin=e.BareMixin=e.HasInstance=e.DeDupe=e.Cached=e.wrap=e.hasMixin=e.isApplicationOf=e.apply=e.unwrap=void 0;var r=h(n(3)),i=h(n(4)),o=h(n(131)),a=h(n(634)),s=h(n(225)),l=h(n(637)),u=h(n(331)),c=h(n(5));function h(t){return t&&t.__esModule?t:{default:t}}var f="__mixwith_appliedMixin",d="__mixwith_wrappedMixin",p=e.unwrap=function(t){return t[d]||t},m=e.apply=function(t,e){var n=e(t);return n.prototype[f]=p(e),n},v=e.isApplicationOf=function(t,e){return t.hasOwnProperty(f)&&t[f]===p(e)},g=e.hasMixin=function(t,e){for(;null!==t;){if(v(t,e))return!0;t=(0,c.default)(t)}return!1},y=e.wrap=function(t,e){return(0,u.default)(e,t),t[d]||(t[d]=t),e},b="__mixwith_cachedApplications",_=e.Cached=function(t){return y(t,(function(e){var n=e[b];n||(e[b]=new l.default,n=e[b]);var r=n.get(t);return r||(r=t(e),n.set(t,r)),r}))},x=e.DeDupe=function(t){return y(t,(function(e){return g(e.prototype,t)?e:t(e)}))};e.HasInstance=function(t){return s.default&&a.default&&!t[a.default]&&(0,o.default)(t,a.default,{value:function(){function e(e){return g(e,t)}return e}()}),t};var T=e.BareMixin=function(t){return y(t,(function(e){return m(e,t)}))};e.Mixin=function(t){return x(_(T(t)))};var w=function(){function t(e){(0,r.default)(this,t),this.superclass=e||function(){function t(){(0,r.default)(this,t)}return t}()}return(0,i.default)(t,[{key:"with",value:function(){function t(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return e(t)}),this.superclass)}return t}()}]),t}();e.mix=function(t){return new w(t)}},function(t,e,n){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},function(t,e,n){n.r(e);var r=n(65),i=n(84),o=n(15),a=n(0),s=n(85),l=function(t){return function(){return t}},u=function(t,e,n){this.target=t,this.type=e,this.selection=n};function c(){a.event.stopImmediatePropagation()}var h=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},f={name:"drag"},d={name:"space"},p={name:"handle"},m={name:"center"},v={name:"x",handles:["e","w"].map(S),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},g={name:"y",handles:["n","s"].map(S),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},y={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(S),input:function(t){return t},output:function(t){return t}},b={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},x={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},T={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},w={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function S(t){return{type:t}}function E(){return!a.event.button}function k(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function C(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function A(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function O(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function P(t,e,n){return R(v,t,e,n)}function M(t,e,n){return R(g,t,e,n)}var I=function(t,e,n){return R(y,t,e,n)};function R(t,e,n,y){var O,P=k,M=E,I=Object(r.a)(L,"start","brush","end"),R=6;function L(e){var r=e.property("__brush",F).selectAll(".overlay").data([S("overlay")]);r.enter().append("rect").attr("class","overlay").attr("pointer-events",y?"auto":"all").attr("cursor",n?"default":b.overlay).merge(r).each((function(){var t=C(this).extent;Object(a.select)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([S("selection")]).enter().append("rect").attr("class","selection").attr("cursor",b.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return b[t.type]})),e.each(D).attr("fill","none").attr("pointer-events",y?"auto":"all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)"),n?e.on("mousedown.brush touchstart.brush",(function(){"overlay"!==a.event.target.__data__.type&&B.apply(this,arguments)})):e.on("mousedown.brush touchstart.brush",B)}function D(){var t=Object(a.select)(this),e=C(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-R/2:e[0][0]-R/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-R/2:e[0][1]-R/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+R:R})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+R:R}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function N(t,e){return t.__brush.emitter||new j(t,e)}function j(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function B(){if(a.event.touches){if(a.event.changedTouches.length<a.event.touches.length)return h()}else if(O)return;if(M.apply(this,arguments)){var n,r,o,l,u,y,S,E,k,P,I,R,L,j=this,B=a.event.target.__data__.type,F="selection"===(a.event.metaKey&&!e?B="overlay":B)?f:a.event.altKey&&!e?m:p,H=t===g?null:T[B],z=t===v?null:w[B],U=C(j),V=U.extent,G=U.selection,X=V[0][0],Y=V[0][1],W=V[1][0],q=V[1][1],K=H&&z&&a.event.shiftKey,$=Object(a.mouse)(j),Z=$,Q=N(j,arguments).beforestart();"overlay"===B?U.selection=G=[[n=t===g?X:$[0],o=t===v?Y:$[1]],[u=t===g?W:n,S=t===v?q:o]]:(n=G[0][0],o=G[0][1],u=G[1][0],S=G[1][1]),r=n,l=o,y=u,E=S;var J=Object(a.select)(j).attr("pointer-events","none"),tt=J.selectAll(".overlay").attr("cursor",b[B]);if(a.event.touches)J.on("touchmove.brush",nt,!0).on("touchend.brush touchcancel.brush",it,!0);else{var et=Object(a.select)(a.event.view).on("mousemove.brush",nt,!0).on("mouseup.brush",it,!0);e||et.on("keydown.brush",ot,!0).on("keyup.brush",at,!0),Object(i.dragDisable)(a.event.view)}c(),Object(s.interrupt)(j),D.call(j),Q.start()}function nt(){var t=Object(a.mouse)(j);K&&!R&&!L&&(Math.abs(t[0]-Z[0])>Math.abs(t[1]-Z[1])?L=!0:R=!0),Z=t,I=!0,h(),rt()}function rt(){var t;switch(k=Z[0]-$[0],P=Z[1]-$[1],F){case d:case f:H&&(k=Math.max(X-n,Math.min(W-u,k)),r=n+k,y=u+k),z&&(P=Math.max(Y-o,Math.min(q-S,P)),l=o+P,E=S+P);break;case p:H<0?(k=Math.max(X-n,Math.min(W-n,k)),r=n+k,y=u):H>0&&(k=Math.max(X-u,Math.min(W-u,k)),r=n,y=u+k),z<0?(P=Math.max(Y-o,Math.min(q-o,P)),l=o+P,E=S):z>0&&(P=Math.max(Y-S,Math.min(q-S,P)),l=o,E=S+P);break;case m:H&&(r=Math.max(X,Math.min(W,n-k*H)),y=Math.max(X,Math.min(W,u+k*H))),z&&(l=Math.max(Y,Math.min(q,o-P*z)),E=Math.max(Y,Math.min(q,S+P*z)))}y<r&&(H*=-1,t=n,n=u,u=t,t=r,r=y,y=t,B in _&&tt.attr("cursor",b[B=_[B]])),E<l&&(z*=-1,t=o,o=S,S=t,t=l,l=E,E=t,B in x&&tt.attr("cursor",b[B=x[B]])),U.selection&&(G=U.selection),R&&(r=G[0][0],y=G[1][0]),L&&(l=G[0][1],E=G[1][1]),(G[0][0]!==r||G[0][1]!==l||G[1][0]!==y||G[1][1]!==E)&&(U.selection=[[r,l],[y,E]],D.call(j),Q.brush())}function it(){if(c(),a.event.touches){if(a.event.touches.length)return;O&&clearTimeout(O),O=setTimeout((function(){O=null}),500),J.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(i.dragEnable)(a.event.view,I),et.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);J.attr("pointer-events","all"),tt.attr("cursor",b.overlay),U.selection&&(G=U.selection),A(G)&&(U.selection=null,D.call(j)),Q.end()}function ot(){switch(a.event.keyCode){case 16:K=H&&z;break;case 18:F===p&&(H&&(u=y-k*H,n=r+k*H),z&&(S=E-P*z,o=l+P*z),F=m,rt());break;case 32:(F===p||F===m)&&(H<0?u=y-k:H>0&&(n=r-k),z<0?S=E-P:z>0&&(o=l-P),F=d,tt.attr("cursor",b.selection),rt());break;default:return}h()}function at(){switch(a.event.keyCode){case 16:K&&(R=L=K=!1,rt());break;case 18:F===m&&(H<0?u=y:H>0&&(n=r),z<0?S=E:z>0&&(o=l),F=p,rt());break;case 32:F===d&&(a.event.altKey?(H&&(u=y-k*H,n=r+k*H),z&&(S=E-P*z,o=l+P*z),F=m):(H<0?u=y:H>0&&(n=r),z<0?S=E:z>0&&(o=l),F=p),tt.attr("cursor",b[B]),rt());break;default:return}h()}}function F(){var e=this.__brush||{selection:null};return e.extent=P.apply(this,arguments),e.dim=t,e}return L.move=function(e,n){e.selection?e.on("start.brush",(function(){N(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){N(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=N(e,arguments),a=r.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),l=Object(o.a)(a,s);function u(t){r.selection=1===t&&A(s)?null:l(t),D.call(e),i.brush()}return a&&s?u:u(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,o=t.input("function"==typeof n?n.apply(e,r):n,i.extent),a=N(e,r).beforestart();Object(s.interrupt)(e),i.selection=null==o||A(o)?null:o,D.call(e),a.start().brush().end()}))},j.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Object(a.customEvent)(new u(L,e,t.output(this.state.selection)),I.apply,I,[e,this.that,this.args])}},L.extent=function(t){return arguments.length?(P="function"==typeof t?t:l([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),L):P},L.filter=function(t){return arguments.length?(M="function"==typeof t?t:l(!!t),L):M},L.handleSize=function(t){return arguments.length?(R=+t,L):R},L.on=function(){var t=I.on.apply(I,arguments);return t===I?L:t},L}n.d(e,"brush",(function(){return I})),n.d(e,"brushX",(function(){return P})),n.d(e,"brushY",(function(){return M})),n.d(e,"brushSelection",(function(){return O}))},function(t,e,n){n.r(e);var r=n(65),i=n(0);function o(){i.event.stopImmediatePropagation()}var a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},s=function(t){var e=t.document.documentElement,n=Object(i.select)(t).on("dragstart.drag",a,!0);"onselectstart"in e?n.on("selectstart.drag",a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function l(t,e){var n=t.document.documentElement,r=Object(i.select)(t).on("dragstart.drag",null);e&&(r.on("click.drag",a,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var u=function(t){return function(){return t}};function c(t,e,n,r,i,o,a,s,l,u){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=u}function h(){return!i.event.button}function f(){return this.parentNode}function d(t){return t??{x:i.event.x,y:i.event.y}}function p(){return"ontouchstart"in this}c.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var m=function(){var t,e,n,m,v=h,g=f,y=d,b=p,_={},x=Object(r.a)("start","drag","end"),T=0,w=0;function S(t){t.on("mousedown.drag",E).filter(b).on("touchstart.drag",A).on("touchmove.drag",O).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(){if(!m&&v.apply(this,arguments)){var r=M("mouse",g.apply(this,arguments),i.mouse,this,arguments);r&&(Object(i.select)(i.event.view).on("mousemove.drag",k,!0).on("mouseup.drag",C,!0),s(i.event.view),o(),n=!1,t=i.event.clientX,e=i.event.clientY,r("start"))}}function k(){if(a(),!n){var r=i.event.clientX-t,o=i.event.clientY-e;n=r*r+o*o>w}_.mouse("drag")}function C(){Object(i.select)(i.event.view).on("mousemove.drag mouseup.drag",null),l(i.event.view,n),a(),_.mouse("end")}function A(){if(v.apply(this,arguments)){var t,e,n=i.event.changedTouches,r=g.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=M(n[t].identifier,r,i.touch,this,arguments))&&(o(),e("start"))}}function O(){var t,e,n=i.event.changedTouches,r=n.length;for(t=0;t<r;++t)(e=_[n[t].identifier])&&(a(),e("drag"))}function P(){var t,e,n=i.event.changedTouches,r=n.length;for(m&&clearTimeout(m),m=setTimeout((function(){m=null}),500),t=0;t<r;++t)(e=_[n[t].identifier])&&(o(),e("end"))}function M(t,e,n,r,o){var a,s,l,u=n(e,t),h=x.copy();if(Object(i.customEvent)(new c(S,"beforestart",a,t,T,u[0],u[1],0,0,h),(function(){return null!=(i.event.subject=a=y.apply(r,o))&&(s=a.x-u[0]||0,l=a.y-u[1]||0,!0)})))return function f(d){var p,m=u;switch(d){case"start":_[t]=f,p=T++;break;case"end":delete _[t],--T;case"drag":u=n(e,t),p=T}Object(i.customEvent)(new c(S,d,a,t,p,u[0]+s,u[1]+l,u[0]-m[0],u[1]-m[1],h),h.apply,h,[d,r,o])}}return S.filter=function(t){return arguments.length?(v="function"==typeof t?t:u(!!t),S):v},S.container=function(t){return arguments.length?(g="function"==typeof t?t:u(t),S):g},S.subject=function(t){return arguments.length?(y="function"==typeof t?t:u(t),S):y},S.touchable=function(t){return arguments.length?(b="function"==typeof t?t:u(!!t),S):b},S.on=function(){var t=x.on.apply(x,arguments);return t===x?S:t},S.clickDistance=function(t){return arguments.length?(w=(t=+t)*t,S):Math.sqrt(w)},S};n.d(e,"drag",(function(){return m})),n.d(e,"dragDisable",(function(){return s})),n.d(e,"dragEnable",(function(){return l}))},function(t,e,n){n.r(e);var r,i,o=n(0),a=n(65),s=0,l=0,u=0,c=1e3,h=0,f=0,d=0,p="object"==typeof performance&&performance.now?performance:Date,m="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function v(){return f||(m(g),f=p.now()+d)}function g(){f=0}function y(){this._call=this._time=this._next=null}function b(t,e,n){var r=new y;return r.restart(t,e,n),r}function _(){v(),++s;for(var t,e=r;e;)(t=f-e._time)>=0&&e._call.call(null,t),e=e._next;--s}function x(){f=(h=p.now())+d,s=l=0;try{_()}finally{s=0,w(),f=0}}function T(){var t=p.now(),e=t-h;e>c&&(d-=e,h=t)}function w(){for(var t,e,n=r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,S(o)}function S(t){s||(l&&(l=clearTimeout(l)),t-f>24?(t<1/0&&(l=setTimeout(x,t-p.now()-d)),u&&(u=clearInterval(u))):(u||(h=p.now(),u=setInterval(T,c)),s=1,m(x)))}y.prototype=b.prototype={constructor:y,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?v():+n)+(null==e?0:+e),!this._next&&i!==this&&(i?i._next=this:r=this,i=this),this._call=t,this._time=n,S()},stop:function(){this._call&&(this._call=null,this._time=1/0,S())}};var E=function(t,e,n){var r=new y;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},k=Object(a.a)("start","end","cancel","interrupt"),C=[],A=0,O=1,P=2,M=3,I=4,R=5,L=6,D=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};F(t,n,{name:e,index:r,group:i,on:k,tween:C,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:A})};function N(t,e){var n=B(t,e);if(n.state>A)throw new Error("too late; already scheduled");return n}function j(t,e){var n=B(t,e);if(n.state>M)throw new Error("too late; already running");return n}function B(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function F(t,e,n){var r,i=t.__transition;function o(t){n.state=O,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var u,c,h,f;if(n.state!==O)return l();for(u in i)if((f=i[u]).name===n.name){if(f.state===M)return E(a);f.state===I?(f.state=L,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[u]):+u<e&&(f.state=L,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[u])}if(E((function(){n.state===M&&(n.state=I,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=P,n.on.call("start",t,t.__data__,n.index,n.group),n.state===P){for(n.state=M,r=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=R,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===R&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=L,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=b(o,0,n.time)}var H=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>P&&n.state<R,n.state=L,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},z=function(t){return this.each((function(){H(this,t)}))},U=n(15);function V(t,e){var n,r;return function(){var i=j(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function G(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=j(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}var X=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=B(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?V:G)(n,t,e))};function Y(t,e,n){var r=t._id;return t.each((function(){var t=j(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return B(t,r).value[e]}}var W=n(9),q=function(t,e){var n;return("number"==typeof e?U.c:e instanceof W.color?U.d:(n=Object(W.color)(e))?(e=n,U.d):U.f)(t,e)};function K(t){return function(){this.removeAttribute(t)}}function $(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Z(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Q(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function J(t,e,n){var r,i,o;return function(){var a,s,l=n(this);return null==l?void this.removeAttribute(t):(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l))}}function tt(t,e,n){var r,i,o;return function(){var a,s,l=n(this);return null==l?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l))}}var et=function(t,e){var n=Object(o.namespace)(t),r="transform"===n?U.h:q;return this.attrTween(t,"function"==typeof e?(n.local?tt:J)(n,r,Y(this,"attr."+t,e)):null==e?(n.local?$:K)(n):(n.local?Q:Z)(n,r,e))};function nt(t,e){return function(n){this.setAttribute(t,e(n))}}function rt(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}function it(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&rt(t,i)),n}return i._value=e,i}function ot(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&nt(t,i)),n}return i._value=e,i}var at=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Object(o.namespace)(t);return this.tween(n,(r.local?it:ot)(r,e))};function st(t,e){return function(){N(this,t).delay=+e.apply(this,arguments)}}function lt(t,e){return e=+e,function(){N(this,t).delay=e}}var ut=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?st:lt)(e,t)):B(this.node(),e).delay};function ct(t,e){return function(){j(this,t).duration=+e.apply(this,arguments)}}function ht(t,e){return e=+e,function(){j(this,t).duration=e}}var ft=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ct:ht)(e,t)):B(this.node(),e).duration};function dt(t,e){if("function"!=typeof e)throw new Error;return function(){j(this,t).ease=e}}var pt=function(t){var e=this._id;return arguments.length?this.each(dt(e,t)):B(this.node(),e).ease},mt=function(t){"function"!=typeof t&&(t=Object(o.matcher)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,s=e[i],l=s.length,u=r[i]=[],c=0;c<l;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&u.push(a);return new zt(r,this._parents,this._name,this._id)},vt=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=e[s],c=n[s],h=u.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(f[d]=l);for(;s<r;++s)a[s]=e[s];return new zt(a,this._parents,this._name,this._id)};function gt(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function yt(t,e,n){var r,i,o=gt(e)?N:j;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var bt=function(t,e){var n=this._id;return arguments.length<2?B(this.node(),n).on.on(t):this.each(yt(n,t,e))};function _t(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}var xt=function(){return this.on("end.remove",_t(this._id))},Tt=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(o.selector)(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var l,u,c=r[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=c[d])&&(u=t.call(l,l.__data__,d,c))&&("__data__"in l&&(u.__data__=l.__data__),f[d]=u,D(f[d],e,n,d,f,B(l,n)));return new zt(a,this._parents,e,n)},wt=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(o.selectorAll)(t));for(var r=this._groups,i=r.length,a=[],s=[],l=0;l<i;++l)for(var u,c=r[l],h=c.length,f=0;f<h;++f)if(u=c[f]){for(var d,p=t.call(u,u.__data__,f,c),m=B(u,n),v=0,g=p.length;v<g;++v)(d=p[v])&&D(d,e,n,v,p,m);a.push(p),s.push(u)}return new zt(a,s,e,n)},St=o.selection.prototype.constructor,Et=function(){return new St(this._groups,this._parents)};function kt(t,e){var n,r,i;return function(){var a=Object(o.style)(this,t),s=(this.style.removeProperty(t),Object(o.style)(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function Ct(t){return function(){this.style.removeProperty(t)}}function At(t,e,n){var r,i,a=n+"";return function(){var s=Object(o.style)(this,t);return s===a?null:s===r?i:i=e(r=s,n)}}function Ot(t,e,n){var r,i,a;return function(){var s=Object(o.style)(this,t),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(t),u=l=Object(o.style)(this,t)),s===u?null:s===r&&u===i?a:(i=u,a=e(r=s,l))}}function Pt(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=j(this,t),u=l.on,c=null==l.value[a]?o||(o=Ct(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}var Mt=function(t,e,n){var r="transform"==(t+="")?U.g:q;return null==e?this.styleTween(t,kt(t,r)).on("end.style."+t,Ct(t)):"function"==typeof e?this.styleTween(t,Ot(t,r,Y(this,"style."+t,e))).each(Pt(this._id,t)):this.styleTween(t,At(t,r,e),n).on("end.style."+t,null)};function It(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}function Rt(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&It(t,o,n)),r}return o._value=e,o}var Lt=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Rt(t,e,n??""))};function Dt(t){return function(){this.textContent=t}}function Nt(t){return function(){var e=t(this);this.textContent=e??""}}var jt=function(t){return this.tween("text","function"==typeof t?Nt(Y(this,"text",t)):Dt(null==t?"":t+""))},Bt=function(){for(var t=this._name,e=this._id,n=Vt(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=B(a,e);D(a,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new zt(r,this._parents,t,n)},Ft=function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0===--i&&o()}};n.each((function(){var n=j(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))},Ht=0;function zt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ut(t){return Object(o.selection)().transition(t)}function Vt(){return++Ht}var Gt=o.selection.prototype;function Xt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}zt.prototype=Ut.prototype={constructor:zt,select:Tt,selectAll:wt,filter:mt,merge:vt,selection:Et,transition:Bt,call:Gt.call,nodes:Gt.nodes,node:Gt.node,size:Gt.size,empty:Gt.empty,each:Gt.each,on:bt,attr:et,attrTween:at,style:Mt,styleTween:Lt,text:jt,remove:xt,tween:X,delay:ut,duration:ft,ease:pt,end:Ft};var Yt=3;(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(Yt),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(Yt),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(Yt);var Wt=1.70158;(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n})(Wt),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(Wt),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Wt);var qt=2*Math.PI,Kt=1,$t=.3;(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=qt);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*qt)},i.period=function(n){return t(e,n)},i})(Kt,$t),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=qt);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*qt)},i.period=function(n){return t(e,n)},i}(Kt,$t),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=qt);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*qt)},i.period=function(n){return t(e,n)},i}(Kt,$t);var Zt={time:null,delay:0,duration:250,ease:Xt};function Qt(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Zt.time=v(),Zt;return n}var Jt=function(t){var e,n;t instanceof zt?(e=t._id,t=t._name):(e=Vt(),(n=Zt).time=v(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)(a=s[u])&&D(a,t,e,u,s,n||Qt(a,e));return new zt(r,this._parents,t,e)};o.selection.prototype.interrupt=z,o.selection.prototype.transition=Jt;var te=[null],ee=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>O&&n.name===e)return new zt([[t]],te,e,+r);return null};n.d(e,"transition",(function(){return Ut})),n.d(e,"active",(function(){return ee})),n.d(e,"interrupt",(function(){return H}))},function(t,e,n){var r=function(t,e,n,r,i,o,a,s){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(e.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}};t.exports=r},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(89),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(106)("keys"),i=n(91);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){e.__esModule=!0;var r=a(n(560)),i=a(n(225)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===o(r.default)?function(t){return typeof t>"u"?"undefined":o(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t>"u"?"undefined":o(t)}},function(t,e,n){t.exports={default:n(235),__esModule:!0}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(44)),i=p(n(5)),o=p(n(3)),a=p(n(4)),s=p(n(6)),l=p(n(7)),u=p(n(29)),c=p(n(2)),h=p(n(1)),f=p(n(42)),d=n(11);function p(t){return t&&t.__esModule?t:{default:t}}n(68);var m={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},v=20,g=function(t){function e(t){(0,o.default)(this,e);var n=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return n.adjusted=!1,n.state={orientation:n.props.orientation?n.props.orientation:"right",left:n.props.position.left,top:n.props.position.top,submenuShown:null},n}return(0,l.default)(e,t),(0,a.default)(e,[{key:"componentDidMount",value:function(){function t(){this.updateOrientation()}return t}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function t(t){this.adjusted=!1,this.setState({left:t.position.left,top:t.position.top})}return t}()},{key:"componentDidUpdate",value:function(){function t(){this.updateOrientation()}return t}()},{key:"handleItemMouseEnterWithRect",value:function(){function t(t,e){this.setState({submenuShown:e,submenuSourceBbox:t})}return t}()},{key:"handleItemMouseEnter",value:function(){function t(t,e){this.handleItemMouseEnterWithRect(t.currentTarget.getBoundingClientRect(),e)}return t}()},{key:"handleMouseLeave",value:function(){function t(){}return t}()},{key:"handleOtherMouseEnter",value:function(){function t(){this.setState({submenuShown:null})}return t}()},{key:"updateOrientation",value:function(){function t(){if(!this.adjusted){this.adjusted=!0,this.divDom=f.default.findDOMNode(this.div);var t=this.divDom.getBoundingClientRect(),e=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0,height:0},n=this.state.orientation,r=e.top;if(e.top+t.height>window.innerHeight&&(e.top-t.height>0?r=e.top-t.height+v:(r=e.top-t.height+v,r-=r+t.height-window.innerHeight)),"left"===this.state.orientation){var i=e.left-t.width;i<0&&(e.left+e.width+t.width>window.innerWidth?i=0:(i=e.left+e.width,n="right")),this.setState({left:i,top:r,orientation:n})}else{var o=e.left+e.width;e.left+e.width+t.width>window.innerWidth&&(e.left-t.width<0?(o=0,n="right"):(o=e.left-t.width,n="left")),this.setState({left:o,top:r,orientation:n})}}}return t}()},{key:"render",value:function(){function t(){var t=this,e=this.state.left?{left:this.state.left}:{right:this.state.right},n={top:this.state.top},i=(0,r.default)(e,n),o="context-menu";return this.props.theme===d.THEME_DARK&&(o+=" context-menu-dark"),h.default.createElement("div",{ref:function(){function e(e){t.div=e}return e}(),style:i,className:"context-menu-item "+(0,u.default)(o,m)},this.props.children)}return t}()}]),e}(h.default.Component);g.propTypes={children:c.default.node,orientation:c.default.string,parentBbox:c.default.object,position:c.default.object,theme:c.default.symbol.isRequired},e.default=g},function(t,e,n){var r=n(118),i=n(733),o=n(734),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;function u(t){return null==t?void 0===t?s:a:l&&l in Object(t)?i(t):o(t)}t.exports=u},function(t,e,n){var r=n(277),i=n(274);function o(t){return null!=t&&i(t.length)&&!r(t)}t.exports=o},function(t,e,n){var r=n(754),i=n(757);function o(t,e){var n=i(t,e);return r(n)?n:void 0}t.exports=o},function(t,e,n){var r=n(195),i=n(287);function o(t,e,n,o){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var u=e[s],c=o?o(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),a?i(n,u,c):r(n,u,c)}return n}t.exports=o},function(t,e,n){var r=t.exports;[n(952),n(956),n(957),n(958),n(959),n(960)].forEach((function(t){Object.keys(t).forEach((function(e){r[e]=t[e].bind(r)}))}))},function(t,e,n){var r=n(203),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=n(151);o.inherits=n(58);var a=n(466),s=n(305);o.inherits(h,a);for(var l=i(s.prototype),u=0;u<l.length;u++){var c=l[u];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(t){if(!(this instanceof h))return new h(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=o(n(509)),i=n(315);function o(t){return t&&t.__esModule?t:{default:t}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.adapter)return(0,r.default)(t.adapter),t.adapter;var e=(0,i.get)().adapter;return(0,r.default)(e),e}},function(t,e,n){n.r(e);var r={},i={},o=34,a=10,s=13;function l(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}function u(t,e){var n=l(t);return function(r,i){return e(n(r),i,t)}}function c(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function h(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function f(t){return t<0?"-"+h(-t,6):t>9999?"+"+h(t,6):h(t,4)}function d(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":f(t.getUTCFullYear())+"-"+h(t.getUTCMonth()+1,2)+"-"+h(t.getUTCDate(),2)+(i?"T"+h(e,2)+":"+h(n,2)+":"+h(r,2)+"."+h(i,3)+"Z":r?"T"+h(e,2)+":"+h(n,2)+":"+h(r,2)+"Z":n||e?"T"+h(e,2)+":"+h(n,2)+"Z":"")}var p=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function h(t,e){var n,r,i=f(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?u(t,e):l(t)}));return i.columns=r||[],i}function f(t,e){var l,u=[],c=t.length,h=0,f=0,d=c<=0,p=!1;function m(){if(d)return i;if(p)return p=!1,r;var e,l,u=h;if(t.charCodeAt(u)===o){for(;h++<c&&t.charCodeAt(h)!==o||t.charCodeAt(++h)===o;);return(e=h)>=c?d=!0:(l=t.charCodeAt(h++))===a?p=!0:l===s&&(p=!0,t.charCodeAt(h)===a&&++h),t.slice(u+1,e-1).replace(/""/g,'"')}for(;h<c;){if((l=t.charCodeAt(e=h++))===a)p=!0;else if(l===s)p=!0,t.charCodeAt(h)===a&&++h;else if(l!==n)continue;return t.slice(u,e)}return d=!0,t.slice(u,c)}for(t.charCodeAt(c-1)===a&&--c,t.charCodeAt(c-1)===s&&--c;(l=m())!==i;){for(var v=[];l!==r&&l!==i;)v.push(l),l=m();e&&null==(v=e(v,f++))||u.push(v)}return u}function p(e,n){return e.map((function(e){return n.map((function(t){return b(e[t])})).join(t)}))}function m(e,n){return null==n&&(n=c(e)),[n.map(b).join(t)].concat(p(e,n)).join("\n")}function v(t,e){return null==e&&(e=c(t)),p(t,e).join("\n")}function g(t){return t.map(y).join("\n")}function y(e){return e.map(b).join(t)}function b(t){return null==t?"":t instanceof Date?d(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:h,parseRows:f,format:m,formatBody:v,formatRows:g}},m=p(","),v=m.parse,g=m.parseRows,y=m.format,b=m.formatBody,_=m.formatRows,x=p("\t"),T=x.parse,w=x.parseRows,S=x.format,E=x.formatBody,k=x.formatRows;function C(t){for(var e in t){var n,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=n;else r=null;t[e]=r}return t}n.d(e,"dsvFormat",(function(){return p})),n.d(e,"csvParse",(function(){return v})),n.d(e,"csvParseRows",(function(){return g})),n.d(e,"csvFormat",(function(){return y})),n.d(e,"csvFormatBody",(function(){return b})),n.d(e,"csvFormatRows",(function(){return _})),n.d(e,"tsvParse",(function(){return T})),n.d(e,"tsvParseRows",(function(){return w})),n.d(e,"tsvFormat",(function(){return S})),n.d(e,"tsvFormatBody",(function(){return E})),n.d(e,"tsvFormatRows",(function(){return k})),n.d(e,"autoType",(function(){return C}))},function(t,e,n){var r=n(74);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(12),i=n(23),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(75)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(33),i=n(23).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(75),i=n(16),o=n(161),a=n(43),s=n(51),l=n(214),u=n(77),c=n(128),h=n(21)("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",m="values",v=function(){return this};t.exports=function(t,e,n,g,y,b,_){l(n,e,g);var x,T,w,S=function(t){if(!f&&t in A)return A[t];switch(t){case p:case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",k=y==m,C=!1,A=t.prototype,O=A[h]||A[d]||y&&A[y],P=O||S(y),M=y?k?S("entries"):P:void 0,I="Array"==e&&A.entries||O;if(I&&(w=c(I.call(new t)))!==Object.prototype&&w.next&&(u(w,E,!0),!r&&"function"!=typeof w[h]&&a(w,h,v)),k&&O&&O.name!==m&&(C=!0,P=function(){return O.call(this)}),(!r||_)&&(f||C||!A[h])&&a(A,h,P),s[e]=P,s[E]=v,y)if(x={values:k?P:S(m),keys:b?P:S(p),entries:M},_)for(T in x)T in A||o(A,T,x[T]);else i(i.P+i.F*(f||C),e,x);return x}},function(t,e,n){var r=n(39),i=n(162),o=n(107),a=n(90)("IE_PROTO"),s=function(){},l="prototype",u=function(){var t,e=n(108)("iframe"),r=o.length,i="<",a=">";for(e.style.display="none",n(163).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),u=t.F;r--;)delete u[l][o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[l]=r(t),n=new s,s[l]=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(74),i=n(21)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch{}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(111),i=n(21)("iterator"),o=n(51);t.exports=n(12).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){(function(t){var r=n(588),i=n(589),o=n(338);function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch{return!1}}function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?v(t,e,n,r):"string"==typeof e?p(t,e,n):g(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e,n,r){return h(e),e<=0?l(t,e):void 0!==n?"string"==typeof r?l(t,e).fill(n,r):l(t,e).fill(n):l(t,e)}function d(t,e){if(h(e),t=l(t,e<0?0:0|y(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|_(e,n),i=(t=l(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}function m(t,e){var n=e.length<0?0:0|y(e.length);t=l(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function v(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=m(t,e),t}function g(t,e){if(u.isBuffer(e)){var n=0|y(e.length);return 0===(t=l(t,n)).length||e.copy(t,0,0,n),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||et(e.length)?l(t,0):m(t,e);if("Buffer"===e.type&&o(e.data))return m(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function b(t){return+t!=t&&(t=0),u.alloc(+t)}function _(t,e){if(u.isBuffer(t))return t.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(t).length;default:if(r)return $(t).length;e=(""+e).toLowerCase(),r=!0}}function x(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return j(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return D(this,e,n);case"latin1":case"binary":return N(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function T(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:S(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):S(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function S(t,e,n,r,i){var o,a=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,f=0;f<l;f++)if(u(t,o+f)!==u(e,f)){h=!1;break}if(h)return o}return-1}function E(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function k(t,e,n,r){return tt($(e,t.length-n),t,n,r)}function C(t,e,n,r){return tt(Z(e),t,n,r)}function A(t,e,n,r){return C(t,e,n,r)}function O(t,e,n,r){return tt(J(e),t,n,r)}function P(t,e,n,r){return tt(Q(e,t.length-n),t,n,r)}function M(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,l,u=t[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128===(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return L(r)}e.Buffer=u,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return f(null,t,e,n)},u.allocUnsafe=function(t){return d(null,t)},u.allocUnsafeSlow=function(t){return d(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=_,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)T(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)T(this,e,e+3),T(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)T(this,e,e+7),T(this,e+1,e+6),T(this,e+2,e+5),T(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):x.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=t.slice(e,n),h=0;h<s;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return k(this,t,e,n);case"ascii":return C(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function L(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=R));return n}function D(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function N(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function j(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=K(t[o]);return i}function B(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function F(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function H(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function z(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function V(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(t,e,n,r,o){return o||V(t,e,n,4),i.write(t,e,n,r,23,4),n+4}function X(t,e,n,r,o){return o||V(t,e,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||H(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||H(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||H(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||H(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||H(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||H(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||H(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);H(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a|0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);H(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a|0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||H(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||H(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||H(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||H(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||H(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return G(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return G(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return X(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return X(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),!r&&0!==r&&(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:$(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function W(t){if((t=q(t).replace(Y,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function K(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Q(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function J(t){return r.toByteArray(W(t))}function tt(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function et(t){return t!==t}}).call(this,n(27))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.NUM_PRECOMP_SUBSETS_PER_1D_TTILE=8,e.NUM_PRECOMP_SUBSETS_PER_2D_TTILE=8},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(19)),i=v(n(35)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(14)),c=v(n(7)),h=v(n(255)),f=v(n(179)),d=n(24),p=n(10),m=n(11);function v(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(t,n){(0,a.default)(this,e);var r=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n)),i=t.animate,s=t.isShowGlobalMousePosition;return r.constIndicator=new m.GLOBALS.PIXI.Graphics,r.pMain.addChild(r.constIndicator),r.axis=new f.default(r),r.pBase.addChild(r.axis.pAxis),r.animate=i,r.options=n,r.isShowGlobalMousePosition=s,r.pubSubs=[],r.options.showMousePosition&&!r.hideMousePosition&&(r.hideMousePosition=(0,p.showMousePosition)(r,r.is2d,r.isShowGlobalMousePosition())),r}return(0,c.default)(e,t),(0,s.default)(e,[{key:"rerender",value:function(){function t(t,n){var r=(0,i.default)(t);!n&&r===this.prevOptions||((0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"rerender",this).call(this,t,n),this.prevOptions=r,this.options=t,this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,p.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}return t}()},{key:"calculateZoomLevel",value:function(){function t(){if(this.tilesetInfo.resolutions)return d.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]-2);var t=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),e=Math.min(t,this.maxZoom);return e=Math.max(e,0)}return t}()},{key:"relevantScale",value:function(){function t(){return this._xScale}return t}()},{key:"draw",value:function(){function t(){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"draw",this).call(this),this.drawConstIndicator()}return t}()},{key:"drawAxis",value:function(){function t(t){if(this.options.axisPositionVertical||this.options.axisPositionHorizontal)if(this.options.axisPositionVertical&&"hidden"===this.options.axisPositionVertical)this.axis.clearAxis();else if(this.options.axisPositionHorizontal&&"hidden"===this.options.axisPositionHorizontal)this.axis.clearAxis();else{var e=this.options.axisMargin||0;"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+e,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(t,this.dimensions[1])):"outsideLeft"===this.options.axisPositionHorizontal||"outsideTop"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+e,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(t,this.dimensions[1])):"right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-e,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(t,this.dimensions[1])):("outsideRight"===this.options.axisPositionHorizontal||"outsideBottom"===this.options.axisPositionVertical)&&(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-e,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(t,this.dimensions[1]))}else this.axis.clearAxis()}return t}()},{key:"mouseMoveZoomHandler",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mouseX,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mouseY;if(!(typeof t>"u")&&this.areAllVisibleTilesLoaded()&&this.tilesetInfo){var n=0,r=0,i="1d-horizontal";this.isLeftModified?(n=e-this.position[1],r=t-this.position[0],i="1d-vertical"):(n=t-this.position[0],r=e-this.position[1]);var o=t-this.position[0],a=e-this.position[1],s=this._xScale.invert(n),l=this._yScale.invert(r),u=this.getDataAtPos(n);u&&this.onMouseMoveZoom({trackId:this.id,data:u,absX:t,absY:e,relX:o,relY:a,dataX:s,dataY:l,orientation:i})}}return t}()},{key:"drawConstIndicator",value:function(){function t(){var t=this;if(this.constIndicator){for(this.constIndicator.clear();this.constIndicator.children[0];)this.constIndicator.removeChild(this.constIndicator.children[0]);!this.options.constIndicators||!this.valueScale||this.options.constIndicators.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.color,r=void 0===n?"black":n,i=e.opacity,o=void 0===i?1:i,a=e.label,s=void 0===a?null:a,l=e.labelColor,u=void 0===l?"black":l,c=e.labelOpacity,h=void 0===c?1:c,f=e.labelPosition,d=void 0===f?"leftTop":f,v=e.labelSize,g=void 0===v?12:v,y=e.value,b=void 0===y?0:y,_=(0,p.colorToHex)(r),x=(0,p.colorToHex)(u);t.constIndicator.beginFill(_,o);var T=t.valueScale(b),w=0,S=0;if(s){var E=new m.GLOBALS.PIXI.Text(s,{fontFamily:"Arial",fontSize:g,fill:x});switch(E.alpha=h,d){case"right":E.anchor.x=1,E.anchor.y=.5,E.x=t.position[0]+t.dimensions[0]-6,E.y=T,S=E.width+8;break;case"rightBottom":E.anchor.x=1,E.anchor.y=0,E.x=t.position[0]+t.dimensions[0]-6,E.y=T;break;case"rightTop":E.anchor.x=1,E.anchor.y=1,E.x=t.position[0]+t.dimensions[0]-6,E.y=T;break;case"left":E.anchor.x=0,E.anchor.y=.5,E.x=t.position[0]+2,E.y=T,w=E.width+4;break;case"leftBottom":E.anchor.x=0,E.anchor.y=0,E.x=t.position[0]+2,E.y=T;break;default:E.anchor.x=0,E.anchor.y=1,E.x=t.position[0]+2,E.y=T}t.constIndicator.addChild(E)}t.constIndicator.drawRect(t.position[0]+w,T,t.dimensions[0]-S,1)}))}}return t}()},{key:"exportSVG",value:function(){function t(){var t=this,n=null,i=null;if((0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"exportSVG",this)){var a=(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);i=s[0],n=s[1]}else n=i=document.createElement("g");i.setAttribute("class","horizontal-tiled-1d-track");var l=document.createElement("g");return n.appendChild(l),this.options.constIndicators&&this.options.constIndicators.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.color,r=void 0===n?"black":n,i=e.opacity,o=void 0===i?1:i,a=e.label,s=void 0===a?null:a,u=e.labelColor,c=void 0===u?"black":u,h=e.labelOpacity,f=void 0===h?1:h,d=e.labelPosition,p=void 0===d?"leftTop":d,m=e.labelSize,v=void 0===m?12:m,g=e.value,y=void 0===g?0:g,b=t.valueScale(y);if(s){var _=document.createElement("text");switch(_.textContent=s,_.setAttribute("x",t.position[0]),_.setAttribute("y",b),_.setAttribute("style","font-family: 'Arial'; font-size: "+String(v)+"px; fill: "+String(c)+"; fill-opacity: "+String(f)+";"),p){case"rightBottom":_.setAttribute("x",t.position[0]+t.dimensions[0]-6),_.setAttribute("y",b+v+2),_.setAttribute("text-anchor","end");break;case"right":case"rightTop":_.setAttribute("x",t.position[0]+t.dimensions[0]-6),_.setAttribute("y",b-2),_.setAttribute("text-anchor","end");break;case"leftBottom":_.setAttribute("x",t.position[0]+2),_.setAttribute("y",b+v+2);break;default:_.setAttribute("x",t.position[0]+2),_.setAttribute("y",b-2)}l.appendChild(_)}var x=document.createElement("line");x.setAttribute("x1",t.position[0]),x.setAttribute("y1",b),x.setAttribute("x2",t.dimensions[0]),x.setAttribute("y2",b),x.setAttribute("stroke",r),x.setAttribute("stroke-opacity",o),l.appendChild(x)})),[i,n]}return t}()}]),e}(h.default);e.default=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(17)),i=v(n(30)),o=v(n(19)),a=v(n(5)),s=v(n(3)),l=v(n(4)),u=v(n(6)),c=v(n(14)),h=v(n(7)),f=n(20),d=n(28),p=v(n(115)),m=n(10);function v(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,l.default)(e,[{key:"stopHover",value:function(){function t(){this.pMouseOver.clear(),this.animate()}return t}()},{key:"getMouseOverHtml",value:function(){function t(t){if(!this.tilesetInfo||!this.options.showTooltip||!this.valueScale)return"";var e=this.getDataAtPos(t),n="";e&&(n=(0,f.format)(".3f")(e));var r=this.pMouseOver,i=0,o=this.valueScale(e);r.clear(),r.beginFill(i,.5),r.lineStyle(1,i,1);var a=4;return r.drawRect(t-a/2,o-a/2,a,a),this.animate(),""+String(n)}return t}()},{key:"initTile",value:function(){function t(t){if((0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"initTile",this).call(this,t),t.tileData&&t.tileData.dense){if(t.xValues=new Array(t.tileData.dense.length),t.yValues=new Array(t.tileData.dense.length),this.isValueScaleLocked()){var n=this.getLockGroupExtrema();null!==n&&(this.minValue(n[0]),this.maxValue(n[1]))}this.drawTile(t)}else console.warn("emptyTile:",t)}return t}()},{key:"rerender",value:function(){function t(t,n){var r=this;(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"rerender",this).call(this,t,n),this.options=t,(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"draw",this).call(this),this.visibleAndFetchedTiles().forEach((function(t){r.renderTile(t)}))}return t}()},{key:"renderTile",value:function(){function t(t){this.drawTile(t),this.drawAxis(this.valueScale)}return t}()},{key:"drawTile",value:function(){function t(t){if((0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"drawTile",this).call(this,t),t.graphics&&t.tileData&&t.tileData.dense){var n=t.graphics,s=this.getTilePosAndDimensions(t.tileData.zoomLevel,t.tileData.tilePos),l=s.tileX,u=s.tileWidth,h=t.tileData.dense;if(0!==h.length){var f=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),p=(0,o.default)(f,2),v=p[0],g=p[1];if(this.valueScale=v,n.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var y=(0,m.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue");!this.tilesetInfo.tile_size&&!this.tilesetInfo.bins_per_dimension&&console.warn("No tileset_info.tile_size or tileset_info.bins_per_dimension",this.tilesetInfo);var b=this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension,_=(0,d.scaleLinear)().domain([0,b]).range([l,l+u]),x=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;n.lineStyle(x,y,1),t.segments=[];for(var T=[],w=0;w<h.length;w++){var S=this._xScale(_(w)),E=this.valueScale(h[w]+g);if("log"===this.options.valueScaling&&0===h[w]||(0,i.default)(E))T.length>1&&t.segments.push(T),T=[];else{if(_(w)>this.tilesetInfo.max_pos[0])break;T.push([S,E])}}T.length>1&&t.segments.push(T);var k=!0,C=!1,A=void 0;try{for(var O,P=(0,r.default)(t.segments);!(k=(O=P.next()).done);k=!0){var M=O.value,I=M[0],R=M.slice(1);n.moveTo(I[0],I[1]);var L=!0,D=!1,N=void 0;try{for(var j,B=(0,r.default)(R);!(L=(j=B.next()).done);L=!0){var F=j.value;n.lineTo(F[0],F[1])}}catch(H){D=!0,N=H}finally{try{!L&&B.return&&B.return()}finally{if(D)throw N}}}}catch(H){C=!0,A=H}finally{try{!k&&P.return&&P.return()}finally{if(C)throw A}}}}}return t}()},{key:"setPosition",value:function(){function t(t){(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"setPosition",this).call(this,t),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.pMouseOver.position.y=this.position[1],this.pMouseOver.position.x=this.position[0]}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.refreshTiles(),this.draw();var n=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){if(null===this.valueScaleMin&&null===this.valueScaleMax&&!n){var r=this.minVisibleValue(),i=this.maxVisibleValue(),o=1e-6;null!==r&&null!==i&&(Math.abs(this.minValue()-r)>o||Math.abs(this.maxValue()-i)>o)&&(this.minValue(r),this.maxValue(i),this.scheduleRerender())}n&&this.onValueScaleChanged()}}return t}()},{key:"superSVG",value:function(){function t(){return(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"exportSVG",this).call(this)}return t}()},{key:"exportSVG",value:function(){function t(){var t=null,n=null;if((0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"exportSVG",this)){var i=(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"exportSVG",this).call(this),s=(0,o.default)(i,2);n=s[0],t=s[1]}else t=n=document.createElement("g");n.setAttribute("class","exported-line-track");var l=document.createElement("g");t.appendChild(l),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var u=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue";this.visibleAndFetchedTiles().forEach((function(t){var e=document.createElement("path");e.setAttribute("fill","transparent"),e.setAttribute("stroke",u);var n="",i=!0,o=!1,a=void 0;try{for(var s,c=(0,r.default)(t.segments);!(i=(s=c.next()).done);i=!0){var h=s.value,f=h[0],d=h.slice(1);n+="M"+String(f[0])+" "+String(f[1]);var p=!0,m=!1,v=void 0;try{for(var g,y=(0,r.default)(d);!(p=(g=y.next()).done);p=!0){var b=g.value;n+="L"+String(b[0])+" "+String(b[1])}}catch(_){m=!0,v=_}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}}catch(_){o=!0,a=_}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}e.setAttribute("d",n),l.appendChild(e)}));var h=document.createElement("g");if(h.setAttribute("id","axis"),n.appendChild(h),h.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var f=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);h.appendChild(f)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var d=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);h.appendChild(d)}return[n,t]}return t}()},{key:"tileToLocalId",value:function(){function t(t){return this.options.aggregationMode&&"mean"!==this.options.aggregationMode?String(t.join("."))+"."+String(this.options.aggregationMode):""+String(t.join("."))}return t}()},{key:"tileToRemoteId",value:function(){function t(t){return this.tileToLocalId(t)}return t}()}]),e}(p.default);e.default=g},function(t,e,n){function r(t,e){for(var n in e=e||{},t)e[n]=t[n];return e}function i(t,e,n){var r=n?" !== ":" === ",i=n?" || ":" && ",o=n?"!":"",a=n?"":"!";switch(t){case"null":return e+r+"null";case"array":return o+"Array.isArray("+e+")";case"object":return"("+o+e+i+"typeof "+e+r+'"object"'+i+a+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+i+a+"("+e+" % 1)"+i+e+r+e+")";default:return"typeof "+e+r+'"'+t+'"'}}function o(t,e){if(1===t.length)return i(t[0],e,!0);var n="",r=l(t);for(var o in r.array&&r.object&&(n=r.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer,r)n+=(n?" && ":"")+i(o,e,!0);return n}t.exports={copy:r,checkDataType:i,checkDataTypes:o,coerceToTypes:s,toHash:l,getProperty:h,escapeQuotes:f,equal:n(269),ucs2length:n(692),varOccurences:d,varReplace:p,cleanUpCode:y,finalCleanUpCode:A,schemaHasRules:O,schemaHasRulesExcept:P,schemaUnknownRules:M,toQuotedString:I,getPathExpr:R,getPath:L,getData:j,unescapeFragment:F,unescapeJsonPointer:U,escapeFragment:H,escapeJsonPointer:z};var a=l(["string","number","integer","boolean","null"]);function s(t,e){if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++){var i=e[r];(a[i]||"array"===t&&"array"===i)&&(n[n.length]=i)}if(n.length)return n}else{if(a[e])return[e];if("array"===t&&"array"===e)return["array"]}}function l(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var u=/^[a-z$_][a-z$_0-9]*$/i,c=/'|\\/g;function h(t){return"number"==typeof t?"["+t+"]":u.test(t)?"."+t:"['"+f(t)+"']"}function f(t){return t.replace(c,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function d(t,e){e+="[^0-9]";var n=t.match(new RegExp(e,"g"));return n?n.length:0}function p(t,e,n){return e+="([^0-9])",n=n.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),n+"$1")}var m=/else\s*{\s*}/g,v=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,g=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;function y(t){return t.replace(m,"").replace(v,"").replace(g,"if (!($1))")}var b=/[^v.]errors/g,_=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,x=/var errors = 0;|var vErrors = null;/g,T="return errors === 0;",w="validate.errors = null; return true;",S=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,E="return data;",k=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,C=/if \(rootData === undefined\) rootData = data;/;function A(t,e){var n=t.match(b);return n&&2==n.length&&(t=e?t.replace(x,"").replace(S,E):t.replace(_,"").replace(T,w)),(n=t.match(k))&&3===n.length?t.replace(C,""):t}function O(t,e){if("boolean"==typeof t)return!t;for(var n in t)if(e[n])return!0}function P(t,e,n){if("boolean"==typeof t)return!t&&"not"!=n;for(var r in t)if(r!=n&&e[r])return!0}function M(t,e){if("boolean"!=typeof t)for(var n in t)if(!e[n])return n}function I(t){return"'"+f(t)+"'"}function R(t,e,n,r){return B(t,n?"'/' + "+e+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'")}function L(t,e,n){return B(t,I(n?"/"+z(e):h(e)))}var D=/^\/(?:[^~]|~0|~1)*$/,N=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function j(t,e,n){var r,i,o,a;if(""===t)return"rootData";if("/"==t[0]){if(!D.test(t))throw new Error("Invalid JSON-pointer: "+t);i=t,o="rootData"}else{if(!(a=t.match(N)))throw new Error("Invalid JSON-pointer: "+t);if(r=+a[1],"#"==(i=a[2])){if(r>=e)throw new Error("Cannot access property/index "+r+" levels up, current level is "+e);return n[e-r]}if(r>e)throw new Error("Cannot access data "+r+" levels up, current level is "+e);if(o="data"+(e-r||""),!i)return o}for(var s=o,l=i.split("/"),u=0;u<l.length;u++){var c=l[u];c&&(s+=" && "+(o+=h(U(c))))}return s}function B(t,e){return'""'==t?e:(t+" + "+e).replace(/' \+ '/g,"")}function F(t){return U(decodeURIComponent(t))}function H(t){return encodeURIComponent(z(t))}function z(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function U(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}},function(t,e,n){var r=n(41).Symbol;t.exports=r},function(t,e,n){var r=n(409),i=n(740),o=n(98);function a(t){return o(t)?r(t):i(t)}t.exports=a},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){var r=n(409),i=n(802),o=n(98);function a(t){return o(t)?r(t,!0):i(t)}t.exports=a},function(t,e,n){var r=n(52),i=n(449),o=n(451),a=n(948),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),t.exports=s},function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},function(t,e,n){var r=n(966),i=n(149),o=n(967),a=i.CODE_POINTS,s=i.CODE_POINT_SEQUENCES,l={0:65533,13:13,128:8364,129:129,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,141:141,142:381,143:143,144:144,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,157:157,158:382,159:376},u=1,c=2,h=4,f=u|c|h,d="DATA_STATE",p="CHARACTER_REFERENCE_IN_DATA_STATE",m="RCDATA_STATE",v="CHARACTER_REFERENCE_IN_RCDATA_STATE",g="RAWTEXT_STATE",y="SCRIPT_DATA_STATE",b="PLAINTEXT_STATE",_="TAG_OPEN_STATE",x="END_TAG_OPEN_STATE",T="TAG_NAME_STATE",w="RCDATA_LESS_THAN_SIGN_STATE",S="RCDATA_END_TAG_OPEN_STATE",E="RCDATA_END_TAG_NAME_STATE",k="RAWTEXT_LESS_THAN_SIGN_STATE",C="RAWTEXT_END_TAG_OPEN_STATE",A="RAWTEXT_END_TAG_NAME_STATE",O="SCRIPT_DATA_LESS_THAN_SIGN_STATE",P="SCRIPT_DATA_END_TAG_OPEN_STATE",M="SCRIPT_DATA_END_TAG_NAME_STATE",I="SCRIPT_DATA_ESCAPE_START_STATE",R="SCRIPT_DATA_ESCAPE_START_DASH_STATE",L="SCRIPT_DATA_ESCAPED_STATE",D="SCRIPT_DATA_ESCAPED_DASH_STATE",N="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",j="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",B="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",F="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",H="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",z="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",U="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",V="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",G="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",X="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",Y="BEFORE_ATTRIBUTE_NAME_STATE",W="ATTRIBUTE_NAME_STATE",q="AFTER_ATTRIBUTE_NAME_STATE",K="BEFORE_ATTRIBUTE_VALUE_STATE",$="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",Z="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",Q="ATTRIBUTE_VALUE_UNQUOTED_STATE",J="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE",tt="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",et="SELF_CLOSING_START_TAG_STATE",nt="BOGUS_COMMENT_STATE",rt="BOGUS_COMMENT_STATE_CONTINUATION",it="MARKUP_DECLARATION_OPEN_STATE",ot="COMMENT_START_STATE",at="COMMENT_START_DASH_STATE",st="COMMENT_STATE",lt="COMMENT_END_DASH_STATE",ut="COMMENT_END_STATE",ct="COMMENT_END_BANG_STATE",ht="DOCTYPE_STATE",ft="DOCTYPE_NAME_STATE",dt="AFTER_DOCTYPE_NAME_STATE",pt="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",mt="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",vt="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",gt="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",yt="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",bt="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",_t="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",xt="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Tt="BOGUS_DOCTYPE_STATE",wt="CDATA_SECTION_STATE";function St(t){return t===a.SPACE||t===a.LINE_FEED||t===a.TABULATION||t===a.FORM_FEED}function Et(t){return t>=a.DIGIT_0&&t<=a.DIGIT_9}function kt(t){return t>=a.LATIN_CAPITAL_A&&t<=a.LATIN_CAPITAL_Z}function Ct(t){return t>=a.LATIN_SMALL_A&&t<=a.LATIN_SMALL_Z}function At(t){return Ct(t)||kt(t)}function Ot(t){return At(t)||Et(t)}function Pt(t,e){return Et(t)||e&&(t>=a.LATIN_CAPITAL_A&&t<=a.LATIN_CAPITAL_F||t>=a.LATIN_SMALL_A&&t<=a.LATIN_SMALL_F)}function Mt(t){return t>=55296&&t<=57343||t>1114111}function It(t){return t+32}function Rt(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(t>>>10&1023|55296)+String.fromCharCode(56320|1023&t))}function Lt(t){return String.fromCharCode(It(t))}function Dt(t,e){for(var n=o[++t],r=++t,i=r+n-1;r<=i;){var a=r+i>>>1,s=o[a];if(s<e)r=a+1;else{if(!(s>e))return o[a+n];i=a-1}}return-1}var Nt=t.exports=function(){this.preprocessor=new r,this.tokenQueue=[],this.allowCDATA=!1,this.state=d,this.returnState="",this.tempBuff=[],this.additionalAllowedCp=void 0,this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null};Nt.CHARACTER_TOKEN="CHARACTER_TOKEN",Nt.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Nt.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Nt.START_TAG_TOKEN="START_TAG_TOKEN",Nt.END_TAG_TOKEN="END_TAG_TOKEN",Nt.COMMENT_TOKEN="COMMENT_TOKEN",Nt.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Nt.EOF_TOKEN="EOF_TOKEN",Nt.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Nt.MODE={DATA:d,RCDATA:m,RAWTEXT:g,SCRIPT_DATA:y,PLAINTEXT:b},Nt.getTokenAttr=function(t,e){for(var n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null},Nt.prototype.getNextToken=function(){for(;!this.tokenQueue.length&&this.active;){this._hibernationSnapshot();var t=this._consume();this._ensureHibernation()||this[this.state](t)}return this.tokenQueue.shift()},Nt.prototype.write=function(t,e){this.active=!0,this.preprocessor.write(t,e)},Nt.prototype.insertHtmlAtCurrentPos=function(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t)},Nt.prototype._hibernationSnapshot=function(){this.consumedAfterSnapshot=0},Nt.prototype._ensureHibernation=function(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Nt.HIBERNATION_TOKEN}),!0}return!1},Nt.prototype._consume=function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()},Nt.prototype._unconsume=function(){this.consumedAfterSnapshot--,this.preprocessor.retreat()},Nt.prototype._unconsumeSeveral=function(t){for(;t--;)this._unconsume()},Nt.prototype._reconsumeInState=function(t){this.state=t,this._unconsume()},Nt.prototype._consumeSubsequentIfMatch=function(t,e,n){for(var r=0,i=!0,o=t.length,s=0,l=e,u=void 0;s<o;s++){if(s>0&&(l=this._consume(),r++),l===a.EOF){i=!1;break}if(l!==(u=t[s])&&(n||l!==It(u))){i=!1;break}}return i||this._unconsumeSeveral(r),i},Nt.prototype._lookahead=function(){var t=this._consume();return this._unconsume(),t},Nt.prototype.isTempBufferEqualToScriptString=function(){if(this.tempBuff.length!==s.SCRIPT_STRING.length)return!1;for(var t=0;t<this.tempBuff.length;t++)if(this.tempBuff[t]!==s.SCRIPT_STRING[t])return!1;return!0},Nt.prototype._createStartTagToken=function(){this.currentToken={type:Nt.START_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}},Nt.prototype._createEndTagToken=function(){this.currentToken={type:Nt.END_TAG_TOKEN,tagName:"",attrs:[]}},Nt.prototype._createCommentToken=function(){this.currentToken={type:Nt.COMMENT_TOKEN,data:""}},Nt.prototype._createDoctypeToken=function(t){this.currentToken={type:Nt.DOCTYPE_TOKEN,name:t,forceQuirks:!1,publicId:null,systemId:null}},Nt.prototype._createCharacterToken=function(t,e){this.currentCharacterToken={type:t,chars:e}},Nt.prototype._createAttr=function(t){this.currentAttr={name:t,value:""}},Nt.prototype._isDuplicateAttr=function(){return null!==Nt.getTokenAttr(this.currentToken,this.currentAttr.name)},Nt.prototype._leaveAttrName=function(t){this.state=t,this._isDuplicateAttr()||this.currentToken.attrs.push(this.currentAttr)},Nt.prototype._leaveAttrValue=function(t){this.state=t},Nt.prototype._isAppropriateEndTagToken=function(){return this.lastStartTagName===this.currentToken.tagName},Nt.prototype._emitCurrentToken=function(){this._emitCurrentCharacterToken(),this.currentToken.type===Nt.START_TAG_TOKEN&&(this.lastStartTagName=this.currentToken.tagName),this.tokenQueue.push(this.currentToken),this.currentToken=null},Nt.prototype._emitCurrentCharacterToken=function(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)},Nt.prototype._emitEOFToken=function(){this._emitCurrentCharacterToken(),this.tokenQueue.push({type:Nt.EOF_TOKEN})},Nt.prototype._appendCharToCurrentCharacterToken=function(t,e){this.currentCharacterToken&&this.currentCharacterToken.type!==t&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=e:this._createCharacterToken(t,e)},Nt.prototype._emitCodePoint=function(t){var e=Nt.CHARACTER_TOKEN;St(t)?e=Nt.WHITESPACE_CHARACTER_TOKEN:t===a.NULL&&(e=Nt.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(e,Rt(t))},Nt.prototype._emitSeveralCodePoints=function(t){for(var e=0;e<t.length;e++)this._emitCodePoint(t[e])},Nt.prototype._emitChar=function(t){this._appendCharToCurrentCharacterToken(Nt.CHARACTER_TOKEN,t)},Nt.prototype._consumeNumericEntity=function(t){var e="",n=void 0;do{e+=Rt(this._consume()),n=this._lookahead()}while(n!==a.EOF&&Pt(n,t));this._lookahead()===a.SEMICOLON&&this._consume();var r=parseInt(e,t?16:10);return l[r]||(Mt(r)?a.REPLACEMENT_CHARACTER:r)},Nt.prototype._consumeNamedEntity=function(t){for(var e=null,n=0,r=null,i=0,s=!1,l=0;l>-1;){var d=o[l],p=d<f;if(p&&d&u&&(e=d&c?[o[++l],o[++l]]:[o[++l]],n=i,r===a.SEMICOLON)){s=!0;break}if(i++,(r=this._consume())===a.EOF)break;l=p?d&h?Dt(l,r):-1:r===d?++l:-1}if(e){if(!s&&(this._unconsumeSeveral(i-n),t)){var m=this._lookahead();if(m===a.EQUALS_SIGN||Ot(m))return this._unconsumeSeveral(n),null}return e}return this._unconsumeSeveral(i),null},Nt.prototype._consumeCharacterReference=function(t,e){if(St(t)||t===a.GREATER_THAN_SIGN||t===a.AMPERSAND||t===this.additionalAllowedCp||t===a.EOF)return this._unconsume(),null;if(t===a.NUMBER_SIGN){var n=!1,r=this._lookahead();return(r===a.LATIN_SMALL_X||r===a.LATIN_CAPITAL_X)&&(this._consume(),n=!0),(r=this._lookahead())!==a.EOF&&Pt(r,n)?[this._consumeNumericEntity(n)]:(this._unconsumeSeveral(n?2:1),null)}return this._unconsume(),this._consumeNamedEntity(e)};var jt=Nt.prototype;jt[d]=function(t){this.preprocessor.dropParsedChunk(),t===a.AMPERSAND?this.state=p:t===a.LESS_THAN_SIGN?this.state=_:t===a.NULL?this._emitCodePoint(t):t===a.EOF?this._emitEOFToken():this._emitCodePoint(t)},jt[p]=function(t){this.additionalAllowedCp=void 0;var e=this._consumeCharacterReference(t,!1);this._ensureHibernation()||(e?this._emitSeveralCodePoints(e):this._emitChar("&"),this.state=d)},jt[m]=function(t){this.preprocessor.dropParsedChunk(),t===a.AMPERSAND?this.state=v:t===a.LESS_THAN_SIGN?this.state=w:t===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):t===a.EOF?this._emitEOFToken():this._emitCodePoint(t)},jt[v]=function(t){this.additionalAllowedCp=void 0;var e=this._consumeCharacterReference(t,!1);this._ensureHibernation()||(e?this._emitSeveralCodePoints(e):this._emitChar("&"),this.state=m)},jt[g]=function(t){this.preprocessor.dropParsedChunk(),t===a.LESS_THAN_SIGN?this.state=k:t===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):t===a.EOF?this._emitEOFToken():this._emitCodePoint(t)},jt[y]=function(t){this.preprocessor.dropParsedChunk(),t===a.LESS_THAN_SIGN?this.state=O:t===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):t===a.EOF?this._emitEOFToken():this._emitCodePoint(t)},jt[b]=function(t){this.preprocessor.dropParsedChunk(),t===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):t===a.EOF?this._emitEOFToken():this._emitCodePoint(t)},jt[_]=function(t){t===a.EXCLAMATION_MARK?this.state=it:t===a.SOLIDUS?this.state=x:At(t)?(this._createStartTagToken(),this._reconsumeInState(T)):t===a.QUESTION_MARK?this._reconsumeInState(nt):(this._emitChar("<"),this._reconsumeInState(d))},jt[x]=function(t){At(t)?(this._createEndTagToken(),this._reconsumeInState(T)):t===a.GREATER_THAN_SIGN?this.state=d:t===a.EOF?(this._reconsumeInState(d),this._emitChar("<"),this._emitChar("/")):this._reconsumeInState(nt)},jt[T]=function(t){St(t)?this.state=Y:t===a.SOLIDUS?this.state=et:t===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):kt(t)?this.currentToken.tagName+=Lt(t):t===a.NULL?this.currentToken.tagName+=i.REPLACEMENT_CHARACTER:t===a.EOF?this._reconsumeInState(d):this.currentToken.tagName+=Rt(t)},jt[w]=function(t){t===a.SOLIDUS?(this.tempBuff=[],this.state=S):(this._emitChar("<"),this._reconsumeInState(m))},jt[S]=function(t){At(t)?(this._createEndTagToken(),this._reconsumeInState(E)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(m))},jt[E]=function(t){if(kt(t))this.currentToken.tagName+=Lt(t),this.tempBuff.push(t);else if(Ct(t))this.currentToken.tagName+=Rt(t),this.tempBuff.push(t);else{if(this._isAppropriateEndTagToken()){if(St(t))return void(this.state=Y);if(t===a.SOLIDUS)return void(this.state=et);if(t===a.GREATER_THAN_SIGN)return this.state=d,void this._emitCurrentToken()}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(m)}},jt[k]=function(t){t===a.SOLIDUS?(this.tempBuff=[],this.state=C):(this._emitChar("<"),this._reconsumeInState(g))},jt[C]=function(t){At(t)?(this._createEndTagToken(),this._reconsumeInState(A)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(g))},jt[A]=function(t){if(kt(t))this.currentToken.tagName+=Lt(t),this.tempBuff.push(t);else if(Ct(t))this.currentToken.tagName+=Rt(t),this.tempBuff.push(t);else{if(this._isAppropriateEndTagToken()){if(St(t))return void(this.state=Y);if(t===a.SOLIDUS)return void(this.state=et);if(t===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=d)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(g)}},jt[O]=function(t){t===a.SOLIDUS?(this.tempBuff=[],this.state=P):t===a.EXCLAMATION_MARK?(this.state=I,this._emitChar("<"),this._emitChar("!")):(this._emitChar("<"),this._reconsumeInState(y))},jt[P]=function(t){At(t)?(this._createEndTagToken(),this._reconsumeInState(M)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(y))},jt[M]=function(t){if(kt(t))this.currentToken.tagName+=Lt(t),this.tempBuff.push(t);else if(Ct(t))this.currentToken.tagName+=Rt(t),this.tempBuff.push(t);else{if(this._isAppropriateEndTagToken()){if(St(t))return void(this.state=Y);if(t===a.SOLIDUS)return void(this.state=et);if(t===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=d)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(y)}},jt[I]=function(t){t===a.HYPHEN_MINUS?(this.state=R,this._emitChar("-")):this._reconsumeInState(y)},jt[R]=function(t){t===a.HYPHEN_MINUS?(this.state=N,this._emitChar("-")):this._reconsumeInState(y)},jt[L]=function(t){t===a.HYPHEN_MINUS?(this.state=D,this._emitChar("-")):t===a.LESS_THAN_SIGN?this.state=j:t===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):t===a.EOF?this._reconsumeInState(d):this._emitCodePoint(t)},jt[D]=function(t){t===a.HYPHEN_MINUS?(this.state=N,this._emitChar("-")):t===a.LESS_THAN_SIGN?this.state=j:t===a.NULL?(this.state=L,this._emitChar(i.REPLACEMENT_CHARACTER)):t===a.EOF?this._reconsumeInState(d):(this.state=L,this._emitCodePoint(t))},jt[N]=function(t){t===a.HYPHEN_MINUS?this._emitChar("-"):t===a.LESS_THAN_SIGN?this.state=j:t===a.GREATER_THAN_SIGN?(this.state=y,this._emitChar(">")):t===a.NULL?(this.state=L,this._emitChar(i.REPLACEMENT_CHARACTER)):t===a.EOF?this._reconsumeInState(d):(this.state=L,this._emitCodePoint(t))},jt[j]=function(t){t===a.SOLIDUS?(this.tempBuff=[],this.state=B):At(t)?(this.tempBuff=[],this._emitChar("<"),this._reconsumeInState(H)):(this._emitChar("<"),this._reconsumeInState(L))},jt[B]=function(t){At(t)?(this._createEndTagToken(),this._reconsumeInState(F)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(L))},jt[F]=function(t){if(kt(t))this.currentToken.tagName+=Lt(t),this.tempBuff.push(t);else if(Ct(t))this.currentToken.tagName+=Rt(t),this.tempBuff.push(t);else{if(this._isAppropriateEndTagToken()){if(St(t))return void(this.state=Y);if(t===a.SOLIDUS)return void(this.state=et);if(t===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=d)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(L)}},jt[H]=function(t){St(t)||t===a.SOLIDUS||t===a.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?z:L,this._emitCodePoint(t)):kt(t)?(this.tempBuff.push(It(t)),this._emitCodePoint(t)):Ct(t)?(this.tempBuff.push(t),this._emitCodePoint(t)):this._reconsumeInState(L)},jt[z]=function(t){t===a.HYPHEN_MINUS?(this.state=U,this._emitChar("-")):t===a.LESS_THAN_SIGN?(this.state=G,this._emitChar("<")):t===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):t===a.EOF?this._reconsumeInState(d):this._emitCodePoint(t)},jt[U]=function(t){t===a.HYPHEN_MINUS?(this.state=V,this._emitChar("-")):t===a.LESS_THAN_SIGN?(this.state=G,this._emitChar("<")):t===a.NULL?(this.state=z,this._emitChar(i.REPLACEMENT_CHARACTER)):t===a.EOF?this._reconsumeInState(d):(this.state=z,this._emitCodePoint(t))},jt[V]=function(t){t===a.HYPHEN_MINUS?this._emitChar("-"):t===a.LESS_THAN_SIGN?(this.state=G,this._emitChar("<")):t===a.GREATER_THAN_SIGN?(this.state=y,this._emitChar(">")):t===a.NULL?(this.state=z,this._emitChar(i.REPLACEMENT_CHARACTER)):t===a.EOF?this._reconsumeInState(d):(this.state=z,this._emitCodePoint(t))},jt[G]=function(t){t===a.SOLIDUS?(this.tempBuff=[],this.state=X,this._emitChar("/")):this._reconsumeInState(z)},jt[X]=function(t){St(t)||t===a.SOLIDUS||t===a.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?L:z,this._emitCodePoint(t)):kt(t)?(this.tempBuff.push(It(t)),this._emitCodePoint(t)):Ct(t)?(this.tempBuff.push(t),this._emitCodePoint(t)):this._reconsumeInState(z)},jt[Y]=function(t){St(t)||(t===a.SOLIDUS||t===a.GREATER_THAN_SIGN||t===a.EOF?this._reconsumeInState(q):t===a.EQUALS_SIGN?(this._createAttr("="),this.state=W):(this._createAttr(""),this._reconsumeInState(W)))},jt[W]=function(t){St(t)||t===a.SOLIDUS||t===a.GREATER_THAN_SIGN||t===a.EOF?(this._leaveAttrName(q),this._unconsume()):t===a.EQUALS_SIGN?this._leaveAttrName(K):kt(t)?this.currentAttr.name+=Lt(t):t===a.QUOTATION_MARK||t===a.APOSTROPHE||t===a.LESS_THAN_SIGN?this.currentAttr.name+=Rt(t):t===a.NULL?this.currentAttr.name+=i.REPLACEMENT_CHARACTER:this.currentAttr.name+=Rt(t)},jt[q]=function(t){St(t)||(t===a.SOLIDUS?this.state=et:t===a.EQUALS_SIGN?this.state=K:t===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):t===a.EOF?this._reconsumeInState(d):(this._createAttr(""),this._reconsumeInState(W)))},jt[K]=function(t){St(t)||(t===a.QUOTATION_MARK?this.state=$:t===a.APOSTROPHE?this.state=Z:this._reconsumeInState(Q))},jt[$]=function(t){t===a.QUOTATION_MARK?this.state=tt:t===a.AMPERSAND?(this.additionalAllowedCp=a.QUOTATION_MARK,this.returnState=this.state,this.state=J):t===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:t===a.EOF?this._reconsumeInState(d):this.currentAttr.value+=Rt(t)},jt[Z]=function(t){t===a.APOSTROPHE?this.state=tt:t===a.AMPERSAND?(this.additionalAllowedCp=a.APOSTROPHE,this.returnState=this.state,this.state=J):t===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:t===a.EOF?this._reconsumeInState(d):this.currentAttr.value+=Rt(t)},jt[Q]=function(t){St(t)?this._leaveAttrValue(Y):t===a.AMPERSAND?(this.additionalAllowedCp=a.GREATER_THAN_SIGN,this.returnState=this.state,this.state=J):t===a.GREATER_THAN_SIGN?(this._leaveAttrValue(d),this._emitCurrentToken()):t===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:t===a.QUOTATION_MARK||t===a.APOSTROPHE||t===a.LESS_THAN_SIGN||t===a.EQUALS_SIGN||t===a.GRAVE_ACCENT?this.currentAttr.value+=Rt(t):t===a.EOF?this._reconsumeInState(d):this.currentAttr.value+=Rt(t)},jt[J]=function(t){var e=this._consumeCharacterReference(t,!0);if(!this._ensureHibernation()){if(e)for(var n=0;n<e.length;n++)this.currentAttr.value+=Rt(e[n]);else this.currentAttr.value+="&";this.state=this.returnState}},jt[tt]=function(t){St(t)?this._leaveAttrValue(Y):t===a.SOLIDUS?this._leaveAttrValue(et):t===a.GREATER_THAN_SIGN?(this._leaveAttrValue(d),this._emitCurrentToken()):t===a.EOF?this._reconsumeInState(d):this._reconsumeInState(Y)},jt[et]=function(t){t===a.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=d,this._emitCurrentToken()):t===a.EOF?this._reconsumeInState(d):this._reconsumeInState(Y)},jt[nt]=function(){this._createCommentToken(),this._reconsumeInState(rt)},jt[rt]=function(t){for(;;){if(t===a.GREATER_THAN_SIGN){this.state=d;break}if(t===a.EOF){this._reconsumeInState(d);break}if(this.currentToken.data+=t===a.NULL?i.REPLACEMENT_CHARACTER:Rt(t),this._hibernationSnapshot(),t=this._consume(),this._ensureHibernation())return}this._emitCurrentToken()},jt[it]=function(t){var e=this._consumeSubsequentIfMatch(s.DASH_DASH_STRING,t,!0),n=!e&&this._consumeSubsequentIfMatch(s.DOCTYPE_STRING,t,!1),r=!e&&!n&&this.allowCDATA&&this._consumeSubsequentIfMatch(s.CDATA_START_STRING,t,!0);this._ensureHibernation()||(e?(this._createCommentToken(),this.state=ot):n?this.state=ht:r?this.state=wt:this._reconsumeInState(nt))},jt[ot]=function(t){t===a.HYPHEN_MINUS?this.state=at:t===a.NULL?(this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=st):t===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):t===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(d)):(this.currentToken.data+=Rt(t),this.state=st)},jt[at]=function(t){t===a.HYPHEN_MINUS?this.state=ut:t===a.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=st):t===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):t===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(d)):(this.currentToken.data+="-",this.currentToken.data+=Rt(t),this.state=st)},jt[st]=function(t){t===a.HYPHEN_MINUS?this.state=lt:t===a.NULL?this.currentToken.data+=i.REPLACEMENT_CHARACTER:t===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(d)):this.currentToken.data+=Rt(t)},jt[lt]=function(t){t===a.HYPHEN_MINUS?this.state=ut:t===a.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=st):t===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(d)):(this.currentToken.data+="-",this.currentToken.data+=Rt(t),this.state=st)},jt[ut]=function(t){t===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):t===a.EXCLAMATION_MARK?this.state=ct:t===a.HYPHEN_MINUS?this.currentToken.data+="-":t===a.NULL?(this.currentToken.data+="--",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=st):t===a.EOF?(this._reconsumeInState(d),this._emitCurrentToken()):(this.currentToken.data+="--",this.currentToken.data+=Rt(t),this.state=st)},jt[ct]=function(t){t===a.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=lt):t===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):t===a.NULL?(this.currentToken.data+="--!",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=st):t===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(d)):(this.currentToken.data+="--!",this.currentToken.data+=Rt(t),this.state=st)},jt[ht]=function(t){St(t)||(t===a.GREATER_THAN_SIGN?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=d):t===a.EOF?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):(this._createDoctypeToken(""),this._reconsumeInState(ft)))},jt[ft]=function(t){St(t)||t===a.GREATER_THAN_SIGN||t===a.EOF?this._reconsumeInState(dt):kt(t)?this.currentToken.name+=Lt(t):t===a.NULL?this.currentToken.name+=i.REPLACEMENT_CHARACTER:this.currentToken.name+=Rt(t)},jt[dt]=function(t){if(!St(t))if(t===a.GREATER_THAN_SIGN)this.state=d,this._emitCurrentToken();else{var e=this._consumeSubsequentIfMatch(s.PUBLIC_STRING,t,!1),n=!e&&this._consumeSubsequentIfMatch(s.SYSTEM_STRING,t,!1);this._ensureHibernation()||(e?this.state=pt:n?this.state=yt:(this.currentToken.forceQuirks=!0,this.state=Tt))}},jt[pt]=function(t){St(t)||(t===a.QUOTATION_MARK?(this.currentToken.publicId="",this.state=mt):t===a.APOSTROPHE?(this.currentToken.publicId="",this.state=vt):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Tt)))},jt[mt]=function(t){t===a.QUOTATION_MARK?this.state=gt:t===a.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:t===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=d):t===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):this.currentToken.publicId+=Rt(t)},jt[vt]=function(t){t===a.APOSTROPHE?this.state=gt:t===a.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:t===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=d):t===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):this.currentToken.publicId+=Rt(t)},jt[gt]=function(t){St(t)||(t===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=d):t===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state=bt):t===a.APOSTROPHE?(this.currentToken.systemId="",this.state=_t):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Tt)))},jt[yt]=function(t){St(t)||(t===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state=bt):t===a.APOSTROPHE?(this.currentToken.systemId="",this.state=_t):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Tt)))},jt[bt]=function(t){t===a.QUOTATION_MARK?this.state=xt:t===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=d):t===a.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:t===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):this.currentToken.systemId+=Rt(t)},jt[_t]=function(t){t===a.APOSTROPHE?this.state=xt:t===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=d):t===a.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:t===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):this.currentToken.systemId+=Rt(t)},jt[xt]=function(t){St(t)||(t===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=d):t===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):this.state=Tt)},jt[Tt]=function(t){t===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=d):t===a.EOF&&(this._emitCurrentToken(),this._reconsumeInState(d))},jt[wt]=function(t){for(;;){if(t===a.EOF){this._reconsumeInState(d);break}var e=this._consumeSubsequentIfMatch(s.CDATA_END_STRING,t,!0);if(this._ensureHibernation())break;if(e){this.state=d;break}if(this._emitCodePoint(t),this._hibernationSnapshot(),t=this._consume(),this._ensureHibernation())break}}},function(t,e,n){function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}function i(t){if(Array.isArray(t))return t}function o(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(t,e){return i(t)||o(t,e)||a()}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){l(t,e,n[e])}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t){return(p="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(t){return d(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":d(t)})(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?m(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}n.r(e);var _=n(1),x=n(2),T=n.n(x),w=n(42),S=n(86),E=n.n(S);function k(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function C(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function O(t){return k(t)||C(t)||A()}n.d(e,"SortableContainer",(function(){return dt})),n.d(e,"sortableContainer",(function(){return dt})),n.d(e,"SortableElement",(function(){return vt})),n.d(e,"sortableElement",(function(){return vt})),n.d(e,"SortableHandle",(function(){return nt})),n.d(e,"sortableHandle",(function(){return nt})),n.d(e,"arrayMove",(function(){return I}));var P=function(){function t(){c(this,t),l(this,"refs",{})}return f(t,[{key:"add",value:function(t,e){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(e)}},{key:"remove",value:function(t,e){var n=this.getIndex(t,e);-1!==n&&this.refs[t].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find((function(e){return e.node.sortableInfo.index==t.active.index}))}},{key:"getIndex",value:function(t,e){return this.refs[t].indexOf(e)}},{key:"getOrderedRefs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[t].sort(M)}}]),t}();function M(t,e){return t.node.sortableInfo.index-e.node.sortableInfo.index}function I(t,e,n){return(t=t.slice()).splice(n<0?t.length+n:n,0,t.splice(e,1)[0]),t}function R(t,e){return Object.keys(t).reduce((function(n,r){return-1===e.indexOf(r)&&(n[r]=t[r]),n}),{})}var L={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},D=function(){if(typeof window>"u"||typeof document>"u")return"";var t=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];return"ms"===e?"ms":e&&e.length?e[0].toUpperCase()+e.substr(1):""}();function N(t,e){Object.keys(e).forEach((function(n){t.style[n]=e[n]}))}function j(t,e){t.style["".concat(D,"Transform")]=null==e?"":"translate3d(".concat(e.x,"px,").concat(e.y,"px,0)")}function B(t,e){t.style["".concat(D,"TransitionDuration")]=null==e?"":"".concat(e,"ms")}function F(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null}function H(t,e,n){return Math.max(t,Math.min(n,e))}function z(t){return"px"===t.substr(-2)?parseFloat(t):0}function U(t){var e=window.getComputedStyle(t);return{bottom:z(e.marginBottom),left:z(e.marginLeft),right:z(e.marginRight),top:z(e.marginTop)}}function V(t,e){var n=e.displayName||e.name;return n?"".concat(t,"(").concat(n,")"):t}function G(t,e){var n=t.getBoundingClientRect();return{top:n.top+e.top,left:n.left+e.left}}function X(t){return t.touches&&t.touches.length?{x:t.touches[0].pageX,y:t.touches[0].pageY}:t.changedTouches&&t.changedTouches.length?{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}:{x:t.pageX,y:t.pageY}}function Y(t){return t.touches&&t.touches.length||t.changedTouches&&t.changedTouches.length}function W(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(t){var r={left:n.left+t.offsetLeft,top:n.top+t.offsetTop};return t.parentNode===e?r:W(t.parentNode,e,r)}}function q(t,e,n){return t<n&&t>e?t-1:t>n&&t<e?t+1:t}function K(t){var e=t.lockOffset,n=t.width,r=t.height,i=e,o=e,a="px";if("string"==typeof e){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);E()(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),i=parseFloat(e),o=parseFloat(e),a=s[1]}return E()(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",e),"%"===a&&(i=i*n/100,o=o*r/100),{x:i,y:o}}function $(t){var e=t.height,n=t.width,r=t.lockOffset,i=Array.isArray(r)?r:[r,r];E()(2===i.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=s(i,2),a=o[0],l=o[1];return[K({height:e,lockOffset:a,width:n}),K({height:e,lockOffset:l,width:n})]}function Z(t){var e=window.getComputedStyle(t),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(t){return n.test(e[t])}))}function Q(t){return t instanceof HTMLElement?Z(t)?t:Q(t.parentNode):null}var J={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},tt={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function et(t){var e="input, textarea, select, canvas, [contenteditable]",n=t.querySelectorAll(e),r=t.cloneNode(!0);return O(r.querySelectorAll(e)).forEach((function(t,e){"file"!==t.type&&(t.value=n[e].value),"radio"===t.type&&t.name&&(t.name="__sortableClone__".concat(t.name)),t.tagName===tt.Canvas&&n[e].width>0&&n[e].height>0&&t.getContext("2d").drawImage(n[e],0,0)})),r}function nt(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=e=function(e){function n(){return c(this,n),v(this,g(n).apply(this,arguments))}return b(n,e),f(n,[{key:"componentDidMount",value:function(){Object(w.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return E()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var e=i.withRef?"wrappedInstance":null;return Object(_.createElement)(t,r({ref:e},this.props))}}]),n}(_.Component),l(e,"displayName",V("sortableHandle",t)),n}function rt(t){return null!=t.sortableHandle}var it=function(){function t(e,n){c(this,t),this.container=e,this.onScrollCallback=n}return f(t,[{key:"clear",value:function(){clearInterval(this.interval),this.interval=null}},{key:"update",value:function(t){var e=this,n=t.translate,r=t.minTranslate,i=t.maxTranslate,o=t.width,a=t.height,s={x:0,y:0},l={x:1,y:1},u={x:10,y:10},c=this.container,h=c.scrollTop,f=c.scrollLeft,d=c.scrollHeight,p=c.scrollWidth,m=0===h,v=d-h-c.clientHeight===0,g=0===f,y=p-f-c.clientWidth===0;n.y>=i.y-a/2&&!v?(s.y=1,l.y=u.y*Math.abs((i.y-a/2-n.y)/a)):n.x>=i.x-o/2&&!y?(s.x=1,l.x=u.x*Math.abs((i.x-o/2-n.x)/o)):n.y<=r.y+a/2&&!m?(s.y=-1,l.y=u.y*Math.abs((n.y-a/2-r.y)/a)):n.x<=r.x+o/2&&!g&&(s.x=-1,l.x=u.x*Math.abs((n.x-o/2-r.x)/o)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(0!==s.x||0!==s.y)&&(this.interval=setInterval((function(){e.isAutoScrolling=!0;var t={left:l.x*s.x,top:l.y*s.y};e.container.scrollTop+=t.top,e.container.scrollLeft+=t.left,e.onScrollCallback(t)}),5))}}]),t}();function ot(t){var e=t.node;return{height:e.offsetHeight,width:e.offsetWidth}}function at(t){return!(-1===[tt.Input,tt.Textarea,tt.Select,tt.Option,tt.Button].indexOf(t.target.tagName)&&!F(t.target,(function(t){return"true"===t.contentEditable})))}var st={axis:T.a.oneOf(["x","y","xy"]),contentWindow:T.a.any,disableAutoscroll:T.a.bool,distance:T.a.number,getContainer:T.a.func,getHelperDimensions:T.a.func,helperClass:T.a.string,helperContainer:T.a.oneOfType([T.a.func,typeof HTMLElement>"u"?T.a.any:T.a.instanceOf(HTMLElement)]),hideSortableGhost:T.a.bool,keyboardSortingTransitionDuration:T.a.number,lockAxis:T.a.string,lockOffset:T.a.oneOfType([T.a.number,T.a.string,T.a.arrayOf(T.a.oneOfType([T.a.number,T.a.string]))]),lockToContainerEdges:T.a.bool,onSortEnd:T.a.func,onSortMove:T.a.func,onSortOver:T.a.func,onSortStart:T.a.func,pressDelay:T.a.number,pressThreshold:T.a.number,keyCodes:T.a.shape({lift:T.a.arrayOf(T.a.number),drop:T.a.arrayOf(T.a.number),cancel:T.a.arrayOf(T.a.number),up:T.a.arrayOf(T.a.number),down:T.a.arrayOf(T.a.number)}),shouldCancelStart:T.a.func,transitionDuration:T.a.number,updateBeforeSortStart:T.a.func,useDragHandle:T.a.bool,useWindowAsScrollContainer:T.a.bool},lt={lift:[J.SPACE],drop:[J.SPACE],cancel:[J.ESC],up:[J.UP,J.LEFT],down:[J.DOWN,J.RIGHT]},ut={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:ot,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:lt,shouldCancelStart:at,transitionDuration:300,useWindowAsScrollContainer:!1},ct=Object.keys(st);function ht(t){E()(!(t.distance&&t.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function ft(t,e){try{var n=t()}catch(r){return e(!0,r)}return n&&n.then?n.then(e.bind(null,!1),e.bind(null,!0)):e(!1,value)}function dt(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=e=function(e){function n(t){var e;return c(this,n),l(m(m(e=v(this,g(n).call(this,t)))),"state",{}),l(m(m(e)),"handleStart",(function(t){var n=e.props,r=n.distance,i=n.shouldCancelStart;if(2!==t.button&&!i(t)){e.touched=!0,e.position=X(t);var o=F(t.target,(function(t){return null!=t.sortableInfo}));if(o&&o.sortableInfo&&e.nodeIsChild(o)&&!e.state.sorting){var a=e.props.useDragHandle,s=o.sortableInfo,l=s.index,u=s.collection;if(s.disabled||a&&!F(t.target,rt))return;e.manager.active={collection:u,index:l},!Y(t)&&t.target.tagName===tt.Anchor&&t.preventDefault(),r||(0===e.props.pressDelay?e.handlePress(t):e.pressTimer=setTimeout((function(){return e.handlePress(t)}),e.props.pressDelay))}}})),l(m(m(e)),"nodeIsChild",(function(t){return t.sortableInfo.manager===e.manager})),l(m(m(e)),"handleMove",(function(t){var n=e.props,r=n.distance,i=n.pressThreshold;if(!e.state.sorting&&e.touched&&!e._awaitingUpdateBeforeSortStart){var o=X(t),a={x:e.position.x-o.x,y:e.position.y-o.y},s=Math.abs(a.x)+Math.abs(a.y);e.delta=a,r||i&&!(s>=i)?r&&s>=r&&e.manager.isActive()&&e.handlePress(t):(clearTimeout(e.cancelTimer),e.cancelTimer=setTimeout(e.cancel,0))}})),l(m(m(e)),"handleEnd",(function(){e.touched=!1,e.cancel()})),l(m(m(e)),"cancel",(function(){var t=e.props.distance;e.state.sorting||(t||clearTimeout(e.pressTimer),e.manager.active=null)})),l(m(m(e)),"handlePress",(function(t){try{var n=e.manager.getActive(),r=function(){if(n){var r=function(){var n=d.sortableInfo.index,r=U(d),i=e.scrollContainer.getBoundingClientRect(),c=a({collection:p,index:n,node:d});if(e.node=d,e.margin=r,e.width=c.width,e.height=c.height,e.marginOffset={x:e.margin.left+e.margin.right,y:Math.max(e.margin.top,e.margin.bottom)},e.boundingClientRect=d.getBoundingClientRect(),e.containerBoundingRect=i,e.index=n,e.newIndex=n,e.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},e.offsetEdge=W(d,e.container),e.initialOffset=X(m?u({},t,{pageX:e.boundingClientRect.left,pageY:e.boundingClientRect.top}):t),e.initialScroll={left:e.scrollContainer.scrollLeft,top:e.scrollContainer.scrollTop},e.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},e.helper=e.helperContainer.appendChild(et(d)),N(e.helper,{boxSizing:"border-box",height:"".concat(e.height,"px"),left:"".concat(e.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(e.boundingClientRect.top-r.top,"px"),width:"".concat(e.width,"px")}),m&&e.helper.focus(),l&&(e.sortableGhost=d,N(d,{opacity:0,visibility:"hidden"})),e.minTranslate={},e.maxTranslate={},m){var v=f?{top:0,left:0,width:e.contentWindow.innerWidth,height:e.contentWindow.innerHeight}:e.containerBoundingRect,g=v.top,y=v.left,b=v.width,_=g+v.height,x=y+b;e.axis.x&&(e.minTranslate.x=y-e.boundingClientRect.left,e.maxTranslate.x=x-(e.boundingClientRect.left+e.width)),e.axis.y&&(e.minTranslate.y=g-e.boundingClientRect.top,e.maxTranslate.y=_-(e.boundingClientRect.top+e.height))}else e.axis.x&&(e.minTranslate.x=(f?0:i.left)-e.boundingClientRect.left-e.width/2,e.maxTranslate.x=(f?e.contentWindow.innerWidth:i.left+i.width)-e.boundingClientRect.left-e.width/2),e.axis.y&&(e.minTranslate.y=(f?0:i.top)-e.boundingClientRect.top-e.height/2,e.maxTranslate.y=(f?e.contentWindow.innerHeight:i.top+i.height)-e.boundingClientRect.top-e.height/2);s&&s.split(" ").forEach((function(t){return e.helper.classList.add(t)})),e.listenerNode=t.touches?d:e.contentWindow,m?(e.listenerNode.addEventListener("wheel",e.handleKeyEnd,!0),e.listenerNode.addEventListener("mousedown",e.handleKeyEnd,!0),e.listenerNode.addEventListener("keydown",e.handleKeyDown)):(L.move.forEach((function(t){return e.listenerNode.addEventListener(t,e.handleSortMove,!1)})),L.end.forEach((function(t){return e.listenerNode.addEventListener(t,e.handleSortEnd,!1)}))),e.setState({sorting:!0,sortingIndex:n}),h&&h({node:d,index:n,collection:p,isKeySorting:m},t),m&&e.keyMove(0)},i=e.props,o=i.axis,a=i.getHelperDimensions,s=i.helperClass,l=i.hideSortableGhost,c=i.updateBeforeSortStart,h=i.onSortStart,f=i.useWindowAsScrollContainer,d=n.node,p=n.collection,m=e.manager.isKeySorting,v=function(){if("function"==typeof c){e._awaitingUpdateBeforeSortStart=!0;var n=ft((function(){var e=d.sortableInfo.index;return Promise.resolve(c({collection:p,index:e,node:d,isKeySorting:m},t)).then((function(){}))}),(function(t,n){if(e._awaitingUpdateBeforeSortStart=!1,t)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return v&&v.then?v.then(r):r(v)}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(i){return Promise.reject(i)}})),l(m(m(e)),"handleSortMove",(function(t){var n=e.props.onSortMove;"function"==typeof t.preventDefault&&t.preventDefault(),e.updateHelperPosition(t),e.animateNodes(),e.autoscroll(),n&&n(t)})),l(m(m(e)),"handleSortEnd",(function(t){var n=e.props,r=n.hideSortableGhost,i=n.onSortEnd,o=e.manager,a=o.active.collection,s=o.isKeySorting,l=e.manager.refs[a];e.listenerNode&&(s?(e.listenerNode.removeEventListener("wheel",e.handleKeyEnd,!0),e.listenerNode.removeEventListener("mousedown",e.handleKeyEnd,!0),e.listenerNode.removeEventListener("keydown",e.handleKeyDown)):(L.move.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortMove)})),L.end.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortEnd)})))),e.helper.parentNode.removeChild(e.helper),r&&e.sortableGhost&&N(e.sortableGhost,{opacity:"",visibility:""});for(var u=0,c=l.length;u<c;u++){var h=l[u],f=h.node;h.edgeOffset=null,h.boundingClientRect=null,j(f,null),B(f,null),h.translate=null}e.autoScroller.clear(),e.manager.active=null,e.manager.isKeySorting=!1,e.setState({sorting:!1,sortingIndex:null}),"function"==typeof i&&i({collection:a,newIndex:e.newIndex,oldIndex:e.index,isKeySorting:s},t),e.touched=!1})),l(m(m(e)),"autoscroll",(function(){var t=e.props.disableAutoscroll,n=e.manager.isKeySorting;if(!t){if(n){var r=u({},e.translate),i=0,o=0;return e.axis.x&&(r.x=Math.min(e.maxTranslate.x,Math.max(e.minTranslate.x,e.translate.x)),i=e.translate.x-r.x),e.axis.y&&(r.y=Math.min(e.maxTranslate.y,Math.max(e.minTranslate.y,e.translate.y)),o=e.translate.y-r.y),e.translate=r,j(e.helper,e.translate),e.scrollContainer.scrollLeft+=i,void(e.scrollContainer.scrollTop+=o)}e.autoScroller.update({height:e.height,maxTranslate:e.maxTranslate,minTranslate:e.minTranslate,translate:e.translate,width:e.width})}})),l(m(m(e)),"onAutoScroll",(function(t){e.translate.x+=t.left,e.translate.y+=t.top,e.animateNodes()})),l(m(m(e)),"handleKeyDown",(function(t){var n=t.keyCode,r=e.props,i=r.shouldCancelStart,o=r.keyCodes,a=u({},lt,void 0===o?{}:o);e.manager.active&&!e.manager.isKeySorting||!e.manager.active&&(!a.lift.includes(n)||i(t)||!e.isValidSortingTarget(t))||(t.stopPropagation(),t.preventDefault(),a.lift.includes(n)&&!e.manager.active?e.keyLift(t):a.drop.includes(n)&&e.manager.active?e.keyDrop(t):a.cancel.includes(n)?(e.newIndex=e.manager.active.index,e.keyDrop(t)):a.up.includes(n)?e.keyMove(-1):a.down.includes(n)&&e.keyMove(1))})),l(m(m(e)),"keyLift",(function(t){var n=t.target,r=F(n,(function(t){return null!=t.sortableInfo})).sortableInfo,i=r.index,o=r.collection;e.initialFocusedNode=n,e.manager.isKeySorting=!0,e.manager.active={index:i,collection:o},e.handlePress(t)})),l(m(m(e)),"keyMove",(function(t){var n=e.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,i=e.newIndex+t,o=e.newIndex;if(!(i<0||i>r)){e.prevIndex=o,e.newIndex=i;var a=q(e.newIndex,e.prevIndex,e.index),s=n.find((function(t){return t.node.sortableInfo.index===a})),l=s.node,u=e.containerScrollDelta,c=s.boundingClientRect||G(l,u),h=s.translate||{x:0,y:0},f={top:c.top+h.y-u.top,left:c.left+h.x-u.left},d=o<i,p={x:d&&e.axis.x?l.offsetWidth-e.width:0,y:d&&e.axis.y?l.offsetHeight-e.height:0};e.handleSortMove({pageX:f.left+p.x,pageY:f.top+p.y,ignoreTransition:0===t})}})),l(m(m(e)),"keyDrop",(function(t){e.handleSortEnd(t),e.initialFocusedNode&&e.initialFocusedNode.focus()})),l(m(m(e)),"handleKeyEnd",(function(t){e.manager.active&&e.keyDrop(t)})),l(m(m(e)),"isValidSortingTarget",(function(t){var n=e.props.useDragHandle,r=t.target,i=F(r,(function(t){return null!=t.sortableInfo}));return i&&i.sortableInfo&&!i.sortableInfo.disabled&&(n?rt(r):r.sortableInfo)})),ht(t),e.manager=new P,e.events={end:e.handleEnd,move:e.handleMove,start:e.handleStart},e}return b(n,e),f(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var t=this,e=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){t.container=n,t.document=t.container.ownerDocument||document;var r=t.props.contentWindow||t.document.defaultView||window;t.contentWindow="function"==typeof r?r():r,t.scrollContainer=e?t.document.scrollingElement||t.document.documentElement:Q(t.container)||t.container,t.autoScroller=new it(t.scrollContainer,t.onAutoScroll),Object.keys(t.events).forEach((function(e){return L[e].forEach((function(n){return t.container.addEventListener(n,t.events[e],!1)}))})),t.container.addEventListener("keydown",t.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var t=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(e){return L[e].forEach((function(n){return t.container.removeEventListener(n,t.events[e])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(t){var e=this.props,n=e.lockAxis,r=e.lockOffset,i=e.lockToContainerEdges,o=e.transitionDuration,a=e.keyboardSortingTransitionDuration,l=void 0===a?o:a,u=this.manager.isKeySorting,c=t.ignoreTransition,h=X(t),f={x:h.x-this.initialOffset.x,y:h.y-this.initialOffset.y};if(f.y-=window.pageYOffset-this.initialWindowScroll.top,f.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=f,i){var d=s($({height:this.height,lockOffset:r,width:this.width}),2),p=d[0],m=d[1],v={x:this.width/2-p.x,y:this.height/2-p.y},g={x:this.width/2-m.x,y:this.height/2-m.y};f.x=H(this.minTranslate.x+v.x,this.maxTranslate.x-g.x,f.x),f.y=H(this.minTranslate.y+v.y,this.maxTranslate.y-g.y,f.y)}"x"===n?f.y=0:"y"===n&&(f.x=0),u&&l&&!c&&B(this.helper,l),j(this.helper,f)}},{key:"animateNodes",value:function(){var t=this.props,e=t.transitionDuration,n=t.hideSortableGhost,r=t.onSortOver,i=this.containerScrollDelta,o=this.windowScrollDelta,a=this.manager.getOrderedRefs(),s={left:this.offsetEdge.left+this.translate.x+i.left,top:this.offsetEdge.top+this.translate.y+i.top},l=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var c=0,h=a.length;c<h;c++){var f=a[c].node,d=f.sortableInfo.index,p=f.offsetWidth,m=f.offsetHeight,v={height:this.height>m?m/2:this.height/2,width:this.width>p?p/2:this.width/2},g=l&&d>this.index&&d<=u,y=l&&d<this.index&&d>=u,b={x:0,y:0},_=a[c].edgeOffset;_||(_=W(f,this.container),a[c].edgeOffset=_,l&&(a[c].boundingClientRect=G(f,i)));var x=c<a.length-1&&a[c+1],T=c>0&&a[c-1];x&&!x.edgeOffset&&(x.edgeOffset=W(x.node,this.container),l&&(x.boundingClientRect=G(x.node,i))),d!==this.index?(e&&B(f,e),this.axis.x?this.axis.y?y||d<this.index&&(s.left+o.left-v.width<=_.left&&s.top+o.top<=_.top+v.height||s.top+o.top+v.height<=_.top)?(b.x=this.width+this.marginOffset.x,_.left+b.x>this.containerBoundingRect.width-v.width&&x&&(b.x=x.edgeOffset.left-_.left,b.y=x.edgeOffset.top-_.top),null===this.newIndex&&(this.newIndex=d)):(g||d>this.index&&(s.left+o.left+v.width>=_.left&&s.top+o.top+v.height>=_.top||s.top+o.top+v.height>=_.top+m))&&(b.x=-(this.width+this.marginOffset.x),_.left+b.x<this.containerBoundingRect.left+v.width&&T&&(b.x=T.edgeOffset.left-_.left,b.y=T.edgeOffset.top-_.top),this.newIndex=d):g||d>this.index&&s.left+o.left+v.width>=_.left?(b.x=-(this.width+this.marginOffset.x),this.newIndex=d):(y||d<this.index&&s.left+o.left<=_.left+v.width)&&(b.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=d)):this.axis.y&&(g||d>this.index&&s.top+o.top+v.height>=_.top?(b.y=-(this.height+this.marginOffset.y),this.newIndex=d):(y||d<this.index&&s.top+o.top<=_.top+v.height)&&(b.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=d))),j(f,b),a[c].translate=b):n&&(this.sortableGhost=f,N(f,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),l&&(this.newIndex=u);var w=l?this.prevIndex:u;r&&this.newIndex!==w&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:w,isKeySorting:l})}},{key:"getWrappedInstance",value:function(){return E()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var t=this.props.getContainer;return"function"!=typeof t?Object(w.findDOMNode)(this):t(i.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var e=i.withRef?"wrappedInstance":null;return Object(_.createElement)(t,r({ref:e},R(this.props,ct)))}},{key:"helperContainer",get:function(){var t=this.props.helperContainer;return"function"==typeof t?t():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(_.Component),l(e,"displayName",V("sortableList",t)),l(e,"defaultProps",ut),l(e,"propTypes",st),l(e,"childContextTypes",{manager:T.a.object.isRequired}),n}var pt={index:T.a.number.isRequired,collection:T.a.oneOfType([T.a.number,T.a.string]),disabled:T.a.bool},mt=Object.keys(pt);function vt(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=e=function(e){function n(){return c(this,n),v(this,g(n).apply(this,arguments))}return b(n,e),f(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(t){this.node&&(t.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),t.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),t.collection!==this.props.collection&&(this.unregister(t.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var t=this.props,e=t.collection,n=t.disabled,r=t.index,i=Object(w.findDOMNode)(this);i.sortableInfo={collection:e,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(e,this.ref)}},{key:"unregister",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(t,this.ref)}},{key:"getWrappedInstance",value:function(){return E()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var e=i.withRef?"wrappedInstance":null;return Object(_.createElement)(t,r({ref:e},R(this.props,mt)))}}]),n}(_.Component),l(e,"displayName",V("sortableElement",t)),l(e,"contextTypes",{manager:T.a.object.isRequired}),l(e,"propTypes",pt),l(e,"defaultProps",{collection:0}),n}},function(t,e,n){var r=n(16),i=n(12),o=n(50);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){var r=n(33);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t))||"function"==typeof(n=t.valueOf)&&!r(i=n.call(t))||!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(47),i=n(54),o=n(90)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(49),i=n(165),o=n(166),a=n(39),s=n(88),l=n(112),u={},c={};(e=t.exports=function(t,e,n,h,f){var d,p,m,v,g=f?function(){return t}:l(t),y=r(n,h,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(d=s(t.length);d>b;b++)if((v=e?y(a(p=t[b])[0],p[1]):y(t[b]))===u||v===c)return v}else for(m=g.call(t);!(p=m.next()).done;)if((v=i(m,y,p.value,e))===u||v===c)return v}).BREAK=u,e.RETURN=c},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){t.exports={default:n(230),__esModule:!0}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Provider=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(171));function a(t){return t&&t.__esModule?t:{default:t}}var s=i.default.createContext({close:o.default,open:o.default}),l=s.Provider,u=s.Consumer,c=function(t){return i.default.forwardRef((function(e,n){return i.default.createElement(u,null,(function(o){return i.default.createElement(t,(0,r.default)({ref:n},e,{modal:o}))}))}))};e.default=c,e.Provider=l},function(t,e,n){e.__esModule=!0,e.noop=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.bottom=s,e.cloneLayout=l,e.cloneLayoutItem=u,e.childrenEqual=c,e.collides=h,e.compact=f,e.compactItem=m,e.correctBounds=v,e.getLayoutItem=g,e.getFirstCollision=y,e.getAllCollisions=b,e.getStatics=_,e.moveElement=x,e.moveElementAwayFromCollision=T,e.perc=w,e.setTransform=S,e.setTopLeft=E,e.sortLayoutItems=k,e.sortLayoutItemsByRowCol=C,e.sortLayoutItemsByColRow=A,e.synchronizeLayoutWithChildren=O,e.validateLayout=P,e.autoBindHandlers=M;var i=a(n(172)),o=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){for(var e=0,n=void 0,r=0,i=t.length;r<i;r++)(n=t[r].y+t[r].h)>e&&(e=n);return e}function l(t){for(var e=Array(t.length),n=0,r=t.length;n<r;n++)e[n]=u(t[n]);return e}function u(t){return{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:!!t.moved,static:!!t.static,isDraggable:t.isDraggable,isResizable:t.isResizable}}function c(t,e){return(0,i.default)(o.default.Children.map(t,(function(t){return t.key})),o.default.Children.map(e,(function(t){return t.key})))}function h(t,e){return!(t===e||t.x+t.w<=e.x||t.x>=e.x+e.w||t.y+t.h<=e.y||t.y>=e.y+e.h)}function f(t,e,n){for(var r=_(t),i=k(t,e),o=Array(t.length),a=0,s=i.length;a<s;a++){var l=u(i[a]);l.static||(l=m(r,l,e,n,i),r.push(l)),o[t.indexOf(i[a])]=l,l.moved=!1}return o}var d={x:"w",y:"h"};function p(t,e,n,r){var i=d[r];e[r]+=1;for(var o=t.indexOf(e)+1;o<t.length;o++){var a=t[o];if(!a.static){if(a.y>e.y+e.h)break;h(e,a)&&p(t,a,n+e[i],r)}}e[r]=n}function m(t,e,n,r,i){var o="horizontal"===n;if("vertical"===n)for(e.y=Math.min(s(t),e.y);e.y>0&&!y(t,e);)e.y--;else if(o)for(e.y=Math.min(s(t),e.y);e.x>0&&!y(t,e);)e.x--;for(var a=void 0;a=y(t,e);)o?p(i,e,a.x+a.w,"x"):p(i,e,a.y+a.h,"y"),o&&e.x+e.w>r&&(e.x=r-e.w,e.y++);return e}function v(t,e){for(var n=_(t),r=0,i=t.length;r<i;r++){var o=t[r];if(o.x+o.w>e.cols&&(o.x=e.cols-o.w),o.x<0&&(o.x=0,o.w=e.cols),o.static)for(;y(n,o);)o.y++;else n.push(o)}return t}function g(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n].i===e)return t[n]}function y(t,e){for(var n=0,r=t.length;n<r;n++)if(h(t[n],e))return t[n]}function b(t,e){return t.filter((function(t){return h(t,e)}))}function _(t){return t.filter((function(t){return t.static}))}function x(t,e,n,r,i,o,a,s){if(e.static||e.y===r&&e.x===n)return t;e.i,String(n),String(r),e.x,e.y;var l=e.x,u=e.y;"number"==typeof n&&(e.x=n),"number"==typeof r&&(e.y=r),e.moved=!0;var c=k(t,a);("vertical"===a&&"number"==typeof r?u>=r:"horizontal"===a&&"number"==typeof n&&l>=n)&&(c=c.reverse());var h=b(c,e);if(o&&h.length)return e.i,e.x=l,e.y=u,e.moved=!1,t;for(var f=0,d=h.length;f<d;f++){var p=h[f];e.i,e.x,e.y,p.i,p.x,p.y,!p.moved&&(t=p.static?T(t,p,e,i,a):T(t,e,p,i,a))}return t}function T(t,e,n,r,i,o){var a="horizontal"===i,s="vertical"===i,l=!1;if(r){r=!1;var u={x:a?Math.max(e.x-n.w,0):n.x,y:s?Math.max(e.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!y(t,u))return n.i,u.x,u.y,x(t,n,a?u.x:void 0,s?u.y:void 0,r,l,i)}return x(t,n,a?n.x+1:void 0,s?n.y+1:void 0,r,l,i)}function w(t){return 100*t+"%"}function S(t){var e=t.top,n="translate("+t.left+"px,"+e+"px)";return{transform:n,WebkitTransform:n,MozTransform:n,msTransform:n,OTransform:n,width:t.width+"px",height:t.height+"px",position:"absolute"}}function E(t){return{top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px",position:"absolute"}}function k(t,e){return"horizontal"===e?A(t):C(t)}function C(t){return[].concat(t).sort((function(t,e){return t.y>e.y||t.y===e.y&&t.x>e.x?1:t.y===e.y&&t.x===e.x?0:-1}))}function A(t){return[].concat(t).sort((function(t,e){return t.x>e.x||t.x===e.x&&t.y>e.y?1:-1}))}function O(t,e,n,i){t=t||[];var a=[];return o.default.Children.forEach(e,(function(e,n){var i=g(t,String(e.key));if(i)a[n]=u(i);else{var o=e.props["data-grid"]||e.props._grid;a[n]=u(o?r({},o,{i:e.key}):{w:1,h:1,x:0,y:s(a),i:String(e.key)})}})),a=f(a=v(a,{cols:n}),i,n)}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(t))throw new Error(e+" must be an array!");for(var r=0,i=t.length;r<i;r++){for(var o=t[r],a=0;a<n.length;a++)if("number"!=typeof o[n[a]])throw new Error("ReactGridLayout: "+e+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!=typeof o.i)throw new Error("ReactGridLayout: "+e+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!=typeof o.static)throw new Error("ReactGridLayout: "+e+"["+r+"].static must be a boolean!")}}function M(t,e){e.forEach((function(e){return t[e]=t[e].bind(t)}))}e.noop=function(){}},function(t,e,n){n.r(e),n.d(e,"globalPubSub",(function(){return d})),n.d(e,"createPubSub",(function(){return h}));const r=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),i=(t,e)=>e?t.toLowerCase():t,o=function(t){let{caseInsensitive:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const a=i(n,e);return t[a]||(t[a]=[],t.__times__[a]=[]),t[a].push(r),t.__times__[a].push(+o||1/0),{event:a,handler:r}}},a=function(t){let{caseInsensitive:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n,r)=>{"object"==typeof n&&(r=n.handler,n=n.event);const o=i(n,e);if(!t[o])return;const a=t[o].indexOf(r);-1===a||a>=t[o].length||(t[o].splice(a,1),t.__times__[o].splice(a,1))}},s=(t,e)=>()=>{t.forEach((t=>t(e)))},l=function(t){let{isGlobal:e,caseInsensitive:n,async:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=a(t);return function(a,u){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const h=i(a,n);if(!t[h])return;const f=[...t[h]];if(f.forEach(((e,n)=>{--t.__times__[h][n]<1&&l(h,e)})),o||c.async?setTimeout(s(f,u),0):s(f,u)(),e&&!c.isNoGlobalBroadcast)try{r.postMessage({event:h,news:u})}catch(d){if(!(d instanceof DOMException))throw d;console.warn(`Could not broadcast '${h}' globally. Payload is not clonable.`)}}},u=t=>()=>{Object.keys(t).filter((t=>"_"!==t[0])).forEach((e=>{t[e]=void 0,t.__times__[e]=void 0,delete t[e],delete t.__times__[e]}))},c=()=>({__times__:{}}),h=function(){let{async:t=!1,caseInsensitive:e=!1,stack:n=c()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.__times__||(n.__times__={}),{publish:l(n,{async:t,caseInsensitive:e}),subscribe:o(n,{caseInsensitive:e}),unsubscribe:a(n,{caseInsensitive:e}),clear:u(n),stack:n}},f=c(),d={publish:l(f,{isGlobal:!0}),subscribe:o(f),unsubscribe:a(f),stack:f};r.onmessage=t=>{let{data:{event:e,news:n}}=t;return d.publish(e,n,!0)},e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=P(n(63)),i=P(n(55)),o=P(n(17)),a=P(n(95)),s=P(n(30)),l=P(n(19)),u=P(n(35)),c=P(n(5)),h=P(n(34)),f=P(n(3)),d=P(n(4)),p=P(n(6)),m=P(n(14)),v=P(n(7)),g=P(n(136)),y=n(83),b=n(20),_=n(28),x=n(0),T=P(n(26)),w=n(10),S=n(79),E=P(S),k=P(n(179)),C=n(24),A=n(11),O=n(114);function P(t){return t&&t.__esModule?t:{default:t}}var M=200,I=10,R=40,L=10,D=L,N=4,j=1,B=4,F=5,H=256,z=I+R+L+j+D+B,U=function(t){function e(t,n){(0,f.default)(this,e);var r=(0,h.default)({},t);r.onValueScaleChanged=function(){t.onValueScaleChanged(),i.drawColorbar()};var i=(0,p.default)(this,(e.__proto__||(0,c.default)(e)).call(this,r,n)),o=t.pubSub,a=t.animate,s=t.svgElement,l=t.onTrackOptionsChanged,d=t.onMouseMoveZoom,m=t.isShowGlobalMousePosition,v=t.isValueScaleLocked;return i.pubSub=o,i.is2d=!0,i.animate=a,i.uid=T.default.nice(),i.scaleBrush=(0,y.brushY)(),i.onTrackOptionsChanged=l,i.isShowGlobalMousePosition=m,i.isValueScaleLocked=v,i.pColorbarArea=new A.GLOBALS.PIXI.Graphics,i.pMasked.addChild(i.pColorbarArea),i.pColorbar=new A.GLOBALS.PIXI.Graphics,i.pColorbarArea.addChild(i.pColorbar),i.axis=new k.default(i),i.pColorbarArea.addChild(i.axis.pAxis),i.colorScale=A.HEATED_OBJECT_MAP,n&&n.colorRange&&(i.colorScale=(0,w.colorDomainToRgbaArray)(n.colorRange)),i.gBase=(0,x.select)(s).append("g"),i.gMain=i.gBase.append("g"),i.gColorscaleBrush=i.gMain.append("g"),i.brushing=!1,i.prevOptions="",i.prevIndUpperLeftTile="",i.onMouseMoveZoom=d,i.setDataLensSize(11),i.dataLens=new Float32Array(Math.pow(i.dataLensSize,2)),i.mouseMoveHandlerBound=i.mouseMoveHandler.bind(i),i.onMouseMoveZoom&&i.pubSubs.push(i.pubSub.subscribe("app.mouseMove",i.mouseMoveHandlerBound)),i.options&&i.options.showMousePosition&&!i.hideMousePosition&&(i.hideMousePosition=(0,w.showMousePosition)(i,i.is2d,i.isShowGlobalMousePosition())),i.prevOptions=(0,u.default)(n),i}return(0,v.default)(e,t),(0,d.default)(e,[{key:"mouseMoveHandler",value:function(){function t(t){this.isWithin(t.x,t.y)&&(this.mouseX=t.x,this.mouseY=t.y,this.mouseMoveZoomHandler())}return t}()},{key:"mouseMoveZoomHandler",value:function(){function t(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mouseX,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mouseY;if(!(typeof e>"u"||typeof n>"u")&&this.areAllVisibleTilesLoaded()&&this.tilesetInfo){var r=e-this.position[0],i=n-this.position[1],o=void 0,a=void 0;try{o=(a=this.getVisibleRectangleData(r-this.dataLensPadding,i-this.dataLensPadding,this.dataLensSize,this.dataLensSize)).get(this.dataLensPadding,this.dataLensPadding)}catch{return}var s=this.dataLensSize,l=void 0;try{l=(0,w.valueToColor)(this.limitedValueScale,this.colorScale,this.valueScale.domain()[0])}catch{return}if(l){var u=Math.round(this._xScale.invert(r)),c=Math.round(this._yScale.invert(i)),h=[u,c],f=[Math.round(this._xScale.invert(r-this.dataLensPadding)),Math.round(this._xScale.invert(r+this.dataLensPadding))],d=[Math.round(this._yScale.invert(i-this.dataLensPadding)),Math.round(this._yScale.invert(i+this.dataLensPadding))];this.chromInfo&&(h=h.map((function(e){return(0,w.absToChr)(e,t.chromInfo).slice(0,2)})),f=f.map((function(e){return(0,w.absToChr)(e,t.chromInfo).slice(0,2)})),d=d.map((function(e){return(0,w.absToChr)(e,t.chromInfo).slice(0,2)}))),this.onMouseMoveZoom({trackId:this.id,data:o,absX:e,absY:n,relX:r,relY:i,dataX:u,dataY:c,orientation:"2d",dataLens:a,dim:s,toRgb:l,center:h,xRange:f,yRange:d,isGenomicCoords:!!this.chromInfo})}}}return t}()},{key:"scheduleRerender",value:function(){function t(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}return t}()},{key:"handleRerender",value:function(){function t(){this.rerender(this.options,!0)}return t}()},{key:"getAbsTileDim",value:function(){function t(t,e,n){var r=this.getTilePosAndDimensions(t,e),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight,l={};return l.width=this._refXScale(i+a)-this._refXScale(i),l.height=this._refYScale(o+s)-this._refYScale(o),n?(l.x=this._refXScale(o),l.y=this._refYScale(i)):(l.x=this._refXScale(i),l.y=this._refYScale(o)),l}return t}()},{key:"updateValueScale",value:function(){function t(){var t=this.minValue(),e=this.maxValue(),n=1e-6;if(null!=t&&void 0!==e&&null!==e&&Math.abs(t-e)<n){var r=.001;t=Math.max(n,t-r),e+=r}var i=(0,S.getValueScale)(this.options&&this.options.heatmapValueScaling||"log",t,this.medianVisibleValue,e,"log"),o=(0,l.default)(i,2),a=o[0],s=o[1];return this.valueScale=s,this.limitedValueScale=this.valueScale.copy(),this.options&&typeof this.options.scaleStartPercent<"u"&&typeof this.options.scaleEndPercent<"u"&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),[a,s]}return t}()},{key:"rerender",value:function(){function t(t,n){var r=this;(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"rerender",this).call(this,t,n),this.updateValueScale();var i=(0,u.default)(t);this.drawColorbar(),(n||i!==this.prevOptions)&&(this.prevOptions=i,this.options=t,(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"rerender",this).call(this,t,n),this.calculateVisibleTiles(),t&&t.colorRange&&(this.colorScale=(0,w.colorDomainToRgbaArray)(t.colorRange)),this.visibleAndFetchedTiles().forEach((function(t){return r.renderTile(t)})),this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0),this.options&&this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,w.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())))}return t}()},{key:"drawLabel",value:function(){function t(){this.options.labelPosition===this.options.colorbarPosition?this.labelXOffset=z:this.labelXOffset=0,(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"drawLabel",this).call(this)}return t}()},{key:"tileDataToCanvas",value:function(){function t(t){var e=document.createElement("canvas");e.width=this.binsPerTile(),e.height=this.binsPerTile();var n=e.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,e.width,e.height);var r=new ImageData(t,e.width,e.height);return n.putImageData(r,0,0),e}return t}()},{key:"exportData",value:function(){function t(){if(this.tilesetInfo){var t=this.getVisibleRectangleData(0,0,this.dimensions[0],this.dimensions[1]),e={bounds:[this._xScale.domain(),this._yScale.domain()],dimensions:t.shape,data:(0,w.ndarrayFlatten)(t)};(0,w.download)("data.json",(0,u.default)(e))}}return t}()},{key:"setSpriteProperties",value:function(){function t(t,e,n,r){var i=this.getAbsTileDim(e,n,r);t.width=i.width,t.height=i.height,t.x=i.x,t.y=i.y,r&&n[0]!==n[1]&&(t.rotation=-Math.PI/2,t.scale.x=-1*Math.abs(t.scale.x))}return t}()},{key:"refXScale",value:function(){function t(t){(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"refXScale",this).call(this,t),this.draw()}return t}()},{key:"refYScale",value:function(){function t(t){(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"refYScale",this).call(this,t),this.draw()}return t}()},{key:"draw",value:function(){function t(){(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"draw",this).call(this)}return t}()},{key:"newBrushOptions",value:function(){function t(t){var e=JSON.parse((0,u.default)(this.options)),n=this.valueScale.copy().range([this.colorbarHeight,0]),r=n.invert(t[0]),i=(n.invert(t[1])-n.domain()[0])/(n.domain()[1]-n.domain()[0]),o=(r-n.domain()[0])/(n.domain()[1]-n.domain()[0]);return e.scaleStartPercent=i.toFixed(F),e.scaleEndPercent=o.toFixed(F),e}return t}()},{key:"brushStart",value:function(){function t(){this.brushing=!0}return t}()},{key:"brushMoved",value:function(){function t(){if(x.event.selection){var t=this.newBrushOptions(x.event.selection),e=(0,u.default)(t);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",(function(t){return"n"===t.type?x.event.selection[0]:x.event.selection[1]-N/2})),e!==this.prevOptions&&(this.prevOptions=e,this.rerender(t,!0),this.onTrackOptionsChanged(t),this.isValueScaleLocked()&&this.onValueScaleChanged())}}return t}()},{key:"brushEnd",value:function(){function t(){this.brushing=!1}return t}()},{key:"setPosition",value:function(){function t(t){(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"setPosition",this).call(this,t),this.drawColorbar()}return t}()},{key:"setDimensions",value:function(){function t(t){(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"setDimensions",this).call(this,t),this.drawColorbar()}return t}()},{key:"removeColorbar",value:function(){function t(){this.pColorbarArea.visible=!1,this.scaleBrush.on(".brush")&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.selectAll("rect").remove()}return t}()},{key:"drawColorbar",value:function(){function t(){if(this.pColorbar.clear(),this.options&&this.options.colorbarPosition&&"hidden"!==this.options.colorbarPosition){if(this.pColorbarArea.visible=!0,this.valueScale&&!(0,s.default)(+this.valueScale.domain()[0])&&!(0,s.default)(+this.valueScale.domain()[1])){var t=Math.min(this.dimensions[1]/2,M);if(this.colorbarHeight=t-2*L,this.colorbarHeight<0)return void this.removeColorbar();if(this.valueScale.domain()[1]===this.valueScale.domain()[0])return void this.removeColorbar();var e=this.valueScale.copy().range([this.colorbarHeight,0]);if("topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.scaleBrush.extent([[B,0],[D,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[D-B,this.colorbarHeight]]),"topLeft"===this.options.colorbarPosition){var n=(0,l.default)(this.position,2);this.pColorbarArea.x=n[0],this.pColorbarArea.y=n[1],this.pColorbar.y=L,this.axis.pAxis.y=L,this.axis.pAxis.x=B+D+j+I,this.pColorbar.x=B+D+j,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+B)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")}"topRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-z,this.pColorbarArea.y=this.position[1],this.pColorbar.y=L,this.axis.pAxis.y=L,this.axis.pAxis.x=R+L,this.pColorbar.x=R+L,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+I+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-z,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-t,this.pColorbar.y=L,this.axis.pAxis.y=L,this.axis.pAxis.x=R+L,this.pColorbar.x=R+L,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+I+j)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomLeft"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-t,this.pColorbar.y=L,this.axis.pAxis.y=L,this.axis.pAxis.x=B+D+j+I,this.pColorbar.x=B+D+j,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),this.pColorbarArea.clear(),this.pColorbarArea.beginFill((0,w.colorToHex)(this.options.colorbarBackgroundColor||"white"),+this.options.colorbarBackgroundOpacity>=0?+this.options.colorbarBackgroundOpacity:.6),this.pColorbarArea.drawRect(0,0,z,t),this.options?(this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1)):this.options={scaleStartPercent:0,scaleEndPercent:1};var r=e.domain()[1]-e.domain()[0],i=e(this.options.scaleStartPercent*r+e.domain()[0]),o=e(this.options.scaleEndPercent*r+e.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",D).attr("height",N).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[o,i]));for(var a=(0,_.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),u=0;u<this.colorbarHeight;u++){var c=this.limitedValueScale(e.invert(u)),h=Math.max(0,Math.min(254,Math.floor(c)));this.pColorbar.beginFill((0,w.colorToHex)("rgb("+String(this.colorScale[h][0])+","+String(this.colorScale[h][1])+","+String(this.colorScale[h][2])+")")),this.pColorbar.drawRect(0,u,I,1)}this.pAxis.position.x=I,this.pAxis.position.y=a(0),"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.axis.drawAxisRight(e,this.colorbarHeight):("topRight"===this.options.colorbarPosition||"bottomRight"===this.options.colorbarPosition)&&this.axis.drawAxisLeft(e,this.colorbarHeight)}}else this.removeColorbar()}return t}()},{key:"exportColorBarSVG",value:function(){function t(){var t=document.createElement("g");if(t.setAttribute("class","color-bar"),!this.options.colorbarPosition||"hidden"===this.options.colorbarPosition||!this.valueScale)return t;t.setAttribute("transform","translate("+String(this.pColorbarArea.x)+", "+String(this.pColorbarArea.y)+")");var e=document.createElement("rect");t.appendChild(e);var n=document.createElement("g");t.appendChild(n),n.setAttribute("transform","translate("+String(this.pColorbar.x)+", "+String(this.pColorbar.y)+")");var r=Math.min(this.dimensions[1]/2,M);this.colorbarHeight=r-2*L,e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",z),e.setAttribute("height",r),e.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");for(var i=256,o=(0,_.scaleLinear)().domain([0,i-1]).range([0,this.colorbarHeight]),a=this.colorbarHeight/i,s=0;s<i;s++){var l=document.createElement("rect");n.appendChild(l),l.setAttribute("x",0),l.setAttribute("y",o(s)),l.setAttribute("width",I),l.setAttribute("height",a),l.setAttribute("class","color-rect");var u=Math.min(this.colorScale.length-1,Math.max(0,Math.floor(this.limitedValueScale(this.valueScale.invert(s))))),c=this.colorScale[u];c?l.setAttribute("style","fill: rgb("+String(c[0])+", "+String(c[1])+", "+String(c[2])+")"):l.setAttribute("style","fill: rgb(255,255,255,0)")}var h=document.createElement("g");t.appendChild(h),h.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+","+String(this.axis.pAxis.position.y)+")");var f=null,d=this.valueScale.copy().range([this.colorbarHeight,0]);return"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?f=this.axis.exportAxisRightSVG(d,this.colorbarHeight):("topRight"===this.options.colorbarPosition||"bottomRight"===this.options.colorbarPosition)&&(f=this.axis.exportAxisLeftSVG(d,this.colorbarHeight)),h.appendChild(f),t}return t}()},{key:"setDataLensSize",value:function(){function t(t){this.dataLensPadding=Math.max(0,Math.floor((t-1)/2)),this.dataLensSize=2*this.dataLensPadding+1}return t}()},{key:"binsPerTile",value:function(){function t(){return this.tilesetInfo.bins_per_dimension||H}return t}()},{key:"getVisibleRectangleData",value:function(){function t(t,e,n,r){var i=this,o=this.calculateZoomLevel();o=this.tilesetInfo.max_zoom?Math.min(this.tilesetInfo.max_zoom,o):o;var a=C.tileProxy.calculateTileWidth(this.tilesetInfo,o,this.binsPerTile())/this.binsPerTile(),s=[this._xScale.invert(t),this._xScale.invert(t+n)],l=[this._yScale.invert(e),this._yScale.invert(e+r)],u=[Math.max(s[0],this.tilesetInfo.min_pos[0]),Math.min(s[1],this.tilesetInfo.max_pos[0])],c=[Math.max(l[0],this.tilesetInfo.min_pos[1]),Math.min(l[1],this.tilesetInfo.max_pos[1])],h=Math.floor(u[0]/a),f=Math.floor(c[0]/a),d=Math.max(0,Math.ceil((u[1]-u[0])/a)),p=Math.max(0,Math.ceil((c[1]-c[0])/a)),m=(0,g.default)(new Array(p*d).fill(NaN),[p,d]);return this.visibleAndFetchedTiles().forEach((function(t){var e=t.mirrored?[t.tileData.tilePos[1],t.tileData.tilePos[0]]:t.tileData.tilePos,n=i.getTilePosAndDimensions(t.tileData.zoomLevel,e,i.binsPerTile()),r=n.tileX,o=n.tileY,s=n.tileWidth,l=n.tileHeight,u=Math.floor(r/a),c=Math.floor((r+s)/a),v=Math.floor(o/a),g=Math.floor((o+l)/a),y=Math.max(h,u)-u,b=Math.max(f,v)-v,_=Math.min(h+d,c)-u,x=Math.min(f+p,g)-v,T=Math.max(u-h,0),S=Math.max(v-f,0),E=_-y,k=x-b;if(!(E<0||k<0)){if(t.mirrored&&y>b){var C=y;y=b,b=C}(0,w.ndarrayAssign)(m.hi(S+k,T+E).lo(S,T),t.dataArray.hi(b+k,y+E).lo(b,y))}})),m}return t}()},{key:"initTile",value:function(){function t(t){(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"initTile",this).call(this,t),t.tileData.dense.length===Math.pow(this.binsPerTile(),2)&&(t.dataArray=(0,g.default)((0,a.default)(t.tileData.dense),[this.binsPerTile(),this.binsPerTile()]),this.continuousScaling&&t.tileData.tilePos[0]===t.tileData.tilePos[1]&&t.mirrored&&(t.tileData.denseDataExtrema.mirrorPrecomputedExtrema(),(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"initTile",this).call(this,t))),null!==this.scale.minValue&&null!==this.scale.maxValue&&this.renderTile(t)}return t}()},{key:"updateTile",value:function(){function t(t){t.scale&&this.scale&&this.scale.minValue===t.scale.minValue&&this.scale.maxValue===t.scale.maxValue||(this.renderTile(t),this.drawColorbar())}return t}()},{key:"destroyTile",value:function(){function t(t){t.sprite.destroy(!0),t.canvas=null,t.sprite=null,t.texture=null}return t}()},{key:"pixDataFunction",value:function(){function t(t,e){if(e){var n=t.graphics,r=this.tileDataToCanvas(e.pixData);t.sprite&&t.sprite.destroy(!0);var i="4"===A.GLOBALS.PIXI.VERSION[0]?A.GLOBALS.PIXI.Texture.fromCanvas(r,A.GLOBALS.PIXI.SCALE_MODES.NEAREST):A.GLOBALS.PIXI.Texture.from(r,{scaleMode:A.GLOBALS.PIXI.SCALE_MODES.NEAREST}),o=new A.GLOBALS.PIXI.Sprite(i);t.sprite=o,t.texture=i,t.canvas=r,this.setSpriteProperties(t.sprite,t.tileData.zoomLevel,t.tileData.tilePos,t.mirrored),n.removeChildren(),n.addChild(t.sprite)}this.renderingTiles.delete(t.tileId)}return t}()},{key:"renderTile",value:function(){function t(t){var e=this,n=this.updateValueScale(),r=(0,l.default)(n,1)[0],i=0;if(this.renderingTiles.add(t.tileId),this.tilesetInfo.tile_size&&t.tileData.dense.length<this.tilesetInfo.tile_size){var o=new Float32Array(this.tilesetInfo.tile_size);o.fill(NaN),o.set(t.tileData.dense),t.tileData.dense=o}C.tileProxy.tileDataToPixData(t,r,this.limitedValueScale.domain(),i,this.colorScale,(function(n){return e.pixDataFunction(t,n)}),this.mirrorTiles()&&!t.mirrored&&t.tileData.tilePos[0]===t.tileData.tilePos[1],"upper-right"===this.options.extent&&t.tileData.tilePos[0]===t.tileData.tilePos[1],this.options.zeroValueColor?(0,w.colorToRgba)(this.options.zeroValueColor):void 0,{selectedRows:this.options.selectRows,selectedRowsAggregationMode:this.options.selectRowsAggregationMode,selectedRowsAggregationWithRelativeHeight:this.options.selectRowsAggregationWithRelativeHeight,selectedRowsAggregationMethod:this.options.selectRowsAggregationMethod})}return t}()},{key:"remove",value:function(){function t(){this.gMain.remove(),this.gMain=null,(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"remove",this).call(this)}return t}()},{key:"refScalesChanged",value:function(){function t(t,n){var r=this;(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"refScalesChanged",this).call(this,t,n),(0,w.objVals)(this.fetchedTiles).filter((function(t){return t.sprite})).forEach((function(t){return r.setSpriteProperties(t.sprite,t.tileData.zoomLevel,t.tileData.tilePos,t.mirrored)}))}return t}()},{key:"superSVG",value:function(){function t(){return(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"exportSVG",this).call(this)}return t}()},{key:"exportSVG",value:function(){function t(){var t=null,n=null;if((0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"exportSVG",this)){var r=(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"exportSVG",this).call(this),i=(0,l.default)(r,2);n=i[0],t=i[1]}else t=n=document.createElement("g");var a=document.createElement("g");t.appendChild(a),a.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var s=!0,u=!1,h=void 0;try{for(var f,d=(0,o.default)(this.visibleAndFetchedTiles());!(s=(f=d.next()).done);s=!0){var p=f.value,v=180*p.sprite.rotation/Math.PI,g=document.createElement("g");g.setAttribute("transform","translate("+String(p.sprite.x)+","+String(p.sprite.y)+") rotate("+v+") scale("+String(p.sprite.scale.x)+","+String(p.sprite.scale.y)+")");var y=document.createElement("image");y.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.canvas.toDataURL()),y.setAttribute("width",p.canvas.width),y.setAttribute("height",p.canvas.height),y.setAttribute("style","image-rendering: pixelated"),g.appendChild(y),a.appendChild(g)}}catch(_){u=!0,h=_}finally{try{!s&&d.return&&d.return()}finally{if(u)throw h}}var b=this.exportColorBarSVG();return t.appendChild(b),[n,n]}return t}()},{key:"getVisiblePartOfUppLeftTile",value:function(){function t(){var t=this.visibleAndFetchedTiles().map((function(t){var e=t.mirrored?[t.tileData.tilePos[1],t.tileData.tilePos[0]]:t.tileData.tilePos;return[e[0],e[1],t.tileId]}));if(0===t.length)return null;for(var e=t[0],n=0;n<t.length;n++){var r=t[n];(r[0]<e[0]||r[1]<e[1])&&(e=r)}var i=Math.min(O.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.binsPerTile()),o=this.binsPerTile()/i,a=this.visibleAndFetchedTiles().filter((function(t){return t.tileId===e[2]}))[0],s=this.getIndicesOfVisibleDataInTile(a),l=s[0],u=s[1],c=l-l%o,h=u-u%o;return[a.tileId,c,h]}return t}()},{key:"getIndicesOfVisibleDataInTile",value:function(){function t(t){var e=this._xScale.range(),n=this._yScale.range(),r=t.mirrored?[t.tileData.tilePos[1],t.tileData.tilePos[0]]:t.tileData.tilePos,i=this.getTilePosAndDimensions(t.tileData.zoomLevel,r,this.binsPerTile()),o=i.tileX,a=i.tileY,s=i.tileWidth,l=i.tileHeight,u=(0,_.scaleLinear)().domain([0,this.binsPerTile()]).range([o,o+s]),c=Math.max(0,Math.round(u.invert(this._xScale.invert(e[0])))-1),h=Math.min(this.binsPerTile(),Math.round(u.invert(this._xScale.invert(e[1])))),f=(0,_.scaleLinear)().domain([0,this.binsPerTile()]).range([a,a+l]),d=Math.max(0,Math.round(f.invert(this._yScale.invert(n[0])))-1),p=Math.min(this.binsPerTile(),Math.round(f.invert(this._yScale.invert(n[1]))));return t.mirrored&&r[0]!==r[1]?[d,c,p,h]:[c,d,h,p]}return t}()},{key:"minVisibleValue",value:function(){function t(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.visibleAndFetchedTiles().map((function(e){if(void 0===e.tileData.denseDataExtrema)return null;var n=t.getIndicesOfVisibleDataInTile(e);return e.tileData.denseDataExtrema.getMinNonZeroInSubset(n)}));if(0===r.length&&null===this.valueScaleMax)return null;var o=Math.min.apply(null,r);return o===i.default?(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"minVisibleValue",this).call(this,n):n?o:null!==this.valueScaleMin?this.valueScaleMin:o}return t}()},{key:"maxVisibleValue",value:function(){function t(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.visibleAndFetchedTiles().map((function(e){if(void 0===e.tileData.denseDataExtrema)return null;var n=t.getIndicesOfVisibleDataInTile(e);return e.tileData.denseDataExtrema.getMaxNonZeroInSubset(n)}));if(0===i.length&&null===this.valueScaleMax)return null;var o=Math.max.apply(null,i);return o===r.default?(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"maxVisibleValue",this).call(this,n):n?o:null!==this.valueScaleMax?this.valueScaleMax:o}return t}()},{key:"zoomed",value:function(){function t(t,n,r,i,o){if(!this.brushing){(0,m.default)(e.prototype.__proto__||(0,c.default)(e.prototype),"zoomed",this).call(this,t,n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r;var a=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){var s=(0,u.default)(this.getVisiblePartOfUppLeftTile());if(null===this.valueScaleMin&&null===this.valueScaleMax&&!a&&s!==this.prevIndUpperLeftTile){var l=this.minVisibleValue(),h=this.maxVisibleValue(),f=1e-6;null!==l&&null!==h&&(Math.abs(this.minValue()-l)>f||Math.abs(this.maxValue()-h)>f)&&(this.minValue(l),this.maxValue(h),this.scheduleRerender()),this.prevIndUpperLeftTile=s}a&&this.onValueScaleChanged()}this.mouseMoveZoomHandler()}}return t}()},{key:"addTileId",value:function(){function t(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=[e,n,r];a.mirrored=o,a.dataTransform=i,t.push(a)}return t}()},{key:"tilesToId",value:function(){function t(t,e,n){for(var r=t,i=e,o=this.options&&this.options.dataTransform||"default",a=[],s=0;s<r.length;s++)for(var l=0;l<i.length;l++)this.mirrorTiles()?(r[s]>=i[l]?"lower-left"!==this.options.extent&&this.addTileId(a,n,i[l],r[s],o,!0):"upper-right"!==this.options.extent&&this.addTileId(a,n,r[s],i[l],o),r[s]===i[l]&&"lower-left"===this.options.extent&&this.addTileId(a,n,r[s],i[l],o)):this.addTileId(a,n,r[s],i[l],o);return a}return t}()},{key:"calculateVisibleTiles",value:function(){function t(){if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(t){return+t})).sort((function(t,e){return e-t}));this.xTiles=C.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=C.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=C.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=C.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],this.options.reverseYAxis?-this.tilesetInfo.min_pos[1]:this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width1||this.tilesetInfo.max_width);this.setVisibleTiles(this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel))}}return t}()},{key:"mirrorTiles",value:function(){function t(){return!(this.tilesetInfo.mirror_tiles&&(!1===this.tilesetInfo.mirror_tiles||"false"===this.tilesetInfo.mirror_tiles))}return t}()},{key:"getMouseOverHtml",value:function(){function t(t,e){if(!this.options||!this.options.showTooltip||!this.tilesetInfo)return"";var n=C.tileProxy.calculateResolution(this.tilesetInfo,this.zoomLevel),r=Math.max(this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0]),i=Math.ceil(Math.log(r/n)/Math.log(10));this.setDataLensSize(1);var o=this._xScale.invert(t),a=this._yScale.invert(e),s="<b>Position:</b> ";if(this.chromInfo){var l=(0,w.absToChr)(o,this.chromInfo),u=(0,w.absToChr)(a,this.chromInfo),c=function(){function t(t){return(0,b.format)("."+String(i)+"s")(t)}return t}();s+=String(l[0])+":"+String(c(l[1]))+" & "+String(u[0])+":"+String(c(u[1])),s+="<br/>"}var h=null;try{h=this.getVisibleRectangleData(t,e,1,1).get(0,0)}catch{return""}return this.options&&"log"===this.options.heatmapValueScaling?h>0?s+"<b>Value:</b> 1e"+String((0,b.format)(".3f")(Math.log(h)/Math.log(10))):0===h?s+"<b>Value:</b> 0":s+"<b>Value:</b> N/A":s+"<b>Value:</b> "+String((0,b.format)(".3f")(h))}return t}()},{key:"getTilePosAndDimensions",value:function(){function t(t,e,n){var r=n||this.binsPerTile();if(this.tilesetInfo.resolutions){var i=this.tilesetInfo.resolutions.map((function(t){return+t})).sort((function(t,e){return e-t}))[t],o=i*r,a=o;return{tileX:i*r*e[0],tileY:i*r*e[1],tileWidth:o,tileHeight:a}}var s=e[0],l=e[1],u=this.tilesetInfo.min_pos[0],c=this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],h=this.tilesetInfo.max_width/Math.pow(2,t),f=this.tilesetInfo.max_width/Math.pow(2,t);return{tileX:u+s*h,tileY:c+l*f,tileWidth:h,tileHeight:f}}return t}()},{key:"calculateZoomLevel",value:function(){function t(){var t=this.tilesetInfo.min_pos[0],e=this.tilesetInfo.max_pos[0],n=this.tilesetInfo.min_pos[1],r=this.tilesetInfo.max_pos[1],i=null;if(this.tilesetInfo.resolutions){var o=C.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,t,e),a=C.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._yScale,n,r);i=Math.min(o,a)}else{var s=C.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.binsPerTile()),l=C.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.binsPerTile());i=Math.max(s,l),i=Math.min(i,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?i=Math.min(this.options.maxZoom,i):console.error("Invalid maxZoom on track:",this)),i}return t}()},{key:"tileToLocalId",value:function(){function t(t){return t.dataTransform&&"default"!==t.dataTransform?String(t.join("."))+"."+String(t.mirrored)+"."+String(t.dataTransform):String(t.join("."))+"."+String(t.mirrored)}return t}()},{key:"tileToRemoteId",value:function(){function t(t){return t.dataTransform&&"default"!==t.dataTransform?String(t.join("."))+"."+String(t.dataTransform):""+String(t.join("."))}return t}()},{key:"localToRemoteId",value:function(){function t(t){var e=t.split(".");return e.slice(0,e.length-1).join(".")}return t}()}]),e}(E.default);e.default=U},function(t,e,n){var r=n(243),i=n(244),o=typeof Float64Array<"u";function a(t,e){return t[0]-e[0]}function s(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(a);var r=new Array(n.length);for(t=0;t<r.length;++t)r[t]=n[t][1];return r}function l(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var i="generic"===t;if(-1===e){var o="function "+n+"(a){this.data=a;};\tvar proto="+n+".prototype;\tproto.dtype='"+t+"';\tproto.index=function(){return -1};\tproto.size=0;\tproto.dimension=-1;\tproto.shape=proto.stride=proto.order=[];\tproto.lo=proto.hi=proto.transpose=proto.step=\tfunction(){return new "+n+"(this.data);};\tproto.get=proto.set=function(){};\tproto.pick=function(){return null};\treturn function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===e)return o="function "+n+"(a,d) {\tthis.data = a;\tthis.offset = d\t};\tvar proto="+n+".prototype;\tproto.dtype='"+t+"';\tproto.index=function(){return this.offset};\tproto.dimension=0;\tproto.size=1;\tproto.shape=\tproto.stride=\tproto.order=[];\tproto.lo=\tproto.hi=\tproto.transpose=\tproto.step=function "+n+"_copy() {\treturn new "+n+"(this.data,this.offset)\t};\tproto.pick=function "+n+"_pick(){\treturn TrivialArray(this.data);\t};\tproto.valueOf=proto.get=function "+n+"_get(){\treturn "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};\tproto.set=function "+n+"_set(v){\treturn "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"\t};\treturn function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",new Function("TrivialArray",o)(c[t][0]);o=["'use strict'"];var a=r(e),l=a.map((function(t){return"i"+t})),u="this.offset+"+a.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),h=a.map((function(t){return"b"+t})).join(","),f=a.map((function(t){return"c"+t})).join(",");o.push("function "+n+"(a,"+h+","+f+",d){this.data=a","this.shape=["+h+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){\treturn "+a.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+n+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\tif(s0>s1){\tif(s1>s2){\treturn [2,1,0];\t}else if(s0>s2){\treturn [1,2,0];\t}else{\treturn [1,0,2];\t}\t}else if(s0>s2){\treturn [2,0,1];\t}else if(s2>s1){\treturn [0,1,2];\t}else{\treturn [0,2,1];\t}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+l.join(",")+",v){"),i?o.push("return this.data.set("+u+",v)}"):o.push("return this.data["+u+"]=v}"),o.push("proto.get=function "+n+"_get("+l.join(",")+"){"),i?o.push("return this.data.get("+u+")}"):o.push("return this.data["+u+"]}"),o.push("proto.index=function "+n+"_index(",l.join(),"){return "+u+"}"),o.push("proto.hi=function "+n+"_hi("+l.join(",")+"){return new "+n+"(this.data,"+a.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+a.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var d=a.map((function(t){return"a"+t+"=this.shape["+t+"]"})),p=a.map((function(t){return"c"+t+"=this.stride["+t+"]"}));o.push("proto.lo=function "+n+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){\td=i"+m+"|0;\tb+=c"+m+"*d;\ta"+m+"-=d}");for(o.push("return new "+n+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"c"+t})).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+l.join(",")+"){var "+a.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+a.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'){\td=i"+m+"|0;\tif(d<0){\tc+=b"+m+"*(a"+m+"-1);\ta"+m+"=ceil(-a"+m+"/d)\t}else{\ta"+m+"=ceil(a"+m+"/d)\t}\tb"+m+"*=d\t}");o.push("return new "+n+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"b"+t})).join(",")+",c)}");var v=new Array(e),g=new Array(e);for(m=0;m<e;++m)v[m]="a[i"+m+"]",g[m]="b[i"+m+"]";for(o.push("proto.transpose=function "+n+"_transpose("+l+"){"+l.map((function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+g.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+l+"){var a=[],b=[],c=this.offset"),m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(t){return"shape["+t+"]"})).join(",")+","+a.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(c[t],s)}function u(t){if(i(t))return"buffer";if(o)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};function h(t,e,n,r){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var i=e.length;if(void 0===n){n=new Array(i);for(var o=i-1,a=1;o>=0;--o)n[o]=a,a*=e[o]}if(void 0===r)for(r=0,o=0;o<i;++o)n[o]<0&&(r-=(e[o]-1)*n[o]);for(var s=u(t),h=c[s];h.length<=i+1;)h.push(l(s,h.length-1));return(0,h[i+1])(t,e,n,r)}t.exports=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(25)),i=c(n(63)),o=c(n(55)),a=c(n(248)),s=c(n(3)),l=c(n(4)),u=n(114);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e){(0,s.default)(this,t),this.epsilon=1e-6,this.data=e,this.tileSize=this.data.length,this.paddedTileSize=Math.pow(2,Math.ceil((0,a.default)(this.tileSize))),this.numSubsets=Math.min(u.NUM_PRECOMP_SUBSETS_PER_1D_TTILE,this.paddedTileSize),this.subsetSize=this.paddedTileSize/this.numSubsets,this.subsetMinimums=this.computeSubsetNonZeroMinimums(),this.subsetMaximums=this.computeSubsetNonZeroMaximums(),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,l.default)(t,[{key:"getMinNonZeroInSubset",value:function(){function t(t){var e=t[0],n=t[1],r=o.default;if(0===e&&n===this.tileSize)return this.minNonZeroInTile;var i=Math.ceil(e/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return i>=a?this.minNonZero(this.data,e,n):(e<i*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,e,i*this.subsetSize))),r=Math.min(r,this.minNonZero(this.subsetMinimums,i,a)),n>a*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,a*this.subsetSize,n))),r)}return t}()},{key:"getMaxNonZeroInSubset",value:function(){function t(t){var e=t[0],n=t[1],r=i.default;if(0===e&&n===this.tileSize)return this.maxNonZeroInTile;var o=Math.ceil(e/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return o>=a?this.maxNonZero(this.data,e,n):(e<o*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,e,o*this.subsetSize))),r=Math.max(r,this.maxNonZero(this.subsetMaximums,o,a)),n>a*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,a*this.subsetSize,n))),r)}return t}()},{key:"computeSubsetNonZeroMinimums",value:function(){function t(){for(var t=[],e=0;e<this.numSubsets;e++){for(var n=o.default,r=0;r<this.subsetSize;r++){var i=this.data[e*this.subsetSize+r];void 0!==i&&(i<this.epsilon&&i>-this.epsilon||i<n&&(n=i))}t.push(n)}return t}return t}()},{key:"computeSubsetNonZeroMaximums",value:function(){function t(){for(var t=[],e=0;e<this.numSubsets;e++){for(var n=i.default,r=0;r<this.subsetSize;r++){var o=this.data[e*this.subsetSize+r];void 0!==o&&(o<this.epsilon&&o>-this.epsilon||o>n&&(n=o))}t.push(n)}return t}return t}()},{key:"getMinNonZeroInTile",value:function(){function t(){return Math.min.apply(Math,(0,r.default)(this.subsetMinimums))}return t}()},{key:"getMaxNonZeroInTile",value:function(){function t(){return Math.max.apply(Math,(0,r.default)(this.subsetMaximums))}return t}()},{key:"minNonZero",value:function(){function t(t,e,n){for(var r=o.default,i=e;i<n;i++){var a=t[i];a<this.epsilon&&a>-this.epsilon||a<r&&(r=a)}return r}return t}()},{key:"maxNonZero",value:function(){function t(t,e,n){for(var r=i.default,o=e;o<n;o++){var a=t[o];a<this.epsilon&&a>-this.epsilon||a>r&&(r=a)}return r}return t}()}]),t}();e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(63)),i=h(n(55)),o=h(n(95)),a=h(n(251)),s=h(n(3)),l=h(n(4)),u=h(n(136)),c=n(114);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e){(0,s.default)(this,t),this.epsilon=1e-6,this.tileSize=Math.sqrt(e.length),(0,a.default)(this.tileSize)||console.error("The DenseDataExtrema2D module only works for data of quadratic length."),this.numSubsets=Math.min(c.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.tileSize),this.subsetSize=this.tileSize/this.numSubsets;var n=(0,u.default)((0,o.default)(e),[this.tileSize,this.tileSize]);this.subsetMinimums=this.computeSubsetNonZeroMinimums(n),this.subsetMaximums=this.computeSubsetNonZeroMaximums(n),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,l.default)(t,[{key:"getMinNonZeroInSubset",value:function(){function t(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=Math.floor(n/this.subsetSize),a=Math.floor(e/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,o,a,l,s)}return t}()},{key:"getMaxNonZeroInSubset",value:function(){function t(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=Math.floor(n/this.subsetSize),a=Math.floor(e/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,o,a,l,s)}return t}()},{key:"computeSubsetNonZeroMinimums",value:function(){function t(t){var e=new Array(Math.pow(this.numSubsets,2));e=(0,u.default)(e,[this.numSubsets,this.numSubsets]);for(var n=0;n<this.numSubsets;n++)for(var r=0;r<this.numSubsets;r++){var i=this.getMinNonZeroInNdarraySubset(t,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);e.set(n,r,i)}return e}return t}()},{key:"computeSubsetNonZeroMaximums",value:function(){function t(t){var e=new Array(Math.pow(this.numSubsets,2));e=(0,u.default)(e,[this.numSubsets,this.numSubsets]);for(var n=0;n<this.numSubsets;n++)for(var r=0;r<this.numSubsets;r++){var i=this.getMaxNonZeroInNdarraySubset(t,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);e.set(n,r,i)}return e}return t}()},{key:"getMinNonZeroInNdarraySubset",value:function(){function t(t,e,n,r,o){for(var a=i.default,s=0;s<r;s++)for(var l=0;l<o;l++){var u=t.get(e+l,n+s);u<this.epsilon&&u>-this.epsilon||u<a&&(a=u)}return a}return t}()},{key:"getMaxNonZeroInNdarraySubset",value:function(){function t(t,e,n,i,o){for(var a=r.default,s=0;s<i;s++)for(var l=0;l<o;l++){var u=t.get(e+l,n+s);u<this.epsilon&&u>-this.epsilon||u>a&&(a=u)}return a}return t}()},{key:"mirrorPrecomputedExtrema",value:function(){function t(){for(var t=1;t<this.numSubsets;t++)for(var e=0;e<t;e++)this.subsetMinimums.set(e,t,this.subsetMinimums.get(t,e)),this.subsetMaximums.set(e,t,this.subsetMaximums.get(t,e))}return t}()},{key:"getMinNonZeroInTile",value:function(){function t(){return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,0,0,this.numSubsets,this.numSubsets)}return t}()},{key:"getMaxNonZeroInTile",value:function(){function t(){return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,0,0,this.numSubsets,this.numSubsets)}return t}()}]),t}();e.default=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return t.reduce((function(t,n){return t+(Array.isArray(n)&&e?n.length:1)}),0)};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(19)),i=c(n(30)),o=c(n(3)),a=c(n(4)),s=n(8),l=n(20),u=n(10);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e){(0,o.default)(this,t),this.chromInfo=e,this.chromInfoBisector=(0,s.bisector)((function(t){return t.pos})).left}return(0,a.default)(t,[{key:"scalesToPositionText",value:function(){function t(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===this.chromInfo||!t||!e)return"";var r=(0,u.absToChr)(t.domain()[0],this.chromInfo),i=(0,u.absToChr)(t.domain()[1],this.chromInfo),o=(0,u.absToChr)(e.domain()[0],this.chromInfo),a=(0,u.absToChr)(e.domain()[1],this.chromInfo),s=null,c=(0,l.format)(",d");return s=r[0]!==i[0]?String(r[0])+":"+String(c(Math.floor(r[1])))+"-"+String(i[0])+":"+String(c(Math.ceil(i[1]))):String(r[0])+":"+String(c(Math.floor(r[1])))+"-"+String(c(Math.ceil(i[1]))),n&&(o[0]!==a[0]?s+=" & "+String(o[0])+":"+String(c(Math.floor(o[1])))+"-"+String(a[0])+":"+String(c(Math.ceil(a[1]))):s+=" & "+String(o[0])+":"+String(c(Math.floor(o[1])))+"-"+String(c(Math.ceil(a[1])))),(r[2]<=0||i[2]>0||n&&(o[2]<=0||a[2]>0))&&(s+=" [offset "+String(r[2])+","+String(i[2]),n&&(s+=":"+String(o[2])+","+String(a[2])),s+="]"),s}return t}()},{key:"convertNumberNotation",value:function(){function t(t){var e=t;if(!e.includes("M",e.length-1)&&!e.includes("K",e.length-1))return e;var n=0,r=0;if(e.includes("M",e.length-1)?(n=6,e=e.replace("M","")):(n=3,e=e.replace("K","")),(0,i.default)(+e))return t;(e=(+e).toString()).includes(".")&&(r=e.length-1-e.indexOf("."),e=(+e.replace(".","")).toString());var o=n-r;return o<0?t:e+="0".repeat(o)}return t}()},{key:"parsePosition",value:function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.split(":"),r=null,i=0;n.length>1?(r=n[0],i=+this.convertNumberNotation(n[1].replace(/,/g,""))):n[0]in this.chromInfo.chrPositions?(r=n[0],i=0,null!==e&&(i=+this.chromInfo.chromLengths[r])):(i=+this.convertNumberNotation(n[0].replace(/,/g,"")),r=null,e&&(r=e));var o=null;return null===r?(r=e,o=i):r in this.chromInfo.chrPositions&&(o=this.chromInfo.chrPositions[r].pos+i),[r,i,o]}return t}()},{key:"matchRangesToLarger",value:function(){function t(t,e){if(t[1]-t[0]<e[1]-e[0]){var n=e[1]-e[0]-(t[1]-t[0]);return[[t[0]-n/2,t[1]+n/2],e]}var r=t[1]-t[0]-(e[1]-e[0]);return[t,[e[0]-r/2,e[1]+r/2]]}return t}()},{key:"getSearchRange",value:function(){function t(t){if(0===t.length)return null;var e=t.split("-"),n=null;if(0===(e=e.filter((function(t){return t.length>0})))[0].indexOf("-")&&(e[0]=e[0].slice(3,e[0].length)),e.length>1){var i=this.parsePosition(e[0]),o=(0,r.default)(i,3),a=o[0];o[1];var s=o[2],l=this.parsePosition(e[1],a),u=(0,r.default)(l,3),c=u[0];u[1];var h=u[2],f=[s,h],d=this.parsePosition(e[1]),p=(0,r.default)(d,3);a=p[0],p[1],s=p[2];var m=this.parsePosition(e[0],a),v=(0,r.default)(m,3);if(c=v[0],v[1],h=v[2],null===a&&null!==c){var g=this.parsePosition(e[1],c),y=(0,r.default)(g,3);a=y[0],y[1],s=y[2]}var b=[s,h];return b[1]-b[0]>f[1]-f[0]?b:f}if(e[0]in this.chromInfo.chrPositions){var _=+this.chromInfo.chrPositions[e[0]].pos;n=[_,_+ +this.chromInfo.chromLengths[e[0]]]}else{var x=this.parsePosition(e[0]),T=(0,r.default)(x,3);T[0],T[1];var w=T[2];n=[w-8e6,w+8e6]}return n[0]>n[1]?[n[1],n[0]]:n}return t}()},{key:"parseOffset",value:function(){function t(t){var e=t.split(":");if(0===e.length)return[[0,0],[0,0]];if(1===e.length){var n=e[0].split(",");return[[+n[0],+n[1]],[0,0]]}var r=e[0].split(","),i=e[1].split(",");return[[+r[0],+r[1]],[+i[0],+i[1]]]}return t}()},{key:"searchPosition",value:function(){function t(t){var e=null,n=null;t=t.trim();var i=/\[offset (.+?)\]/.exec(t),o=[[0,0],[0,0]];i&&(t=t.replace(i[0],""),o=this.parseOffset(i[1]));var a=t.split(" & ");if(a.length>1?(e=this.getSearchRange(a[0].split(" ")[0]),n=this.getSearchRange(a[1].split(" ")[0])):e=this.getSearchRange(a[0]),null!==e&&null!==n){var s=this.matchRangesToLarger(e,n),l=(0,r.default)(s,2);e=l[0],n=l[1]}return e&&(e[0]+=o[0][0],e[1]+=o[0][1]),n&&(n[0]+=o[1][0],n[1]+=o[1][1]),[e,n]}return t}()}]),t}();e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=b(n(17)),i=b(n(25)),o=b(n(18)),a=b(n(30)),s=b(n(38)),l=b(n(5)),u=b(n(3)),c=b(n(4)),h=b(n(6)),f=b(n(14)),d=b(n(7)),p=b(n(26)),m=b(n(40)),v=n(24),g=n(10),y=n(11);function b(t){return t&&t.__esModule?t:{default:t}}var _=function(t){function e(t,n){(0,u.default)(this,e);var r=(0,h.default)(this,(e.__proto__||(0,l.default)(e)).call(this,t,n)),i=t.animate;return r.visibleTiles=new s.default,r.visibleTileIds=new s.default,r.fetching=new s.default,r.fetchedTiles={},r.tileGraphics={},r.minX=typeof r.options.minPos<"u"&&!(0,a.default)(+r.options.minPos)?+r.options.minPos:-180,r.maxX=+r.options.maxPos||180,r.maxX=typeof r.options.maxPos<"u"&&!(0,a.default)(+r.options.maxPos)?+r.options.maxPos:180,r.minY=r.options.minY||r.minX,r.maxY=r.options.maxY||r.maxX,r.maxZoom=19,r.maxWidth=r.maxX-r.minX,r.animate=i,r.uuid=p.default.nice(),r.refreshTilesDebounced=(0,g.debounce)(r.refreshTiles.bind(r),y.ZOOM_DEBOUNCE),r}return(0,d.default)(e,t),(0,c.default)(e,[{key:"visibleAndFetchedIds",value:function(){function t(){var t=this;return(0,o.default)(this.fetchedTiles).filter((function(e){return t.visibleTileIds.has(e)}))}return t}()},{key:"visibleAndFetchedTiles",value:function(){function t(){var t=this;return this.visibleAndFetchedIds().map((function(e){return t.fetchedTiles[e]}))}return t}()},{key:"setVisibleTiles",value:function(){function t(t){var e=this;this.visibleTiles=t.map((function(t){return{tileId:e.tileToLocalId(t),remoteId:e.tileToRemoteId(t),mirrored:t.mirrored}})),this.visibleTileIds=new s.default(this.visibleTiles.map((function(t){return t.tileId})))}return t}()},{key:"removeAllTiles",value:function(){function t(){var t=new s.default((0,o.default)(this.fetchedTiles));this.removeTiles([].concat((0,i.default)(t)))}return t}()},{key:"refreshTiles",value:function(){function t(){var t=this;this.calculateVisibleTiles();for(var e=new s.default((0,o.default)(this.fetchedTiles)),n=[].concat((0,i.default)(this.visibleTiles)).filter((function(n){return!t.fetching.has(n.remoteId)&&!e.has(n.tileId)})),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);var a=[].concat((0,i.default)(e)).filter((function(e){return!t.visibleTileIds.has(e)}));this.removeTiles(a),this.fetchNewTiles(n)}return t}()},{key:"removeTiles",value:function(){function t(t){var e=this;t.length&&this.areAllVisibleTilesLoaded()&&(t.forEach((function(t){var n=t;e.destroyTile(e.fetchedTiles[n]),n in e.tileGraphics&&(e.pMain.removeChild(e.tileGraphics[n]),delete e.tileGraphics[n]),delete e.fetchedTiles[n]})),this.synchronizeTilesAndGraphics(),this.draw())}return t}()},{key:"tileToLocalId",value:function(){function t(t){return t.join(".")}return t}()},{key:"tileToRemoteId",value:function(){function t(t){return t.join(".")}return t}()},{key:"localToRemoteId",value:function(){function t(t){var e=t.split(".");return e.slice(0,e.length-1).join(".")}return t}()},{key:"calculateZoomLevel",value:function(){function t(){var t=v.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),e=v.tileProxy.calculateZoomLevel(this._xScale,this.minY,this.maxY),n=Math.min(Math.max(t,e),this.maxZoom);return this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}return t}()},{key:"calculateVisibleTiles",value:function(){function t(){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=v.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.maxZoom,this.maxWidth),this.yTiles=v.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.maxZoom,this.maxWidth);for(var t=this.xTiles,e=this.yTiles,n=this.zoomLevel,r=[],i=0;i<t.length;i++)for(var o=0;o<e.length;o++){var a=[n,t[i],e[o]];r.push(a)}this.setVisibleTiles(r)}return t}()},{key:"zoomed",value:function(){function t(t,n,r,i,o){(0,f.default)(e.prototype.__proto__||(0,l.default)(e.prototype),"zoomed",this).call(this,t,n),this.xScale(t),this.yScale(n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r,this.refreshTilesDebounced(),this.draw()}return t}()},{key:"setPosition",value:function(){function t(t){(0,f.default)(e.prototype.__proto__||(0,l.default)(e.prototype),"setPosition",this).call(this,t)}return t}()},{key:"setDimensions",value:function(){function t(t){(0,f.default)(e.prototype.__proto__||(0,l.default)(e.prototype),"setDimensions",this).call(this,t)}return t}()},{key:"areAllVisibleTilesLoaded",value:function(){function t(){for(var t=new s.default((0,o.default)(this.fetchedTiles)),e=[].concat((0,i.default)(this.visibleTileIds)),n=0;n<e.length;n++)if(!t.has(e[n]))return!1;return!0}return t}()},{key:"allTilesLoaded",value:function(){function t(){}return t}()},{key:"minValue",value:function(){function t(t){return t&&(this.scale.minValue=t),this.scale.minValue}return t}()},{key:"maxValue",value:function(){function t(t){return t&&(this.scale.maxValue=t),this.scale.maxValue}return t}()},{key:"minRawValue",value:function(){function t(){return this.scale.minRawValue}return t}()},{key:"maxRawValue",value:function(){function t(){return this.scale.maxRawValue}return t}()},{key:"getTilePosAndDimensions",value:function(){function t(t,e){var n=this.maxWidth/Math.pow(2,t),r=n;return{tileX:this.minX+e[0]*n,tileY:this.minY+e[1]*r,tileWidth:n,tileHeight:r}}return t}()},{key:"setSpriteProperties",value:function(){function t(t,e,n){var r=this.getTilePosAndDimensions(e,n),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight;t.x=this._refXScale(i),t.y=this._refYScale(o);var l=i+a,u=o+s;t.width=this._refXScale(l)-this._refXScale(i),t.height=this._refYScale(u)-this._refYScale(o)}return t}()},{key:"initTile",value:function(){function t(t){var e=new y.GLOBALS.PIXI.Texture(new y.GLOBALS.PIXI.BaseTexture(t.tileData.img)),n=new y.GLOBALS.PIXI.Sprite(e),r=t.graphics;t.sprite=n,this.setSpriteProperties(t.sprite,t.tileData.zoomLevel,t.tileData.tilePos),r.removeChildren(),r.addChild(t.sprite)}return t}()},{key:"updateTile",value:function(){function t(t){}return t}()},{key:"destroyTile",value:function(){function t(t){}return t}()},{key:"addMissingGraphics",value:function(){function t(){for(var t=(0,o.default)(this.fetchedTiles),e=0;e<t.length;e++)if(!(t[e]in this.tileGraphics)){var n=new y.GLOBALS.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[t[e]].graphics=n,this.initTile(this.fetchedTiles[t[e]]),this.tileGraphics[t[e]]=n}}return t}()},{key:"updateExistingGraphics",value:function(){function t(){for(var t=(0,o.default)(this.fetchedTiles),e=0;e<t.length;e++)this.updateTile(this.fetchedTiles[t[e]])}return t}()},{key:"synchronizeTilesAndGraphics",value:function(){function t(){this.addMissingGraphics(),this.updateExistingGraphics()}return t}()},{key:"loadTileData",value:function(){function t(t,e){var n=this.lruCache.get(t.tileId);return n||(n=e(t.data,t.type),this.lruCache.put(t.tileId,n)),n}return t}()},{key:"getTileUrl",value:function(){function t(t){var e=["a","b","c"],n=Math.floor(Math.random()*e.length);return"https://"+String(e[n])+".tile.openstreetmap.org/"+String(t[0])+"/"+String(t[1])+"/"+String(t[2])+".png"}return t}()},{key:"fetchNewTiles",value:function(){function t(t){var e=this;if(t.length>0){var n=[].concat((0,i.default)(new s.default(t.map((function(t){return t.remoteId}))))),o=function(){function t(t){var n=t.split("."),r=e.getTileUrl(n),i=new Image;i.crossOrigin="Anonymous",i.src=r,i.onload=function(){var o={};o[t]={tileId:t,img:i,zoomLevel:+n[0],tilePos:[+n[1],+n[2]],tileSrc:r},e.receivedTiles(o)}}return t}(),a=!0,l=!1,u=void 0;try{for(var c,h=(0,r.default)(n);!(a=(c=h.next()).done);a=!0)o(c.value)}catch(f){l=!0,u=f}finally{try{!a&&h.return&&h.return()}finally{if(l)throw u}}}}return t}()},{key:"receivedTiles",value:function(){function t(t){for(var e=0;e<this.visibleTiles.length;e++){var n=this.visibleTiles[e].tileId;t[this.visibleTiles[e].remoteId]&&this.visibleTiles[e].remoteId in t&&(n in this.fetchedTiles||(this.fetchedTiles[n]=this.visibleTiles[e]),this.fetchedTiles[n].tileData=t[this.visibleTiles[e].remoteId])}for(var r in t)t[r]&&this.fetching.has(r)&&this.fetching.delete(r);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}return t}()},{key:"draw",value:function(){function t(){this.delayDrawing||(0,f.default)(e.prototype.__proto__||(0,l.default)(e.prototype),"draw",this).call(this)}return t}()},{key:"drawTile",value:function(){function t(){}return t}()},{key:"refScalesChanged",value:function(){function t(t,n){for(var r in(0,f.default)(e.prototype.__proto__||(0,l.default)(e.prototype),"refScalesChanged",this).call(this,t,n),this.fetchedTiles){var i=this.fetchedTiles[r];i.sprite&&this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos)}}return t}()}]),e}(m.default);e.default=_},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(t,e){var i=typeof t;return!!(e=e??n)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}t.exports=i},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){var r=n(742),i=n(783),o=n(143),a=n(31),s=n(792);function l(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}t.exports=l},function(t,e,n){var r=n(194),i=1/0;function o(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}t.exports=o},function(t,e,n){var r=n(407),i=n(796)(r);t.exports=i},function(t,e,n){var r=n(286),i=n(146),o=n(411),a=n(31);function s(t,e){return(a(t)?r:i)(t,o(e))}t.exports=s},function(t,e,n){var r=n(453),i=n(457);function o(e,n){return delete t.exports[e],t.exports[e]=n,n}t.exports={Parser:r,Tokenizer:n(454),ElementType:n(123),DomHandler:i,get FeedHandler(){return o("FeedHandler",n(951))},get Stream(){return o("Stream",n(961))},get WritableStream(){return o("WritableStream",n(459))},get ProxyHandler(){return o("ProxyHandler",n(963))},get DomUtils(){return o("DomUtils",n(101))},get CollectingHandler(){return o("CollectingHandler",n(964))},DefaultHandler:i,get RssHandler(){return o("RssHandler",this.FeedHandler)},parseDOM:function(t,e){var n=new i(e);return new r(n,e).end(t),n.dom},parseFeed:function(e,n){var i=new t.exports.FeedHandler(n);return new r(i,n).end(e),i.dom},createDomStream:function(t,e,n){var o=new i(t,e,n);return new r(o,e)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(t,e,n){e.REPLACEMENT_CHARACTER="\ufffd",e.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},e.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],CDATA_END_STRING:[93,93,62],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch{try{return n.call(null,t,0)}catch{return n.call(this,t,0)}}}function l(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch{try{return r.call(null,t)}catch{return r.call(this,t)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch{n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch{r=a}}();var u,c=[],h=!1,f=-1;function d(){!h||!u||(h=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!h){var t=s(d);h=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,h=!1,l(t)}}function m(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1===c.length&&!h&&s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===v(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"==typeof t}function s(t){return"string"==typeof t}function l(t){return"symbol"==typeof t}function u(t){return void 0===t}function c(t){return"[object RegExp]"===v(t)}function h(t){return"object"==typeof t&&null!==t}function f(t){return"[object Date]"===v(t)}function d(t){return"[object Error]"===v(t)||t instanceof Error}function p(t){return"function"==typeof t}function m(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||typeof t>"u"}function v(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=a,e.isString=s,e.isSymbol=l,e.isUndefined=u,e.isRegExp=c,e.isObject=h,e.isDate=f,e.isError=d,e.isFunction=p,e.isPrimitive=m,e.isBuffer=t.isBuffer}).call(this,n(113).Buffer)},function(t,e,n){var r=n(198),i=n(299),o=n(470),a={tag:!0,script:!0,style:!0};e.isTag=function(t){return t.type&&(t=t.type),a[t]||!1},e.camelCase=function(t){return t.replace(/[_.-](\w|$)/g,(function(t,e){return e.toUpperCase()}))},e.cssCase=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},e.domEach=function(t,e){for(var n=0,r=t.length;n<r&&!1!==e.call(t,n,t[n]);)++n;return t},e.cloneDom=function(t,e){return e=o({},e,{_useHtmlParser2:!0}),r(i(t,e),e,!1).children};var s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;e.isHtml=function(t){if("<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3)return!0;var e=s.exec(t);return!(!e||!e[1])}},function(t,e){t.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},function(t,e,n){var r=n(52),i=n(53),o=n(488),a=n(498),s=a(),l=n(1051),u=i.call(Function.call,s);r(u,{getPolyfill:a,implementation:o,shim:l}),t.exports=u},function(t,e,n){var r=Function.prototype.toString,i=/^\s*class\b/,o=function(t){try{var e=r.call(t);return i.test(e)}catch{return!1}},a=function(t){try{return!o(t)&&(r.call(t),!0)}catch{return!1}},s=Object.prototype.toString,l="[object Function]",u="[object GeneratorFunction]",c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t||"function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(c)return a(t);if(o(t))return!1;var e=s.call(t);return e===l||e===u}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.propsOfNode=p,e.childrenOfNode=m,e.hasClassName=v,e.treeForEach=g,e.treeFilter=y,e.findParentNode=b,e.pathToNode=x,e.parentsOfNode=T,e.nodeHasId=w,e.nodeMatchesObjectProps=C,e.getTextFromNode=A;var i=h(n(122)),o=h(n(154)),a=h(n(500)),s=h(n(1056)),l=h(n(314)),u=h(n(497)),c=h(n(103));function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function p(t){return t&&t.props||{}}function m(t){if(!t)return[];var e=(0,c.default)(),n=e.isFragment&&"function"==typeof e.isFragment,r=Array.isArray(t.rendered)?(0,o.default)(t.rendered,1):[t.rendered];return n?(0,o.default)(r.map((function(t){return e.isFragment(t)?m(t):t})),1):r}function v(t,e){var n=p(t).className||"";return n=String(n).replace(/\s/g," "),(0,u.default)(e)?e.test(n):(" "+String(n)+" ").indexOf(" "+String(e)+" ")>-1}function g(t,e){t&&e(t),m(t).forEach((function(t){return g(t,e)}))}function y(t,e){var n=[];return g(t,(function(t){e(t)&&n.push(t)})),n}function b(t,e){return y(t,(function(t){return!!t.rendered&&-1!==m(t).indexOf(e)}))[0]||null}function _(t,e){return t.filter((function(t){return 0!==y(t,e).length}))}function x(t,e){for(var n=[e],r=[],i=function(e){return t===e};n.length;){var o=n.pop(),a=m(o);if(o===t)return _(r,i);r.push(o),0===a.length&&r.pop(),n.push.apply(n,d(a))}return null}function T(t,e){return(x(t,e)||[]).reverse()}function w(t,e){return p(t).id===e}var S={};function E(t){return typeof t<"u"?t:S}function k(t){return(0,a.default)(t).reduce((function(t,e){var n=r(e,2),o=n[0],a=n[1];return(0,i.default)({},t,f({},o,E(a)))}),{})}function C(t,e){return(0,s.default)(p(t),k(e))}function A(t){return null==t?"":"string"==typeof t||"number"==typeof t?String(t):t.type&&"function"==typeof t.type?"<"+String(t.type.displayName||(0,l.default)(t.type))+" />":m(t).map(A).join("")}},function(t,e,n){n.r(e);var r=n(65),i=n(84),o=n(15),a=n(0),s=n(85),l=function(t){return function(){return t}};function u(t,e,n){this.target=t,this.type=e,this.transform=n}function c(t,e,n){this.k=t,this.x=e,this.y=n}c.prototype={constructor:c,scale:function(t){return 1===t?this:new c(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new c(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var h=new c(1,0,0);function f(t){return t.__zoom||h}function d(){a.event.stopImmediatePropagation()}f.prototype=c.prototype;var p=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()};function m(){return!a.event.button}function v(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function g(){return this.__zoom||h}function y(){return-a.event.deltaY*(a.event.deltaMode?120:1)/500}function b(){return"ontouchstart"in this}function _(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var x=function(){var t,e,n=m,f=v,x=_,T=y,w=b,S=[0,1/0],E=[[-1/0,-1/0],[1/0,1/0]],k=250,C=o.i,A=[],O=Object(r.a)("start","zoom","end"),P=500,M=150,I=0;function R(t){t.property("__zoom",g).on("wheel.zoom",H).on("mousedown.zoom",z).on("dblclick.zoom",U).filter(w).on("touchstart.zoom",V).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",X).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function L(t,e){return(e=Math.max(S[0],Math.min(S[1],e)))===t.k?t:new c(e,t.x,t.y)}function D(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new c(t.k,r,i)}function N(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function j(t,e,n){t.on("start.zoom",(function(){B(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){B(this,arguments).end()})).tween("zoom",(function(){var t=this,r=arguments,i=B(t,r),o=f.apply(t,r),a=n||N(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=t.__zoom,u="function"==typeof e?e.apply(t,r):e,h=C(l.invert(a).concat(s/l.k),u.invert(a).concat(s/u.k));return function(t){if(1===t)t=u;else{var e=h(t),n=s/e[2];t=new c(n,a[0]-e[0]*n,a[1]-e[1]*n)}i.zoom(null,t)}}))}function B(t,e){for(var n,r=0,i=A.length;r<i;++r)if((n=A[r]).that===t)return n;return new F(t,e)}function F(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=f.apply(t,e)}function H(){if(n.apply(this,arguments)){var t=B(this,arguments),e=this.__zoom,r=Math.max(S[0],Math.min(S[1],e.k*Math.pow(2,T.apply(this,arguments)))),i=Object(a.mouse)(this);if(t.wheel)(t.mouse[0][0]!==i[0]||t.mouse[0][1]!==i[1])&&(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[i,e.invert(i)],Object(s.interrupt)(this),t.start()}p(),t.wheel=setTimeout(o,M),t.zoom("mouse",x(D(L(e,r),t.mouse[0],t.mouse[1]),t.extent,E))}function o(){t.wheel=null,t.end()}}function z(){if(!e&&n.apply(this,arguments)){var t=B(this,arguments),r=Object(a.select)(a.event.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",h,!0),o=Object(a.mouse)(this),l=a.event.clientX,u=a.event.clientY;Object(i.dragDisable)(a.event.view),d(),t.mouse=[o,this.__zoom.invert(o)],Object(s.interrupt)(this),t.start()}function c(){if(p(),!t.moved){var e=a.event.clientX-l,n=a.event.clientY-u;t.moved=e*e+n*n>I}t.zoom("mouse",x(D(t.that.__zoom,t.mouse[0]=Object(a.mouse)(t.that),t.mouse[1]),t.extent,E))}function h(){r.on("mousemove.zoom mouseup.zoom",null),Object(i.dragEnable)(a.event.view,t.moved),p(),t.end()}}function U(){if(n.apply(this,arguments)){var t=this.__zoom,e=Object(a.mouse)(this),r=t.invert(e),i=t.k*(a.event.shiftKey?.5:2),o=x(D(L(t,i),e,r),f.apply(this,arguments),E);p(),k>0?Object(a.select)(this).transition().duration(k).call(j,o,e):Object(a.select)(this).call(R.transform,o)}}function V(){if(n.apply(this,arguments)){var e,r,i,o,l=B(this,arguments),u=a.event.changedTouches,c=u.length;for(d(),r=0;r<c;++r)i=u[r],o=[o=Object(a.touch)(this,u,i.identifier),this.__zoom.invert(o),i.identifier],l.touch0?l.touch1||(l.touch1=o):(l.touch0=o,e=!0);if(t&&(t=clearTimeout(t),!l.touch1))return l.end(),void((o=Object(a.select)(this).on("dblclick.zoom"))&&o.apply(this,arguments));e&&(t=setTimeout((function(){t=null}),P),Object(s.interrupt)(this),l.start())}}function G(){var e,n,r,i,o=B(this,arguments),s=a.event.changedTouches,l=s.length;for(p(),t&&(t=clearTimeout(t)),e=0;e<l;++e)n=s[e],r=Object(a.touch)(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var u=o.touch0[0],c=o.touch0[1],h=o.touch1[0],f=o.touch1[1],d=(d=h[0]-u[0])*d+(d=h[1]-u[1])*d,m=(m=f[0]-c[0])*m+(m=f[1]-c[1])*m;n=L(n,Math.sqrt(d/m)),r=[(u[0]+h[0])/2,(u[1]+h[1])/2],i=[(c[0]+f[0])/2,(c[1]+f[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],i=o.touch0[1]}o.zoom("touch",x(D(n,r,i),o.extent,E))}function X(){var t,n,r=B(this,arguments),i=a.event.changedTouches,o=i.length;for(d(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),P),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return R.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",g),t!==n?j(t,e):n.interrupt().each((function(){B(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},R.scaleBy=function(t,e){R.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}))},R.scaleTo=function(t,e){R.transform(t,(function(){var t=f.apply(this,arguments),n=this.__zoom,r=N(t),i=n.invert(r),o="function"==typeof e?e.apply(this,arguments):e;return x(D(L(n,o),r,i),t,E)}))},R.translateBy=function(t,e,n){R.transform(t,(function(){return x(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),f.apply(this,arguments),E)}))},R.translateTo=function(t,e,n){R.transform(t,(function(){var t=f.apply(this,arguments),r=this.__zoom,i=N(t);return x(h.translate(i[0],i[1]).scale(r.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,E)}))},F.prototype={start:function(){return 1===++this.active&&(this.index=A.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(A.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Object(a.customEvent)(new u(R,t,this.that.__zoom),O.apply,O,[t,this.that,this.args])}},R.wheelDelta=function(t){return arguments.length?(T="function"==typeof t?t:l(+t),R):T},R.filter=function(t){return arguments.length?(n="function"==typeof t?t:l(!!t),R):n},R.touchable=function(t){return arguments.length?(w="function"==typeof t?t:l(!!t),R):w},R.extent=function(t){return arguments.length?(f="function"==typeof t?t:l([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),R):f},R.scaleExtent=function(t){return arguments.length?(S[0]=+t[0],S[1]=+t[1],R):[S[0],S[1]]},R.translateExtent=function(t){return arguments.length?(E[0][0]=+t[0][0],E[1][0]=+t[1][0],E[0][1]=+t[0][1],E[1][1]=+t[1][1],R):[[E[0][0],E[0][1]],[E[1][0],E[1][1]]]},R.constrain=function(t){return arguments.length?(x=t,R):x},R.duration=function(t){return arguments.length?(k=+t,R):k},R.interpolate=function(t){return arguments.length?(C=t,R):C},R.on=function(){var t=O.on.apply(O,arguments);return t===O?R:t},R.clickDistance=function(t){return arguments.length?(I=(t=+t)*t,R):Math.sqrt(I)},R};n.d(e,"zoom",(function(){return x})),n.d(e,"zoomTransform",(function(){return f})),n.d(e,"zoomIdentity",(function(){return h}))},function(t,e,n){var r=n(47),i=n(48),o=n(210)(!1),a=n(90)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){t.exports=!n(36)&&!n(50)((function(){return 7!=Object.defineProperty(n(108)("div"),"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports=n(43)},function(t,e,n){var r=n(32),i=n(39),o=n(60);t.exports=n(36)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,l=0;s>l;)r.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var r=n(23).document;t.exports=r&&r.documentElement},function(t,e){},function(t,e,n){var r=n(39);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){var o=t.return;throw void 0!==o&&r(o.call(t)),a}}},function(t,e,n){var r=n(51),i=n(21)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(21)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch{}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch{}return n}},function(t,e,n){e.f=n(21)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(29)),i=c(n(1)),o=c(n(2)),a=c(n(170)),s=c(n(332)),l=c(n(572)),u=c(n(132));function c(t){return t&&t.__esModule?t:{default:t}}n(574);var h={"../styles/Dialog.module.scss":{"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},f=function(t){var e=function(){t.modal.close(),t.onCancel&&t.onCancel()},n=function(){t.modal.close(),t.onOkay&&t.onOkay()};return i.default.createElement(l.default,{closeButton:!1,hide:t.hide,maxHeight:t.maxHeight},i.default.createElement("header",{className:"Dialog-module_dialog-header-2mk2M"},i.default.createElement("h3",null,t.title),i.default.createElement(a.default,{onClick:e},i.default.createElement(s.default,null))),t.maxHeight?i.default.createElement("main",{className:(0,r.default)(t.maxHeight?"dialog-main-max-height":"",h)},t.children):i.default.createElement("main",null,t.children),i.default.createElement("footer",{className:(0,r.default)(t.maxHeight?"dialog-footer-max-height":"dialog-footer",h)},t.okayOnly?i.default.createElement("div",null):i.default.createElement(a.default,{onClick:e,shortcut:t.cancelShortcut},t.cancelTitle),i.default.createElement(a.default,{onClick:n,shortcut:t.okayShortcut},t.okayTitle)))};f.defaultProps={cancelTitle:"Cancel",hide:!1,maxHeight:!1,okayOnly:!1,okayTitle:"Ok"},f.propTypes={cancelShortcut:o.default.string,cancelTitle:o.default.string,children:o.default.func.isRequired,hide:o.default.bool,maxHeight:o.default.bool,modal:o.default.object.isRequired,okayShortcut:o.default.string,okayTitle:o.default.string,okayOnly:o.default.bool,onCancel:o.default.func.isRequired,onOkay:o.default.func.isRequired,title:o.default.string.isRequired},e.default=(0,u.default)(f)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1)),i=o(n(2));function o(t){return t&&t.__esModule?t:{default:t}}n(570);var a=r.default.forwardRef((function(t,e){return r.default.createElement("button",{ref:e,disable:t.disable,onBlur:t.onBlur,onClick:t.onClick,onMouseDown:t.onMouseDown,onMouseOut:t.onMouseOut,onMouseUp:t.onMouseUp,className:"Button-module_button-3YXsQ",type:"button"},t.children,t.shortcut&&r.default.createElement("span",{className:"Button-module_button-shortcut-1zMAn"},t.shortcut))}));a.defaultProps={onClick:function(){function t(){}return t}(),styleName:"",type:"button"},a.propTypes={children:i.default.func.isRequired,disable:i.default.func.isRequired,onBlur:i.default.func,onClick:i.default.func,onMouseDown:i.default.func,onMouseOut:i.default.func,onMouseUp:i.default.func,shortcut:i.default.string,type:i.default.string},e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){};e.default=r},function(t,e,n){(function(t,n){var r=200,i="__lodash_hash_undefined__",o=1,a=2,s=9007199254740991,l="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",h="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",m="[object GeneratorFunction]",v="[object Map]",g="[object Number]",y="[object Null]",b="[object Object]",_="[object Promise]",x="[object Proxy]",T="[object RegExp]",w="[object Set]",S="[object String]",E="[object Symbol]",k="[object Undefined]",C="[object WeakMap]",A="[object ArrayBuffer]",O="[object DataView]",P="[object Float64Array]",M="[object Int8Array]",I="[object Int16Array]",R="[object Int32Array]",L="[object Uint8Array]",D="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,F=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,z={};z["[object Float32Array]"]=z[P]=z[M]=z[I]=z[R]=z[L]=z[D]=z[N]=z[j]=!0,z[l]=z[u]=z[A]=z[h]=z[O]=z[f]=z[d]=z[p]=z[v]=z[g]=z[b]=z[T]=z[w]=z[S]=z[C]=!1;var U="object"==typeof t&&t&&t.Object===Object&&t,V="object"==typeof self&&self&&self.Object===Object&&self,G=U||V||Function("return this")(),X=e&&!e.nodeType&&e,Y=X&&"object"==typeof n&&n&&!n.nodeType&&n,W=Y&&Y.exports===X,q=W&&U.process,K=function(){try{return q&&q.binding&&q.binding("util")}catch{}}(),$=K&&K.isTypedArray;function Z(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Q(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function J(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function tt(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function et(t){return function(e){return t(e)}}function nt(t,e){return t.has(e)}function rt(t,e){return t?.[e]}function it(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ot(t,e){return function(n){return t(e(n))}}function at(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var st=Array.prototype,lt=Function.prototype,ut=Object.prototype,ct=G["__core-js_shared__"],ht=lt.toString,ft=ut.hasOwnProperty,dt=function(){var t=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pt=ut.toString,mt=RegExp("^"+ht.call(ft).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=W?G.Buffer:void 0,gt=G.Symbol,yt=G.Uint8Array,bt=ut.propertyIsEnumerable,_t=st.splice,xt=gt?gt.toStringTag:void 0,Tt=Object.getOwnPropertySymbols,wt=vt?vt.isBuffer:void 0,St=ot(Object.keys,Object),Et=ke(G,"DataView"),kt=ke(G,"Map"),Ct=ke(G,"Promise"),At=ke(G,"Set"),Ot=ke(G,"WeakMap"),Pt=ke(Object,"create"),Mt=De(Et),It=De(kt),Rt=De(Ct),Lt=De(At),Dt=De(Ot),Nt=gt?gt.prototype:void 0,jt=Nt?Nt.valueOf:void 0;function Bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ft(){this.__data__=Pt?Pt(null):{},this.size=0}function Ht(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function zt(t){var e=this.__data__;if(Pt){var n=e[t];return n===i?void 0:n}return ft.call(e,t)?e[t]:void 0}function Ut(t){var e=this.__data__;return Pt?void 0!==e[t]:ft.call(e,t)}function Vt(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Pt&&void 0===e?i:e,this}function Gt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xt(){this.__data__=[],this.size=0}function Yt(t){var e=this.__data__,n=fe(e,t);return!(n<0)&&(n==e.length-1?e.pop():_t.call(e,n,1),--this.size,!0)}function Wt(t){var e=this.__data__,n=fe(e,t);return n<0?void 0:e[n][1]}function qt(t){return fe(this.__data__,t)>-1}function Kt(t,e){var n=this.__data__,r=fe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function $t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Zt(){this.size=0,this.__data__={hash:new Bt,map:new(kt||Gt),string:new Bt}}function Qt(t){var e=Ee(this,t).delete(t);return this.size-=e?1:0,e}function Jt(t){return Ee(this,t).get(t)}function te(t){return Ee(this,t).has(t)}function ee(t,e){var n=Ee(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ne(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new $t;++e<n;)this.add(t[e])}function re(t){return this.__data__.set(t,i),this}function ie(t){return this.__data__.has(t)}function oe(t){var e=this.__data__=new Gt(t);this.size=e.size}function ae(){this.__data__=new Gt,this.size=0}function se(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function le(t){return this.__data__.get(t)}function ue(t){return this.__data__.has(t)}function ce(t,e){var n=this.__data__;if(n instanceof Gt){var i=n.__data__;if(!kt||i.length<r-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new $t(i)}return n.set(t,e),this.size=n.size,this}function he(t,e){var n=Be(t),r=!n&&je(t),i=!n&&!r&&He(t),o=!n&&!r&&!i&&Ye(t),a=n||r||i||o,s=a?tt(t.length,String):[],l=s.length;for(var u in t)(e||ft.call(t,u))&&(!a||!("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pe(u,l)))&&s.push(u);return s}function fe(t,e){for(var n=t.length;n--;)if(Ne(t[n][0],e))return n;return-1}function de(t,e,n){var r=e(t);return Be(t)?r:Q(r,n(t))}function pe(t){return null==t?void 0===t?k:y:xt&&xt in Object(t)?Ce(t):Le(t)}function me(t){return Xe(t)&&pe(t)==l}function ve(t,e,n,r,i){return t===e||(null==t||null==e||!Xe(t)&&!Xe(e)?t!==t&&e!==e:ge(t,e,n,r,ve,i))}function ge(t,e,n,r,i,a){var s=Be(t),c=Be(e),h=s?u:Oe(t),f=c?u:Oe(e),d=(h=h==l?b:h)==b,p=(f=f==l?b:f)==b,m=h==f;if(m&&He(t)){if(!He(e))return!1;s=!0,d=!1}if(m&&!d)return a||(a=new oe),s||Ye(t)?xe(t,e,n,r,i,a):Te(t,e,h,n,r,i,a);if(!(n&o)){var v=d&&ft.call(t,"__wrapped__"),g=p&&ft.call(e,"__wrapped__");if(v||g){var y=v?t.value():t,_=g?e.value():e;return a||(a=new oe),i(y,_,n,r,a)}}return!!m&&(a||(a=new oe),we(t,e,n,r,i,a))}function ye(t){return!(!Ge(t)||Ie(t))&&(Ue(t)?mt:F).test(De(t))}function be(t){return Xe(t)&&Ve(t.length)&&!!z[pe(t)]}function _e(t){if(!Re(t))return St(t);var e=[];for(var n in Object(t))ft.call(t,n)&&"constructor"!=n&&e.push(n);return e}function xe(t,e,n,r,i,s){var l=n&o,u=t.length,c=e.length;if(u!=c&&!(l&&c>u))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var f=-1,d=!0,p=n&a?new ne:void 0;for(s.set(t,e),s.set(e,t);++f<u;){var m=t[f],v=e[f];if(r)var g=l?r(v,m,f,e,t,s):r(m,v,f,t,e,s);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!J(e,(function(t,e){if(!nt(p,e)&&(m===t||i(m,t,n,r,s)))return p.push(e)}))){d=!1;break}}else if(m!==v&&!i(m,v,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function Te(t,e,n,r,i,s,l){switch(n){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case A:return!(t.byteLength!=e.byteLength||!s(new yt(t),new yt(e)));case h:case f:case g:return Ne(+t,+e);case d:return t.name==e.name&&t.message==e.message;case T:case S:return t==e+"";case v:var u=it;case w:var c=r&o;if(u||(u=at),t.size!=e.size&&!c)return!1;var p=l.get(t);if(p)return p==e;r|=a,l.set(t,e);var m=xe(u(t),u(e),r,i,s,l);return l.delete(t),m;case E:if(jt)return jt.call(t)==jt.call(e)}return!1}function we(t,e,n,r,i,a){var s=n&o,l=Se(t),u=l.length;if(u!=Se(e).length&&!s)return!1;for(var c=u;c--;){var h=l[c];if(!(s?h in e:ft.call(e,h)))return!1}var f=a.get(t);if(f&&a.get(e))return f==e;var d=!0;a.set(t,e),a.set(e,t);for(var p=s;++c<u;){var m=t[h=l[c]],v=e[h];if(r)var g=s?r(v,m,h,e,t,a):r(m,v,h,t,e,a);if(!(void 0===g?m===v||i(m,v,n,r,a):g)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(d=!1)}return a.delete(t),a.delete(e),d}function Se(t){return de(t,We,Ae)}function Ee(t,e){var n=t.__data__;return Me(e)?n["string"==typeof e?"string":"hash"]:n.map}function ke(t,e){var n=rt(t,e);return ye(n)?n:void 0}function Ce(t){var e=ft.call(t,xt),n=t[xt];try{t[xt]=void 0;var r=!0}catch{}var i=pt.call(t);return r&&(e?t[xt]=n:delete t[xt]),i}Bt.prototype.clear=Ft,Bt.prototype.delete=Ht,Bt.prototype.get=zt,Bt.prototype.has=Ut,Bt.prototype.set=Vt,Gt.prototype.clear=Xt,Gt.prototype.delete=Yt,Gt.prototype.get=Wt,Gt.prototype.has=qt,Gt.prototype.set=Kt,$t.prototype.clear=Zt,$t.prototype.delete=Qt,$t.prototype.get=Jt,$t.prototype.has=te,$t.prototype.set=ee,ne.prototype.add=ne.prototype.push=re,ne.prototype.has=ie,oe.prototype.clear=ae,oe.prototype.delete=se,oe.prototype.get=le,oe.prototype.has=ue,oe.prototype.set=ce;var Ae=Tt?function(t){return null==t?[]:(t=Object(t),Z(Tt(t),(function(e){return bt.call(t,e)})))}:qe,Oe=pe;function Pe(t,e){return!!(e=e??s)&&("number"==typeof t||H.test(t))&&t>-1&&t%1==0&&t<e}function Me(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ie(t){return!!dt&&dt in t}function Re(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ut)}function Le(t){return pt.call(t)}function De(t){if(null!=t){try{return ht.call(t)}catch{}try{return t+""}catch{}}return""}function Ne(t,e){return t===e||t!==t&&e!==e}(Et&&Oe(new Et(new ArrayBuffer(1)))!=O||kt&&Oe(new kt)!=v||Ct&&Oe(Ct.resolve())!=_||At&&Oe(new At)!=w||Ot&&Oe(new Ot)!=C)&&(Oe=function(t){var e=pe(t),n=e==b?t.constructor:void 0,r=n?De(n):"";if(r)switch(r){case Mt:return O;case It:return v;case Rt:return _;case Lt:return w;case Dt:return C}return e});var je=me(function(){return arguments}())?me:function(t){return Xe(t)&&ft.call(t,"callee")&&!bt.call(t,"callee")},Be=Array.isArray;function Fe(t){return null!=t&&Ve(t.length)&&!Ue(t)}var He=wt||Ke;function ze(t,e){return ve(t,e)}function Ue(t){if(!Ge(t))return!1;var e=pe(t);return e==p||e==m||e==c||e==x}function Ve(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function Ge(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Xe(t){return null!=t&&"object"==typeof t}var Ye=$?et($):be;function We(t){return Fe(t)?he(t):_e(t)}function qe(){return[]}function Ke(){return!1}n.exports=ze}).call(this,n(27),n(173)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(44)),i=h(n(18)),o=h(n(29)),a=h(n(2)),s=h(n(1)),l=n(125),u=h(n(78)),c=n(11);function h(t){return t&&t.__esModule?t:{default:t}}n(606);var f={"../styles/TrackControl.module.scss":{"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},d=function(t){var e=t.isVisible?"track-control-active":"track-control";return e+=t.isAlignLeft?" track-control-left":"",e+=t.isVertical?" track-control-vertical":"",e+=t.paddingRight?" track-control-padding-right":"",t.theme===c.THEME_DARK&&(e+=" track-control-dark"),e},p=function(t){var e="track-control-button";return e+=t.isVertical?" track-control-button-vertical":""},m=null,v=null,g=function(t){(!t||!m||(0,i.default)(t).some((function(e){return m[e]!==t[e]})))&&(m=t,v=(0,l.SortableHandle)((function(){return s.default.createElement("svg",{style:(0,r.default)({height:"20px",width:"20px"},t.imgStyleMove),className:"no-zoom "+(0,o.default)(p(t),f)},s.default.createElement("title",null,"Move track"),s.default.createElement("use",{xlinkHref:"#move"}))})));var e=void 0,n=void 0;return s.default.createElement("div",{className:(0,o.default)(d(t),f)},t.isMoveable&&s.default.createElement(v,null),s.default.createElement("svg",{ref:function(){function t(t){e=t}return t}(),onClick:function(){function n(){t.onConfigTrackMenuOpened(t.uid,e.getBoundingClientRect())}return n}(),style:(0,r.default)({height:"20px",width:"20px"},t.imgStyleSettings),className:"no-zoom "+(0,o.default)(p(t),f)},s.default.createElement("title",null,"Configure track"),s.default.createElement("use",{xlinkHref:"#cog"})),t.onAddSeries&&s.default.createElement("svg",{onClick:function(){function e(){return t.onAddSeries(t.uid)}return e}(),style:(0,r.default)({height:"20px",width:"20px"},t.imgStyleAdd),className:"no-zoom "+(0,o.default)(p(t),f)},s.default.createElement("title",null,"Add series"),s.default.createElement("use",{xlinkHref:"#plus"})),s.default.createElement("svg",{ref:function(){function t(t){n=t}return t}(),onClick:function(){function e(){t.onCloseTrackMenuOpened(t.uid,n.getBoundingClientRect())}return e}(),style:(0,r.default)({height:"20px",width:"20px"},t.imgStyleClose),className:"no-zoom "+(0,o.default)(p(t),f)},s.default.createElement("title",null,"Close track"),s.default.createElement("use",{xlinkHref:"#cross"})))};g.propTypes={imgStyleAdd:a.default.object,imgStyleClose:a.default.object,imgStyleMove:a.default.object,imgStyleSettings:a.default.object,isAlignLeft:a.default.bool,isMoveable:a.default.bool,isVertical:a.default.bool,isVisible:a.default.bool,onConfigTrackMenuOpened:a.default.func,onCloseTrackMenuOpened:a.default.func,onAddSeries:a.default.func,paddingRight:a.default.bool,theme:a.default.symbol.isRequired,uid:a.default.string},e.default=(0,u.default)(g)},function(t,e,n){t.exports={"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},function(t,e,n){t.exports={"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(3)),i=l(n(4)),o=n(28),a=n(69),s=n(10);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){var n=e.id,i=e.pubSub,s=e.getTheme;(0,r.default)(this,t),this.pubSub=i||a.fake,this.id=n,this._xScale=(0,o.scaleLinear)(),this._yScale=(0,o.scaleLinear)(),this._refXScale=(0,o.scaleLinear)(),this._refYScale=(0,o.scaleLinear)(),this.position=[0,0],this.dimensions=[1,1],this.options={},this.pubSubs=[],this.getTheme=s||function(){},this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.defaultMouseMoveHandler.bind(this)))}return(0,i.default)(t,[{key:"isWithin",value:function(){function t(t,e){var n=t,r=e,i=this.position[0],o=this.position[1];return this.isLeftModified&&(n=e,r=t,i=this.position[1],o=this.position[0]),(0,s.isWithin)(n,r,i,this.dimensions[0]+i,o,this.dimensions[1]+o)}return t}()},{key:"getProp",value:function(){function t(t){var e=this;return function(){return e[t]}}return t}()},{key:"getData",value:function(){function t(){}return t}()},{key:"getDimensions",value:function(){function t(){return this.dimensions}return t}()},{key:"setDimensions",value:function(){function t(t){this.dimensions=t,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}return t}()},{key:"refXScale",value:function(){function t(t){return arguments.length?(this._refXScale=t,this):this._refXScale}return t}()},{key:"refYScale",value:function(){function t(t){return arguments.length?(this._refYScale=t,this):this._refYScale}return t}()},{key:"xScale",value:function(){function t(t){return arguments.length?(this._xScale=t,this):this._xScale}return t}()},{key:"yScale",value:function(){function t(t){return arguments.length?(this._yScale=t,this):this._yScale}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e)}return t}()},{key:"refScalesChanged",value:function(){function t(t,e){this._refXScale=t,this._refYScale=e}return t}()},{key:"draw",value:function(){function t(){}return t}()},{key:"getPosition",value:function(){function t(){return this.position}return t}()},{key:"setPosition",value:function(){function t(t){this.position=t}return t}()},{key:"defaultMouseMoveHandler",value:function(){function t(t){}return t}()},{key:"remove",value:function(){function t(){var t=this;this.pubSubs.forEach((function(e){return t.pubSub.unsubscribe(e)})),this.pubSubs=[]}return t}()},{key:"rerender",value:function(){function t(){}return t}()},{key:"respondsToPosition",value:function(){function t(t,e){return this.isWithin(t,e)}return t}()},{key:"zoomedY",value:function(){function t(t,e){}return t}()},{key:"movedY",value:function(){function t(t){}return t}()}]),t}();e.default=u},function(t,e,n){var r=n(33),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(3)),i=l(n(4)),o=n(20),a=n(11),s=n(10);function l(t){return t&&t.__esModule?t:{default:t}}var u=40,c=0,h=5,f=4,d=function(){function t(e){(0,r.default)(this,t),this.pAxis=new a.GLOBALS.PIXI.Graphics,this.track=e,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10}return(0,i.default)(t,[{key:"startAxis",value:function(){function t(t){var e=this.pAxis;e.clear(),e.lineStyle(1,this.track.getTheme()===a.THEME_DARK?(0,s.colorToHex)("#ffffff"):0,1),e.moveTo(0,0),e.lineTo(0,t)}return t}()},{key:"createAxisTexts",value:function(){function t(t,e){this.tickValues=this.calculateAxisTickValues(t,e);var n=0,r=this.track.getTheme()===a.THEME_DARK?"white":"black";for(this.track.options&&this.track.options.axisLabelFormatting&&"scientific"!==this.track.options.axisLabelFormatting?this.tickFormat=function(t){return t}:this.tickFormat=(0,o.format)(".2");n<this.tickValues.length;){for(var i=this.tickValues[n];this.axisTexts.length<=n;){var s=new a.GLOBALS.PIXI.Text(i,{fontSize:String(this.axisTextFontSize)+"px",fontFamily:this.axisTextFontFamily,fill:r});this.axisTexts.push(s),this.pAxis.addChild(s)}this.axisTexts[n].text=this.tickFormat(i),this.axisTexts[n].anchor.y=.5,this.axisTexts[n].anchor.x=.5,n++}for(;this.axisTexts.length>this.tickValues.length;){var l=this.axisTexts.pop();this.pAxis.removeChild(l),l.destroy(!0)}}return t}()},{key:"calculateAxisTickValues",value:function(){function t(t,e){var n=Math.max(Math.ceil(e/u),1),r=t.ticks(n);return r.length<1&&(r=t.ticks(n+1)).length>1&&(r=[r[0]]),r}return t}()},{key:"drawAxisLeft",value:function(){function t(t,e){this.startAxis(e),this.createAxisTexts(t,e);var n=this.pAxis;this.track.getTheme()===a.THEME_DARK&&n.lineStyle(n.lineWidth||n._lineStyle.width,(0,s.colorToHex)("#ffffff")),n.moveTo(0,0),n.lineTo(-(c+h),0),n.moveTo(0,e),n.lineTo(-(c+h),e);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=-(c+h+f+this.axisTexts[r].width/2),this.axisTexts[r].y=t(i),n.moveTo(-c,t(i)),n.lineTo(-(c+h),t(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}return t}()},{key:"drawAxisRight",value:function(){function t(t,e){this.startAxis(e),this.createAxisTexts(t,e);var n=this.pAxis;this.track.getTheme()===a.THEME_DARK&&n.lineStyle(n.lineWidth||n._lineStyle.width,(0,s.colorToHex)("#ffffff")),n.moveTo(0,0),n.lineTo(c+h,0),n.moveTo(0,e),n.lineTo(c+h,e);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=c+h+f+this.axisTexts[r].width/2,this.axisTexts[r].y=t(i),n.moveTo(c,t(i)),n.lineTo(c+h,t(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}return t}()},{key:"hideOverlappingAxisLabels",value:function(){function t(){for(var t=this.axisTexts.length-1;t>=0;t--)this.axisTexts[t].visible=!0;for(var e=this.axisTexts.length-1;e>=0;e--)if(this.axisTexts[e].visible)for(var n=e-1;n>=0&&this.axisTexts[e].y+this.axisTexts[e].height/2>this.axisTexts[n].y-this.axisTexts[n].height/2;)this.axisTexts[n].visible=!1,n-=1}return t}()},{key:"exportVerticalAxis",value:function(){function t(t){var e=document.createElement("g");e.setAttribute("class","axis-vertical");var n="black";this.track&&this.track.options.lineStrokeColor&&(n=this.track.options.lineStrokeColor),this.track.getTheme()===a.THEME_DARK&&(n="#cccccc");var r=document.createElement("path");return r.setAttribute("fill","transparent"),r.setAttribute("stroke",n),r.setAttribute("id","axis-line"),r.setAttribute("d","M0,0 L0,"+String(t)),e.appendChild(r),e}return t}()},{key:"createAxisSVGLine",value:function(){function t(){var t="black";this.track&&this.track.options.lineStrokeColor&&(t=this.track.options.lineStrokeColor),this.track.getTheme()===a.THEME_DARK&&(t="#cccccc");var e=document.createElement("path");return e.setAttribute("id","tick-mark"),e.setAttribute("fill","transparent"),e.setAttribute("stroke",t),e}return t}()},{key:"createAxisSVGText",value:function(){function t(t){var e=document.createElement("text");return e.innerHTML=t,e.setAttribute("id","axis-text"),e.setAttribute("text-anchor","middle"),e.setAttribute("font-family",this.axisTextFontFamily),e.setAttribute("font-size",this.axisTextFontSize),e.setAttribute("dy",this.axisTextFontSize/2-2),e}return t}()},{key:"exportAxisLeftSVG",value:function(){function t(t,e){var n=this.exportVerticalAxis(e),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L"+ +(c+h)+",0");var i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,"+String(e)+" L"+ +(c+h)+","+String(e));for(var o=0;o<this.axisTexts.length;o++){var a=this.tickValues[o],s=this.axisTexts[o],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d","M"+ +c+","+String(t(a))+" L"+ +(c+h)+","+String(t(a)));var u=document.createElement("g");if(n.appendChild(u),s.visible){var f=this.createAxisSVGText(s.text);u.appendChild(f)}u.setAttribute("transform","translate("+String(s.position.x)+","+String(s.position.y)+")\n             scale("+String(s.scale.x)+","+String(s.scale.y)+")")}return n}return t}()},{key:"exportAxisRightSVG",value:function(){function t(t,e){var n=this.exportVerticalAxis(e),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L"+-(c+h)+",0");var i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,"+String(e)+" L"+-(c+h)+","+String(e));for(var o=0;o<this.axisTexts.length;o++){var a=this.tickValues[o],s=this.axisTexts[o],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d","M"+-c+","+String(t(a))+" L"+-(c+h)+","+String(t(a)));var u=document.createElement("g");if(n.appendChild(u),s.visible){var f=this.createAxisSVGText(s.text);u.appendChild(f)}u.setAttribute("transform","translate("+String(s.position.x)+","+String(s.position.y)+")\n             scale("+String(s.scale.x)+","+String(s.scale.y)+")")}return n}return t}()},{key:"clearAxis",value:function(){function t(){for(var t=this.pAxis;this.axisTexts.length;){var e=this.axisTexts.pop();t.removeChild(e)}t.clear()}return t}()}]),t}();e.default=d},function(t,e,n){t.exports=d;var r,i=n(257),o=n(353),a=n(620);function s(t,e){for(var n=0;n<t;++n)if(!(e[n]<=e[n+t]))return!0;return!1}function l(t,e,n,r){for(var i=0,o=0,a=0,l=t.length;a<l;++a){var u=t[a];if(!s(e,u)){for(var c=0;c<2*e;++c)n[i++]=u[c];r[o++]=a}}return o}function u(t,e,n,r){var s=t.length,u=e.length;if(!(s<=0||u<=0)){var c=t[0].length>>>1;if(!(c<=0)){var h,f=i.mallocDouble(2*c*s),d=i.mallocInt32(s);if((s=l(t,c,f,d))>0){if(1===c&&r)o.init(s),h=o.sweepComplete(c,n,0,s,f,d,0,s,f,d);else{var p=i.mallocDouble(2*c*u),m=i.mallocInt32(u);(u=l(e,c,p,m))>0&&(o.init(s+u),h=1===c?o.sweepBipartite(c,n,0,s,f,d,0,u,p,m):a(c,n,r,s,f,d,u,p,m),i.free(p),i.free(m))}i.free(f),i.free(d)}return h}}}function c(t,e){r.push([t,e])}function h(t){return r=[],u(t,t,c,!0),r}function f(t,e){return r=[],u(t,e,c,!1),r}function d(t,e,n){switch(arguments.length){case 1:return h(t);case 2:return"function"==typeof e?u(t,t,e,!0):f(t,e);case 3:return u(t,e,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),i=function(t){var e=void 0;switch(t&&t.toLowerCase()){case"mean":e=r.mean;break;case"sum":e=r.sum;break;case"variance":e=r.variance;break;case"deviation":e=r.deviation;break;default:e=r.mean,console.warn("Encountered an unsupported selectedRowsAggregationMode option.")}return e};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(35)),i=d(n(18)),o=d(n(34)),a=d(n(17)),s=d(n(30));e.workerSetPix=m,e.tileResponseToData=b,e.workerGetTiles=_;var l=n(28),u=d(n(181)),c=d(n(139)),h=d(n(137)),f=d(n(138));function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e,n,r,i,o,a){var s=void 0,l=void 0;i&&(s=(0,u.default)(i),l=function(n,r){return s(r.map((function(r){return t[r*e[1]+n]})))});var c=void 0,h=void 0,f=void 0,d=void 0,p=void 0;for(f=0;f<e[1];f++)for(h=0,d=0;d<r.length;d++)if(c=s&&"server"===a?t[d*e[1]+f]:Array.isArray(r[d])&&s?l(f,r[d]):t[r[d]*e[1]+f],o&&Array.isArray(r[d]))for(p=0;p<r[d].length;p++)n(h*e[1]+f,c),h++;else n(h*e[1]+f,c),h++}function m(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,m=null;"log"===n?m=(0,l.scaleLog)().range([254,0]).domain(r):("linear"!==n&&console.warn("Unknown value scale type:",n," Defaulting to linear"),m=(0,l.scaleLinear)().range([254,0]).domain(r));var v=d||{},g=v.selectedRows,y=void 0===g?null:g,b=v.selectedRowsAggregationMode,_=void 0===b?null:b,x=v.selectedRowsAggregationWithRelativeHeight,T=void 0===x?null:x,w=v.selectedRowsAggregationMethod,S=void 0===w?null:w,E=t;h&&y&&(E=(0,c.default)(y,T)*h[1]);var k=void 0,C=0,A=h?h[1]:Math.sqrt(t),O=new Uint8ClampedArray(4*E),P=function(t,e){C=255,!(a&&Math.floor(t/A)<t%A)&&!(u&&Math.floor(t/A)>t%A)&&!(0,s.default)(+e)&&(C=Math.max(0,Math.min(254,Math.floor(m(e+i))))),(C<0||C>255)&&console.warn("out of bounds rgbIdx:",C," (should be 0 <= rgbIdx <= 255)"),k=f&&!(0,s.default)(+e)&&0==+e?f:o[C],O[4*t]=k[0],O[4*t+1]=k[1],O[4*t+2]=k[2],O[4*t+3]=k[3]},M=void 0;try{if(y)p(e,h,P,y,_,T,S);else for(var I=0;I<e.length;I++)P(I,M=e[I])}catch(R){return console.warn("Odd datapoint"),console.warn("valueScale.domain():",m.domain()),console.warn("valueScale.range():",m.range()),console.warn("value:",m(M+i)),console.warn("pseudocount:",i),console.warn("rgbIdx:",C,"d:",M,"ct:",m(M)),console.error("ERROR:",R),O}return O}function v(t){var e=31744&t,n=void 0,r=(32768&t)<<16;switch(e){case 0:if(0===(n=1023&t))return r;for(n<<=1;!(1024&n);)n<<=1,e++;return r+(112-e<<23)+((1023&n)<<13);case 31744:return r+2139095040+((1023&t)<<13);default:return r+(114688+(32767&t)<<13)}}function g(t){for(var e=atob(t),n=e.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.charCodeAt(i);return r.buffer}function y(t){for(var e=new Uint32Array(t.length),n=0;n<t.length;n++)e[n]=v(t[n]);return new Float32Array(e.buffer)}function b(t,e,n){t||(t={});var r=!0,i=!1,o=void 0;try{for(var l,u=(0,a.default)(n);!(r=(l=u.next()).done);r=!0){var c=l.value;c in t||(t[c]={});var d=c,p=d.split(".");if(t[d].server=e,t[d].tileId=d,t[d].zoomLevel=+p[1],t[d].tilePos=p.slice(2,p.length).map((function(t){return+t})).filter((function(t){return!(0,s.default)(t)})),t[d].tilesetUid=p[0],"dense"in t[d]){var m=g(t[d].dense),v=void 0;v="float16"===t[d].dtype?y(new Uint16Array(m)):new Float32Array(m);var b=2===t[d].tilePos.length?new f.default(v):new h.default(v);t[d].dense=v,t[d].denseDataExtrema=b,t[d].minNonZero=b.minNonZeroInTile,t[d].maxNonZero=b.maxNonZeroInTile}}}catch(_){i=!0,o=_}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return t}function _(t,e,n,a,s,l){var u={"content-type":"application/json"};a&&(u.Authorization=a),fetch(t,(0,o.default)({credentials:"same-origin",headers:u},l&&(0,i.default)(l).length>0?{method:"POST",body:(0,r.default)(l)}:{})).then((function(t){return t.json()})).then((function(t){s(b(t,e,n))})).catch((function(t){return console.warn("err:",t)}))}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.getSeriesItems=e.getAllTracksAndSubtracks=void 0;var r=l(n(18)),i=l(n(17)),o=l(n(1)),a=l(n(67)),s=n(11);function l(t){return t&&t.__esModule?t:{default:t}}n(68);var u=e.getAllTracksAndSubtracks=function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var a,s=(0,i.default)(t);!(n=(a=s.next()).done);n=!0){var l=a.value;l.contents?e=e.concat(l.contents):e.push(l)}}catch(u){r=!0,o=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return e};e.getSeriesItems=function(t,e,n,i){return t?(window.higlassTracksByType&&(0,r.default)(window.higlassTracksByType).forEach((function(t){s.TRACKS_INFO_BY_TYPE[t]=window.higlassTracksByType[t].config})),u(t).map((function(t){var r=s.TRACKS_INFO_BY_TYPE[t.type]?s.TRACKS_INFO_BY_TYPE[t.type].thumbnail:null,l=r?o.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.outerHTML},className:"ContextMenu-module_context-menu-icon-I4kiw"}):o.default.createElement("div",{className:"ContextMenu-module_context-menu-icon-I4kiw"},o.default.createElement("svg",null));return o.default.createElement(a.default,{key:t.uid,onClick:function(){function e(){i&&i(t.uid)}return e}(),onMouseEnter:function(){function n(n){e&&e(n,t)}return n}(),onMouseLeave:function(){function t(t){n&&n(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},l,o.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},t.options&&t.options.name&&t.options.name.length?t.options.name:t.type,e&&n?o.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},o.default.createElement("use",{xlinkHref:"#play"})):null))}))):null}},function(t,e,n){var r=n(737),i=n(56),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e,n){(function(t){var r=n(41),i=n(738),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l}).call(this,n(173)(t))},function(t,e){var n=Object.prototype;function r(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}t.exports=r},function(t,e,n){var r=n(188),i=n(749),o=n(750),a=n(751),s=n(752),l=n(753);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,t.exports=u},function(t,e,n){var r=n(744),i=n(745),o=n(746),a=n(747),s=n(748);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var r=n(120);function i(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}t.exports=i},function(t,e,n){var r=n(99)(Object,"create");t.exports=r},function(t,e,n){var r=n(766);function i(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}t.exports=i},function(t,e,n){var r=n(779),i=n(279),o=n(780),a=n(781),s=n(422),l=n(97),u=n(414),c="[object Map]",h="[object Object]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",m="[object DataView]",v=u(r),g=u(i),y=u(o),b=u(a),_=u(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=m||i&&x(new i)!=c||o&&x(o.resolve())!=f||a&&x(new a)!=d||s&&x(new s)!=p)&&(x=function(t){var e=l(t),n=e==h?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case v:return m;case g:return c;case y:return f;case b:return d;case _:return p}return e}),t.exports=x},function(t,e,n){var r=n(31),i=n(285),o=n(785),a=n(788);function s(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}t.exports=s},function(t,e,n){var r=n(97),i=n(56),o="[object Symbol]";function a(t){return"symbol"==typeof t||i(t)&&r(t)==o}t.exports=a},function(t,e,n){var r=n(287),i=n(120),o=Object.prototype.hasOwnProperty;function a(t,e,n){var a=t[e];(!o.call(t,e)||!i(a,n)||void 0===n&&!(e in t))&&r(t,e,n)}t.exports=a},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){var r=n(45),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){(function(r){var i=n(148),o=n(965);function a(t,e){return(e?o.parse:o.parseFragment)(t,{treeAdapter:o.treeAdapters.htmlparser2}).children}(e=t.exports=function(t,n,r){var i=e.evaluate(t,n,r),o=e.evaluate("<root></root>",n,!1)[0];return o.type="root",o.parent=null,e.update(i,o),o}).evaluate=function(t,e,n){return r.isBuffer(t)&&(t=t.toString()),"string"==typeof t?e.xmlMode||e._useHtmlParser2?i.parseDOM(t,e):a(t,n):t},e.update=function(t,e){Array.isArray(t)||(t=[t]),e?e.children=t:e=null;for(var n=0;n<t.length;n++){var r=t[n],i=r.parent||r.root,o=i&&i.children;o&&o!==t&&(o.splice(o.indexOf(r),1),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev)),e?(r.prev=t[n-1]||null,r.next=t[n+1]||null):r.prev=r.next=null,e&&"root"===e.type?(r.root=e,r.parent=null):(r.root=null,r.parent=e)}return e}}).call(this,n(113).Buffer)},function(t,e,n){var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};function a(t){console&&console.warn&&console.warn(t)}r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!==t};function l(){l.init.call(this)}t.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function c(t){return void 0===t._maxListeners?l.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(t))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,a(l)}return t}function f(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?y(i):v(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function y(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),l.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},l.prototype.getMaxListeners=function(){return c(this)},l.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[t];if(void 0===l)return!1;if("function"==typeof l)o(l,this,e);else{var u=l.length,c=v(l,u);for(n=0;n<u;++n)o(c[n],this,e)}return!0},l.prototype.addListener=function(t,e){return h(this,t,e,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,e){return h(this,t,e,!0)},l.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,d(this,t,e)),this},l.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,d(this,t,e)),this},l.prototype.removeListener=function(t,e){var n,r,i,o,a;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():g(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},l.prototype.listeners=function(t){return p(this,t,!0)},l.prototype.rawListeners=function(t){return p(this,t,!1)},l.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},l.prototype.listenerCount=m,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){var r=n(113),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){(t.exports=function(t){var e={},n=this._getOverriddenMethods(this,e);Object.keys(n).forEach((function(r){"function"==typeof n[r]&&(e[r]=t[r],t[r]=n[r])}))}).prototype._getOverriddenMethods=function(){throw new Error("Not implemented")}},function(t,e,n){t.exports=i;var r=n(199).EventEmitter;function i(){r.call(this)}n(58)(i,r),i.Readable=n(304),i.Writable=n(981),i.Duplex=n(982),i.Transform=n(983),i.PassThrough=n(984),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),!t._isStdio&&(!e||!1!==e.end)&&(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,t.end())}function l(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(c(),0===r.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",u),t.on("error",u),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t}},function(t,e,n){(function(e){function n(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:n}:t.exports=e}).call(this,n(150))},function(t,e,n){var r=n(470);e.default={withDomLvl1:!0,normalizeWhitespace:!1,xml:!1,decodeEntities:!0},e.flatten=function(t){return t&&t.xml?r({xmlMode:!0},t.xml):t}},function(t,e,n){var r=n(197),i=n(45);function o(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=r(t.prototype),o=t.apply(n,e);return i(o)?o:n}}t.exports=o},function(t,e){var n="__lodash_placeholder__";function r(t,e){for(var r=-1,i=t.length,o=0,a=[];++r<i;){var s=t[r];(s===e||s===n)&&(t[r]=n,a[o++]=r)}return a}t.exports=r},function(t,e,n){var r,i=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,a=Object.getPrototypeOf||function(t){return t.__proto__},s=r,l=r,u=r,c=typeof Uint8Array>"u"?r:a(Uint8Array),h={"$ %Array%":Array,"$ %ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"$ %ArrayBufferPrototype%":typeof ArrayBuffer>"u"?r:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":o?a([][Symbol.iterator]()):r,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":r,"$ %AsyncFunction%":l,"$ %AsyncFunctionPrototype%":r,"$ %AsyncGenerator%":r,"$ %AsyncGeneratorFunction%":u,"$ %AsyncGeneratorPrototype%":r,"$ %AsyncIteratorPrototype%":r,"$ %Atomics%":typeof Atomics>"u"?r:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":typeof DataView>"u"?r:DataView,"$ %DataViewPrototype%":typeof DataView>"u"?r:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":typeof Float32Array>"u"?r:Float32Array,"$ %Float32ArrayPrototype%":typeof Float32Array>"u"?r:Float32Array.prototype,"$ %Float64Array%":typeof Float64Array>"u"?r:Float64Array,"$ %Float64ArrayPrototype%":typeof Float64Array>"u"?r:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":r,"$ %GeneratorFunction%":s,"$ %GeneratorPrototype%":r,"$ %Int8Array%":typeof Int8Array>"u"?r:Int8Array,"$ %Int8ArrayPrototype%":typeof Int8Array>"u"?r:Int8Array.prototype,"$ %Int16Array%":typeof Int16Array>"u"?r:Int16Array,"$ %Int16ArrayPrototype%":typeof Int16Array>"u"?r:Int8Array.prototype,"$ %Int32Array%":typeof Int32Array>"u"?r:Int32Array,"$ %Int32ArrayPrototype%":typeof Int32Array>"u"?r:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":o?a(a([][Symbol.iterator]())):r,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":typeof Map>"u"?r:Map,"$ %MapIteratorPrototype%":typeof Map>"u"||!o?r:a((new Map)[Symbol.iterator]()),"$ %MapPrototype%":typeof Map>"u"?r:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":typeof Promise>"u"?r:Promise,"$ %PromisePrototype%":typeof Promise>"u"?r:Promise.prototype,"$ %PromiseProto_then%":typeof Promise>"u"?r:Promise.prototype.then,"$ %Promise_all%":typeof Promise>"u"?r:Promise.all,"$ %Promise_reject%":typeof Promise>"u"?r:Promise.reject,"$ %Promise_resolve%":typeof Promise>"u"?r:Promise.resolve,"$ %Proxy%":typeof Proxy>"u"?r:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":typeof Reflect>"u"?r:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":typeof Set>"u"?r:Set,"$ %SetIteratorPrototype%":typeof Set>"u"||!o?r:a((new Set)[Symbol.iterator]()),"$ %SetPrototype%":typeof Set>"u"?r:Set.prototype,"$ %SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":o?a(""[Symbol.iterator]()):r,"$ %StringPrototype%":String.prototype,"$ %Symbol%":o?Symbol:r,"$ %SymbolPrototype%":o?Symbol.prototype:r,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":i,"$ %TypedArray%":c,"$ %TypedArrayPrototype%":c?c.prototype:r,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"$ %Uint8ArrayPrototype%":typeof Uint8Array>"u"?r:Uint8Array.prototype,"$ %Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray.prototype,"$ %Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"$ %Uint16ArrayPrototype%":typeof Uint16Array>"u"?r:Uint16Array.prototype,"$ %Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"$ %Uint32ArrayPrototype%":typeof Uint32Array>"u"?r:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":typeof WeakMap>"u"?r:WeakMap,"$ %WeakMapPrototype%":typeof WeakMap>"u"?r:WeakMap.prototype,"$ %WeakSet%":typeof WeakSet>"u"?r:WeakSet,"$ %WeakSetPrototype%":typeof WeakSet>"u"?r:WeakSet.prototype};t.exports=function(t,e){if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+t;if(!(n in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(typeof h[n]>"u"&&!e)throw new TypeError("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[n]}},function(t,e,n){n(209),t.exports=n(12).Object.keys},function(t,e,n){var r=n(54),i=n(60);n(126)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){var r=n(48),i=n(88),o=n(211);t.exports=function(t){return function(e,n,a){var s,l=r(e),u=i(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(89),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(213),i=n(160),o=n(51),a=n(48);t.exports=n(109)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(110),i=n(66),o=n(77),a={};n(43)(a,n(21)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(89),i=n(87);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){n(76),n(61),t.exports=n(217)},function(t,e,n){var r=n(39),i=n(112);t.exports=n(12).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(92);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(43);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r="http://www.w3.org/2000/svg",i=function(t,e){if(t.namespaceURI===r){var n=t.getAttribute("class");return n&&!!n.match(new RegExp("(\\s|^)"+String(e)+"(\\s|$)"))}return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+String(e)+"(\\s|$)"))};e.default=i},function(t,e,n){n(223),t.exports=n(12).Object.assign},function(t,e,n){var r=n(16);r(r.S+r.F,"Object",{assign:n(224)})},function(t,e,n){var r=n(60),i=n(130),o=n(93),a=n(54),s=n(105),l=Object.assign;t.exports=!l||n(50)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=a(t),l=arguments.length,u=1,c=i.f,h=o.f;l>u;)for(var f,d=s(arguments[u++]),p=c?r(d).concat(c(d)):r(d),m=p.length,v=0;m>v;)h.call(d,f=p[v++])&&(n[f]=d[f]);return n}:l},function(t,e,n){t.exports={default:n(545),__esModule:!0}},function(t,e,n){var r=n(91)("meta"),i=n(33),o=n(47),a=n(32).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(50)((function(){return l(Object.preventExtensions({}))})),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},d=function(t){return u&&p.NEED&&l(t)&&!o(t,r)&&c(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},function(t,e,n){var r=n(23),i=n(12),o=n(75),a=n(168),s=n(32).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"!=t.charAt(0)&&!(t in e)&&s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(93),i=n(66),o=n(48),a=n(127),s=n(47),l=n(159),u=Object.getOwnPropertyDescriptor;e.f=n(36)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch{}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(12),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){n(231);var r=n(12).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(16);r(r.S+r.F*!n(36),"Object",{defineProperty:n(32).f})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=J(n(34)),i=J(n(30)),o=J(n(94)),a=J(n(62)),s=J(n(25)),l=J(n(18)),u=J(n(17)),c=J(n(35)),h=J(n(37)),f=J(n(19)),d=J(n(575)),p=J(n(44)),m=J(n(38)),v=J(n(5)),g=J(n(3)),y=J(n(4)),b=J(n(6)),_=J(n(7)),x=J(n(29)),T=J(n(1)),w=J(n(2)),S=n(0),E=n(28),k=J(n(26)),C=Q(n(325)),A=J(n(42)),O=J(n(592)),P=n(344),M=J(n(600)),I=J(n(601)),R=n(134),L=J(R),D=J(n(604)),N=J(n(674)),j=J(n(680)),B=J(n(682)),F=J(n(73)),H=J(n(686)),z=J(n(723)),U=n(266),V=J(n(724)),G=n(69),X=n(132),Y=n(78),W=n(24),q=n(10),K=n(11),$=J(n(728)),Z=J(n(267));function Q(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function J(t){return t&&t.__esModule?t:{default:t}}J(n(729));var tt={styles:{higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"},stylesMTHeader:{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"},stylesGlobal:{higlass:"HiGlass_higlass-3aU-_","react-resizable-handle":"HiGlass_react-resizable-handle-3kCAE"}},et=12,nt=12,rt=20,it="default",ot="bounded",at="overflow",st="scroll",lt=function(t){function e(t){(0,g.default)(this,e);var n=(0,b.default)(this,(e.__proto__||(0,v.default)(e)).call(this,t));(0,q.numericifyVersion)(T.default.version)<15.6&&console.warn("HiGlass requires React v15.6 or higher. Current version: ",T.default.version),n.pubSub=(0,L.default)(),n.domEvent=(0,W.createDomEvent)(n.pubSub),n.pubSubs=[],n.minHorizontalHeight=20,n.minVerticalWidth=20,n.resizeSensor=null,n.uid=k.default.nice(),n.tiledPlots={},n.genomePositionSearchBoxes={},n.xScales={},n.yScales={},n.projectionXDomains={},n.projectionYDomains={},n.topDiv=null,n.zoomToDataExtentOnInit=new m.default,n.viewTrackUidsToCombinedUid={},n.combinedUidToViewTrack={},n.scalesChangedListeners={},n.draggingChangedListeners={},n.valueScalesChangedListeners={},n.zoomLocks={},n.locationLocks={},n.locationLocksAxisWise={x:{},y:{}},n.valueScaleLocks={},n.prevAuthToken=t.options.authToken,n.setCenters={},n.plusImg={},n.configImg={},K.GLOBALS.PIXI=t.options&&t.options.PIXI||C,n.viewMarginTop=+t.options.viewMarginTop>=0?+t.options.viewMarginTop:K.DEFAULT_VIEW_MARGIN,n.viewMarginBottom=+t.options.viewMarginBottom>=0?+t.options.viewMarginBottom:K.DEFAULT_VIEW_MARGIN,n.viewMarginLeft=+t.options.viewMarginLeft>=0?+t.options.viewMarginLeft:K.DEFAULT_VIEW_MARGIN,n.viewMarginRight=+t.options.viewMarginRight>=0?+t.options.viewMarginRight:K.DEFAULT_VIEW_MARGIN,n.viewPaddingTop=+t.options.viewPaddingTop>=0?+t.options.viewPaddingTop:K.DEFAULT_VIEW_PADDING,n.viewPaddingBottom=+t.options.viewPaddingBottom>=0?+t.options.viewPaddingBottom:K.DEFAULT_VIEW_PADDING,n.viewPaddingLeft=+t.options.viewPaddingLeft>=0?+t.options.viewPaddingLeft:K.DEFAULT_VIEW_PADDING,n.viewPaddingRight=+t.options.viewPaddingRight>=0?+t.options.viewPaddingRight:K.DEFAULT_VIEW_PADDING,n.genomePositionSearchBox=null,n.viewHeaders={},n.boundRefreshView=function(){n.refreshView(K.LONG_DRAG_TIMEOUT)},n.unsetOnLocationChange=[],n.setTheme(t.options.theme,t.options.isDarkTheme),n.viewconfLoaded=!1;var r=n.props.viewConfig,i=n.loadIfRemoteViewConfig(n.props.viewConfig);t.options.authToken&&(0,W.setTileProxyAuthHeader)(t.options.authToken),n.pixiRoot=new K.GLOBALS.PIXI.Container,n.pixiRoot.interactive=!0,n.pixiStage=new K.GLOBALS.PIXI.Container,n.pixiStage.interactive=!0,n.pixiRoot.addChild(n.pixiStage),n.pixiMask=new K.GLOBALS.PIXI.Graphics,n.pixiRoot.addChild(n.pixiMask),n.pixiStage.mask=n.pixiMask,n.element=null,n.scrollTop=0;var o=K.MOUSE_TOOL_MOVE;n.props.options&&n.props.options.mouseTool===K.MOUSE_TOOL_SELECT&&(o=K.MOUSE_TOOL_SELECT),n.props.options.pluginTracks&&(window.higlassTracksByType=(0,p.default)(window.higlassTracksByType||{},n.props.options.pluginTracks));var a={};try{window.higlassTracksByType&&(0,d.default)(window.higlassTracksByType).forEach((function(t){var e=(0,f.default)(t,2),n=e[0],r=e[1];a[n]=r}))}catch{console.warn("Broken config of a plugin track")}n.props.options.pluginDataFetchers&&(window.higlassDataFetchersByType=(0,p.default)(window.higlassDataFetchersByType||{},n.props.options.pluginDataFetchers));var s=window.higlassDataFetchersByType,l=n.props.options.pixelPreciseMarginPadding?1:30;n.mounted=!1,n.pluginTracks=a,n.pluginDataFetchers=s,n.state={currentBreakpoint:"lg",width:0,height:0,rowHeight:l,svgElement:null,canvasElement:null,views:i,viewConfig:r,addTrackPositionMenuPosition:null,typedEditable:void 0,mouseOverOverlayUid:null,mouseTool:o,isDarkTheme:!1,rangeSelection1dSize:[0,1/0],rangeSelectionToInt:!1,modal:null},n.attachedToDOM=!1;var u=(0,V.default)(n,n.pubSub),c=u.public,h=u.destroy,y=u.publish,_=u.stack;return n.api=c,n.apiDestroy=h,n.apiPublish=y,n.apiStack=_,n.viewChangeListener=[],n.triggerViewChangeDb=(0,q.debounce)(n.triggerViewChange.bind(n),250),n.pubSubs=[],n.rangeSelection=[null,null],n.prevMouseHoverTrack=null,n.zooming=!1,n.appClickHandlerBound=n.appClickHandler.bind(n),n.keyDownHandlerBound=n.keyDownHandler.bind(n),n.keyUpHandlerBound=n.keyUpHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n.dispatchEventBound=n.dispatchEvent.bind(n),n.animateOnMouseMoveHandlerBound=n.animateOnMouseMoveHandler.bind(n),n.zoomStartHandlerBound=n.zoomStartHandler.bind(n),n.zoomEndHandlerBound=n.zoomEndHandler.bind(n),n.zoomHandlerBound=n.zoomHandler.bind(n),n.trackDroppedHandlerBound=n.trackDroppedHandler.bind(n),n.trackDimensionsModifiedHandlerBound=n.trackDimensionsModifiedHandler.bind(n),n.animateBound=n.animate.bind(n),n.animateOnGlobalEventBound=n.animateOnGlobalEvent.bind(n),n.requestReceivedHandlerBound=n.requestReceivedHandler.bind(n),n.wheelHandlerBound=n.wheelHandler.bind(n),n.mouseMoveHandlerBound=n.mouseMoveHandler.bind(n),n.onMouseLeaveHandlerBound=n.onMouseLeaveHandler.bind(n),n.onBlurHandlerBound=n.onBlurHandler.bind(n),n.openModalBound=n.openModal.bind(n),n.closeModalBound=n.closeModal.bind(n),n.handleEditViewConfigBound=n.handleEditViewConfig.bind(n),n.onScrollHandlerBound=n.onScrollHandler.bind(n),n.typedText="",n.typedTextTimeout=null,n.modal={open:n.openModalBound,close:n.closeModalBound},n.setBroadcastMousePositionGlobally(n.props.options.broadcastMousePositionGlobally||n.props.options.globalMousePosition),n.setShowGlobalMousePosition(n.props.options.showGlobalMousePosition||n.props.options.globalMousePosition),n}return(0,_.default)(e,t),(0,y.default)(e,[{key:"UNSAFE_componentWillMount",value:function(){function t(){this.domEvent.register("keydown",document),this.domEvent.register("keyup",document),this.domEvent.register("scroll",document),this.domEvent.register("resize",window),this.domEvent.register("orientationchange",window),this.domEvent.register("wheel",window),this.domEvent.register("mousedown",window,!0),this.domEvent.register("mouseup",window,!0),this.domEvent.register("click",window,!0),this.domEvent.register("mousemove",window),this.domEvent.register("touchmove",window),this.domEvent.register("touchstart",window),this.domEvent.register("touchend",window),this.domEvent.register("touchcancel",window),this.domEvent.register("blur",window),this.pubSubs.push(this.pubSub.subscribe("app.click",this.appClickHandlerBound),this.pubSub.subscribe("blur",this.onBlurHandlerBound),this.pubSub.subscribe("keydown",this.keyDownHandlerBound),this.pubSub.subscribe("keyup",this.keyUpHandlerBound),this.pubSub.subscribe("resize",this.resizeHandlerBound),this.pubSub.subscribe("wheel",this.wheelHandlerBound),this.pubSub.subscribe("orientationchange",this.resizeHandlerBound),this.pubSub.subscribe("app.event",this.dispatchEventBound),this.pubSub.subscribe("app.animateOnMouseMove",this.animateOnMouseMoveHandlerBound),this.pubSub.subscribe("trackDropped",this.trackDroppedHandlerBound),this.pubSub.subscribe("trackDimensionsModified",this.trackDimensionsModifiedHandlerBound),this.pubSub.subscribe("app.zoomStart",this.zoomStartHandlerBound),this.pubSub.subscribe("app.zoomEnd",this.zoomEndHandlerBound),this.pubSub.subscribe("app.zoom",this.zoomHandlerBound),this.pubSub.subscribe("requestReceived",this.requestReceivedHandlerBound)),this.props.getApi&&this.props.getApi(this.api)}return t}()},{key:"setBroadcastMousePositionGlobally",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isBroadcastMousePositionGlobally=t}return t}()},{key:"setShowGlobalMousePosition",value:function(){function t(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isShowGlobalMousePosition=e,this.isShowGlobalMousePosition&&!this.globalMousePositionListener&&(this.globalMousePositionListener=R.globalPubSub.subscribe("higlass.mouseMove",this.animateOnGlobalEventBound),this.pubSubs.push(this.globalMousePositionListener)),this.isShowGlobalMousePosition&&!this.globalMousePositionListener){var n=this.pubSubs.findIndex((function(e){return e===t.globalMousePositionListener}));R.globalPubSub.unsubscribe(this.globalMousePositionListener),n>=0&&this.pubSubs.splice(n,1),this.globalMousePositionListener=void 0}}return t}()},{key:"zoomStartHandler",value:function(){function t(){this.hideHoverMenu(),this.zooming=!0}return t}()},{key:"zoomEndHandler",value:function(){function t(){this.zooming=!1}return t}()},{key:"zoomHandler",value:function(){function t(t){t.sourceEvent&&this.mouseMoveHandler(t.sourceEvent)}return t}()},{key:"waitForDOMAttachment",value:function(){function t(t){var e=this;if(this.mounted){var n=A.default.findDOMNode(this);document.body.contains(n)?t():requestAnimationFrame((function(){return e.waitForDOMAttachment(t)}))}}return t}()},{key:"componentDidMount",value:function(){function t(){var t=this;this.mounted=!0,this.element=A.default.findDOMNode(this),window.addEventListener("focus",this.boundRefreshView),(0,h.default)(this.state.views).forEach((function(e){t.adjustLayoutToTrackSizes(e),e.layout?e.layout.i=e.uid:e.layout=t.generateViewLayout(e)}));var e={width:this.state.width,height:this.state.height,view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0};switch(C.VERSION[0]){case"4":console.warn("Deprecation warning: please update Pixi.js to version 5!"),"canvas"===this.props.options.renderer?this.pixiRenderer=new K.GLOBALS.PIXI.CanvasRenderer(e):this.pixiRenderer=new K.GLOBALS.PIXI.WebGLRenderer(e);break;default:console.warn("Deprecation warning: please update Pixi.js to version 5! This version of Pixi.js is unsupported. Good luck \ud83e\udd1e");case"5":"canvas"===this.props.options.renderer?this.pixiRenderer=new K.GLOBALS.PIXI.CanvasRenderer(e):this.pixiRenderer=new K.GLOBALS.PIXI.Renderer(e)}this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment((function(){P.ElementQueries.listen(),t.resizeSensor=new P.ResizeSensor(t.element.parentNode,t.updateAfterResize.bind(t)),t.updateAfterResize()})),this.handleDragStart(),this.handleDragStop(),this.animate();var n=(0,S.select)(this.element).append("svg").style("display","none");U.all.forEach((function(t){return(0,z.default)(n,t.id,t.paths,t.viewBox)}))}return t}()},{key:"getTrackObject",value:function(){function t(t,e){return this.tiledPlots[t].trackRenderer.getTrackObject(e)}return t}()},{key:"getTrackRenderer",value:function(){function t(t){return this.tiledPlots[t].trackRenderer}return t}()},{key:"loadIfRemoteViewConfig",value:function(){function t(t){var e=this,n={};return"string"==typeof t?W.tileProxy.json(t,(function(n,r){t=r,e.setState({views:e.processViewConfig(JSON.parse((0,c.default)(r))),viewConfig:r}),e.unsetOnLocationChange.forEach((function(t){var n=t.viewId,r=t.callback,i=t.callbackId;e.onLocationChange(n,r,i)}))}),this.pubSub):(n=this.processViewConfig(JSON.parse((0,c.default)(t))),this.mounted&&this.setState({viewConfig:t})),n}return t}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function t(t){var e=this.loadIfRemoteViewConfig(t.viewConfig);if(t.options.authToken!==this.prevAuthToken){(0,W.setTileProxyAuthHeader)(t.options.authToken);var n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)(this.iterateOverViews());!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.getTrackRenderer(s),c=JSON.parse(l.prevTrackDefinitions);l.syncTrackObjects([]),l.syncTrackObjects(c)}}catch(g){r=!0,i=g}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.prevAuthToken=t.options.authToken}var h=!0,f=!1,d=void 0;try{for(var p,m=(0,u.default)((0,q.dictValues)(e));!(h=(p=m.next()).done);h=!0){var v=p.value;this.adjustLayoutToTrackSizes(v)}}catch(g){f=!0,d=g}finally{try{!h&&m.return&&m.return()}finally{if(f)throw d}}this.setState({views:e})}return t}()},{key:"UNSAFE_componentWillUpdate",value:function(){function t(){this.pixiRenderer.render(this.pixiRoot)}return t}()},{key:"componentDidUpdate",value:function(){function t(){this.setTheme(this.props.options.theme,this.props.options.isDarkTheme),this.animate(),this.triggerViewChangeDb()}return t}()},{key:"componentWillUnmount",value:function(){function t(){var t=this;this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),this.domEvent.unregister("keydown",document),this.domEvent.unregister("keyup",document),this.domEvent.unregister("scroll",document),this.domEvent.unregister("wheel",window),this.domEvent.unregister("mousedown",window),this.domEvent.unregister("mouseup",window),this.domEvent.unregister("click",window),this.domEvent.unregister("mousemove",window),this.domEvent.unregister("touchmove",window),this.domEvent.unregister("touchstart",window),this.domEvent.unregister("touchend",window),this.domEvent.unregister("touchcancel",window),this.pubSubs.forEach((function(e){return t.pubSub.unsubscribe(e)})),this.pubSubs=[],this.apiDestroy()}return t}()},{key:"setTheme",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.options.theme,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.options.isDarkTheme;if(typeof e<"u")console.warn("The option `isDarkTheme` is deprecated. Please use `theme` instead."),this.theme=e?"dark":"light";else switch(t){case"dark":this.theme=K.THEME_DARK;break;case"light":case void 0:this.theme=K.THEME_LIGHT;break;default:console.warn('Unknown theme "'+String(t)+'". Using light theme.'),this.theme=K.THEME_LIGHT}}return t}()},{key:"dispatchEvent",value:function(){function t(t){this.canvasElement&&(0,q.forwardEvent)(t,this.canvasElement)}return t}()},{key:"trackDroppedHandler",value:function(){function t(){this.setState({draggingHappening:null})}return t}()},{key:"requestReceivedHandler",value:function(){function t(){!this.viewconfLoaded&&0===W.requestsInFlight&&(this.viewconfLoaded=!0,this.props.options.onViewConfLoaded&&this.props.options.onViewConfLoaded())}return t}()},{key:"animateOnMouseMoveHandler",value:function(){function t(t){t&&!this.animateOnMouseMove&&this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.animateBound)),this.animateOnMouseMove=t}return t}()},{key:"fitPixiToParentContainer",value:function(){function t(){if(this.element&&this.element.parentNode){var t=this.element.parentNode.clientWidth,e=this.element.parentNode.clientHeight;this.pixiMask.beginFill(16777215).drawRect(0,0,t,e).endFill(),this.pixiRenderer.resize(t,e),this.pixiRenderer.view.style.width=String(t)+"px",this.pixiRenderer.view.style.height=String(e)+"px",this.pixiRenderer.render(this.pixiRoot)}else console.warn("No parentNode:",this.element)}return t}()},{key:"addDefaultTrackOptions",value:function(){function t(t){var e=this.getTrackInfo(t.type);if(e){typeof t.options>"u"&&(t.options={});var n=t.options?t.options:{};if(this.props.options.defaultTrackOptions){if(this.props.options.defaultTrackOptions.trackSpecific&&this.props.options.defaultTrackOptions.trackSpecific[t.type]){var r=this.props.options.defaultTrackOptions.trackSpecific[t.type];for(var i in r)t.options[i]=typeof t.options[i]<"u"?t.options[i]:JSON.parse((0,c.default)(r[i]))}if(this.props.options.defaultTrackOptions.all){var o=this.props.options.defaultTrackOptions.all;for(var a in o)t.options[a]=typeof t.options[a]<"u"?t.options[a]:JSON.parse((0,c.default)(o[a]))}}if(e.defaultOptions){var s=e.defaultOptionsByTheme&&e.defaultOptionsByTheme[this.theme]?e.defaultOptionsByTheme[this.theme]:{},l=(0,p.default)({},e.defaultOptions,s);if(t.options)for(var u in l)t.options[u]=typeof t.options[u]<"u"?t.options[u]:JSON.parse((0,c.default)(l[u]));else t.options=JSON.parse((0,c.default)(l))}else t.options=n}}return t}()},{key:"toggleTypedEditable",value:function(){function t(){this.setState({typedEditable:!this.isEditable()})}return t}()},{key:"typedTextHandler",value:function(){function t(t){var e=this;if(this.props.options.cheatCodesEnabled){this.typedText=this.typedText.concat(t.key),this.typedText.endsWith("hgedit")&&(this.toggleTypedEditable(),this.typedText="");var n=750;this.typedTextTimeout&&clearTimeout(this.typedTextTimeout),this.typedTextTimeout=setTimeout((function(){e.typedText=""}),n)}}return t}()},{key:"keyDownHandler",value:function(){function t(t){this.typedTextHandler(t),this.props.options.rangeSelectionOnAlt&&"Alt"===t.key&&this.setState({mouseTool:K.MOUSE_TOOL_SELECT})}return t}()},{key:"keyUpHandler",value:function(){function t(t){this.props.options.rangeSelectionOnAlt&&"Alt"===t.key&&this.setState({mouseTool:K.MOUSE_TOOL_MOVE})}return t}()},{key:"openModal",value:function(){function t(t){var e=this;this.setState({modal:T.default.cloneElement(t,{ref:function(){function t(t){e.modalRef=t}return t}()})})}return t}()},{key:"closeModal",value:function(){function t(){this.modalRef=null,this.setState({modal:null})}return t}()},{key:"handleEditViewConfig",value:function(){function t(){var t=this,e=this.state.viewConfig;this.setState({viewConfigTmp:e}),this.openModal(T.default.createElement(H.default,{onCancel:function(){function e(){var e=t.state.viewConfigTmp,n=t.processViewConfig(e),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,q.dictValues)(n));!(r=(a=s.next()).done);r=!0){var l=a.value;t.adjustLayoutToTrackSizes(l)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}t.setState({views:n,viewConfig:e,viewConfigTmp:null})}return e}(),onChange:function(){function e(e){var n=JSON.parse(e),r=t.processViewConfig(n),i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)((0,q.dictValues)(r));!(i=(s=l.next()).done);i=!0){var c=s.value;t.adjustLayoutToTrackSizes(c)}}catch(h){o=!0,a=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}t.setState({views:r,viewConfig:n})}return e}(),onSave:function(){function e(e){var n=JSON.parse(e),r=t.processViewConfig(n),i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)((0,q.dictValues)(r));!(i=(s=l.next()).done);i=!0){var c=s.value;t.adjustLayoutToTrackSizes(c)}}catch(h){o=!0,a=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}t.setState({views:r,viewConfig:n,viewConfigTmp:null})}return e}(),viewConfig:this.getViewsAsString()}))}return t}()},{key:"animate",value:function(){function t(){var t=this;this.isRequestingAnimationFrame||(this.isRequestingAnimationFrame=!0,requestAnimationFrame((function(){t.pixiRenderer&&(t.pixiRenderer.render(t.pixiRoot),t.isRequestingAnimationFrame=!1)})))}return t}()},{key:"animateOnGlobalEvent",value:function(){function t(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sourceUid!==this.uid&&this.animateOnMouseMove&&this.animate()}return t}()},{key:"measureSize",value:function(){function t(){var t=(0,q.getElementDim)(this.element),e=(0,f.default)(t,2),n=e[0],r=e[1];n>0&&r>0&&this.setState({sizeMeasured:!0,width:n,height:r})}return t}()},{key:"updateAfterResize",value:function(){function t(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(K.LONG_DRAG_TIMEOUT),this.resizeHandler()}return t}()},{key:"onBreakpointChange",value:function(){function t(t){this.setState({currentBreakpoint:t})}return t}()},{key:"handleOverlayMouseEnter",value:function(){function t(t){this.setState({mouseOverOverlayUid:t})}return t}()},{key:"handleOverlayMouseLeave",value:function(){function t(){this.setState({mouseOverOverlayUid:null})}return t}()},{key:"handleLockLocation",value:function(){function t(t){var e=this;this.setState({chooseViewHandler:function(){function n(n){return e.handleLocationLockChosen(t,n)}return n}(),mouseOverOverlayUid:t})}return t}()},{key:"isEditable",value:function(){function t(){return void 0!==this.state.typedEditable?this.state.typedEditable:this.props.options&&"editable"in this.props.options?this.props.options.editable&&this.state.viewConfig.editable:this.state.viewConfig.editable}return t}()},{key:"isTrackMenuDisabled",value:function(){function t(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.tracksEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.tracksEditable||!1===this.state.viewConfig.editable)}return t}()},{key:"isViewHeaderDisabled",value:function(){function t(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.viewEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.viewEditable||!1===this.state.viewConfig.editable)}return t}()},{key:"iterateOverViews",value:function(){function t(){var t=[];for(var e in(0,l.default)(this.state.views))t.push(e);return t}return t}()},{key:"iterateOverTracksInView",value:function(){function t(t){var e=[],n=this.state.views[t].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(n[r]);!(i=(s=l.next()).done);i=!0){var c=s.value;if("combined"===c.type&&c.contents){var h=!0,f=!1,d=void 0;try{for(var p,m=(0,u.default)(c.contents);!(h=(p=m.next()).done);h=!0){var v=p.value;e.push({viewId:t,trackId:v.uid,track:v})}}catch(g){f=!0,d=g}finally{try{!h&&m.return&&m.return()}finally{if(f)throw d}}}else e.push({viewId:t,trackId:c.uid,track:c})}}catch(g){o=!0,a=g}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}return e}return t}()},{key:"iterateOverTracks",value:function(){function t(){var t=[];for(var e in this.state.views){var n=this.state.views[e].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(n[r]);!(i=(s=l.next()).done);i=!0){var c=s.value;if("combined"===c.type&&c.contents){var h=!0,f=!1,d=void 0;try{for(var p,m=(0,u.default)(c.contents);!(h=(p=m.next()).done);h=!0){var v=p.value;t.push({viewId:e,trackId:v.uid,track:v})}}catch(g){f=!0,d=g}finally{try{!h&&m.return&&m.return()}finally{if(f)throw d}}}else t.push({viewId:e,trackId:c.uid,track:c})}}catch(g){o=!0,a=g}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}return t}return t}()},{key:"setMouseTool",value:function(){function t(t){this.setState({mouseTool:t})}return t}()},{key:"isValueScaleLocked",value:function(){function t(t,e){var n=this.combineViewAndTrackUid(t,e);return!!this.state.views[t]&&!!this.valueScaleLocks[n]}return t}()},{key:"getLockGroupExtrema",value:function(){function t(t,e){var n=this,r=this.combineViewAndTrackUid(t,e);if(!this.state.views[t]||!this.valueScaleLocks[r])return null;var i=this.valueScaleLocks[r],o=(0,h.default)(i).filter((function(t){return n.tiledPlots[t.view]})).map((function(t){return n.tiledPlots[t.view].trackRenderer.getTrackObject(t.track)})).filter((function(t){return t})).map((function(t){return void 0===t.originalTrack?t:t.originalTrack})),a=o.filter((function(t){return t.minRawValue&&t.maxRawValue})).map((function(t){return i.ignoreOffScreenValues?t.minVisibleValue(!0):t.minVisibleValueInTiles(!0)})),l=o.filter((function(t){return t.minRawValue&&t.maxRawValue})).map((function(t){return i.ignoreOffScreenValues?t.maxVisibleValue(!0):t.maxVisibleValueInTiles(!0)}));return 0===a.length||a.filter((function(t){return null===t||t===1/0})).length>0||0===l.length||l.filter((function(t){return null===t||t===-1/0})).length>0?null:[Math.min.apply(Math,(0,s.default)(a)),Math.max.apply(Math,(0,s.default)(l))]}return t}()},{key:"syncValueScales",value:function(){function t(t,e){var n=this,r=this.combineViewAndTrackUid(t,e);if(this.state.views[t]){var i=(0,q.getTrackByUid)(this.state.views[t].tracks,e);if(this.valueScaleLocks[r]){var o=this.valueScaleLocks[r],a=(0,h.default)(o).filter((function(t){return n.tiledPlots[t.view]})).map((function(t){return n.tiledPlots[t.view].trackRenderer.getTrackObject(t.track)})).filter((function(t){return t})).map((function(t){return void 0===t.originalTrack?t:t.originalTrack})),s=this.getLockGroupExtrema(t,e);if(null===s)return;var l=s[0],c=s[1],f=1e-6,d=!0,p=!1,m=void 0;try{for(var v,g=(0,u.default)(a);!(d=(v=g.next()).done);d=!0){var y=v.value;if(y.minValue&&y.minValue(l),y.maxValue&&y.maxValue(c),y.valueScale){var b=Math.abs(y.minValue()-y.valueScale.domain()[0])>f||Math.abs(y.maxValue()-y.valueScale.domain()[1])>f,_=i.options&&y.options&&typeof i.options.scaleStartPercent<"u"&&typeof i.options.scaleEndPercent<"u"&&(Math.abs(y.options.scaleStartPercent-i.options.scaleStartPercent)>f||Math.abs(y.options.scaleEndPercent-i.options.scaleEndPercent)>f);y.continuousScaling&&!b&&!_||(y.valueScale.domain([l,c]),y.prevValueScale=y.valueScale.copy(),_&&(y.options.scaleStartPercent=i.options.scaleStartPercent,y.options.scaleEndPercent=i.options.scaleEndPercent),y.rerender(y.options,!0))}}}catch(x){p=!0,m=x}finally{try{!d&&g.return&&g.return()}finally{if(p)throw m}}}}}return t}()},{key:"handleNewTilesLoaded",value:function(){function t(t,e){this.animate()}return t}()},{key:"notifyDragChangedListeners",value:function(){function t(t){(0,q.dictValues)(this.draggingChangedListeners).forEach((function(e){(0,q.dictValues)(e).forEach((function(e){return e(t)}))}))}return t}()},{key:"addDraggingChangedListener",value:function(){function t(t,e,n){this.draggingChangedListeners.hasOwnProperty(t)||(this.draggingChangedListeners[t]={}),this.draggingChangedListeners[t][e]=n,n(!0),n(!1)}return t}()},{key:"removeDraggingChangedListener",value:function(){function t(t,e){if(this.draggingChangedListeners.hasOwnProperty(t)){var n=this.draggingChangedListeners[t];n.hasOwnProperty(e)&&(n[e](!1),delete n[e])}}return t}()},{key:"addScalesChangedListener",value:function(){function t(t,e,n){this.scalesChangedListeners[t]||(this.scalesChangedListeners[t]={}),this.scalesChangedListeners[t][e]=n,this.xScales[t]&&this.yScales[t]&&n(this.xScales[t],this.yScales[t])}return t}()},{key:"removeScalesChangedListener",value:function(){function t(t,e){if(this.scalesChangedListeners[t]){var n=this.scalesChangedListeners[t];n[e]&&delete n[e]}}return t}()},{key:"createSVG",value:function(){function t(){var t=document.createElement("svg");t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("version","1.1");var e=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,q.dictValues)(this.tiledPlots));!(e=(i=o.next()).done);e=!0){var a=i.value;if(a){var s=!0,l=!1,c=void 0;try{for(var h,f=(0,u.default)((0,q.dictValues)(a.trackRenderer.trackDefObjects));!(s=(h=f.next()).done);s=!0){var d=h.value;if(d.trackObject.exportSVG){var p=d.trackObject.exportSVG();p&&t.appendChild(p[0])}}}catch(m){l=!0,c=m}finally{try{!s&&f.return&&f.return()}finally{if(l)throw c}}}}}catch(m){n=!0,r=m}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}return t.setAttribute("width",this.canvasElement.style.width),t.setAttribute("height",this.canvasElement.style.height),this.postCreateSVGCallback?this.postCreateSVGCallback(t):t}return t}()},{key:"createSVGString",value:function(){function t(){var t=this.createSVG(),e=M.default.xml((new window.XMLSerializer).serializeToString(t));return e=(e=(e=(e=e.replace(/<a0:/g,"<")).replace(/<\/a0:/g,"</")).replace(/(<svg[\n\r])(\s+xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"[\n\r])/gm,"$1")).replace(/(\s+<clipPath[\n\r]\s+)(xmlns="http:\/\/www\.w3\.org\/2000\/svg")/gm,"$1"),'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+String(e)}return t}()},{key:"handleExportSVG",value:function(){function t(){(0,q.download)("export.svg",new Blob([this.createSVGString()],{type:"image/svg+xml"}))}return t}()},{key:"offPostCreateSVG",value:function(){function t(){this.postCreateSVGCallback=null}return t}()},{key:"onPostCreateSVG",value:function(){function t(t){this.postCreateSVGCallback=t}return t}()},{key:"createPNGBlobPromise",value:function(){function t(){var t=this;return new a.default((function(e){var n=t.createSVGString(),r=new Image(t.canvasElement.width,t.canvasElement.height);r.src="data:image/svg+xml;base64,"+String(btoa(n)),r.onload=function(){var n=document.createElement("canvas");n.width=t.canvasElement.width/2,n.height=t.canvasElement.height/2,n.getContext("2d").drawImage(r,0,0),n.toBlob((function(t){e(t)}))}}))}return t}()},{key:"handleExportPNG",value:function(){function t(){this.createPNGBlobPromise().then((function(t){(0,q.download)("export.png",t)}))}return t}()},{key:"handleScalesChanged",value:function(){function t(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.xScales[t]=e,this.yScales[t]=n,i&&t in this.scalesChangedListeners&&(0,q.dictValues)(this.scalesChangedListeners[t]).forEach((function(t){t(e,n)})),this.zoomLocks[t]){var o=this.zoomLocks[t],a=(0,q.dictItems)(o),s=(0,q.scalesCenterAndK)(this.xScales[t],this.yScales[t]),l=(0,f.default)(s,3);l[0],l[1];for(var u=l[2],c=function(){function e(e){var n=a[e][0],i=a[e][1];if(!r.xScales[n]||!r.yScales[n]||n===t)return"continue";var s=(0,q.scalesCenterAndK)(r.xScales[n],r.yScales[n]),l=(0,f.default)(s,3),c=l[0],h=l[1];l[2];var d=i[2]/o[t][2],p=u*d;if(!r.setCenters[n])return"continue";var m=r.setCenters[n](c,h,p,!1),v=(0,f.default)(m,2),g=v[0],y=v[1];r.xScales[n]=g,r.yScales[n]=y,r.scalesChangedListeners.hasOwnProperty(n)&&(0,q.dictValues)(r.scalesChangedListeners[n]).forEach((function(t){t(g,y)}))}return e}(),h=0;h<a.length;h++)c(h)}if(this.locationLocks[t]){var d=this.locationLocks[t],p=(0,q.dictItems)(d),m=(0,q.scalesCenterAndK)(this.xScales[t],this.yScales[t]),v=(0,f.default)(m,3),g=v[0],y=v[1];v[2];var b=function(){function e(e){var n=p[e][0],i=p[e][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,q.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=(0,f.default)(o,3);a[0],a[1];var s=a[2];if(n===t)return"continue";var l=i[0]-d[t][0],u=i[1]-d[t][1],c=g+l,h=y+u;if(!r.setCenters[n])return"continue";var m=r.setCenters[n](c,h,s,!1),v=(0,f.default)(m,2),b=v[0],_=v[1];r.xScales[n]=b,r.yScales[n]=_,r.scalesChangedListeners.hasOwnProperty(n)&&(0,q.dictValues)(r.scalesChangedListeners[n]).forEach((function(t){t(b,_)}))}return e}();for(h=0;h<p.length;h++)b(h)}if(this.locationLocksAxisWise.x[t]){var _=this.locationLocksAxisWise.x[t].lock,x=(0,q.dictItems)(_),T="x"!==this.locationLocksAxisWise.x[t].axis,w=(0,q.scalesCenterAndK)(this.xScales[t],this.yScales[t]),S=(0,f.default)(w,3),E=S[0];S[1],S[2];var k=function(){function e(e){var n=x[e][0],i=x[e][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,q.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=(0,f.default)(o,3),s=a[0],l=a[1],u=a[2];if(n===t)return"continue";var c=i[0]-_[t][0],h=E+c;if(!r.setCenters[n])return"continue";var d=r.setCenters[n](T?s:h,T?h:l,u,!1),p=(0,f.default)(d,2),m=p[0],v=p[1];r.xScales[n]=m,r.yScales[n]=v,r.scalesChangedListeners.hasOwnProperty(n)&&(0,q.dictValues)(r.scalesChangedListeners[n]).forEach((function(t){t(m,v)}))}return e}();for(h=0;h<x.length;h++)k(h)}if(this.locationLocksAxisWise.y[t]){var C=this.locationLocksAxisWise.y[t].lock,A=(0,q.dictItems)(C),O="y"!==this.locationLocksAxisWise.y[t].axis,P=(0,q.scalesCenterAndK)(this.xScales[t],this.yScales[t]),M=(0,f.default)(P,3);M[0];var I=M[1];M[2];var R=function(){function e(e){var n=A[e][0],i=A[e][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,q.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=(0,f.default)(o,3),s=a[0],l=a[1],u=a[2];if(n===t)return"continue";var c=i[1]-C[t][1],h=I+c;if(!r.setCenters[n])return"continue";var d=r.setCenters[n](O?h:s,O?l:h,u,!1),p=(0,f.default)(d,2),m=p[0],v=p[1];r.xScales[n]=m,r.yScales[n]=v,r.scalesChangedListeners.hasOwnProperty(n)&&(0,q.dictValues)(r.scalesChangedListeners[n]).forEach((function(t){t(m,v)}))}return e}();for(h=0;h<A.length;h++)R(h)}this.animate(),this.triggerViewChangeDb()}return t}()},{key:"handleProjectViewport",value:function(){function t(t){var e=this;this.setState({chooseTrackHandler:function(){function n(n,r){return e.handleViewportProjected(t,n,r)}return n}()})}return t}()},{key:"handleZoomToData",value:function(){function t(t){if(t&&!this.tiledPlots[t])throw new Error("View uid "+String(t)+" does not exist in the current viewConfig");t?this.tiledPlots[t].handleZoomToData():(0,h.default)(this.tiledPlots).forEach((function(t){return t.handleZoomToData()}))}return t}()},{key:"resetViewport",value:function(){function t(t){if(t&&!this.tiledPlots[t])throw new Error("View uid "+String(t)+" does not exist in the current viewConfig");t?this.tiledPlots[t].resetViewport():(0,h.default)(this.tiledPlots).forEach((function(t){return t.resetViewport()}))}return t}()},{key:"handleYankFunction",value:function(){function t(t,e){this.setState({chooseViewHandler:function(){function n(n){return e(t,n)}return n}(),mouseOverOverlayUid:t})}return t}()},{key:"handleUnlock",value:function(){function t(t,e){var n=e[t],r=(0,q.dictKeys)(n);if(2===r.length)return delete e[r[0]],void delete e[r[1]];e[t]&&e[t][t]&&delete e[t][t],e[t]&&delete e[t]}return t}()},{key:"viewScalesLockData",value:function(){function t(t){return this.xScales[t]&&this.yScales[t]?(0,q.scalesCenterAndK)(this.xScales[t],this.yScales[t]):(console.warn("View scale lock doesn't correspond to existing uid: ",t),null)}return t}()},{key:"addLock",value:function(){function t(t,e,n,r){var i=this,o=[],a=[];o=n[t]?(0,q.dictItems)(n[t]).filter((function(t){return r(t[0])})).map((function(t){return[t[0],r(t[0])]})):[[t,r.bind(this)(t)]],a=n[e]?(0,q.dictItems)(n[e]).filter((function(t){return r.bind(i)(t[0])})).map((function(t){return[t[0],r.bind(i)(t[0])]})):[[e,r.bind(this)(e)]];var s=o.concat(a),l=(0,q.dictFromTuples)(s);s.forEach((function(t){n[t[0]]=l}))}return t}()},{key:"handleLocationLockChosen",value:function(){function t(t,e){t!==e?(this.addLock(t,e,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}return t}()},{key:"handleZoomLockChosen",value:function(){function t(t,e){t!==e?(this.addLock(t,e,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}return t}()},{key:"handleViewportProjected",value:function(){function t(t,e,n){var r=null;if(t===e)console.warn("A view can not show its own viewport.");else{var i=(0,q.getTrackByUid)(this.state.views[e].tracks,n),o=(0,q.getTrackPositionByUid)(this.state.views[e].tracks,n),a={uid:r=k.default.nice(),type:"viewport-projection-"+String({top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"}[o]),fromViewUid:t};this.addCallbacks(e,a),this.handleTrackAdded(e,a,o,i)}return this.setState({chooseTrackHandler:null}),r}return t}()},{key:"handleLocationYanked",value:function(){function t(t,e){var n=this.xScales[e],r=this.yScales[e],i=this.xScales[t],o=this.yScales[t],a=(0,q.scalesCenterAndK)(i,o),s=(0,f.default)(a,3);s[0],s[1];var l=s[2],u=(0,q.scalesCenterAndK)(n,r),c=(0,f.default)(u,3),h=c[0],d=c[1];c[2],this.setCenters[t](h,d,l,!0),this.setState({chooseViewHandler:null})}return t}()},{key:"handleZoomYanked",value:function(){function t(t,e){var n=this.xScales[e],r=this.yScales[e],i=this.xScales[t],o=this.yScales[t],a=(0,q.scalesCenterAndK)(i,o),s=(0,f.default)(a,3),l=s[0],u=s[1];s[2];var c=(0,q.scalesCenterAndK)(n,r),h=(0,f.default)(c,3);h[0],h[1];var d=h[2];this.setCenters[t](l,u,d,!0),this.setState({chooseViewHandler:null})}return t}()},{key:"handleTrackPositionChosen",value:function(){function t(t,e){this.setState({addTrackPosition:e,addTrackPositionView:t})}return t}()},{key:"updateRowHeight",value:function(){function t(){if(this.props.options&&this.sizeMode===ot&&!this.props.options.pixelPreciseMarginPadding){var t=this.element.parentNode.clientHeight,e=0,n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)((0,q.dictValues)(this.state.views));!(n=(o=a.next()).done);n=!0){var s=o.value;e=Math.max(e,s.layout.y+s.layout.h)}}catch(h){r=!0,i=h}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.handleDragStart(),this.handleDragStop();var l=(t-((this.isEditable()?10:0)*e-1))/e,c=Math.floor(l);this.setState({rowHeight:c})}}return t}()},{key:"handleLayoutChange",value:function(){function t(t){var e=this;this.element&&(t.forEach((function(t){var n=e.state.views[t.i];n&&(n.layout.x=t.x,n.layout.y=t.y,n.layout.w=t.w,n.layout.h=t.h,n.layout.i=t.i)})),this.updateRowHeight(),this.refreshView(K.LONG_DRAG_TIMEOUT))}return t}()},{key:"clearDragTimeout",value:function(){function t(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}return t}()},{key:"getTrackInfo",value:function(){function t(t){return K.TRACKS_INFO_BY_TYPE[t]?K.TRACKS_INFO_BY_TYPE[t]:this.pluginTracks&&this.pluginTracks[t]?this.pluginTracks[t].config:window.higlassTracksByType&&window.higlassTracksByType[t]?window.higlassTracksByType[t].config:void console.warn("Track type not found:",t,"(check app/scripts/config/ for a list of defined track types)")}return t}()},{key:"forceRefreshView",value:function(){function t(){this.setState(this.state)}return t}()},{key:"refreshView",value:function(){function t(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K.SHORT_DRAG_TIMEOUT;this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout((function(){t.notifyDragChangedListeners(!1)}),e)}return t}()},{key:"handleDragStart",value:function(){function t(){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}return t}()},{key:"handleDragStop",value:function(){function t(){var t=this;this.clearDragTimeout(),this.dragTimeout=setTimeout((function(){t.notifyDragChangedListeners(!1)}),K.LONG_DRAG_TIMEOUT)}return t}()},{key:"resizeHandler",value:function(){function t(){(0,q.objVals)(this.viewHeaders).filter((function(t){return t})).forEach((function(t){return t.checkWidth()}))}return t}()},{key:"calculateViewDimensions",value:function(){function t(t){var e=20,n=0,r=100,i=100,o=this.viewMarginTop+this.viewMarginBottom+this.viewPaddingTop+this.viewPaddingBottom,a=this.viewMarginLeft+this.viewMarginRight+this.viewPaddingLeft+this.viewPaddingRight,s=0;s+=10;var l=20;if(t.tracks.top)for(var c=0;c<t.tracks.top.length;c++){var h=t.tracks.top[c];o+=h.height?h.height:e,s+=h.height?h.height:e}if(t.tracks.bottom)for(var f=0;f<t.tracks.bottom.length;f++){var d=t.tracks.bottom[f];o+=d.height?d.height:e,s+=d.height?d.height:e}(t.tracks.left&&t.tracks.left.length>0||t.tracks.right&&t.tracks.right.length>0||t.tracks.center&&t.tracks.center.length>0)&&(s+=l);var p=0;if(t.tracks.left)for(var m=0;m<t.tracks.left.length;m++){var v=t.tracks.left[m],g=v.height?v.height:r;a+=v.width?v.width:n,p=Math.max(p,g)}var y=0;if(t.tracks.right)for(var b=0;b<t.tracks.right.length;b++){var _=t.tracks.right[b],x=_.height?_.height:r;a+=_.width?_.width:n,y=Math.max(y,x)}var T=Math.max(p,y),w=0,S=0;if(t.tracks.center&&(0,q.dictValues)(t.tracks.center).length>0){if(!t.tracks.center[0].contents||t.tracks.center[0].contents.length>0){var E=null,k=null;if(t.tracks.center[0].contents){var C=!0,A=!1,O=void 0;try{for(var P,M=(0,u.default)(t.tracks.center[0].contents);!(C=(P=M.next()).done);C=!0){var I=P.value;E=Math.max(E,I.height?I.height:r),k=Math.max(k,I.width?I.width:i)}}catch(j){A=!0,O=j}finally{try{!C&&M.return&&M.return()}finally{if(A)throw O}}}else E=t.tracks.center[0].height?t.tracks.center[0].height:r,k=t.tracks.center[0].width?t.tracks.center[0].width:i;o+=E,a+=k}}else(t.tracks.top&&(0,q.dictValues)(t.tracks.top).length>1||t.tracks.bottom&&(0,q.dictValues)(t.tracks.bottom).length>1)&&(t.tracks.left&&(0,q.dictValues)(t.tracks.left).length||t.tracks.right&&(0,q.dictValues)(t.tracks.right).length)&&(S=i,w=r);o+=T>w?T:w;var R=0,L=0,D=0,N=0;return"top"in t.tracks&&(R=t.tracks.top.map((function(t){return t.height?t.height:e})).reduce((function(t,e){return t+e}),0)),"bottom"in t.tracks&&(L=t.tracks.bottom.map((function(t){return t.height?t.height:e})).reduce((function(t,e){return t+e}),0)),"left"in t.tracks&&(D=t.tracks.left.map((function(t){return t.width?t.width:n})).reduce((function(t,e){return t+e}),0)),"right"in t.tracks&&(N=t.tracks.right.map((function(t){return t.width?t.width:n})).reduce((function(t,e){return t+e}),0)),{totalWidth:a,totalHeight:o,topHeight:R,bottomHeight:L,leftWidth:D,rightWidth:N,centerWidth:S,centerHeight:w,minNecessaryHeight:s}}return t}()},{key:"calculateZoomLimits",value:function(){function t(t,e){var n=[0,1/0],r=t.zoomLimits||[1,null],i=e[1]-e[0];if(2!==r.length)return n;if(null!==r[0]&&r[0]>0){var o=i/r[0];n[1]=Math.max(o,1),o<1&&console.warn("Invalid zoom limits. Lower limit set to "+i)}if(null!==r[1]&&r[1]>r[0]){var a=i/r[1];n[0]=Math.min(a,1),a>1&&console.warn("Invalid zoom limits. Upper limit set to "+i)}return n}return t}()},{key:"generateViewLayout",value:function(){function t(t){return"layout"in t?t.layout.layout:{x:0,y:0,w:et,h:nt}}return t}()},{key:"handleClearView",value:function(){function t(t){var e=this.state.views;e[t].tracks.top=[],e[t].tracks.bottom=[],e[t].tracks.center=[],e[t].tracks.left=[],e[t].tracks.right=[],e[t].tracks.whole=[],this.setState({views:e})}return t}()},{key:"handleCloseView",value:function(){function t(t){var e=this;1!==(0,q.dictValues)(this.state.views).length&&(this.handleUnlock(t,this.zoomLocks),this.setState((function(n){return delete n.views[t],{views:e.removeInvalidTracks(n.views)}})))}return t}()},{key:"handleSeriesAdded",value:function(){function t(t,e,n,r){var i=this.state.views[t].tracks;if("combined"===r.type)r.contents.push(e),"heatmap"===e.type&&this.compatibilityfyStackedHeatmaps(e,r);else for(var o={type:"combined",uid:k.default.nice(),height:r.height,width:r.width,contents:[r,e]},a=i[n],s=0;s<a.length;s++)a[s].uid===r.uid&&(a[s]=o);this.setState((function(t){return{views:t.views}}))}return t}()},{key:"handleNoTrackAdded",value:function(){function t(){this.state.addTrackPosition&&this.setState({addTrackPosition:null})}return t}()},{key:"handleTracksAdded",value:function(){function t(t,e,n,r){this.storeTrackSizes(t);var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(e);!(i=(s=l.next()).done);i=!0){var c=s.value;this.handleTrackAdded(t,c,n,r)}}catch(h){o=!0,a=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}return t}()},{key:"handleChangeTrackType",value:function(){function t(t,e,n){var r=this.state.views[t],i=(0,q.getTrackByUid)(r.tracks,e),o=i.uid;i.uid=k.default.nice(),i.type=n;var a=i.uid;this.updateTrackLocks(t,o,a),this.setState((function(t){return{views:t.views}}))}return t}()},{key:"handleChangeTrackData",value:function(){function t(t,e,n){var r=this.state.views[t],i=(0,q.getTrackByUid)(r.tracks,e);i.uid=k.default.nice(),i.data=n,this.setState((function(t){return{views:t.views}}))}return t}()},{key:"handleTrackAdded",value:function(){function t(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.addDefaultTrackOptions(e),e.uid||(e.uid=k.default.nice()),e.contents){var i=!0,o=!1,a=void 0;try{for(var s,c=(0,u.default)(e.contents);!(i=(s=c.next()).done);i=!0){var h=s.value;this.addDefaultTrackOptions(h)}}catch(g){o=!0,a=g}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}}if(this.state.addTrackPosition&&this.setState({addTrackPosition:null}),r)return this.handleSeriesAdded(t,e,n,r),null;e.position=n;var f=this.getTrackInfo(e.type);e.width=f.defaultWidth||f.defaultOptions&&f.defaultOptions.minWidth||this.minVerticalWidth,e.height=f.defaultHeight||f.defaultOptions&&f.defaultOptions.minHeight||this.minHorizontalHeight;var d=this.state.views[t].tracks,p=0;if((0,q.visitPositionedTracks)(d,(function(){return p++})),"left"===n||"top"===n)d[n].unshift(e);else if("center"===n)if(0===d.center.length){var m={uid:k.default.nice(),type:"combined",contents:[e]};d.center=[m]}else if("combined"===d.center[0].type)d.center[0].contents.push(e),"heatmap"===e.type&&this.compatibilityfyStackedHeatmaps(e,d.center[0]);else{var v={uid:k.default.nice(),type:"combined",contents:[d.center[0],e]};d.center=[v],"heatmap"===e.type&&this.compatibilityfyStackedHeatmaps(e,v)}else d[n]||(d[n]=[]),d[n].push(e);return this.adjustLayoutToTrackSizes(this.state.views[t]),1===(0,l.default)(this.state.views).length&&0===p&&(this.handleZoomToData(t),this.zoomToDataExtentOnInit.add(t)),e}return t}()},{key:"compatibilityfyStackedHeatmaps",value:function(){function t(t,e){var n=void 0;e.contents.some((function(t){return n=t,"heatmap"===t.type}))&&(t.options.backgroundColor="transparent",t.options.showTooltip=n.options.showTooltip,t.options.showMousePosition=n.options.showMousePosition,t.options.mousePositionColor=n.options.mousePositionColor)}return t}()},{key:"storeTrackSizes",value:function(){function t(t){var e=this;(0,q.visitPositionedTracks)(this.state.views[t].tracks,(function(n){var r=e.tiledPlots[t].trackRenderer.getTrackObject(n.uid);if(r){var i=(0,f.default)(r.dimensions,2);n.width=i[0],n.height=i[1]}}))}return t}()},{key:"adjustLayoutToTrackSizes",value:function(){function t(t){if(t.layout){var e=0;this.isEditable()&&(e+=rt),e+=this.calculateViewDimensions(t).totalHeight;var n=this.isEditable()?10:0;e+=n;var r=this.state.rowHeight+n;this.sizeMode!==ot&&(t.layout.h=Math.ceil(e/r))}}return t}()},{key:"handleCloseTrack",value:function(){function t(t,e){var n=this.state.views[t].tracks;for(var r in this.handleUnlockValueScale(t,e),n){var i=n[r],o=i.filter((function(t){return t.uid!==e}));o.length===i.length?o.filter((function(t){return"combined"===t.type})).forEach((function(t){t.contents=t.contents.filter((function(t){return t.uid!==e}))})):n[r]=o}return this.storeTrackSizes(t),this.adjustLayoutToTrackSizes(this.state.views[t]),this.setState((function(t){return{views:t.views}})),this.state.views}return t}()},{key:"handleLockValueScale",value:function(){function t(t,e){var n=this;this.setState({chooseTrackHandler:function(){function r(r,i){return n.handleValueScaleLocked(t,e,r,i)}return r}()})}return t}()},{key:"combineViewAndTrackUid",value:function(){function t(t,e){var n=String(t)+"."+String(e);if(this.combinedUidToViewTrack[n]={view:t,track:e},this.viewTrackUidsToCombinedUid[t]){if(this.viewTrackUidsToCombinedUid[e])return this.viewTrackUidsToCombinedUid[t][e];this.viewTrackUidsToCombinedUid[t][e]=n}else this.viewTrackUidsToCombinedUid[t]={},this.viewTrackUidsToCombinedUid[t][e]=n;return n}return t}()},{key:"updateTrackLocks",value:function(){function t(t,e,n){var r=this.combineViewAndTrackUid(t,e),i=this.combineViewAndTrackUid(t,n);if(this.valueScaleLocks[r]){var o=this.valueScaleLocks[r];this.valueScaleLocks[i]=o,delete this.valueScaleLocks[r]}for(var a in this.valueScaleLocks)if(this.valueScaleLocks[a][r]){var s=this.valueScaleLocks[a][r];this.valueScaleLocks[a][i]=s,s.track=n,delete this.valueScaleLocks[a][r]}}return t}()},{key:"handleUnlockValueScale",value:function(){function t(t,e){if(this.tiledPlots[t].trackRenderer.getTrackObject(e).createdTracks){var n=(0,q.dictKeys)(this.tiledPlots[t].trackRenderer.getTrackObject(e).createdTracks),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(n);!(r=(a=s.next()).done);r=!0){var l=a.value;this.handleUnlock(this.combineViewAndTrackUid(t,l),this.valueScaleLocks)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}else this.handleUnlock(this.combineViewAndTrackUid(t,e),this.valueScaleLocks)}return t}()},{key:"handleValueScaleLocked",value:function(){function t(t,e,n,r){var i=this;if(this.tiledPlots[t].trackRenderer.getTrackObject(e).createdTracks){var o=(0,q.dictKeys)(this.tiledPlots[t].trackRenderer.getTrackObject(e).createdTracks),a=!0,s=!1,l=void 0;try{for(var c,h=(0,u.default)(o);!(a=(c=h.next()).done);a=!0){var f=c.value;this.handleValueScaleLocked(t,f,n,r)}}catch(T){s=!0,l=T}finally{try{!a&&h.return&&h.return()}finally{if(s)throw l}}}else if(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks){var d=(0,q.dictKeys)(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks),p=!0,m=!1,v=void 0;try{for(var g,y=(0,u.default)(d);!(p=(g=y.next()).done);p=!0){var b=g.value;this.handleValueScaleLocked(t,e,n,b)}}catch(T){m=!0,v=T}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}else{var _=this.combineViewAndTrackUid(t,e),x=this.combineViewAndTrackUid(n,r);this.addLock(_,x,this.valueScaleLocks,(function(t){return i.combinedUidToViewTrack[t]})),this.syncValueScales(t,e),this.setState({chooseTrackHandler:null})}}return t}()},{key:"addCallbacks",value:function(){function t(t,e){var n=this,r=this.getTrackInfo(e.type);if("viewport-projection-center"===e.type||"viewport-projection-horizontal"===e.type||"viewport-projection-vertical"===e.type||r&&r.projection){var i=e.fromViewUid;e.registerViewportChanged=function(t,e){return n.addScalesChangedListener(i,t,e)},e.removeViewportChanged=function(t){return n.removeScalesChangedListener(i,t)},e.setDomainsCallback=function(r,o){if(!i)return n.projectionXDomains[t]||(n.projectionXDomains[t]={}),n.projectionYDomains[t]||(n.projectionYDomains[t]={}),("viewport-projection-horizontal"===e.type||"viewport-projection-center"===e.type)&&(n.projectionXDomains[t][e.uid]=r),("viewport-projection-vertical"===e.type||"viewport-projection-center"===e.type)&&(n.projectionYDomains[t][e.uid]=o),void n.triggerViewChangeDb();var a=(0,E.scaleLinear)().domain(r).range(n.xScales[i].range()),s=(0,E.scaleLinear)().domain(o).range(n.yScales[i].range()),l=(0,q.scalesCenterAndK)(a,s),u=(0,f.default)(l,3),c=u[0],h=u[1],d=u[2];n.setCenters[i](c,h,d,!1);var p=!1,m=!1;t in n.zoomLocks&&(p=i in n.zoomLocks[t]),p&&n.handleUnlock(t,n.zoomLocks),t in n.locationLocks&&(m=i in n.locationLocks[t]),m&&n.handleUnlock(t,n.locationLocks),n.handleScalesChanged(i,a,s,!0),p&&n.addLock(t,i,n.zoomLocks,n.viewScalesLockData),m&&n.addLock(t,i,n.locationLocks,n.viewScalesLockData)}}}return t}()},{key:"validateLocks",value:function(){function t(t){var e=[],n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)((0,q.dictKeys)(t));!(n=(o=a.next()).done);n=!0){var s=o.value;(!t[s]||!t[s][s])&&e.push(s)}}catch(m){r=!0,i=m}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}var l=!0,c=!1,h=void 0;try{for(var f,d=(0,u.default)(e);!(l=(f=d.next()).done);l=!0){var p=f.value;t[p]&&(console.warn("View "+String(p)+" not present in lock group. Removing..."),this.handleUnlock(p,t),delete t[p])}}catch(m){c=!0,h=m}finally{try{!l&&d.return&&d.return()}finally{if(c)throw h}}}return t}()},{key:"deserializeLocationLocks",value:function(){function t(t){if(this.locationLocks={},t.locationLocks){var e=!0,n=!1,r=void 0;try{for(var i,a=(0,u.default)((0,q.dictKeys)(t.locationLocks.locksByViewUid));!(e=(i=a.next()).done);e=!0){var s=i.value;if("object"!==(0,o.default)(t.locationLocks.locksByViewUid[s]))this.locationLocks[s]=t.locationLocks.locksDict[t.locationLocks.locksByViewUid[s]];else{if("x"in t.locationLocks.locksByViewUid[s]){var l=t.locationLocks.locksDict[t.locationLocks.locksByViewUid[s].x.lock];this.locationLocksAxisWise.x[s]={lock:l,axis:t.locationLocks.locksByViewUid[s].x.axis}}if("y"in t.locationLocks.locksByViewUid[s]){var c=t.locationLocks.locksDict[t.locationLocks.locksByViewUid[s].y.lock];this.locationLocksAxisWise.y[s]={lock:c,axis:t.locationLocks.locksByViewUid[s].y.axis}}}}}catch(h){n=!0,r=h}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}}this.validateLocks(this.locationLocks)}return t}()},{key:"deserializeZoomLocks",value:function(){function t(t){if(this.zoomLocks={},t.zoomLocks){var e=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,q.dictKeys)(t.zoomLocks.locksByViewUid));!(e=(i=o.next()).done);e=!0){var a=i.value;this.zoomLocks[a]=t.zoomLocks.locksDict[t.zoomLocks.locksByViewUid[a]]}}catch(s){n=!0,r=s}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}this.validateLocks(this.zoomLocks)}return t}()},{key:"deserializeValueScaleLocks",value:function(){function t(t){if(this.valueScaleLocks={},t.valueScaleLocks){var e=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,q.dictKeys)(t.valueScaleLocks.locksByViewUid));!(e=(i=o.next()).done);e=!0){var a=i.value;this.valueScaleLocks[a]=t.valueScaleLocks.locksDict[t.valueScaleLocks.locksByViewUid[a]]}}catch(s){n=!0,r=s}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}}return t}()},{key:"serializeLocks",value:function(){function t(t){var e={},n={},r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,q.dictKeys)(t));!(r=(a=s.next()).done);r=!0){var l=a.value,c=t[l]&&t[l].uid;c||(c=k.default.nice()),t[l].uid=c,e[c]=t[l],n[l]=t[l].uid}}catch(h){i=!0,o=h}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return{locksByViewUid:n,locksDict:e}}return t}()},{key:"getViewsAsJson",value:function(){function t(){var t=this,e=JSON.parse((0,c.default)(this.state.viewConfig));return e.views=(0,h.default)(this.state.views).map((function(e){var n=JSON.parse((0,c.default)(e));return(0,q.visitPositionedTracks)(n.tracks,(function(n){if(n.server){var r=(0,I.default)(n.server,{});if(!r.hostname.length){var i=window.location.host,o=window.location.protocol,a=String(o)+"//"+String(i)+String(r.pathname);n.server=a}}("viewport-projection-center"===n.type||"viewport-projection-horizontal"===n.type)&&t.projectionXDomains[e.uid]&&t.projectionXDomains[e.uid][n.uid]&&(n.projectionXDomain=t.projectionXDomains[e.uid][n.uid]),("viewport-projection-center"===n.type||"viewport-projection-vertical"===n.type)&&t.projectionYDomains[e.uid]&&t.projectionYDomains[e.uid][n.uid]&&(n.projectionYDomain=t.projectionYDomains[e.uid][n.uid]),delete n.name,delete n.position,delete n.header,delete n.description,delete n.created,delete n.project,delete n.project_name,delete n.serverUidKey,delete n.uuid,delete n.private,delete n.maxZoom,delete n.coordSystem,delete n.coordSystem2,delete n.datatype,delete n.maxWidth,delete n.datafile,delete n.binsPerDimension,delete n.resolutions,delete n.aggregationModes})),n.uid=e.uid,n.initialXDomain=t.xScales[e.uid].domain(),n.initialYDomain=t.yScales[e.uid].domain(),delete n.layout.i,n})),e.zoomLocks=this.serializeLocks(this.zoomLocks),e.locationLocks=this.serializeLocks(this.locationLocks),e.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),e}return t}()},{key:"getViewsAsString",value:function(){function t(){return(0,c.default)(this.getViewsAsJson(),null,2)}return t}()},{key:"handleExportViewAsJSON",value:function(){function t(){var t=this.getViewsAsString();(0,q.download)("viewconf.json",t)}return t}()},{key:"handleExportViewsAsLink",value:function(){function t(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.viewConfig.exportViewUrl,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new URL(e,window.location.origin),i=fetch(e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:'{"viewconf":'+String(this.getViewsAsString())+"}",credentials:"same-origin"}).then((function(t){if(!t.ok)throw t;return t.json()})).catch((function(t){console.warn("err:",t)})).then((function(t){return{id:t.uid,url:String(r.origin)+"/l/?d="+String(t.uid)}}));return n||i.then((function(e){t.openModal(T.default.createElement(j.default,{onDone:function(){function e(){t.closeModalBound()}return e}(),url:e.url}))})).catch((function(t){return console.error("Exporting view config as link failed:",t)})),i}return t}()},{key:"handleDataDomainChanged",value:function(){function t(t,e,n){var r=this.state.views;if(r[t].initialXDomain=e,r[t].initialYDomain=n,this.xScales[t]=(0,E.scaleLinear)().domain(e),this.yScales[t]=(0,E.scaleLinear)().domain(n),this.zoomLocks[t])for(var i=this.zoomLocks[t],o=(0,q.dictItems)(i),a=0;a<o.length;a++){var s=o[a][0];s in this.locationLocks&&(r[s].initialXDomain=e,r[s].initialYDomain=n,this.xScales[s]=(0,E.scaleLinear)().domain(e),this.yScales[s]=(0,E.scaleLinear)().domain(n))}this.setState({views:r})}return t}()},{key:"viewPositionAvailable",value:function(){function t(t,e,n,r){var i=t+n,o=e+r;if(t+n>et)return!1;for(var a=(0,q.dictValues)(this.state.views),s=0;s<a.length;s++){var l=a[s].layout.x,u=a[s].layout.y,c=l+a[s].layout.w,h=u+a[s].layout.h;if(t<c&&i>l&&e<h&&o>u)return!1}return!0}return t}()},{key:"handleAddView",value:function(){function t(t){var e=this,n=(0,q.dictValues)(this.state.views),r=t,i=[];12===t.layout.w&&(t.layout.w=6);for(var o=0;o<n.length;o++){var a=n[o].layout.x+n[o].layout.w,s=n[o].layout.y;this.viewPositionAvailable(a,s,t.layout.w,t.layout.h)&&i.push([a,s]),a=n[o].layout.x,s=n[o].layout.y+n[o].layout.h,this.viewPositionAvailable(a,s,t.layout.w,t.layout.h)&&i.push([a,s])}i.sort((function(t,e){var n=t[1]-e[1];return 0===n?t[0]-e[0]:n}));var l=(0,c.default)(r),u=JSON.parse(l);u.initialXDomain=this.xScales[u.uid].domain(),u.initialYDomain=this.yScales[u.uid].domain();var h=(0,f.default)(i[0],2);u.layout.x=h[0],u.layout.y=h[1],u.uid=k.default.nice(),u.layout.i=u.uid,(0,q.visitPositionedTracks)(u.tracks,(function(t){e.addCallbacks(u.uid,t)})),this.setState((function(t){var e=JSON.parse((0,c.default)(t.views));return e[u.uid]=u,{views:e}}))}return t}()},{key:"handleSelectedAssemblyChanged",value:function(){function t(t,e,n,r){var i=this.state.views;i[t].genomePositionSearchBox.chromInfoId=e,i[t].genomePositionSearchBox.autocompleteId=n,i[t].genomePositionSearchBox.autocompleteServer=r}return t}()},{key:"createGenomePostionSearchBoxEntry",value:function(){function t(t,e){var n=t,r={autocompleteServer:K.DEFAULT_SERVER,chromInfoServer:K.DEFAULT_SERVER,visible:!1};return n||(n=JSON.parse((0,c.default)(r))),n.autocompleteServer||(n.autocompleteServer=r.autocompleteServer),n.chromInfoId||(n.chromInfoId=e),n.chromInfoServer||(n.chromInfoServer=r.chromInfoServer),n.visible||(n.visible=!1),n}return t}()},{key:"handleTogglePositionSearchBox",value:function(){function t(t){var e=this.state.views[t];e.genomePositionSearchBoxVisible=!e.genomePositionSearchBoxVisible;var n={};(0,q.visitPositionedTracks)(e.tracks,(function(t){t.coordSystem&&(n[t.coordSystem]||(n[t.coordSystem]=0),n[t.coordSystem]+=1)}));var r=(0,q.dictItems)(n).sort((function(t,e){return e[1]-t[1]})),i="hg19";r.length&&(i=r[0][0]),e.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(e.genomePositionSearchBox,i),e.genomePositionSearchBox.visible=!e.genomePositionSearchBox.visible,this.refreshView(),this.setState({configMenuUid:null})}return t}()},{key:"handleTrackOptionsChanged",value:function(){function t(t,e,n){var r=this.state.views[t],i=(0,q.getTrackByUid)(r.tracks,e);i&&(i.options=(0,p.default)(i.options,n),this.mounted&&(this.setState((function(t){return{views:t.views}})),this.adjustSplitHeatmapTrackOptions(i,n,r.tracks,t)))}return t}()},{key:"adjustSplitHeatmapTrackOptions",value:function(){function t(t,e,n,r){var i=this;"heatmap"===t.type&&("upper-right"===e.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((function(n){if("heatmap"===n.type&&n.uid!==t.uid&&"lower-left"!==n.options.extent){var o=(0,p.default)({},n.options,{extent:"lower-left",labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"}),a=(0,p.default)({},e,{labelPosition:"topRight",colorbarPosition:"topRight"});return i.handleTrackOptionsChanged(r,n.uid,o),i.handleTrackOptionsChanged(r,t.uid,a),!0}return!1})),"lower-left"===e.extent&&"lower-left"===e.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((function(n){if("heatmap"===n.type&&n.uid!==t.uid&&"upper-right"!==n.options.extent){var o=(0,p.default)({},n.options,{extent:"upper-right",labelPosition:"topRight",colorbarPosition:"topRight"}),a=(0,p.default)({},e,{labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"});return i.handleTrackOptionsChanged(r,n.uid,o),i.handleTrackOptionsChanged(r,t.uid,a),!0}return!1})))}return t}()},{key:"handleViewOptionsChanged",value:function(){function t(t,e){var n=this.state.views[t];n&&(n.options=(0,p.default)(n.options||{},e),this.mounted&&this.setState((function(t){return{views:t.views}})))}return t}()},{key:"isTrackValid",value:function(){function t(t,e){return!("viewport-projection-center"===t.type&&!e.has(t.fromViewUid))}return t}()},{key:"removeInvalidTracks",value:function(){function t(t){var e=this,n=new m.default((0,q.dictKeys)(t)),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,q.dictValues)(t));!(r=(a=s.next()).done);r=!0)for(var l=a.value,c=["left","top","center","right","bottom"],h=0;h<c.length;h++){var f=c[h];l.tracks&&l.tracks.hasOwnProperty(f)&&(l.tracks[f]=l.tracks[f].filter((function(t){return e.isTrackValid(t,n)})),l.tracks[f].forEach((function(t){"combined"===t.type&&(t.contents=t.contents.filter((function(t){return e.isTrackValid(t,n)})))})))}}catch(d){i=!0,o=d}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return t}return t}()},{key:"processViewConfig",value:function(){function t(t){var e=this,n=t.views,r={};return(!t.views||0===t.views.length)&&(console.warn("No views provided in viewConfig"),n=[{editable:!0,tracks:{}}]),n.forEach((function(t){t.tracks&&(0,q.fillInMinWidths)(t.tracks),t.uid||(t.uid=k.default.nice()),r[t.uid]=t,e.zoomToDataExtentOnInit.has(t.uid)&&e.zoomToDataExtentOnInit.delete(t.uid),t.initialXDomain?(t.initialXDomain[0]=+t.initialXDomain[0],t.initialXDomain[1]=+t.initialXDomain[1]):(t.initialXDomain=[0,100],e.zoomToDataExtentOnInit.add(t.uid)),t.initialYDomain?(t.initialXDomain[0]=+t.initialXDomain[0],t.initialXDomain[1]=+t.initialXDomain[1]):t.initialYDomain=[t.initialXDomain[0],t.initialXDomain[1]],e.xScales[t.uid]||(e.xScales[t.uid]=(0,E.scaleLinear)().domain(t.initialXDomain)),e.yScales[t.uid]||(e.yScales[t.uid]=(0,E.scaleLinear)().domain(t.initialYDomain)),(0,q.visitPositionedTracks)(t.tracks,(function(n){if(n.uid||(n.uid=k.default.nice()),e.addCallbacks(t.uid,n),e.addDefaultTrackOptions(n),n.contents){var r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(n.contents);!(r=(a=s.next()).done);r=!0){var l=a.value;e.addDefaultTrackOptions(l)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}})),t.layout?t.layout.i=t.uid:t.layout=e.generateViewLayout(t)})),this.deserializeZoomLocks(t),this.deserializeLocationLocks(t),this.deserializeValueScaleLocks(t),r=this.removeInvalidTracks(r)}return t}()},{key:"handleWindowFocused",value:function(){function t(){}return t}()},{key:"rangeSelectionHandler",value:function(){function t(t){this.rangeSelection=t,this.apiPublish("rangeSelection",t)}return t}()},{key:"offViewChange",value:function(){function t(t){this.viewChangeListener.splice(t,1)}return t}()},{key:"onViewChange",value:function(){function t(t){return this.viewChangeListener.push(t)-1}return t}()},{key:"triggerViewChange",value:function(){function t(){var t=this;this.viewChangeListener.forEach((function(e){return e(t.getViewsAsString())}))}return t}()},{key:"getGenomeLocation",value:function(){function t(t){var e=this;return W.chromInfo.get(this.state.views[t].chromInfoPath).then((function(n){return(0,q.scalesToGenomeLoci)(e.xScales[t],e.yScales[t],n)}))}return t}()},{key:"offLocationChange",value:function(){function t(t,e){this.removeScalesChangedListener(t,e)}return t}()},{key:"zoomTo",value:function(){function t(t,e,n,r,o,a){if(!(t in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,l.default)(this.setCenters).join(",")));if((0,i.default)(+e)||(0,i.default)(+n)){var s=[e,n].join(", ");console.warn(["Invalid coordinates ("+String(s)+"). All coordinates need to be numbers\n        and should represent absolute coordinates (not chromosome\n        coordinates)."].join(" "))}else{((0,i.default)(+r)||(0,i.default)(+o)||null===r||null===o)&&(r=e,o=n);var u=(0,q.scalesCenterAndK)(this.xScales[t].copy().domain([e,n]),this.yScales[t].copy().domain([r,o])),c=(0,f.default)(u,3),h=c[0],d=c[1],p=c[2];this.setCenters[t](h,d,p,!1,a)}}return t}()},{key:"zoomToGene",value:function(){function t(t,e,n,r){var i=this;if(!(t in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,l.default)(this.setCenters).join(",")));this.state.views[t].genomePositionSearchBox&&this.state.views[t].genomePositionSearchBox.autocompleteServer&&this.state.views[t].genomePositionSearchBox.autocompleteId&&this.state.views[t].chromInfoPath?this.suggestGene(t,e,(function(o){if(o){var a=o.find((function(t){return t.geneName.toLowerCase()===e.toLowerCase()}));if(a){var s=a.chr,l=a.txStart,u=a.txEnd;(0,F.default)(i.state.views[t].chromInfoPath,(function(e){var o=e.chrToAbs([s,l])-n,a=e.chrToAbs([s,u])+n,c=(0,q.scalesCenterAndK)(i.xScales[t].copy().domain([o,a]),i.yScales[t].copy().domain([o,a])),h=(0,f.default)(c,3),d=h[0],p=h[1],m=h[2];i.setCenters[t](d,p,m,!1,r)}),i.pubSub)}else console.warn("Couldn't find the gene symbol: "+String(e))}})):console.warn("Please set chromInfoPath, autocompleteServer, and autocompleteId to use the zoomToGene API")}return t}()},{key:"suggestGene",value:function(){function t(t,e,n){if(!(t in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,l.default)(this.setCenters).join(",")));if(this.state.views[t].genomePositionSearchBox&&this.state.views[t].genomePositionSearchBox.autocompleteServer&&this.state.views[t].genomePositionSearchBox.autocompleteId){var r=this.state.views[t].genomePositionSearchBox.autocompleteServer,i=this.state.views[t].genomePositionSearchBox.autocompleteId,o=String(r)+"/suggest/?d="+String(i)+"&ac="+String(e.toLowerCase());W.tileProxy.json(o,q.toVoid,this.pubSub).then((function(t){n(t)})).catch((function(t){return console.error(t)}))}else console.warn("Please set autocompleteServer and autocompleteId to use the suggestGene API")}return t}()},{key:"onLocationChange",value:function(){function t(t,e,n){var r=(0,l.default)(this.state.views);if(!r.length)return this.unsetOnLocationChange.push({viewId:t,callback:e,callbackId:n}),null;if(typeof(t=typeof t>"u"&&1===r.length?r[0]:t)>"u"||-1===r.indexOf(t))return console.error("onLocationChange either missing a viewId or passed an invalid viewId: ",t),null;var i=this.state.views[t],o=function(){function t(t,n){e({xDomain:t.domain(),yDomain:n.domain(),xRange:t.range(),yRange:n.range()})}return t}(),a=1;return this.scalesChangedListeners[i.uid]&&(a=(0,l.default)(this.scalesChangedListeners[i.uid]).filter((function(t){return 0===t.indexOf(K.LOCATION_LISTENER_PREFIX)})).map((function(t){return parseInt(t.slice(K.LOCATION_LISTENER_PREFIX.length+1),10)})).reduce((function(t,e){return Math.max(t,e)}),0)+1),this.addScalesChangedListener(i.uid,String(K.LOCATION_LISTENER_PREFIX)+"."+String(a),o),n&&n(String(K.LOCATION_LISTENER_PREFIX)+"."+String(a)),a}return t}()},{key:"getTiledPlotAtPosition",value:function(){function t(t,e){for(var n=void 0,r=(0,q.dictValues)(this.state.views),i=0;i<r.length;i++){var o=this.tiledPlots[r[i].uid],a=this.tiledAreasDivs[r[i].uid].getBoundingClientRect(),s=a.top,l=a.left,u=s+a.height,c=l+a.width;if(t>=l&&t<=c&&e>=s&&e<=u){n=o;break}}return n}return t}()},{key:"mouseMoveHandler",value:function(){function t(t){if(this.topDiv&&!this.state.modal){var e=t.clientX,n=t.clientY,i=(0,S.clientPoint)(this.topDiv,t);i[1]+=this.scrollTop;var o=this.getTiledPlotAtPosition(e,n),a=o?o.listTracksAtPosition(i[0],i[1],!0).map((function(t){return t.originalTrack||t})):[],s=a.find((function(t){return!t.isAugmentationTrack})),l=s?[i[0]-s.position[0],i[1]-s.position[1]]:i,u=-1,c=-1;s&&(u=s.flipText?s._xScale.invert(l[1]):s._xScale.invert(l[0]),c=s.is2d?s._yScale.invert(l[1]):u);var h={x:i[0],y:i[1],relTrackX:s&&s.flipText?l[1]:l[0],relTrackY:s&&s.flipText?l[0]:l[1],dataX:u,dataY:c,isFrom2dTrack:!(!s||!s.is2d),isFromVerticalTrack:!(!s||!s.flipText),track:s,origEvt:t,sourceUid:this.uid,hoveredTracks:a,noHoveredTracks:0===a.length};if(this.pubSub.publish("app.mouseMove",h),this.isBroadcastMousePositionGlobally){var f=(0,r.default)({},h);f.origEvt=void 0,f.track=void 0,f.hoveredTracks=void 0,delete f.origEvt,delete f.track,delete f.hoveredTracks,R.globalPubSub.publish("higlass.mouseMove",f)}this.apiPublish("cursorLocation",{absX:e,absY:n,relX:h.x,relY:h.y,relTrackX:h.relTrackX,relTrackY:h.relTrackY,dataX:h.dataX,dataY:h.dataY,isFrom2dTrack:h.isFrom2dTrack,isFromVerticalTrack:h.isFromVerticalTrack}),this.showHoverMenu(h)}}return t}()},{key:"getMinMaxValue",value:function(){function t(t,e,n,r){var i=(0,q.getTrackObjById)(this.tiledPlots,t,e);if(i){if(i.minVisibleValueInTiles&&i.maxVisibleValueInTiles)return n&&i.getAggregatedVisibleValue?[i.getAggregatedVisibleValue("min"),i.getAggregatedVisibleValue("max")]:[i.minVisibleValueInTiles(r),i.maxVisibleValueInTiles(r)];console.warn("Track "+String(e)+" doesn't support the retrieval of min or max values.")}else console.warn("Track with ID: "+String(e)+" not found!")}return t}()},{key:"showHoverMenu",value:function(){function t(t){var e=t.track&&t.track.getMouseOverHtml?t.track.getMouseOverHtml(t.relTrackX,t.relTrackY):"";if(t.track!==this.prevMouseHoverTrack&&this.prevMouseHoverTrack&&this.prevMouseHoverTrack.stopHover&&this.prevMouseHoverTrack.stopHover(),this.prevMouseHoverTrack=t.track,!this.zooming){var n=e&&e.length?[1]:[],r=(0,S.select)("body").selectAll(".track-mouseover-menu").data(n);r.exit().remove(),r.enter().append("div").classed("track-mouseover-menu",!0).classed($.default["track-mouseover-menu"],!0),r=(0,S.select)("body").selectAll(".track-mouseover-menu");var i=(0,S.clientPoint)((0,S.select)("body").node(),t.origEvt),o=[i[0]-window.scrollX,i[1]-window.scrollY];if(r.style("left",String(o[0])+"px").style("top",String(o[1])+"px"),r.node()){var a=r.node().getBoundingClientRect();a.x+a.width>window.innerWidth&&r.style("left",o[0]-a.width+"px"),a.y+a.height>window.innerHeight&&r.style("top",o[1]-a.height+"px"),r.html(e)}}}return t}()},{key:"hideHoverMenu",value:function(){function t(){(0,S.select)("body").selectAll(".track-mouseover-menu").remove()}return t}()},{key:"appClickHandler",value:function(){function t(t){this.apiPublish("click",t)}return t}()},{key:"mouseMoveZoomHandler",value:function(){function t(t){this.apiPublish("mouseMoveZoom",t)}return t}()},{key:"geneSearchHandler",value:function(){function t(t){this.apiPublish("geneSearch",t)}return t}()},{key:"mouseDownHandler",value:function(){function t(t){}return t}()},{key:"onScrollHandler",value:function(){function t(){this.props.options.sizeMode===st&&(this.scrollTop=this.scrollContainer.scrollTop,this.pixiStage.y=-this.scrollTop,this.pubSub.publish("app.scroll",this.scrollTop),this.animate())}return t}()},{key:"setTrackValueScaleLimits",value:function(){function t(t,e,n,r){var i=(0,q.getTrackObjById)(this.tiledPlots,t,e);i?i.setFixedValueScaleMin&&i.setFixedValueScaleMax?(i.setFixedValueScaleMin(n),i.setFixedValueScaleMax(r),i.rerender(i.options,!0),i.animate()):console.warn("Track doesn't support fixed value scales."):console.warn("Could't find track: "+String(e))}return t}()},{key:"setChromInfo",value:function(){function t(t,e){var n=this;(0,F.default)(t,(function(t){n.chromInfo=t,e()}),this.pubSub)}return t}()},{key:"onMouseLeaveHandler",value:function(){function t(){this.pubSub.publish("app.mouseLeave"),this.hideHoverMenu(),this.animate()}return t}()},{key:"onBlurHandler",value:function(){function t(){this.animate()}return t}()},{key:"isZoomFixed",value:function(){function t(t){return this.props.zoomFixed||this.props.options.zoomFixed||this.state.viewConfig.zoomFixed||this.props.options.sizeMode===st||t&&t.zoomFixed}return t}()},{key:"trackDimensionsModifiedHandler",value:function(){function t(t){var e=this.state.views[t.viewId];if(e){var n=(0,q.getTrackByUid)(e.tracks,t.trackId);n&&(void 0!==t.height&&(n.height=t.height),void 0!==t.width&&(n.width=t.width),this.adjustLayoutToTrackSizes(e),this.setState((function(t){return{views:t.views}})))}}return t}()},{key:"wheelHandler",value:function(){function t(t){if(!this.state.modal&&this.props.options.sizeMode!==st){var e=t.nativeEvent||t,n=t.target===this.canvasElement;if((0,q.hasParent)(e.target,this.topDiv)&&!this.isZoomFixed()){var r=e.clientX,i=e.clientY,o=this.getTiledPlotAtPosition(r,i);if(this.apiStack.wheel&&this.apiStack.wheel.length>0){var a=(0,S.clientPoint)(this.topDiv,e);a[1]+=this.scrollTop;var s=o?o.listTracksAtPosition(a[0],a[1],!0).map((function(t){return t.originalTrack||t})):[],l=s.find((function(t){return!t.isAugmentationTrack})),u=l?[a[0]-l.position[0],a[1]-l.position[1]]:a,c={x:a[0],y:a[1],relTrackX:l&&l.flipText?u[1]:u[0],relTrackY:l&&l.flipText?u[0]:u[1],track:l,origEvt:e,sourceUid:this.uid,hoveredTracks:s,noHoveredTracks:0===s.length};this.apiPublish("wheel",c)}if(e.forwarded||n)return t.stopPropagation(),void t.preventDefault();if(t.preventDefault(),o){var h=o.trackRenderer;e.forwarded=!0,e&&((0,q.forwardEvent)(e,h.eventTracker),e.preventDefault())}}}}return t}()},{key:"render",value:function(){function t(){var t=this;this.tiledAreasDivs={},this.tiledAreas=T.default.createElement("div",{className:"HiGlass-module_tiled-area-22H1L"}),this.mounted&&(this.tiledAreas=(0,q.dictValues)(this.state.views).map((function(e){var n=e.uid===t.state.addTrackPositionMenuUid?t.state.addTrackPositionMenuPosition:null,r=null;if(t.state.chooseViewHandler){var i="transparent";t.state.mouseOverOverlayUid===e.uid&&(i="green"),r=T.default.createElement("div",{className:"tiled-plot-overlay",onClick:function(){function n(){return t.state.chooseViewHandler(e.uid)}return n}(),onMouseEnter:function(){function n(){return t.handleOverlayMouseEnter(e.uid)}return n}(),onMouseLeave:function(){function n(){return t.handleOverlayMouseLeave(e.uid)}return n}(),onMouseMove:function(){function n(){return t.handleOverlayMouseEnter(e.uid)}return n}(),style:{position:"absolute",width:"100%",height:"100%",background:i,opacity:.3,zIndex:1}})}var o=T.default.createElement(D.default,{key:"tp"+String(e.uid),ref:function(){function n(n){t.tiledPlots[e.uid]=n}return n}(),addTrackPosition:t.state.addTrackPositionView===e.uid?t.state.addTrackPosition:null,addTrackPositionMenuPosition:n,canvasElement:t.state.canvasElement,chooseTrackHandler:t.state.chooseTrackHandler?function(n){return t.state.chooseTrackHandler(e.uid,n)}:null,chromInfoPath:e.chromInfoPath,disableTrackMenu:t.isTrackMenuDisabled(),draggingHappening:t.state.draggingHappening,editable:t.isEditable(),getLockGroupExtrema:function(){function n(n){return t.getLockGroupExtrema(e.uid,n)}return n}(),initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,isShowGlobalMousePosition:t.isShowGlobalMousePosition,isValueScaleLocked:function(){function n(n){return t.isValueScaleLocked(e.uid,n)}return n}(),marginBottom:t.viewMarginBottom,marginLeft:t.viewMarginLeft,marginRight:t.viewMarginRight,marginTop:t.viewMarginTop,metaTracks:e.metaTracks,mouseTool:t.state.mouseTool,onChangeTrackData:function(){function n(n,r){return t.handleChangeTrackData(e.uid,n,r)}return n}(),onChangeTrackType:function(){function n(n,r){return t.handleChangeTrackType(e.uid,n,r)}return n}(),onCloseTrack:function(){function n(n){return t.handleCloseTrack(e.uid,n)}return n}(),onDataDomainChanged:function(){function n(n,r){return t.handleDataDomainChanged(e.uid,n,r)}return n}(),onLockValueScale:function(){function n(n){return t.handleLockValueScale(e.uid,n)}return n}(),onMouseMoveZoom:t.mouseMoveZoomHandler.bind(t),onNewTilesLoaded:function(){function n(n){return t.handleNewTilesLoaded(e.uid,n)}return n}(),onNoTrackAdded:t.handleNoTrackAdded.bind(t),onRangeSelection:t.rangeSelectionHandler.bind(t),onResizeTrack:t.triggerViewChangeDb,onScalesChanged:function(){function n(n,r){return t.handleScalesChanged(e.uid,n,r)}return n}(),onTrackOptionsChanged:function(){function n(n,r){return t.handleTrackOptionsChanged(e.uid,n,r)}return n}(),onTrackPositionChosen:t.handleTrackPositionChosen.bind(t),onTracksAdded:function(){function n(n,r,i){return t.handleTracksAdded(e.uid,n,r,i)}return n}(),onUnlockValueScale:function(){function n(n){return t.handleUnlockValueScale(e.uid,n)}return n}(),onValueScaleChanged:function(){function n(n){return t.syncValueScales(e.uid,n)}return n}(),overlays:e.overlays,paddingBottom:t.viewPaddingBottom,paddingLeft:t.viewPaddingLeft,paddingRight:t.viewPaddingRight,paddingTop:t.viewPaddingTop,pixiRenderer:t.pixiRenderer,pixiStage:t.pixiStage,pluginDataFetchers:t.pluginDataFetchers,pluginTracks:t.pluginTracks,rangeSelection1dSize:t.state.rangeSelection1dSize,rangeSelectionToInt:t.state.rangeSelectionToInt,registerDraggingChangedListener:function(){function n(n){return t.addDraggingChangedListener(e.uid,e.uid,n)}return n}(),removeDraggingChangedListener:function(){function n(n){return t.removeDraggingChangedListener(e.uid,e.uid,n)}return n}(),setCentersFunction:function(){function n(n){t.setCenters[e.uid]=n}return n}(),svgElement:t.state.svgElement,tracks:e.tracks,trackSourceServers:t.state.viewConfig.trackSourceServers,uid:e.uid,verticalMargin:t.verticalMargin,viewOptions:e.options,xDomainLimits:e.xDomainLimits,yDomainLimits:e.yDomainLimits,zoomable:!t.isZoomFixed(e),zoomLimits:t.calculateZoomLimits(e,e.initialXDomain),zoomToDataExtentOnInit:function(){function n(){return t.zoomToDataExtentOnInit.has(e.uid)}return n}()}),a=function(){function n(n,r){return e.genomePositionSearchBox?T.default.createElement(N.default,{key:"gpsb"+String(e.uid),ref:function(){function n(n){t.genomePositionSearchBoxes[e.uid]=n}return n}(),autocompleteId:e.genomePositionSearchBox.autocompleteId,autocompleteServer:e.genomePositionSearchBox.autocompleteServer,chromInfoId:e.genomePositionSearchBox.chromInfoId,chromInfoPath:e.genomePositionSearchBox.chromInfoPath,chromInfoServer:e.genomePositionSearchBox.chromInfoServer,hideAvailableAssemblies:e.genomePositionSearchBox.hideAvailableAssemblies,isFocused:n,onFocus:r,onGeneSearch:t.geneSearchHandler.bind(t),onSelectedAssemblyChanged:function(){function n(n,r,i){return t.handleSelectedAssemblyChanged(e.uid,n,r,i)}return n}(),registerViewportChangedListener:function(){function n(n){return t.addScalesChangedListener(e.uid,e.uid,n)}return n}(),removeViewportChangedListener:function(){function n(){return t.removeScalesChangedListener(e.uid,e.uid)}return n}(),setCenters:function(){function n(n,r,i,o){return t.setCenters[e.uid](n,r,i,!1,o)}return n}(),trackSourceServers:t.state.viewConfig.trackSourceServers,twoD:!0}):null}return n}(),s=!t.isEditable()||t.isViewHeaderDisabled()||t.state.viewConfig.hideHeader?null:T.default.createElement(B.default,{ref:function(){function n(n){t.viewHeaders[e.uid]=n}return n}(),getGenomePositionSearchBox:a,isGenomePositionSearchBoxVisible:e.genomePositionSearchBox&&e.genomePositionSearchBox.visible,mouseTool:t.state.mouseTool,onAddView:function(){function n(){return t.handleAddView(e)}return n}(),onClearView:function(){function n(){return t.handleClearView(e.uid)}return n}(),onCloseView:function(){function n(){return t.handleCloseView(e.uid)}return n}(),onEditViewConfig:t.handleEditViewConfigBound,onExportPNG:t.handleExportPNG.bind(t),onExportSVG:t.handleExportSVG.bind(t),onExportViewsAsJSON:t.handleExportViewAsJSON.bind(t),onExportViewsAsLink:t.handleExportViewsAsLink.bind(t),onLockLocation:function(){function e(e){return t.handleYankFunction(e,t.handleLocationLockChosen.bind(t))}return e}(),onLockZoom:function(){function e(e){return t.handleYankFunction(e,t.handleZoomLockChosen.bind(t))}return e}(),onLockZoomAndLocation:function(){function e(e){return t.handleYankFunction(e,(function(e,n){t.handleZoomLockChosen(e,n),t.handleLocationLockChosen(e,n)}))}return e}(),onProjectViewport:t.handleProjectViewport.bind(t),onTakeAndLockZoomAndLocation:function(){function e(e){t.handleYankFunction(e,(function(e,n){t.handleZoomYanked(e,n),t.handleLocationYanked(e,n),t.handleZoomLockChosen(e,n),t.handleLocationLockChosen(e,n)}))}return e}(),onTogglePositionSearchBox:t.handleTogglePositionSearchBox.bind(t),onTrackPositionChosen:function(){function n(n){return t.handleTrackPositionChosen(e.uid,n)}return n}(),onUnlockLocation:function(){function e(e){return t.handleUnlock(e,t.locationLocks)}return e}(),onUnlockZoom:function(){function e(e){return t.handleUnlock(e,t.zoomLocks)}return e}(),onUnlockZoomAndLocation:function(){function e(e){t.handleUnlock(e,t.zoomLocks),t.handleUnlock(e,t.locationLocks)}return e}(),onViewOptionsChanged:function(){function n(n){return t.handleViewOptionsChanged(e.uid,n)}return n}(),onYankLocation:function(){function e(e){return t.handleYankFunction(e,t.handleLocationYanked.bind(t))}return e}(),onYankZoom:function(){function e(e){return t.handleYankFunction(e,t.handleZoomYanked.bind(t))}return e}(),onYankZoomAndLocation:function(){function e(e){return t.handleYankFunction(e,(function(e,n){t.handleZoomYanked(e,n),t.handleLocationYanked(e,n)}))}return e}(),onZoomToData:function(){function e(e){return t.handleZoomToData(e)}return e}(),viewUid:e.uid});return T.default.createElement("div",{key:e.uid,ref:function(){function n(n){t.tiledAreasDivs[e.uid]=n}return n}(),className:"HiGlass-module_tiled-area-22H1L"},s,o,r)})));var e=this.mounted?(0,h.default)(this.state.views).filter((function(t){return t.layout})).map((function(t){return t.layout})):[];e=JSON.parse((0,c.default)(e));var n=this.isEditable()?K.DEFAULT_CONTAINER_PADDING_X:0,r=this.isEditable()?K.DEFAULT_CONTAINER_PADDING_Y:0,i=+this.props.options.containerPaddingX>=0?+this.props.options.containerPaddingX:n,o=+this.props.options.containerPaddingY>=0?+this.props.options.containerPaddingY:r,a=T.default.createElement(O.default,{ref:function(){function e(e){t.gridLayout=e}return e}(),cols:12,containerPadding:[i,o],draggableHandle:"."+String(Z.default["multitrack-header-grabber"]),isDraggable:this.isEditable(),isResizable:this.isEditable(),layout:e,margin:this.isEditable()?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted,verticalCompact:this.state.viewConfig.compactLayout,width:this.state.width},this.tiledAreas),s="styles.higlass";this.theme===K.THEME_DARK&&(s+=" styles.higlass-dark-theme"),(this.props.options.sizeMode===at||this.props.options.sizeMode===st)&&(s+=" styles.higlass-container-overflow");var l="";return this.props.options.sizeMode===at?l="styles.higlass-scroll-container-overflow":this.props.options.sizeMode===st&&(l="styles.higlass-scroll-container-scroll"),T.default.createElement("div",{key:this.uid,ref:function(){function e(e){t.topDiv=e}return e}(),onMouseLeave:this.onMouseLeaveHandlerBound,onMouseMove:this.mouseMoveHandlerBound,className:"higlass "+(0,x.default)(s,tt)},T.default.createElement(G.Provider,{value:this.pubSub},T.default.createElement(X.Provider,{value:this.modal},T.default.createElement(Y.Provider,{value:this.theme},this.state.modal,T.default.createElement("canvas",{key:this.uid,ref:function(){function e(e){t.canvasElement=e}return e}(),className:"HiGlass-module_higlass-canvas-_mP9r"}),T.default.createElement("div",{ref:function(){function e(e){t.scrollContainer=e}return e}(),onScroll:this.onScrollHandlerBound,className:"higlass-scroll-container "+(0,x.default)(l,tt)},T.default.createElement("div",{ref:function(){function e(e){t.divDrawingSurface=e}return e}(),className:"higlass-drawing-surface HiGlass-module_higlass-drawing-surface-3aQQo"},a),T.default.createElement("svg",{ref:function(){function e(e){t.svgElement=e}return e}(),style:{position:"absolute",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none"},className:"HiGlass-module_higlass-svg-JJZbf"}))))))}return t}()},{key:"sizeMode",get:function(){function t(){return typeof this.props.options.sizeMode>"u"?this.props.options.bounded?"bounded":it:this.props.options.sizeMode}return t}()}]),e}(T.default.Component);lt.defaultProps={options:{},zoomFixed:!1,compactLayout:!0},lt.propTypes={getApi:w.default.func,options:w.default.object,viewConfig:w.default.oneOfType([w.default.string,w.default.object]).isRequired,zoomFixed:w.default.bool,compactLayout:w.default.bool},e.default=lt},function(t,e,n){n(234),t.exports=n(12).Number.isNaN},function(t,e,n){var r=n(16);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){n(61),n(236),t.exports=n(12).Array.from},function(t,e,n){var r=n(49),i=n(16),o=n(54),a=n(165),s=n(166),l=n(88),u=n(237),c=n(112);i(i.S+i.F*!n(167)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,y=c(f);if(v&&(m=r(m,p>2?arguments[2]:void 0,2)),null==y||d==Array&&s(y))for(n=new d(e=l(f.length));e>g;g++)u(n,g,v?m(f[g],g):f[g]);else for(h=y.call(f),n=new d;!(i=h.next()).done;g++)u(n,g,v?a(h,m,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){var r=n(32),i=n(66);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(33);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){n(240),t.exports=-9007199254740991},function(t,e,n){var r=n(16);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){n(242),t.exports=9007199254740991},function(t,e,n){var r=n(16);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){function r(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}t.exports=r},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(17)),i=v(n(62)),o=v(n(246)),a=v(n(247)),s=v(n(35)),l=v(n(3)),u=v(n(4)),c=v(n(26)),h=n(28),f=n(10),d=v(n(137)),p=v(n(138)),m=n(24);function v(t){return t&&t.__esModule?t:{default:t}}var g=function(){function t(e,n){(0,l.default)(this,t),this.tilesetInfoLoading=!0,e?(this.dataConfig=JSON.parse((0,s.default)(e)),this.uuid=c.default.nice(),this.pubSub=n,this.dataConfig.children&&(this.dataConfig.children=e.children.map((function(e){return new t(e,n)})))):console.error("No dataconfig provided")}return(0,u.default)(t,[{key:"registerFileUrl",value:function(){var t=(0,a.default)(o.default.mark(function(){function t(e){var n,r,i=e.server,a=e.url,l=e.filetype,u=e.coordSystem;return o.default.wrap(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return n=String((0,f.trimTrailingSlash)(i))+"/register_url/",r={fileurl:a,filetype:l,coordSystem:u},t.abrupt("return",fetch(n,{method:"POST",body:(0,s.default)(r),headers:{"Content-Type":"application/json; charset=utf-8"}}));case 3:case"end":return t.stop()}}return t}(),t,this)}return t}()));function e(e){return t.apply(this,arguments)}return e}()},{key:"tilesetInfo",value:function(){function t(t){var e=this;return this.dataConfig.server&&this.dataConfig.url&&this.dataConfig.filetype?this.registerFileUrl(this.dataConfig).then((function(t){return t.json()})).then((function(n){e.dataConfig.tilesetUid=n.uid,e.tilesetInfoAfterRegister(t)})).catch((function(t){console.error("Error registering url",t)})):new i.default((function(){e.tilesetInfoAfterRegister(t)}))}return t}()},{key:"tilesetInfoAfterRegister",value:function(){function t(t){var e=this;if(this.dataConfig.children){var n=this.dataConfig.children.map((function(t){return new i.default((function(e){t.tilesetInfo(e)}))}));i.default.all(n).then((function(e){t(e[0])}))}else this.dataConfig.server&&this.dataConfig.tilesetUid?m.tileProxy.trackInfo(this.dataConfig.server,this.dataConfig.tilesetUid,(function(n){e.dataConfig.tilesetInfo=n[e.dataConfig.tilesetUid],t(n[e.dataConfig.tilesetUid],e.dataConfig.tilesetUid)}),(function(n){e.tilesetInfoLoading=!1,t({error:n})}),this.pubSub):(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),t(null))}return t}()},{key:"fullTileId",value:function(){function t(t,e){return String(t)+"."+String(e)}return t}()},{key:"fetchTilesDebounced",value:function(){function t(t,e){var n=this;if("horizontal-section"===this.dataConfig.type)this.fetchHorizontalSection(t,e);else if("vertical-section"===this.dataConfig.type)this.fetchHorizontalSection(t,e,!0);else if(!this.dataConfig.children&&this.dataConfig.tilesetUid)new i.default((function(t){return m.tileProxy.fetchTilesDebounced({id:c.default.nice(),server:n.dataConfig.server,done:t,ids:e.map((function(t){return String(n.dataConfig.tilesetUid)+"."+String(t)})),options:n.dataConfig.options},n.pubSub,!0)})).then((function(r){for(var i=(0,f.dictValues)(r)[0].tilesetUid,o={},a=0;a<e.length;a++){var s=n.fullTileId(i,e[a]);r[s].tilePositionId=e[a],o[e[a]]=r[s]}t(o)}));else{var r=this.dataConfig.children.map((function(t){return new i.default((function(n){t.fetchTilesDebounced(n,e)}),n.pubSub,!0)}));i.default.all(r).then((function(r){if("divided"===n.dataConfig.type){var i=n.makeDivided(r,e);t(i)}else console.warn("Unimplemented dataConfig type. Returning first data source.",n.dataConfig),t(r[0])}))}}return t}()},{key:"divideData",value:function(){function t(t,e){for(var n=new Float32Array(t.length),r=0;r<n.length;r++)0===e[r]?n[r]=NaN:n[r]=t[r]/e[r];return n}return t}()},{key:"horizontalSlice",value:function(){function t(){return null}return t}()},{key:"extractDataSlice",value:function(){function t(t,e,n,r){if(!r)return t.slice(e[1]*n,e[1]*(n+1));for(var i=new Array(e[1]),o=n;o<t.length;o+=e[0])i[Math.floor(o/e[0])]=t[o];return i}return t}()},{key:"fetchHorizontalSection",value:function(){function t(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[],s=[],l=!0,u=!1,p=void 0;try{for(var v,g=(0,r.default)(e);!(l=(v=g.next()).done);l=!0){var y=v.value.split("."),b=+y[0],_=+y[1],x=(0,h.scaleLinear)().domain([this.dataConfig.slicePos,this.dataConfig.slicePos]),T=[];if(this.dataConfig.tilesetInfo&&this.dataConfig.tilesetInfo.resolutions){var w=this.dataConfig.tilesetInfo.resolutions.map((function(t){return+t})).sort((function(t,e){return e-t}));T=m.tileProxy.calculateTilesFromResolution(w[b],x,this.dataConfig.tilesetInfo.min_pos[o?1:0],this.dataConfig.tilesetInfo.max_pos[o?1:0])}else T=m.tileProxy.calculateTiles(b,x,this.dataConfig.tilesetInfo.min_pos[o?1:0],this.dataConfig.tilesetInfo.max_pos[o?1:0],this.dataConfig.tilesetInfo.max_zoom,this.dataConfig.tilesetInfo.max_width);var S=[_,T[0]].sort((function(t,e){return t-e}));S[0]===_?s.push(!1):s.push(!0);var E=b+"."+String(S[0])+"."+String(S[1]);a.push(E)}}catch(k){u=!0,p=k}finally{try{!l&&g.return&&g.return()}finally{if(u)throw p}}new i.default((function(t){return m.tileProxy.fetchTilesDebounced({id:c.default.nice(),server:n.dataConfig.server,done:t,ids:a.map((function(t){return String(n.dataConfig.tilesetUid)+"."+String(t)}))},n.pubSub,!0)})).then((function(r){for(var i=(0,f.dictValues)(r)[0].tilesetUid,o={},l=0;l<a.length;l++){var u=a[l].split("."),c=+u[0],h=+u[1],p=+u[2],v=m.tileProxy.calculateTileAndPosInTile(n.dataConfig.tilesetInfo,n.dataConfig.tilesetInfo.max_width,n.dataConfig.tilesetInfo.min_pos[1],c,+n.dataConfig.slicePos)[1],g=r[n.fullTileId(i,a[l])],y=null;if(h===p){y=n.extractDataSlice(g.dense,[256,256],v);for(var b=n.extractDataSlice(g.dense,[256,256],v,1),_=0;_<y.length;_++)y[_]+=b[_]}else y=s[l]?n.extractDataSlice(g.dense,[256,256],v,1):n.extractDataSlice(g.dense,[256,256],v);var x={min_value:Math.min.apply(null,y),max_value:Math.max.apply(null,y),denseDataExtrema:new d.default(y),minNonZero:(0,f.minNonZero)(y),maxNonZero:(0,f.maxNonZero)(y),dense:y,dtype:g.dtype,server:g.server,tilePos:s[l]?[p]:[h],tilePositionId:e[l],tilesetUid:i,zoomLevel:g.zoomLevel};o[e[l]]=x}t(o)}))}return t}()},{key:"makeDivided",value:function(){function t(t,e){t.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",this.dataConfig);for(var n={},r=0;r<e.length;r++){var i=t[0][e[r]].zoomLevel,o=t[0][e[r]].tilePos,a={zoomLevel:i,tilePos:o,tilePositionId:e[r]};if(t[0][e[r]].dense&&t[1][e[r]].dense){var s=this.divideData(t[0][e[r]].dense,t[1][e[r]].dense);a={dense:s,denseDataExtrema:2===o.length?new p.default(s):new d.default(s),minNonZero:(0,f.minNonZero)(s),maxNonZero:(0,f.maxNonZero)(s),zoomLevel:i,tilePos:o,tilePositionId:e[r]}}n[e[r]]=a}return n}return t}()}]),t}();e.default=g},function(t,e,n){t.exports=n(615)},function(t,e,n){e.__esModule=!0;var r=i(n(62));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return function(){var e=t.apply(this,arguments);return new r.default((function(t,n){function i(o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}if(!s.done)return r.default.resolve(l).then((function(t){i("next",t)}),(function(t){i("throw",t)}));t(l)}return i("next")}))}}},function(t,e,n){t.exports={default:n(249),__esModule:!0}},function(t,e,n){n(250),t.exports=n(12).Math.log2},function(t,e,n){var r=n(16);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){t.exports={default:n(252),__esModule:!0}},function(t,e,n){n(253),t.exports=n(12).Number.isSafeInteger},function(t,e,n){var r=n(16),i=n(178),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.initTile=e.drawTile=void 0;var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(7)),l=c(n(135)),u=n(11);function c(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t.graphics){var e=t.graphics,n=this.getTilePosAndDimensions(t.tileData.zoomLevel,t.tileData.tilePos),r=n.tileX,i=n.tileY,o=n.tileWidth;t.drawnAtScale=this._xScale.copy();var a=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))),s=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));t.text.scale.x=a,t.text.scale.y=s;var l=this._xScale(o)-this._xScale(0);if(t.textGraphics.scale.x=l/256,t.textGraphics.scale.y=l/256,e.clear(),e.lineStyle(4*a,255,1),e.beginFill(16740363,.4),e.alpha=.5,t.mirrored){var u=this._refXScale(i+o)-this._refXScale(i),c=this._refYScale(r+o)-this._refYScale(r);t.textGraphics.position.x=this._refXScale(i)+u/2,t.textGraphics.position.y=this._refYScale(r)+c/2,e.drawRect(this._refXScale(i),this._refYScale(r),u,c)}else{var h=this._refXScale(r+o)-this._refXScale(r),f=this._refYScale(i+o)-this._refYScale(i);t.textGraphics.position.x=this._refXScale(r)+h/2,t.textGraphics.position.y=this._refYScale(i)+f/2,e.drawRect(this._refXScale(r),this._refYScale(i),h,f)}}}function f(t){var e=t.graphics;t.textGraphics=new u.GLOBALS.PIXI.Graphics,t.mirrored?t.text=new u.GLOBALS.PIXI.Text(String(t.tileData.zoomLevel)+"/"+String([t.tileData.tilePos[1],t.tileData.tilePos[0]].join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}):t.text=new u.GLOBALS.PIXI.Text(String(t.tileData.zoomLevel)+"/"+String(t.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),t.textGraphics.addChild(t.text),t.text.anchor.x=.5,t.text.anchor.y=.5,e.addChild(t.textGraphics)}e.drawTile=h,e.initTile=f;var d=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"areAllVisibleTilesLoaded",value:function(){function t(){return!0}return t}()},{key:"initTile",value:function(){function t(t){f.bind(this)(t),this.drawTile(t)}return t}()},{key:"destroyTile",value:function(){function t(t,e){}return t}()},{key:"drawTile",value:function(){function t(t){h.bind(this)(t)}return t}()},{key:"fetchNewTiles",value:function(){function t(t){var e=this;t.forEach((function(t){var n=t.remoteId.split("."),r={zoomLevel:n[0],tilePos:n.slice(1,n.length).map((function(t){return+t}))};e.fetchedTiles[t.tileId]=t,e.fetchedTiles[t.tileId].tileData=r,e.fetching.has(t.remoteId)&&e.fetching.delete(t.remoteId)})),this.synchronizeTilesAndGraphics()}return t}()}]),e}(l.default);e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(25)),i=m(n(18)),o=m(n(38)),a=m(n(5)),s=m(n(3)),l=m(n(4)),u=m(n(6)),c=m(n(14)),h=m(n(7)),f=n(28),d=m(n(79)),p=n(24);function m(t){return t&&t.__esModule?t:{default:t}}var v=1024,g=function(t){function e(t,n){(0,s.default)(this,e);var r=(0,u.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t,n)),i=t.onMouseMoveZoom,o=t.isValueScaleLocked,l=t.getLockGroupExtrema;return r.onMouseMoveZoom=i,r.isValueScaleLocked=o,r.getLockGroupExtrema=l,r.onMouseMoveZoom&&r.pubSubs.push(r.pubSub.subscribe("app.mouseMove",r.mouseMoveHandler.bind(r))),r}return(0,h.default)(e,t),(0,l.default)(e,[{key:"initTile",value:function(){function t(t){(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"initTile",this).call(this,t)}return t}()},{key:"tileToLocalId",value:function(){function t(t){return""+String(t.join("."))}return t}()},{key:"tileToRemoteId",value:function(){function t(t){return""+String(t.join("."))}return t}()},{key:"relevantScale",value:function(){function t(){return null}return t}()},{key:"setVisibleTiles",value:function(){function t(t){var e=this;this.visibleTiles=t.map((function(t){return{tileId:e.tileToLocalId(t),remoteId:e.tileToRemoteId(t)}})),this.visibleTileIds=new o.default(this.visibleTiles.map((function(t){return t.tileId})))}return t}()},{key:"calculateVisibleTiles",value:function(){function t(){var t=this;if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var e=this.tilesetInfo.resolutions.map((function(t){return+t})).sort((function(t,e){return e-t})),n=p.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]).map((function(e){return[t.zoomLevel,e]}));return void this.setVisibleTiles(n)}var r=p.tileProxy.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width).map((function(e){return[t.zoomLevel,e]}));this.setVisibleTiles(r)}}return t}()},{key:"getTilePosAndDimensions",value:function(){function t(t,e,n){var r=e[0],i=e[0];if(this.tilesetInfo.resolutions){var o=n||v,a=this.tilesetInfo.resolutions.map((function(t){return+t})).sort((function(t,e){return e-t}))[t],s=a*o,l=s;return{tileX:a*o*e[0],tileY:a*o*e[1],tileWidth:s,tileHeight:l}}var u=this.tilesetInfo.max_width,c=this.tilesetInfo.max_width,h=this.tilesetInfo.min_pos[0],f=this.tilesetInfo.min_pos[1],d=u/Math.pow(2,t),p=c/Math.pow(2,t);return{tileX:h+r*d,tileY:f+i*p,tileWidth:d,tileHeight:p}}return t}()},{key:"updateTile",value:function(){function t(t){}return t}()},{key:"scheduleRerender",value:function(){function t(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}return t}()},{key:"handleRerender",value:function(){function t(){this.rerender(this.options,!1)}return t}()},{key:"getIndicesOfVisibleDataInTile",value:function(){function t(t){var e=this._xScale.range();if(!this.tilesetInfo)return[null,null];var n=this.getTilePosAndDimensions(t.tileData.zoomLevel,t.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),r=n.tileX,i=n.tileWidth,o=(0,f.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([r,r+i]);return[Math.max(0,Math.round(o.invert(this._xScale.invert(e[0])))),Math.min(t.tileData.dense.length,Math.round(o.invert(this._xScale.invert(e[1]))))]}return t}()},{key:"minVisibleValue",value:function(){function t(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,i.default)(this.fetchedTiles));var o=n.map((function(e){return t.fetchedTiles[e]})).map((function(e){var n=t.getIndicesOfVisibleDataInTile(e);return e.tileData.denseDataExtrema.getMinNonZeroInSubset(n)})),a=Math.min.apply(Math,(0,r.default)(o));return e?a:null!==this.valueScaleMin?this.valueScaleMin:a}return t}()},{key:"maxVisibleValue",value:function(){function t(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,i.default)(this.fetchedTiles));var o=n.map((function(e){return t.fetchedTiles[e]})).map((function(e){var n=t.getIndicesOfVisibleDataInTile(e);return e.tileData.denseDataExtrema.getMaxNonZeroInSubset(n)})),a=Math.max.apply(Math,(0,r.default)(o));return e?a:null!==this.valueScaleMax?this.valueScaleMax:a}return t}()},{key:"getAggregatedVisibleValue",value:function(){function t(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"max",n="min"===e?Math.min:Math.max,o="min"===e?1/0:-1/0,a=this.visibleAndFetchedIds();0===a.length&&(a=(0,i.default)(this.fetchedTiles));var s=this._xScale.range();return a.map((function(e){return t.fetchedTiles[e]})).map((function(n){if(!n.tileData.tilePos)return"min"===e?t.minVisibleValue():t.maxVisibleValue();var r=t.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos,t.tilesetInfo.bins_per_dimension||t.tilesetInfo.tile_size),i=r.tileX,o=r.tileWidth,a=(0,f.scaleLinear)().domain([0,t.tilesetInfo.tile_size||t.tilesetInfo.bins_per_dimension]).range([i,i+o]),l=Math.max(0,Math.round(a.invert(t._xScale.invert(s[0])))),u=Math.min(n.tileData.dense.length,Math.round(a.invert(t._xScale.invert(s[1]))));return n.tileData.dense.slice(l,u)})).reduce((function(t,e){return n.apply(void 0,[t].concat((0,r.default)(e)))}),o)}return t}()},{key:"getDataAtPos",value:function(){function t(t){var e=void 0;if(!this.tilesetInfo)return e;var n=this.calculateZoomLevel(),r=p.tileProxy.calculateTileWidth(this.tilesetInfo,n,this.tilesetInfo.tile_size),i=this._xScale.invert(t)/r,o=this.tileToLocalId([n,Math.floor(i)]),a=this.fetchedTiles[o];if(!a)return e;var s=this.tilesetInfo.tile_size*(i-Math.floor(i));return a.tileData.dense?a.tileData.dense[Math.floor(s)]:null}return t}()},{key:"mouseMoveHandler",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,n=t.y;this.isWithin(e,n)&&(this.mouseX=e,this.mouseY=n,this.mouseMoveZoomHandler())}return t}()},{key:"mouseMoveZoomHandler",value:function(){function t(){}return t}()},{key:"zoomed",value:function(){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"zoomed",this)).call.apply(t,[this].concat(r)),this.mouseMoveZoomHandler()}return t}()}]),e}(d.default);e.default=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(17)),i=c(n(25)),o=c(n(18)),a=c(n(38)),s=c(n(3)),l=c(n(4)),u=c(n(26));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e){var n=this,r=e.tracks,i=e.createTrackObject;(0,s.default)(this,t),this.childTracks=r.map(i),this.createdTracks={},this.uid=u.default.nice(),this.childTracks.forEach((function(t,e){n.createdTracks[r[e].uid]=t}));for(var o=0;o<this.childTracks.length;o++)this.childTracks[o]||console.error("Empty child track in CombinedTrack:",this)}return(0,l.default)(t,[{key:"updateContents",value:function(){function t(t,e){var n=this,r=[],s=new a.default;t.forEach((function(t){if(s.add(t.uid),t.uid in n.createdTracks)r.push(n.createdTracks[t.uid]);else{var i=e(t);i.setPosition(n.position),i.setDimensions(n.dimensions),r.push(i),i.zoomed(n._xScale,n._yScale),n.createdTracks[t.uid]=i}})),this.childTracks=r;var l=new a.default((0,o.default)(this.createdTracks)),u=new a.default([].concat((0,i.default)(l)).filter((function(t){return!s.has(t)})));return[].concat((0,i.default)(u)).forEach((function(t){n.createdTracks[t].remove(),delete n.createdTracks[t]})),this}return t}()},{key:"setPosition",value:function(){function t(t){this.position=t;for(var e=0;e<this.childTracks.length;e++)this.childTracks[e].setPosition(t)}return t}()},{key:"setDimensions",value:function(){function t(t){this.dimensions=t;for(var e=0;e<this.childTracks.length;e++)this.childTracks[e].setDimensions(t)}return t}()},{key:"zoomed",value:function(){function t(t,e,n,r,i,o,a){this._xScale=t,this._yScale=e;for(var s=0;s<this.childTracks.length;s++)this.childTracks[s].zoomed(t,e,n,r,i,o,a)}return t}()},{key:"draw",value:function(){function t(){}return t}()},{key:"refScalesChanged",value:function(){function t(t,e){for(var n=0;n<this.childTracks.length;n++)this.childTracks[n].refScalesChanged(t,e)}return t}()},{key:"remove",value:function(){function t(){for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].remove()}return t}()},{key:"exportSVG",value:function(){function t(){var t=document.createElement("g"),e=!0,n=!1,i=void 0;try{for(var o,a=(0,r.default)(this.childTracks);!(e=(o=a.next()).done);e=!0){var s=o.value;s.exportSVG&&t.appendChild(s.exportSVG()[0])}}catch(l){n=!0,i=l}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}return[t,t]}return t}()},{key:"rerender",value:function(){function t(t){}return t}()},{key:"minValue",value:function(){function t(t){if(0===arguments.length){var e=this.childTracks.filter((function(t){return t.minValue})).map((function(t){return t.minValue()})).filter((function(t){return t}));return Math.min.apply(Math,(0,i.default)(e))}var n=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(n=(s=l.next()).done);n=!0){var u=s.value;u.minValue&&u.minValue(t)}}catch(c){o=!0,a=c}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}return t}()},{key:"maxValue",value:function(){function t(t){if(0===arguments.length){var e=this.childTracks.filter((function(t){return t.maxValue})).map((function(t){return t.maxValue()})).filter((function(t){return t}));return Math.max.apply(Math,(0,i.default)(e))}var n=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(n=(s=l.next()).done);n=!0){var u=s.value;u.maxValue&&u.maxValue(t)}}catch(c){o=!0,a=c}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}return t}()},{key:"respondsToPosition",value:function(){function t(t,e){return t>=this.position[0]&&t<=this.dimensions[0]+this.position[0]&&e>=this.position[1]&&e<=this.dimensions[1]+this.position[1]}return t}()},{key:"stopHover",value:function(){function t(){var t=!0,e=!1,n=void 0;try{for(var i,o=(0,r.default)(this.childTracks);!(t=(i=o.next()).done);t=!0){var a=i.value;a.stopHover&&a.stopHover()}}catch(s){e=!0,n=s}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}}return t}()},{key:"getMouseOverHtml",value:function(){function t(t,e){var n="",i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.getMouseOverHtml){var c=u.getMouseOverHtml(t,e);c&&c.length&&(n+=c,n+="<br/>")}}}catch(h){o=!0,a=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return n}return t}()}]),t}();e.default=h},function(t,e,n){(function(t,r){var i=n(258),o=n(618);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var a=typeof Uint8ClampedArray<"u",s=t.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=o([32,0])),s.BUFFER||(s.BUFFER=o([32,0]));var l=s.DATA,u=s.BUFFER;function c(t){if(t){var e=t.length||t.byteLength,n=i.log2(e);l[n].push(t)}}function h(t){c(t.buffer)}function f(t){t=i.nextPow2(t);var e=i.log2(t),n=l[e];return n.length>0?n.pop():new ArrayBuffer(t)}function d(t){return new Uint8Array(f(t),0,t)}function p(t){return new Uint16Array(f(2*t),0,t)}function m(t){return new Uint32Array(f(4*t),0,t)}function v(t){return new Int8Array(f(t),0,t)}function g(t){return new Int16Array(f(2*t),0,t)}function y(t){return new Int32Array(f(4*t),0,t)}function b(t){return new Float32Array(f(4*t),0,t)}function _(t){return new Float64Array(f(8*t),0,t)}function x(t){return a?new Uint8ClampedArray(f(t),0,t):d(t)}function T(t){return new DataView(f(t),0,t)}function w(t){t=i.nextPow2(t);var e=i.log2(t),n=u[e];return n.length>0?n.pop():new r(t)}e.free=function(t){if(r.isBuffer(t))u[i.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|i.log2(e);l[n].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=h,e.freeArrayBuffer=c,e.freeBuffer=function(t){u[i.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return f(t);switch(e){case"uint8":return d(t);case"uint16":return p(t);case"uint32":return m(t);case"int8":return v(t);case"int16":return g(t);case"int32":return y(t);case"float":case"float32":return b(t);case"double":case"float64":return _(t);case"uint8_clamped":return x(t);case"buffer":return w(t);case"data":case"dataview":return T(t);default:return null}return null},e.mallocArrayBuffer=f,e.mallocUint8=d,e.mallocUint16=p,e.mallocUint32=m,e.mallocInt8=v,e.mallocInt16=g,e.mallocInt32=y,e.mallocFloat32=e.mallocFloat=b,e.mallocFloat64=e.mallocDouble=_,e.mallocUint8Clamped=x,e.mallocDataView=T,e.mallocBuffer=w,e.clearCache=function(){for(var t=0;t<32;++t)s.UINT8[t].length=0,s.UINT16[t].length=0,s.UINT32[t].length=0,s.INT8[t].length=0,s.INT16[t].length=0,s.INT32[t].length=0,s.FLOAT[t].length=0,s.DOUBLE[t].length=0,s.UINT8C[t].length=0,l[t].length=0,u[t].length=0}}).call(this,n(27),n(113).Buffer)},function(t,e,n){var r=32;function i(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=r,e.INT_MAX=2147483647,e.INT_MIN=-1<<r-1,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>r-1;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1)&&!!t},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=i,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var o=new Array(256);(function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}})(o),e.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(37)),i=g(n(30)),o=g(n(19)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(14)),h=g(n(7)),f=n(28),d=n(157),p=g(n(116)),m=n(11),v=n(10);function g(t){return t&&t.__esModule?t:{default:t}}var y=(0,v.colorToHex)("#FFFFFF"),b=function(t){function e(){var t;(0,s.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,u.default)(this,(t=e.__proto__||(0,a.default)(e)).call.apply(t,[this].concat(r)));return o.zeroLine=new m.GLOBALS.PIXI.Graphics,o.pMain.addChild(o.zeroLine),o.valueScaleTransform=d.zoomIdentity,o.options&&o.options.colorRange&&(o.options.colorRangeGradient?o.setColorGradient(o.options.colorRange):o.setColorScale(o.options.colorRange)),o.initialized=!0,o}return(0,h.default)(e,t),(0,l.default)(e,[{key:"setColorScale",value:function(){function t(t){t&&(this.colorScale=(0,v.colorDomainToRgbaArray)(t),this.colorScale=this.colorScale.map((function(t){return t.map((function(t){return t/255}))})))}return t}()},{key:"setColorGradient",value:function(){function t(t){if(t){var e=t.length-1;this.colorGradientColors="bottom"===this.options.align?t.slice().reverse().map((function(t,n){return{from:n/e,color:t}})):t.map((function(t,n){return{from:n/e,color:t}}))}}return t}()},{key:"initTile",value:function(){function t(t){this.initialized&&(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"initTile",this).call(this,t)}return t}()},{key:"updateTile",value:function(){function t(t){(!t.valueScale||!this.scale||this.scale.minValue!==t.scale.minValue||this.scale.maxValue!==t.scale.maxValue)&&this.renderTile(t)}return t}()},{key:"renderTile",value:function(){function t(t){this.initialized&&(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"renderTile",this).call(this,t)}return t}()},{key:"drawTile",value:function(){function t(t){if(t.graphics&&t.tileData&&t.tileData.dense){var e=t.graphics;t.svgData=void 0;var n=this.getTilePosAndDimensions(t.tileData.zoomLevel,t.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),r=n.tileX,a=n.tileWidth,s=t.tileData.dense;if(0!==s.length){var l=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue(),0),u=(0,o.default)(l,2),c=u[0],h=u[1];c.clamp(!0),this.valueScale=c;var d=c.copy();if(d.range([254,0]).clamp(!0),e.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var p=(0,v.colorToHex)(this.options.lineStrokeColor||"blue"),g=(0,f.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([r,r+a]),b=0;e.lineStyle(b,p,1);var _=this.options.barFillColor||"grey",x=(0,v.colorToHex)(_),T="barOpacity"in this.options?this.options.barOpacity:1;e.beginFill(x,T),t.drawnAtScale=this._xScale.copy();var w="top"===this.options.align,S=void 0,E=void 0,k=void 0,C=void 0,A=void 0,O=void 0;if(this.colorGradientColors){(A=new m.GLOBALS.PIXI.Graphics).beginFill(y,1);var P=(0,v.gradient)(this.colorGradientColors,1,this.dimensions[1],0,0,0,this.dimensions[1]);(O=new m.GLOBALS.PIXI.Sprite(m.GLOBALS.PIXI.Texture.fromCanvas(P,m.GLOBALS.PIXI.SCALE_MODES.NEAREST))).x=this._xScale(r),O.width=this._xScale(r+a)-O.x}for(var M=0;M<s.length;M++)if(S=this._xScale(g(M)),k=this.valueScale(s[M]+h),E=this._xScale(g(M+1))-S,C=this.dimensions[1]-k,w&&(k=0),!((0,i.default)(C)||C<0||k<0)){if(this.addSVGInfo(t,S,k,E,C,_),g(M)>this.tilesetInfo.max_pos[0])break;if(this.colorScale&&!this.options.colorRangeGradient){var I=Math.round(d(s[M]+h)),R=this.colorScale[I],L=m.GLOBALS.PIXI.utils.rgb2hex(R);e.beginFill(L,T)}(A||e).drawRect(S,k,E,C)}this.colorGradientColors&&(O.mask=A,e.removeChildren(),e.addChild(O,A))}}}return t}()},{key:"rerender",value:function(){function t(t,n){t&&t.colorRange&&(t.colorRangeGradient?this.setColorGradient(t.colorRange):this.setColorScale(t.colorRange)),(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"rerender",this).call(this,t,n)}return t}()},{key:"drawZeroLine",value:function(){function t(){this.zeroLine.clear();var t=(0,v.colorToHex)(this.options.barFillColor||"grey"),e=+this.options.barOpacity||1,n=this.options.zeroLineColor?(0,v.colorToHex)(this.options.zeroLineColor):t,r=(0,i.default)(+this.options.zeroLineOpacity)?e:+this.options.zeroLineOpacity;this.zeroLine.beginFill(n,r),this.zeroLine.drawRect(0,this.dimensions[1]-1,this.dimensions[0],1)}return t}()},{key:"drawZeroLineSvg",value:function(){function t(t){var e=document.createElement("rect");e.setAttribute("id","zero-line"),e.setAttribute("x",0),e.setAttribute("y",this.dimensions[1]-1),e.setAttribute("height",1),e.setAttribute("width",this.dimensions[0]),e.setAttribute("fill",this.options.zeroLineColor||this.options.barFillColor),e.setAttribute("fill-opacity",this.options.zeroLineOpacity||this.options.barOpacity),t.appendChild(e)}return t}()},{key:"getXScaleAndOffset",value:function(){function t(t){var e=t.domain(),n=this._xScale.domain(),r=(e[1]-e[0])/(n[1]-n[0]);return[r,-this._xScale.domain().map(t)[0]*r]}return t}()},{key:"draw",value:function(){function t(){var t=this;this.initialized&&((0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"draw",this).call(this),this.options.zeroLineVisible?this.drawZeroLine():this.zeroLine.clear(),(0,r.default)(this.fetchedTiles).forEach((function(e){var n=t.getXScaleAndOffset(e.drawnAtScale),r=(0,o.default)(n,2),i=r[0],a=r[1];e.graphics.scale.x=i,e.graphics.position.x=a})))}return t}()},{key:"zoomed",value:function(){function t(t,n){(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"zoomed",this).call(this,t,n)}return t}()},{key:"movedY",value:function(){function t(t){}return t}()},{key:"zoomedY",value:function(){function t(t,e){}return t}()},{key:"addSVGInfo",value:function(){function t(t,e,n,r,i,o){t.svgData?(t.svgData.barXValues.push(e),t.svgData.barYValues.push(n),t.svgData.barWidths.push(r),t.svgData.barHeights.push(i),t.svgData.barColors.push(o)):t.svgData={barXValues:[e],barYValues:[n],barWidths:[r],barHeights:[i],barColors:[o]}}return t}()},{key:"exportSVG",value:function(){function t(){var t=null,n=null,r=(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"superSVG",this).call(this),i=(0,o.default)(r,2);n=i[0],t=i[1],n.setAttribute("class","exported-line-track");var s=document.createElement("g");t.appendChild(s),s.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.options.zeroLine&&this.drawZeroLineSvg(s),this.visibleAndFetchedTiles().filter((function(t){return t.svgData&&t.svgData.barXValues})).forEach((function(t){for(var e=t.svgData,n=0;n<e.barXValues.length;n++){var r=document.createElement("rect");r.setAttribute("fill",e.barColors[n]),r.setAttribute("stroke",e.barColors[n]),r.setAttribute("x",e.barXValues[n]),r.setAttribute("y",e.barYValues[n]),r.setAttribute("height",e.barHeights[n]),r.setAttribute("width",e.barWidths[n]),t.barBorders&&(r.setAttribute("stroke-width","0.1"),r.setAttribute("stroke","black")),s.appendChild(r)}}));var l=document.createElement("g");if(l.setAttribute("id","axis"),n.appendChild(l),l.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var u=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);l.appendChild(u)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var h=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);l.appendChild(h)}return[n,t]}return t}()}]),e}(p.default);e.default=b},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=b(n(19)),i=b(n(37)),o=b(n(17)),a=b(n(35)),s=b(n(5)),l=b(n(3)),u=b(n(4)),c=b(n(6)),h=b(n(14)),f=b(n(7)),d=b(n(180)),p=b(n(355)),m=n(11),v=b(n(115)),g=n(24),y=n(10);function b(t){return t&&t.__esModule?t:{default:t}}var _=11,x="Arial",T="outside",w=10,S=4,E=20,k=(0,y.colorToHex)("#ffffff"),C=2,A=2*w/3*2/3,O=50,P=5e3,M="blue",I="red",R=function(t,e,n){"filler"!==n.type&&e.pubSub.publish("app.click",{type:"gene-annotation",event:t,payload:n})},L=function(t,e){var n=t.concat(e),r=n.map((function(t){return[t.xStart,1,t.xEnd,1]}));(0,d.default)(r,(function(t,e){var r=null,i=null;if("filler"===n[t].type?r=n[t]:i=n[t],"filler"===n[e].type){if(r)return;r=n[e]}else{if(!r)return;i=n[e]}r.xStart>=i.xStart&&r.xEnd<=i.xEnd&&(r.hide=!0)}))};function D(t,e,n){var r=n.flipText,i=n.fontSize,o=n.fontFamily,a=n.plusStrandColor,s=n.minusStrandColor,l=n.maxGeneEntries,u=n.maxFillerEntries,c=n.maxTexts;if(e.texts={},e.rectGraphics=new m.GLOBALS.PIXI.Graphics,e.textBgGraphics=new m.GLOBALS.PIXI.Graphics,e.textGraphics=new m.GLOBALS.PIXI.Graphics,e.rectMaskGraphics=new m.GLOBALS.PIXI.Graphics,e.graphics.addChild(e.rectGraphics),e.graphics.addChild(e.textBgGraphics),e.graphics.addChild(e.textGraphics),e.graphics.addChild(e.rectMaskGraphics),e.rectGraphics.mask=e.rectMaskGraphics,e.tileData.sort){e.tileData.sort((function(t,e){return e.importance-t.importance}));var h=e.tileData.filter((function(t){return"filler"!==t.type})).slice(0,l),f=e.tileData.filter((function(t){return"filler"===t.type})).slice(0,u);e.tileData=h.concat(f),e.tileData.forEach((function(n,l){if("filler"!==n.type){var u=n.fields,h=u[3],f=t.geneId(u,n.type),d=n.strand||u[5];n.strand=n.strand||d;var p=a||M;if("-"===d&&(p=s||I),e.textWidths={},e.textHeights={},!(l>=c)){var v=new m.GLOBALS.PIXI.Text(h,{fontSize:String(i)+"px",fontFamily:o,fill:(0,y.colorToHex)(p)});v.interactive=!0,r&&(v.scale.x=-1),v.anchor.x=.5,v.anchor.y=1,e.texts[f]=v,e.texts[f].strand=d,e.textGraphics.addChild(v)}}})),e.initialized=!0}}function N(t,e,n,r,i,o,a,s,l){var u=s-l/2,c=0;t.forEach((function(t){var r=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(r),r.beginFill(o,.1),r.lineStyle(0,o);var a=[i(t.xStart)-c,u,i(t.xEnd)+c,u,i(t.xEnd)+c,u+l,i(t.xStart)-c,u+l,i(t.xStart)-c,u];r.interactive=!0,r.buttonMode=!0,r.mouseup=function(n){return R(n,e,t)},r.drawPolygon(a),n.allRects.push([a,t.strand,t])}))}function j(t,e,n,r,i,o,a,s,l,u){var c=s-l/2,h=i.split(",").map((function(t){return+t+a})),f=o.split(",").map((function(t){return+t+a})),d=t._xScale(n),p=t._xScale(r),m=p-d,v=s,g=[],y=[d,v-C/2,d+m,v-C/2,d+m,v+C/2,d,v+C/2];e.drawPolygon(y),g.push(y);for(var b=2*l,_=Math.max(t.position[0],d)+b;_<Math.min(t.position[0]+t.dimensions[0],d+m);_+=b)y="+"===u?[_,v-A/2,_+A/2,v,_,v+A/2]:[_,v-A/2,_-A/2,v,_,v+A/2],g.push(y),e.drawPolygon(y);for(var x=0;x<h.length;x++){var T=h[x],w=f[x],S=t._xScale(T),E=Math.max(1,t._xScale(w)-t._xScale(T)),k=d,O=p,P=t.geneRectHeight/2,M=null;"+"===u?(O=p-P,M=[Math.min(S,O),c,Math.min(S+E,O),c,Math.min(S+E,O),c+l,Math.min(S,O),c+l,Math.min(S,O),c]):(k=d+P,M=[Math.max(S,k),c,Math.max(S+E,k),c,Math.max(S+E,k),c+l,Math.max(S,k),c+l,Math.max(S,k),c]),g.push(M),e.drawPolygon(M)}return g}function B(t,e,n,r,i,o,a,s,l){var u=s-l/2;t.forEach((function(t){var r=e._xScale(t.xStart),i=e._xScale(t.xEnd),s=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(s),s.beginFill(o,a),s.interactive=!0,s.buttonMode=!0,s.mouseup=function(n){return R(n,e,t)};var l=e.geneRectHeight/2,c=[];if("+"===t.strand||"+"===t.fields[5]){var h=Math.max(r,i-l);c=[h,u,h+l,u+e.geneRectHeight/2,h,u+e.geneRectHeight]}else{var f=Math.min(i,r+l);c=[f,u,f-l,u+e.geneRectHeight/2,f,u+e.geneRectHeight]}s.drawPolygon(c),n.allRects.push([c,t.strand,t])}))}function F(t,e,n,r,i,o,a,s,l){t.forEach((function(t){var r=t.fields,i=+t.chrOffset,u=r[12],c=r[13],h=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(h),h.beginFill(o,a),h.interactive=!0,h.buttonMode=!0,h.mouseup=function(n){return R(n,e,t)},n.allRects=n.allRects.concat(j(e,h,t.xStart,t.xEnd,u,c,i,s,l,t.strand||t.fields[5]).map((function(e){return[e,t.strand,t]})))}))}function H(t,e,n,r,i,o,a,s,l){B(t,e,n,r,i,o,a,s,l),F(t,e,n,r,i,o,a,s,l)}function z(t,e){var n=y.trackUtils.getTilePosAndDimensions(t.tilesetInfo,e.tileId),r=n.tileX,i=n.tileWidth;e.rectMaskGraphics.clear();var o=Math.floor(Math.random()*Math.pow(16,6));e.rectMaskGraphics.beginFill(o,.3);var a=t._xScale(r),s=0,l=t._xScale(r+i)-t._xScale(r),u=t.dimensions[1];e.rectMaskGraphics.drawRect(a,s,l,u)}var U=function(t){function e(t,n){(0,l.default)(this,e);var r=(0,c.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,n)),i=t.animate;return r.animate=i,r.options=n,r.fontSize=+r.options.fontSize||_,r.geneLabelPos=r.options.geneLabelPosition||T,r.geneRectHeight=+r.options.geneAnnotationHeight||w,r.geneRectHeight-=2,r.geneStrandSpacing=+r.options.geneStrandSpacing||S,r.geneStrandHSpacing=r.geneStrandSpacing/2,r.geneRectHHeight=r.geneRectHeight/2,r}return(0,f.default)(e,t),(0,u.default)(e,[{key:"initTile",value:function(){function t(t){D(this,t,{flipText:this.flipText,fontSize:this.fontSize,fontFamily:x,plusStrandColor:this.options.plusStrandColor,minusStrandColor:this.options.minusStrandColor,maxGeneEntries:O,maxFillerEntries:P,maxTexts:E}),this.renderTile(t)}return t}()},{key:"destroyTile",value:function(){function t(t){t.rectGraphics.destroy(),t.rectMaskGraphics.destroy(),t.textGraphics.destroy(),t.textBgGraphics.destroy(),t.graphics.destroy()}return t}()},{key:"rerender",value:function(){function t(t,n){var r=this,i=(0,a.default)(t);!n&&i===this.prevOptions||((0,h.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"rerender",this).call(this,t,n),this.fontSize=+this.options.fontSize||_,this.geneLabelPos=this.options.geneLabelPosition||T,this.geneRectHeight=+this.options.geneAnnotationHeight||w,this.geneStrandHSpacing=this.geneStrandSpacing/2,this.geneRectHHeight=this.geneRectHeight/2,this.prevOptions=i,this.visibleAndFetchedTiles().forEach((function(t){r.renderTile(t)})))}return t}()},{key:"drawTile",value:function(){function t(){}return t}()},{key:"geneId",value:function(){function t(t,e){return String(e)+"_"+String(t[0])+"_"+String(t[1])+"_"+String(t[2])+"_"+String(t[3])}return t}()},{key:"renderTile",value:function(){function t(t){if(t.initialized){t.allRects=[],t.drawnAtScale=this._xScale.copy(),t.rectGraphics.removeChildren(),t.rectGraphics.clear(),t.textBgGraphics.clear();var e={},n=.3,r=.3;e["+"]=(0,y.colorToHex)(this.options.plusStrandColor||M),e["-"]=(0,y.colorToHex)(this.options.minusStrandColor||I);var a=t.tileData.filter((function(t){return"filler"===t.type&&"+"===t.strand})),s=t.tileData.filter((function(t){return"filler"===t.type&&"-"===t.strand})),l=t.tileData.filter((function(t){return"filler"!==t.type&&("+"===t.strand||"+"===t.fields[5])})),u=t.tileData.filter((function(t){return"filler"!==t.type&&("-"===t.strand||"-"===t.fields[5])}));L(l,a),L(u,s),a=a.filter((function(t){return!t.hide})),s=s.filter((function(t){return!t.hide}));var c=this.dimensions[1]/2,h=c-this.geneRectHeight/2-this.geneStrandSpacing/2,f=c+this.geneRectHeight/2+this.geneStrandSpacing/2,d=[this,t,t.rectGraphics,this._xScale,e["+"],n,h,this.geneRectHeight],p=[this,t,t.rectGraphics,this._xScale,e["-"],n,f,this.geneRectHeight];N.apply(void 0,[a].concat(d)),N.apply(void 0,[s].concat(p)),d[5]=r,p[5]=r,H.apply(void 0,[l].concat(d)),H.apply(void 0,[u].concat(p)),z(this,t),y.trackUtils.stretchRects(this,[function(t){return t.rectGraphics},function(t){return t.rectMaskGraphics}]);var m=!0,v=!1,g=void 0;try{for(var b,_=(0,o.default)((0,i.default)(t.texts));!(m=(b=_.next()).done);m=!0){var T=b.value;T.style={fontSize:String(this.fontSize)+"px",FONT_FAMILY:x,fill:(0,y.colorToHex)("-"===T.strand?this.options.minusStrandColor||I:this.options.plusStrandColor||M)}}}catch(w){v=!0,g=w}finally{try{!m&&_.return&&_.return()}finally{if(v)throw g}}}}return t}()},{key:"calculateZoomLevel",value:function(){function t(){var t=g.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),e=Math.min(t,this.maxZoom);return e=Math.max(e,0)}return t}()},{key:"draw",value:function(){function t(){var t=this;(0,h.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=[];this.geneAreaHeight=this.geneRectHeight;var r=this.fontSize/2;y.trackUtils.stretchRects(this,[function(t){return t.rectGraphics},function(t){return t.rectMaskGraphics}]),(0,i.default)(this.fetchedTiles).filter((function(t){return t.drawnAtScale})).forEach((function(e){e.textBgGraphics.clear(),e.textBgGraphics.beginFill(typeof t.options.labelBackgroundColor<"u"?(0,y.colorToHex)(t.options.labelBackgroundColor):k);var i=t.parentInFetched(e);e.initialized&&e.tileData.forEach((function(o){if(e.texts&&"filler"!==o.type){var a=o.fields,s=a[3],l=t.geneId(a,o.type),u=e.texts[l];if(u){var c=+o.chrOffset,h=(+a[1]+c+(+a[2]+c))/2,f=t.dimensions[1]/2,d=(t.geneAreaHeight-t.fontSize)/2;if("+"===a[5]?f-="inside"===t.geneLabelPos?d+t.geneStrandSpacing-2:t.fontSize/2+t.geneAreaHeight-2:f+="inside"===t.geneLabelPos?t.fontSize+t.geneStrandSpacing/2+d+1:1.5*t.fontSize+t.geneAreaHeight+2,u.position.x=t._xScale(h),u.position.y=f,!e.textWidths[l]){var p=u.getBounds().width,m=u.getBounds().height;e.textHeights[l]=m,e.textWidths[l]=p}if(i)u.visible=!1;else{u.visible=!0;var v=2;t.flipText?t.allBoxes.push([u.position.x-e.textHeights[l]/2-v,f-r-1,u.position.x+e.textHeights[l]/2+v,f+r-1,s]):t.allBoxes.push([u.position.x-e.textWidths[l]/2-v,f-r-1,u.position.x+e.textWidths[l]/2+v,f+r-1,s]),t.allTexts.push({importance:+a[4],text:u,caption:s,strand:a[5]}),n.push(e.textBgGraphics)}}}}))})),this.hideOverlaps(this.allBoxes,this.allTexts),this.renderTextBg(this.allBoxes,this.allTexts,n)}return t}()},{key:"renderTextBg",value:function(){function t(t,e,n){e.forEach((function(e,i){if(e.text.visible&&t[i]&&n[i]){var o=(0,r.default)(t[i],4),a=o[0],s=o[1],l=o[2]-a,u=o[3]-s;n[i].drawRect(a-l/2,s-u/2,l,u)}}))}return t}()},{key:"hideOverlaps",value:function(){function t(t,e){(0,d.default)(t,(function(t,n){e[t].importance>e[n].importance?e[n].text.visible=!1:e[t].text.visible=!1}))}return t}()},{key:"setPosition",value:function(){function t(t){(0,h.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"setPosition",this).call(this,t);var n=(0,r.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}return t}()},{key:"setDimensions",value:function(){function t(t){var n=this;(0,h.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"setDimensions",this).call(this,t),this.halfRectHHeight=this.dimensions[1]/2,this.visibleAndFetchedTiles().forEach((function(t){n.renderTile(t)}))}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.refreshTiles(),this.draw()}return t}()},{key:"getMouseOverHtml",value:function(){function t(t,e){if(!this.tilesetInfo)return"";var n=[t,e],r=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(this.visibleAndFetchedTiles());!(r=(s=l.next()).done);r=!0)for(var u=s.value,c=0;c<u.allRects.length;c++)if("filler"!==u.allRects[c][2].type){for(var h=u.allRects[c][0].slice(0),f=[];h.length;){var d=h.splice(0,2);d[0]=d[0]*u.rectGraphics.scale.x+u.rectGraphics.position.x,d[1]=d[1]*u.rectGraphics.scale.y+u.rectGraphics.position.y,f.push(d)}if(-1===(0,p.default)(f,n)){var m=u.allRects[c][2];return"\n            <div>\n              <b>"+String(m.fields[3])+"</b><br>\n              <b>Position:</b> "+String(m.fields[0])+":"+String(m.fields[1])+"-"+String(m.fields[2])+"<br>\n              <b>Strand:</b> "+String(m.fields[5])+"\n            </div>\n          "}}}catch(v){i=!0,a=v}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return""}return t}()},{key:"exportSVG",value:function(){function t(){var t=this,n=null,i=null;if((0,h.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"exportSVG",this)){var o=(0,h.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"exportSVG",this).call(this),a=(0,r.default)(o,2);i=a[0],n=a[1]}else n=i=document.createElement("g");var l=document.createElement("g");return l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(l),this.visibleAndFetchedTiles().filter((function(t){return t.allRects})).forEach((function(e){var n=document.createElement("g");n.setAttribute("transform","translate("+String(e.rectGraphics.position.x)+",\n          "+String(e.rectGraphics.position.y)+")\n          scale("+String(e.rectGraphics.scale.x)+",\n          "+String(e.rectGraphics.scale.y)+")"),e.allRects.forEach((function(e){for(var r=document.createElement("path"),i=e[0],o="M "+String(i[0])+" "+String(i[1]),a=2;a<i.length;a+=2)o+=" L "+String(i[a])+" "+String(i[a+1]);r.setAttribute("d",o),"+"===e[1]?r.setAttribute("fill",t.options.plusStrandColor):r.setAttribute("fill",t.options.minusStrandColor),r.setAttribute("opacity","0.3"),n.appendChild(r)})),l.appendChild(n)})),this.allTexts.filter((function(t){return t.text.visible})).forEach((function(e){var n=document.createElement("g"),r=document.createElement("text");r.setAttribute("text-anchor","middle"),r.setAttribute("font-family",x),r.setAttribute("font-size",String(t.fontSize)+"px"),r.setAttribute("dy","-.2em"),n.setAttribute("transform","scale("+String(e.text.scale.x)+",1)"),"+"===e.strand?r.setAttribute("fill",t.options.plusStrandColor):r.setAttribute("fill",t.options.minusStrandColor),r.innerHTML=e.text.text,n.appendChild(r),n.setAttribute("transform","translate("+String(e.text.x)+","+String(e.text.y)+")scale("+String(e.text.scale.x)+",1)"),l.appendChild(n)})),[i,i]}return t}()}]),e}(v.default);e.default=U},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(5)),i=u(n(3)),o=u(n(4)),a=u(n(6)),s=u(n(14)),l=u(n(7));function u(t){return t&&t.__esModule?t:{default:t}}var c=(0,n(81).Mixin)((function(t){return function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n)),s=t.animate;return o.highlighted=!1,o.animate=s,o.MOUSEOVER_RADIUS=4,o.pubSub=t.pubSub,o.pubSubs.push(o.pubSub.subscribe("app.mouseMove",o.mouseMoveHandler.bind(o))),o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"setPosition",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setPosition",this).call(this,t),this.pMain.position.x=this.position[0],this.pMain.position.y=this.position[1]}return t}()},{key:"zoomed",value:function(){function t(t,n){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"zoomed",this).call(this,t,n),this.draw()}return t}()},{key:"respondsToPosition",value:function(){function t(){return this.highlighted}return t}()}]),e}(t)}));e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalRuleMixin=void 0;var r=p(n(19)),i=p(n(14)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=n(81),h=p(n(40)),f=p(n(261)),d=n(10);function p(t){return t&&t.__esModule?t:{default:t}}var m=e.VerticalRuleMixin=(0,c.Mixin)((function(t){return function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,s.default)(e,[{key:"drawVerticalRule",value:function(){function t(t){var e=(0,d.colorToHex)(this.options.color||"black");this.highlighted&&(e=(0,d.colorToHex)("red")),t.lineStyle(this.strokeWidth,e,this.strokeOpacity);for(var n=0;n<this.dimensions[1];)t.moveTo(this._xScale(this.xPosition),n),t.lineTo(this._xScale(this.xPosition),n+this.dashLength),n+=this.dashLength+this.dashGap}return t}()},{key:"isMouseOverVerticalLine",value:function(){function t(t){return Math.abs(t.x-this.position[0]-this._xScale(this.xPosition))<this.MOUSEOVER_RADIUS}return t}()}]),e}(t)})),v=function(t){function e(t,n){(0,a.default)(this,e);var r=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n));return r.xPosition=t.xPosition,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(e,t),(0,s.default)(e,[{key:"draw",value:function(){function t(){var t=this.pMain;t.clear(),this.drawVerticalRule(t),this.animate()}return t}()},{key:"exportSVG",value:function(){function t(){var t=null,n=null;if((0,i.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"exportSVG",this)){var a=(0,i.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],t=s[1]}else t=n=document.createElement("g");var l=document.createElement("g");l.setAttribute("class","vertical-rule"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),t.appendChild(l);var u=this.options.color||"black",c=document.createElement("line");return c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",this._xScale(this.xPosition)),c.setAttribute("y1",0),c.setAttribute("x2",this._xScale(this.xPosition)),c.setAttribute("y2",this.dimensions[1]),l.appendChild(c),[n,t]}return t}()},{key:"mouseMoveHandler",value:function(){function t(t){this.highlighted=this.isWithin(t.x,t.y)&&this.isMouseOverVerticalLine(t),this.draw()}return t}()}]),e}((0,c.mix)(h.default).with(f.default,m));e.default=v},function(t,e,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(2)),u=f(n(1)),c=f(n(42)),h=f(n(10));function f(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){(0,i.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.clickHandlerBound=n.clickHandler.bind(n),n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n}return(0,s.default)(e,t),(0,o.default)(e,[{key:"componentDidMount",value:function(){function t(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",document.addEventListener("click",this.clickHandlerBound,!0),document.addEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.addEventListener("resize",this.resizeHandlerBound,!0),this._renderLayer()}return t}()},{key:"componentDidUpdate",value:function(){function t(){this._renderLayer()}return t}()},{key:"componentWillUnmount",value:function(){function t(){document.removeEventListener("click",this.clickHandlerBound,!0),document.removeEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.removeEventListener("resize",this.resizeHandlerBound,!0),c.default.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}return t}()},{key:"_renderLayer",value:function(){function t(){c.default.render(this.props.children,this.popup)}return t}()},{key:"clickHandler",value:function(){function t(t){this.popup.contains(t.target)||this.props.onMenuClosed&&this.props.onMenuClosed(t)}return t}()},{key:"contextMenuHandler",value:function(){function t(t){t.altKey||(t.preventDefault(),this.clickHandler(t))}return t}()},{key:"resizeHandler",value:function(){function t(){this.props.onMenuClosed(null)}return t}()},{key:"render",value:function(){function t(){return u.default.createElement("div",null)}return t}()}]),e}(u.default.Component);d.defaultProps={onMenuClosed:h.default},d.propTypes={children:l.default.node.isRequired,onMenuClosed:l.default.func},e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(38)),i=f(n(5)),o=f(n(3)),a=f(n(4)),s=f(n(6)),l=f(n(7)),u=f(n(2)),c=f(n(1)),h=f(n(666));function f(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){(0,o.default)(this,e);var n=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return n.moveable=!0,n}return(0,l.default)(e,t),(0,a.default)(e,[{key:"render",value:function(){function t(){var t=this;return c.default.createElement("div",{ref:function(){function e(e){t.el=e}return e}(),className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:function(){function e(){t.handleMouseLeave()}return e}(),style:{height:this.props.height,width:this.props.width}},c.default.createElement(h.default,{key:this.props.uid,height:this.props.height,resizeHandles:this.props.editable?this.props.resizeHandles:new r.default,sizeChanged:function(){function e(e){return t.props.handleResizeTrack(t.props.uid,e.width,e.height)}return e}(),style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible))}return t}()}]),e}(f(n(668)).default);d.propTypes={className:u.default.string,uid:u.default.string,item:u.default.object,height:u.default.number,width:u.default.number},e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.svgArrowheadDomainsIcon=e.svgVertical1DTilesIcon=e.svg1DTilesIcon=e.svgGeneAnnotationsIcon=e.svgVertical1DAxisIcon=e.svg1DAxisIcon=e.svg2DHeatmapIcon=e.svg2DTilesIcon=e.svgHorizontalLineIcon=e.svgHorizontal1dHeatmap=e.svgGeoMapIcon=e.all=e.FOLDER_OPEN_O=e.FOLDER_O=e.CHEVRON_DOWN=e.CHEVRON_RIGHT=e.FILE_O=e.SQUARE_O=e.CHECK_SQUARE_O=e.SELECT=e.TRACK_LINE=e.CONTENT_COPY=e.PLUS=e.PLAY=e.MOVE=e.MINUS=e.ENLARGE=e.CROSS=e.COG=void 0,e.SearchIcon=L;var r=a(n(29)),i=a(n(1)),o=n(0);function a(t){return t&&t.__esModule?t:{default:t}}n(267);var s={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},l=e.COG={id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},u=e.CROSS={id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},c=e.ENLARGE={id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},h=e.MINUS={id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},f=e.MOVE={id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},d=e.PLAY={id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},p=e.PLUS={id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},m=e.CONTENT_COPY={id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"};e.TRACK_LINE={id:"trackLine",paths:["M60 20 L50 52 L40 26 L34 46 L24 30 L14 50 L4 12"],viewBox:"0 0 60 60"};var v=e.SELECT={id:"select",viewBox:"0 0 16 16",paths:["M2 14h2v1H1v-3h1v2zm8 1H6v-1h4v1zm5 0h-3v-1h2v-2h1v3zm0-5h-1V6h1v4zM2 10H1V6h1v4zm13-6h-1V2h-2V1h3v3zM4 2H2v2H1V1h3v1zm6 0H6V1h4.03L10 2z"]},g=e.CHECK_SQUARE_O={id:"check_square_o",viewBox:"0 0 1792 1792",paths:["M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"]},y=e.SQUARE_O={id:"square_o",viewBox:"0 0 1792 1792",paths:["M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"]},b=e.FILE_O={id:"file_o",viewBox:"0 0 1792 1792",paths:["M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"]},_=e.CHEVRON_RIGHT={id:"chevron_right",viewBox:"0 0 1792 1792",paths:["M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"]},x=e.CHEVRON_DOWN={id:"chevron_down",viewBox:"0 0 1792 1792",paths:["M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"]},T=e.FOLDER_O={id:"folder_o",viewBox:"0 0 1792 1792",paths:["M1600 1312v-704q0-40-28-68t-68-28h-704q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v960q0 40 28 68t68 28h1216q40 0 68-28t28-68zm128-704v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"]},w=e.FOLDER_OPEN_O={id:"folder_open_o",viewBox:"0 0 1792 1792",paths:["M1845 931q0-35-53-35h-1088q-40 0-85.5 21.5t-71.5 52.5l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zm-1141-163h768v-160q0-40-28-68t-68-28h-576q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v853l256-315q44-53 116-87.5t140-34.5zm1269 163q0 62-46 120l-295 363q-43 53-116 87.5t-140 34.5h-1088q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 24.5t67 70.5q15 32 15 68z"]};e.all=[l,u,c,h,f,d,p,m,v,g,y,b,T,w,_,x];var S=new DOMParser,E='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path d="M4 2.1L.5 3.5v12l5-2 5 2 5-2v-12l-5 2-3.17-1.268M10.5 3.5v12" fill="none" stroke="currentColor"/><path d="M5.5 13.5v-7" fill="none" stroke="currentColor" stroke-width=".9969299999999999"/><path d="M5.494 0c-1.803 0-3.26 1.496-3.26 3.35 0 .427.124.97.264 1.343L5.5 11l3.003-6.306c.142-.375.263-.916.263-1.342C8.766 1.496 7.3 0 5.494 0zM5.5 4.64c-.76 0-1.375-.616-1.375-1.374 0-.76.616-1.376 1.375-1.376.76 0 1.374.616 1.374 1.376 0 .758-.614 1.375-1.374 1.375z" fill="currentColor"/></svg>';e.svgGeoMapIcon=S.parseFromString(E,"text/xml").documentElement;var k='\n<svg width="20px" height="20px" viewBox="0 0 20 20">\n  <rect x="0" y="3" width="4" height="14" fill="#637993"/>\n  <rect x="4" y="3" width="2" height="14" fill="#c7d1de"/>\n  <rect x="6" y="3" width="5" height="14" fill="#3c5068"/>\n  <rect x="11" y="3" width="3" height="14" fill="#92a3ba"/>\n  <rect x="14" y="3" width="2" height="14" fill="#000000"/>\n  <rect x="16" y="3" width="4" height="14" fill="#637993"/>\n</svg>\n';e.svgHorizontal1dHeatmap=S.parseFromString(k,"text/xml").documentElement;var C='\n<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>line</title>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>\n    </g>\n</svg>\n';e.svgHorizontalLineIcon=S.parseFromString(C,"text/xml").documentElement;var A='\n<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-3"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-5"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-7"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>\n    </g>\n</svg>\n';e.svg2DTilesIcon=S.parseFromString(A,"text/xml").documentElement;var O='\n<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-heatmap</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>\n        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>\n        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>\n        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>\n    </g>\n</svg>\n';e.svg2DHeatmapIcon=S.parseFromString(O,"text/xml").documentElement;var P='\n<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>axis-1d</title>\n    <desc>Created with Sketch.</desc>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>\n        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>\n    </g>\n</svg>\n';e.svg1DAxisIcon=S.parseFromString(P,"text/xml").documentElement,e.svgVertical1DAxisIcon=(0,o.select)(S.parseFromString(P,"text/xml").documentElement).style("transform","rotate(90deg)").node();var M='\n<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>gene-annotations</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>\n        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-1"></use>\n        </mask>\n        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>\n        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-3"></use>\n        </mask>\n        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>\n        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">\n            <use xlink:href="#geneAnnotations-path-5"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>\n        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>\n    </g>\n</svg>\n';e.svgGeneAnnotationsIcon=S.parseFromString(M,"text/xml").documentElement;var I='\n<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>1d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>\n    </g>\n</svg>\n';e.svg1DTilesIcon=S.parseFromString(I,"text/xml").documentElement,e.svgVertical1DTilesIcon=(0,o.select)(S.parseFromString(I,"text/xml").documentElement).style("transform","rotate(90deg)").node();var R='\n<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>arrowhead-domains</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        </mask>\n        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>\n        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>\n    </g>\n</svg>\n';function L(t){var e=t.theStyle;return i.default.createElement("svg",{viewBox:"0 0 12 13",xmlns:"http://www.w3.org/2000/svg",className:(0,r.default)(e,s)},i.default.createElement("g",{fill:"none",stroke:"#6c6c6c",strokeWidth:"2"},i.default.createElement("path",{d:"M11.29 11.71l-4-4"}),i.default.createElement("circle",{cx:"5",cy:"5",r:"4"})))}e.svgArrowheadDomainsIcon=S.parseFromString(R,"text/xml").documentElement},function(t,e,n){t.exports={"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},function(t,e,n){var r=n(691),i=n(269),o=n(117),a=n(398),s=n(693);function l(t,e,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return l.call(this,t,e,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof a)return p(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,s,c=u.call(this,e,n);return c&&(i=c.schema,e=c.root,s=c.baseId),i instanceof a?o=i.validate||t.call(this,i.schema,e,void 0,s):void 0!==i&&(o=p(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,s)),o}function u(t,e){var n=r.parse(e),i=y(n),o=g(this._getId(t.schema));if(0===Object.keys(t.schema).length||i!==o){var s=_(i),l=this._refs[s];if("string"==typeof l)return c.call(this,t,l,n);if(l instanceof a)l.validate||this._compile(l),t=l;else{if(!((l=this._schemas[s])instanceof a))return;if(l.validate||this._compile(l),s==_(e))return{schema:l,root:t,baseId:o};t=l}if(!t.schema)return;o=g(this._getId(t.schema))}return f.call(this,n,o,t.schema,t)}function c(t,e,n){var r=u.call(this,t,e);if(r){var i=r.schema,o=r.baseId;t=r.root;var a=this._getId(i);return a&&(o=x(o,a)),f.call(this,n,o,i,t)}}t.exports=l,l.normalizeId=_,l.fullPath=g,l.url=x,l.ids=T,l.inlineRef=p,l.schema=u;var h=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function f(t,e,n,r){if(t.fragment=t.fragment||"","/"==t.fragment.slice(0,1)){for(var i=t.fragment.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(void 0===(n=n[s=o.unescapeFragment(s)]))break;var l;if(!h[s]&&((l=this._getId(n))&&(e=x(e,l)),n.$ref)){var c=x(e,n.$ref),f=u.call(this,r,c);f&&(n=f.schema,r=f.root,e=f.baseId)}}}if(void 0!==n&&n!==r.schema)return{schema:n,root:r,baseId:e}}}var d=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(t,e){return!1!==e&&(void 0===e||!0===e?m(t):e?v(t)<=e:void 0)}function m(t){var e;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(e=t[n])&&!m(e))return!1}else for(var r in t)if("$ref"==r||"object"==typeof(e=t[r])&&!m(e))return!1;return!0}function v(t){var e,n=0;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(e=t[r])&&(n+=v(e)),n==1/0)return 1/0}else for(var i in t){if("$ref"==i)return 1/0;if(d[i])n++;else if("object"==typeof(e=t[i])&&(n+=v(e)+1),n==1/0)return 1/0}return n}function g(t,e){return!1!==e&&(t=_(t)),y(r.parse(t))}function y(t){return r.serialize(t).split("#")[0]+"#"}var b=/#\/?$/;function _(t){return t?t.replace(b,""):""}function x(t,e){return e=_(e),r.resolve(t,e)}function T(t){var e=_(this._getId(t)),n={"":e},a={"":g(e,!1)},l={},u=this;return s(t,{allKeys:!0},(function(t,e,s,c,h,f,d){if(""!==e){var p=u._getId(t),m=n[c],v=a[c]+"/"+h;if(void 0!==d&&(v+="/"+("number"==typeof d?d:o.escapeFragment(d))),"string"==typeof p){p=m=_(m?r.resolve(m,p):p);var g=u._refs[p];if("string"==typeof g&&(g=u._refs[g]),g&&g.schema){if(!i(t,g.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=_(v))if("#"==p[0]){if(l[p]&&!i(t,l[p]))throw new Error('id "'+p+'" resolves to more than one schema');l[p]=t}else u._refs[p]=v}n[e]=m,a[e]=v}})),l}},function(t,e,n){var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var a,s,l,u=r(e),c=r(n);if(u&&c){if((s=e.length)!=n.length)return!1;for(a=s;0!==a--;)if(!t(e[a],n[a]))return!1;return!0}if(u!=c)return!1;var h=e instanceof Date,f=n instanceof Date;if(h!=f)return!1;if(h&&f)return e.getTime()==n.getTime();var d=e instanceof RegExp,p=n instanceof RegExp;if(d!=p)return!1;if(d&&p)return e.toString()==n.toString();var m=i(e);if((s=m.length)!==i(n).length)return!1;for(a=s;0!==a--;)if(!o.call(n,m[a]))return!1;for(a=s;0!==a--;)if(!t(e[l=m[a]],n[l]))return!1;return!0}return e!==e&&n!==n}},function(t,e,n){var r=n(268);function i(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}function o(t,e,n){this.message=n||o.message(t,e),this.missingRef=r.url(t,e),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function a(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}t.exports={Validation:a(i),MissingRef:a(o)},o.message=function(t,e){return"can't resolve reference "+e+" from id "+t}},function(t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://higlass.io/#viewconf",title:"HiGlass viewconf",type:"object",additionalProperties:!1,required:[],properties:{editable:{type:"boolean",default:!0},viewEditable:{type:"boolean",default:!0},tracksEditable:{type:"boolean",default:!0},zoomFixed:{type:"boolean"},compactLayout:{type:"boolean"},exportViewUrl:{type:"string"},trackSourceServers:{type:"array",items:{type:"string"},minLength:1},zoomLocks:{$ref:"#/definitions/locks/zoomLocks"},locationLocks:{$ref:"#/definitions/locks/locationLocks"},valueScaleLocks:{$ref:"#/definitions/locks/valueScaleLocks"},views:{type:"array",items:{$ref:"#/definitions/view"},minLength:1},chromInfoPath:{type:"string"}},definitions:{data:{type:"object",properties:{url:{type:"string"},server:{type:"string"},filetype:{type:"string"},type:{type:"string"},tilesetInfo:{type:"object"},children:{type:"array"},tiles:{type:"object"}}},locks:{slug:{type:"string"},locksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{$ref:"#/definitions/locks/slug"}}},axisSpecificLocks:{additionalProperties:!1,properties:{axis:{enum:["x","y"],type:"string"},lock:{type:"string"}},required:["lock","axis"],type:"object"},locationLocksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{anyOf:[{type:"string"},{additionalProperties:!1,properties:{x:{$ref:"#/definitions/locks/axisSpecificLocks"},y:{$ref:"#/definitions/locks/axisSpecificLocks"}},type:"object"}]}}},zoomLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},locationLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locationLocksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},valueScaleLocks:{type:"object",additionalProperties:!1,required:["locksByViewUid","locksDict"],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"},ignoreOffScreenValues:{type:"boolean"}},patternProperties:{"^(?!(uid|ignoreOffScreenValues)).":{type:"object",additionalProperties:!1,required:["view","track"],properties:{view:{type:"string"},track:{$ref:"#/definitions/locks/slug"}}}}}}}}}},view:{type:"object",additionalProperties:!1,required:["tracks","layout"],properties:{autocompleteSource:{type:"string"},chromInfoPath:{type:"string"},genomePositionSearchBox:{$ref:"#/definitions/viewProperties/genomePositionSearchBox"},genomePositionSearchBoxVisible:{type:"boolean"},initialXDomain:{$ref:"#/definitions/viewProperties/domain"},initialYDomain:{$ref:"#/definitions/viewProperties/domain"},layout:{$ref:"#/definitions/viewProperties/layout"},overlays:{type:"array",items:{$ref:"#/definitions/viewProperties/overlay"}},selectionView:{type:"boolean"},tracks:{$ref:"#/definitions/viewProperties/tracks_object"},uid:{type:"string"},zoomFixed:{type:"boolean"},zoomLimits:{type:"array",minLength:2,maxLength:2,default:[1,null]}}},viewProperties:{genomePositionSearchBox:{type:"object",title:"The Genome Position Search Box Schema",required:["chromInfoServer","chromInfoId"],properties:{autocompleteServer:{type:"string",title:"The Autocomplete Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},autocompleteId:{type:"string",title:"The Autocomplete ID",default:"",examples:["OHJakQICQD6gTD7skx4EWA"],pattern:"^(.*)$"},chromInfoServer:{type:"string",title:"The Chrominfo Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},chromInfoId:{type:"string",title:"The Chromosome Info ID",default:"",examples:["hg19"],pattern:"^(.*)$"},visible:{type:"boolean",title:"The Visible Schema",default:!1}}},overlay:{type:"object",additionalProperties:!1,properties:{chromInfoPath:{type:"string"},includes:{type:"array"},options:{type:"object",properties:{extent:{type:"array"},minWidth:{type:"number"},fill:{type:"string"},fillOpacity:{type:"number"},stroke:{type:"string"},strokeOpacity:{type:"number"},strokeWidth:{type:"number"},strokePos:{type:["string","array"]},outline:{type:"string"},outlineOpacity:{type:"number"},outlineWidth:{type:"number"},outlinePos:{type:["string","array"]}}},type:{type:"string"},uid:{type:"string"}}},layout:{type:"object",additionalProperties:!1,required:["w","h","x","y"],properties:{x:{type:"integer",title:"The X Position",default:0},y:{type:"integer",title:"The Y Position",default:0},w:{type:"integer",title:"Width",default:12},h:{type:"integer",title:"Height",default:12},moved:{type:"boolean"},static:{type:"boolean"}}},tracks_object:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/viewProperties/tracks_array"},right:{$ref:"#/definitions/viewProperties/tracks_array"},top:{$ref:"#/definitions/viewProperties/tracks_array"},bottom:{$ref:"#/definitions/viewProperties/tracks_array"},center:{$ref:"#/definitions/viewProperties/tracks_array"},whole:{$ref:"#/definitions/viewProperties/tracks_array"},gallery:{$ref:"#/definitions/viewProperties/tracks_array"}}},tracks_array:{type:"array",items:{oneOf:[{$ref:"#/definitions/tracks/enum_track"},{$ref:"#/definitions/tracks/combined_track"},{$ref:"#/definitions/tracks/heatmap_track"},{$ref:"#/definitions/tracks/independent_viewport_projection_track"}]}},domain:{type:"array",items:{type:"number"},maxItems:2,minItems:2}},tracks:{heatmap_track:{type:"object",additionalProperties:!1,required:[],properties:{uid:{type:"string"},type:{const:"heatmap"},data:{$ref:"#/definitions/data"},height:{type:"number"},options:{type:"object"},position:{type:"string"},server:{type:"string"},tilesetUid:{type:"string"},width:{type:"number"},transforms:{type:"array"}}},combined_track:{type:"object",additionalProperties:!1,required:["contents"],properties:{contents:{$ref:"#/definitions/viewProperties/tracks_array"},height:{type:"number"},options:{},position:{type:"string"},type:{const:"combined"},uid:{type:"string"},width:{type:"number"}}},enum_track:{type:"object",additionalProperties:!1,required:["type"],properties:{server:{type:"string"},tilesetUid:{type:"string"},data:{$ref:"#/definitions/data"},uid:{type:"string"},type:{enum:["multivec","1d-heatmap","line","point","bar","divergent-bar","stacked-interval","gene-annotations","linear-2d-rectangle-domains","chromosome-labels","linear-heatmap","1d-value-interval","2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},chromInfoPath:{type:"string"},fromViewUid:{type:"string"},height:{type:"number"},options:{type:"object"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}},independent_viewport_projection_track:{type:"object",additionalProperties:!1,properties:{uid:{type:"string"},type:{enum:["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},fromViewUid:{type:"null"},projectionXDomain:{$ref:"#/definitions/viewProperties/domain"},projectionYDomain:{$ref:"#/definitions/viewProperties/domain"},options:{type:"object"},transforms:{type:"array"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}}}}}},function(t,e,n){var r=n(407),i=n(411);function o(t,e){return t&&r(t,i(e))}t.exports=o},function(t,e,n){var r=n(739),i=n(275),o=n(276),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){var n=9007199254740991;function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){(function(t){var r=n(406),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s}).call(this,n(173)(t))},function(t,e,n){var r=n(97),i=n(45),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function u(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==l}t.exports=u},function(t,e,n){var r=n(410)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(99)(n(41),"Map");t.exports=r},function(t,e,n){var r=n(758),i=n(765),o=n(767),a=n(768),s=n(769);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){var r=n(283),i=n(421),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},function(t,e,n){var r=n(193),i=n(145);function o(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}t.exports=o},function(t,e,n){var r=n(31),i=n(194),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}t.exports=s},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}t.exports=n},function(t,e,n){var r=n(426);function i(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}t.exports=i},function(t,e,n){var r=n(418);function i(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}t.exports=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Checkboard=void 0;var r=s(n(1)),i=s(n(13)),o=a(n(824));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}var l=e.Checkboard=function(t){var e=t.white,n=t.grey,a=t.size,s=t.renderers,l=t.borderRadius,u=t.boxShadow,c=(0,i.default)({default:{grid:{borderRadius:l,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+o.get(e,n,a,s.canvas)+") center left"}}});return r.default.createElement("div",{style:c.grid})};l.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},e.default=l},function(t,e,n){var r=n(291),i=n(294);function o(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var l=n[r];l&&t(e,l,r,a)}return e}))}t.exports=o},function(t,e,n){var r=n(143),i=n(433),o=n(293);function a(t,e){return o(i(t,e,r),t+"")}t.exports=a},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){var r=n(833),i=n(434)(r);t.exports=i},function(t,e,n){var r=n(120),i=n(98),o=n(142),a=n(45);function s(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}t.exports=s},function(t,e,n){var r=Array.prototype.slice,i=n(448),o=Object.keys,a=o?function(t){return o(t)}:n(946),s=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?s(r.call(t)):s(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},function(t,e,n){(t.exports=n(452)).version=n(1040).version},function(t){t.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},function(t){t.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(t,e,n){var r=n(123),i=n(953),o={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};function a(t,e){if(t){var n,r="";for(var o in t)r&&(r+=" "),r+=o,(null!==(n=t[o])&&""!==n||e.xmlMode)&&(r+='="'+(e.decodeEntities?i.encodeXML(n):n)+'"');return r}}var s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},l=t.exports=function(t,e){!Array.isArray(t)&&!t.cheerio&&(t=[t]),e=e||{};for(var n="",i=0;i<t.length;i++){var o=t[i];"root"===o.type?n+=l(o.children,e):r.isTag(o)?n+=u(o,e):o.type===r.Directive?n+=c(o):o.type===r.Comment?n+=d(o):o.type===r.CDATA?n+=f(o):n+=h(o,e)}return n};function u(t,e){"svg"===t.name&&(e={decodeEntities:e.decodeEntities,xmlMode:!0});var n="<"+t.name,r=a(t.attribs,e);return r&&(n+=" "+r),!e.xmlMode||t.children&&0!==t.children.length?(n+=">",t.children&&(n+=l(t.children,e)),(!s[t.name]||e.xmlMode)&&(n+="</"+t.name+">")):n+="/>",n}function c(t){return"<"+t.data+">"}function h(t,e){var n=t.data||"";return e.decodeEntities&&!(t.parent&&t.parent.name in o)&&(n=i.encodeXML(n)),n}function f(t){return"<![CDATA["+t.children[0].data+"]]>"}function d(t){return"\x3c!--"+t.data+"--\x3e"}},function(t,e,n){var r=n(200).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function a(t){var e=o(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}function s(t){var e;switch(this.encoding=a(t),this.encoding){case"utf16le":this.text=p,this.end=m,e=4;break;case"utf8":this.fillLast=h,e=4;break;case"base64":this.text=v,this.end=g,e=3;break;default:return this.write=y,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function l(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function u(t,e,n){var r=e.length-1;if(r<n)return 0;var i=l(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=l(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=l(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}function c(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"\ufffd"}}function h(t){var e=this.lastTotal-this.lastNeed,n=c(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function f(t,e){var n=u(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function d(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e}function p(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function m(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function v(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function y(t){return t.toString(this.encoding)}function b(t){return t&&t.length?this.write(t):""}e.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},s.prototype.end=d,s.prototype.text=f,s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){var r=n(64).DOCUMENT_MODE;e.createDocument=function(){return{nodeName:"#document",mode:r.NO_QUIRKS,childNodes:[]}},e.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},e.createElement=function(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},e.createCommentNode=function(t){return{nodeName:"#comment",data:t,parentNode:null}};var i=function(t){return{nodeName:"#text",value:t,parentNode:null}},o=e.appendChild=function(t,e){t.childNodes.push(e),e.parentNode=t},a=e.insertBefore=function(t,e,n){var r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t};e.setTemplateContent=function(t,e){t.content=e},e.getTemplateContent=function(t){return t.content},e.setDocumentType=function(t,e,n,r){for(var i=null,a=0;a<t.childNodes.length;a++)if("#documentType"===t.childNodes[a].nodeName){i=t.childNodes[a];break}i?(i.name=e,i.publicId=n,i.systemId=r):o(t,{nodeName:"#documentType",name:e,publicId:n,systemId:r})},e.setDocumentMode=function(t,e){t.mode=e},e.getDocumentMode=function(t){return t.mode},e.detachNode=function(t){if(t.parentNode){var e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},e.insertText=function(t,e){if(t.childNodes.length){var n=t.childNodes[t.childNodes.length-1];if("#text"===n.nodeName)return void(n.value+=e)}o(t,i(e))},e.insertTextBefore=function(t,e,n){var r=t.childNodes[t.childNodes.indexOf(n)-1];r&&"#text"===r.nodeName?r.value+=e:a(t,i(e),n)},e.adoptAttributes=function(t,e){for(var n=[],r=0;r<t.attrs.length;r++)n.push(t.attrs[r].name);for(var i=0;i<e.length;i++)-1===n.indexOf(e[i].name)&&t.attrs.push(e[i])},e.getFirstChild=function(t){return t.childNodes[0]},e.getChildNodes=function(t){return t.childNodes},e.getParentNode=function(t){return t.parentNode},e.getAttrList=function(t){return t.attrs},e.getTagName=function(t){return t.tagName},e.getNamespaceURI=function(t){return t.namespaceURI},e.getTextNodeContent=function(t){return t.value},e.getCommentNodeContent=function(t){return t.data},e.getDocumentTypeNodeName=function(t){return t.name},e.getDocumentTypeNodePublicId=function(t){return t.publicId},e.getDocumentTypeNodeSystemId=function(t){return t.systemId},e.isTextNode=function(t){return"#text"===t.nodeName},e.isCommentNode=function(t){return"#comment"===t.nodeName},e.isDocumentTypeNode=function(t){return"#documentType"===t.nodeName},e.isElementNode=function(t){return!!t.tagName}},function(t,e,n){t.exports=function(t,e){return[t,e=e||Object.create(null)].reduce((function(t,e){return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}),Object.create(null))}},function(t,e,n){var r=n(64).DOCUMENT_MODE,i="html",o="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",a=["+//silmaril//dtd html pro v0r11 19970101//en","-//advasoft ltd//dtd html 3.0 aswedit + extensions//en","-//as//dtd html 3.0 aswedit + extensions//en","-//ietf//dtd html 2.0 level 1//en","-//ietf//dtd html 2.0 level 2//en","-//ietf//dtd html 2.0 strict level 1//en","-//ietf//dtd html 2.0 strict level 2//en","-//ietf//dtd html 2.0 strict//en","-//ietf//dtd html 2.0//en","-//ietf//dtd html 2.1e//en","-//ietf//dtd html 3.0//en","-//ietf//dtd html 3.0//en//","-//ietf//dtd html 3.2 final//en","-//ietf//dtd html 3.2//en","-//ietf//dtd html 3//en","-//ietf//dtd html level 0//en","-//ietf//dtd html level 0//en//2.0","-//ietf//dtd html level 1//en","-//ietf//dtd html level 1//en//2.0","-//ietf//dtd html level 2//en","-//ietf//dtd html level 2//en//2.0","-//ietf//dtd html level 3//en","-//ietf//dtd html level 3//en//3.0","-//ietf//dtd html strict level 0//en","-//ietf//dtd html strict level 0//en//2.0","-//ietf//dtd html strict level 1//en","-//ietf//dtd html strict level 1//en//2.0","-//ietf//dtd html strict level 2//en","-//ietf//dtd html strict level 2//en//2.0","-//ietf//dtd html strict level 3//en","-//ietf//dtd html strict level 3//en//3.0","-//ietf//dtd html strict//en","-//ietf//dtd html strict//en//2.0","-//ietf//dtd html strict//en//3.0","-//ietf//dtd html//en","-//ietf//dtd html//en//2.0","-//ietf//dtd html//en//3.0","-//metrius//dtd metrius presentational//en","-//microsoft//dtd internet explorer 2.0 html strict//en","-//microsoft//dtd internet explorer 2.0 html//en","-//microsoft//dtd internet explorer 2.0 tables//en","-//microsoft//dtd internet explorer 3.0 html strict//en","-//microsoft//dtd internet explorer 3.0 html//en","-//microsoft//dtd internet explorer 3.0 tables//en","-//netscape comm. corp.//dtd html//en","-//netscape comm. corp.//dtd strict html//en","-//o'reilly and associates//dtd html 2.0//en","-//o'reilly and associates//dtd html extended 1.0//en","-//spyglass//dtd html 2.0 extended//en","-//sq//dtd html 2.0 hotmetal + extensions//en","-//sun microsystems corp.//dtd hotjava html//en","-//sun microsystems corp.//dtd hotjava strict html//en","-//w3c//dtd html 3 1995-03-24//en","-//w3c//dtd html 3.2 draft//en","-//w3c//dtd html 3.2 final//en","-//w3c//dtd html 3.2//en","-//w3c//dtd html 3.2s draft//en","-//w3c//dtd html 4.0 frameset//en","-//w3c//dtd html 4.0 transitional//en","-//w3c//dtd html experimental 19960712//en","-//w3c//dtd html experimental 970421//en","-//w3c//dtd w3 html//en","-//w3o//dtd w3 html 3.0//en","-//w3o//dtd w3 html 3.0//en//","-//webtechs//dtd mozilla html 2.0//en","-//webtechs//dtd mozilla html//en"],s=a.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),l=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],u=["-//W3C//DTD XHTML 1.0 Frameset//","-//W3C//DTD XHTML 1.0 Transitional//"],c=u.concat(["-//W3C//DTD HTML 4.01 Frameset//","-//W3C//DTD HTML 4.01 Transitional//"]);function h(t){var e=-1!==t.indexOf('"')?"'":'"';return e+t+e}function f(t,e){for(var n=0;n<e.length;n++)if(0===t.indexOf(e[n]))return!0;return!1}e.getDocumentMode=function(t,e,n){if(t!==i||n&&n.toLowerCase()===o)return r.QUIRKS;if(null!==e){if(e=e.toLowerCase(),l.indexOf(e)>-1)return r.QUIRKS;var h=null===n?s:a;if(f(e,h))return r.QUIRKS;if(f(e,h=null===n?u:c))return r.LIMITED_QUIRKS}return r.NO_QUIRKS},e.serializeContent=function(t,e,n){var r="!DOCTYPE ";return t&&(r+=t),null!==e?r+=" PUBLIC "+h(e):null!==n&&(r+=" SYSTEM"),null!==n&&(r+=" "+h(n)),r}},function(t,e,n){(e=t.exports=n(466)).Stream=e,e.Readable=e,e.Writable=n(305),e.Duplex=n(102),e.Transform=n(469),e.PassThrough=n(980)},function(t,e,n){(function(e,r,i){var o=n(203);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){j(e,t)}}t.exports=_;var s,l=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;_.WritableState=b;var u=n(151);u.inherits=n(58);var c={deprecate:n(979)},h=n(467),f=n(200).Buffer,d=i.Uint8Array||function(){};function p(t){return f.from(t)}function m(t){return f.isBuffer(t)||t instanceof d}var v,g=n(468);function y(){}function b(t,e){s=s||n(102),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,o=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){A(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function _(t){if(s=s||n(102),!v.call(_,this)&&!(this instanceof s))return new _(t);this._writableState=new b(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function x(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}function T(t,e,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"!=typeof n&&void 0!==n&&!e.objectMode&&(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(r,a),i=!1),i}function w(t,e,n){return!t.objectMode&&!1!==t.decodeStrings&&"string"==typeof e&&(e=f.from(e,n)),e}function S(t,e,n,r,i,o){if(!n){var a=w(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else E(t,e,!1,s,r,i,o);return l}function E(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function k(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(D,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),D(t,e))}function C(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function A(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(C(n),e)k(t,n,r,e,i);else{var o=I(n);!o&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&M(t,n),r?l(O,t,n,o,i):O(t,n,o,i)}}function O(t,e,n,r){n||P(t,e),e.pendingcb--,r(),D(t,e)}function P(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function M(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,E(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,h=n.callback;if(E(t,e,!1,e.objectMode?1:u.length,u,c,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function I(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function R(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),D(t,e)}))}function L(t,e){!e.prefinished&&!e.finalCalled&&("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(R,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function D(t,e){var n=I(e);return n&&(L(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function N(t,e,n){e.ending=!0,D(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function j(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}u.inherits(_,h),b.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(b.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!v.call(this,t)||this===_&&t&&t._writableState instanceof b}})):v=function(t){return t instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(t,e,n){var r=this._writableState,i=!1,o=!r.objectMode&&m(t);return o&&!f.isBuffer(t)&&(t=p(t)),"function"==typeof e&&(n=e,e=null),o?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=y),r.ended?x(this,n):(o||T(this,r,t,n))&&(r.pendingcb++,i=S(this,r,o,t,e,n)),i},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&M(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),!r.ending&&!r.finished&&N(this,r,n)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=g.destroy,_.prototype._undestroy=g.undestroy,_.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(150),n(977).setImmediate,n(27))},function(t,e,n){var r=n(291),i=n(990),o=n(309),a=n(206),s=1,l=32,u=r((function(t,e,n){var r=s;if(n.length){var c=a(n,o(u));r|=l}return i(t,r,e,n,c)}));u.placeholder={},t.exports=u},function(t,e,n){var r=n(197),i=n(308),o=4294967295;function a(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}a.prototype=r(i.prototype),a.prototype.constructor=a,t.exports=a},function(t,e){function n(){}t.exports=n},function(t,e){function n(t){return t.placeholder}t.exports=n},function(t,e,n){var r=n(299),i=n(204).default,o=n(204).flatten,a=n(483),s=n(198),l={merge:n(46),defaults:n(482)};function u(t,e,n){if(e)"string"==typeof e&&(e=a(e,t._root,n));else{if(!t._root||!t._root.children)return"";e=t._root.children}return r(e,n)}function c(t){if(Array.isArray(t))return!0;if("object"!=typeof t||!t.hasOwnProperty("length")||"number"!=typeof t.length||t.length<0)return!1;for(var e=0;e<t.length;){if(!(e in t))return!1;e++}return!0}e.load=function(t,r,a){var u=n(452);r=l.defaults(o(r||{}),i),void 0===a&&(a=!0);var c=s(t,r,a),h=function(t,e,n,i){return this instanceof h?(i=l.defaults(i||{},r),u.call(this,t,e,n||c,i)):new h(t,e,n,i)};return h.prototype=Object.create(u.prototype),h.prototype.constructor=h,h.fn=h.prototype,h.prototype._originalRoot=c,l.merge(h,e),h._root=c,h._options=r,h},e.html=function(t,e){return"[object Object]"===Object.prototype.toString.call(t)&&!e&&!("length"in t)&&!("type"in t)&&(e=t,t=void 0),u(this,t,e=l.defaults(o(e||{}),this._options,i))},e.xml=function(t){return u(this,t,l.defaults({xml:!0},this._options))},e.text=function(t){t||(t=this.root());for(var n,r="",i=t.length,o=0;o<i;o++)"text"===(n=t[o]).type?r+=n.data:n.children&&"comment"!==n.type&&"script"!==n.tagName&&"style"!==n.tagName&&(r+=e.text(n.children));return r},e.parseHTML=function(t,e,n){var r;return t&&"string"==typeof t?("boolean"==typeof e&&(n=e),r=this.load(t,i,!1),n||r("script").remove(),r.root()[0].children.slice()):null},e.root=function(){return this(this._root)},e.contains=function(t,e){if(e===t)return!1;for(;e&&e!==e.parent;)if((e=e.parent)===t)return!0;return!1},e.merge=function(t,e){if(c(t)&&c(e)){for(var n=t.length+e.length,r=0;r<e.length;)t[r+t.length]=e[r],r++;return t.length=n,t}}},function(t,e,n){var r=n(101),i=r.isTag,o=r.getText,a=r.getParent,s=r.getChildren,l=r.getSiblings,u=r.hasAttrib,c=r.getName,h=r.getAttributeValue,f=n(1014),d=n(484).rules.equals,p=n(153),m=p.trueFunc,v=p.falseFunc;function g(t){for(var e=0;t&&e<t.length;e++)if(i(t[e]))return t[e]}function y(t,e){var n={name:t,value:e};return function(t){return d(t,n)}}function b(t){return function(e){return!!a(e)&&t(e)}}var _={contains:function(t,e){return function(n){return t(n)&&o(n).indexOf(e)>=0}},icontains:function(t,e){var n=e.toLowerCase();return function(e){return t(e)&&o(e).toLowerCase().indexOf(n)>=0}},"nth-child":function(t,e){var n=f(e);return n===v?n:n===m?b(t):function(e){for(var r=l(e),o=0,a=0;o<r.length;o++)if(i(r[o])){if(r[o]===e)break;a++}return n(a)&&t(e)}},"nth-last-child":function(t,e){var n=f(e);return n===v?n:n===m?b(t):function(e){for(var r=l(e),o=0,a=r.length-1;a>=0;a--)if(i(r[a])){if(r[a]===e)break;o++}return n(o)&&t(e)}},"nth-of-type":function(t,e){var n=f(e);return n===v?n:n===m?b(t):function(e){for(var r=l(e),o=0,a=0;a<r.length;a++)if(i(r[a])){if(r[a]===e)break;c(r[a])===c(e)&&o++}return n(o)&&t(e)}},"nth-last-of-type":function(t,e){var n=f(e);return n===v?n:n===m?b(t):function(e){for(var r=l(e),o=0,a=r.length-1;a>=0;a--)if(i(r[a])){if(r[a]===e)break;c(r[a])===c(e)&&o++}return n(o)&&t(e)}},root:function(t){return function(e){return!a(e)&&t(e)}},scope:function(t,e,n,r){return r&&0!==r.length?1===r.length?function(e){return r[0]===e&&t(e)}:function(e){return r.indexOf(e)>=0&&t(e)}:_.root(t)},checkbox:y("type","checkbox"),file:y("type","file"),password:y("type","password"),radio:y("type","radio"),reset:y("type","reset"),image:y("type","image"),submit:y("type","submit")},x={empty:function(t){return!s(t).some((function(t){return i(t)||"text"===t.type}))},"first-child":function(t){return g(l(t))===t},"last-child":function(t){for(var e=l(t),n=e.length-1;n>=0;n--){if(e[n]===t)return!0;if(i(e[n]))break}return!1},"first-of-type":function(t){for(var e=l(t),n=0;n<e.length;n++)if(i(e[n])){if(e[n]===t)return!0;if(c(e[n])===c(t))break}return!1},"last-of-type":function(t){for(var e=l(t),n=e.length-1;n>=0;n--)if(i(e[n])){if(e[n]===t)return!0;if(c(e[n])===c(t))break}return!1},"only-of-type":function(t){for(var e=l(t),n=0,r=e.length;n<r;n++)if(i(e[n])){if(e[n]===t)continue;if(c(e[n])===c(t))return!1}return!0},"only-child":function(t){for(var e=l(t),n=0;n<e.length;n++)if(i(e[n])&&e[n]!==t)return!1;return!0},link:function(t){return u(t,"href")},visited:v,selected:function(t){if(u(t,"selected"))return!0;if("option"!==c(t))return!1;var e=a(t);if(!e||"select"!==c(e)||u(e,"multiple"))return!1;for(var n=s(e),r=!1,o=0;o<n.length;o++)if(i(n[o]))if(n[o]===t)r=!0;else{if(!r)return!1;if(u(n[o],"selected"))return!1}return r},disabled:function(t){return u(t,"disabled")},enabled:function(t){return!u(t,"disabled")},checked:function(t){return u(t,"checked")||x.selected(t)},required:function(t){return u(t,"required")},optional:function(t){return!u(t,"required")},parent:function(t){return!x.empty(t)},header:function(t){var e=c(t);return"h1"===e||"h2"===e||"h3"===e||"h4"===e||"h5"===e||"h6"===e},button:function(t){var e=c(t);return"button"===e||"input"===e&&"button"===h(t,"type")},input:function(t){var e=c(t);return"input"===e||"textarea"===e||"select"===e||"button"===e},text:function(t){var e;return"input"===c(t)&&(!(e=h(t,"type"))||"text"===e.toLowerCase())}};function T(t,e,n){if(null===n){if(t.length>1&&"scope"!==e)throw new SyntaxError("pseudo-selector :"+e+" requires an argument")}else if(1===t.length)throw new SyntaxError("pseudo-selector :"+e+" doesn't have any arguments")}var w=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;t.exports={compile:function(t,e,n,r){var i=e.name,o=e.data;if(n&&n.strict&&!w.test(i))throw SyntaxError(":"+i+" isn't part of CSS3");if("function"==typeof _[i])return T(_[i],i,o),_[i](t,o,n,r);if("function"==typeof x[i]){var a=x[i];return T(a,i,o),t===m?a:function(e){return a(e,o)&&t(e)}}throw new SyntaxError("unmatched pseudo-class :"+i)},filters:_,pseudos:x}},function(t,e,n){var r=n(53).call(Function.call,Object.prototype.hasOwnProperty),i=Object.assign;t.exports=function(t,e){if(i)return i(t,e);for(var n in e)r(e,n)&&(t[n]=e[n]);return t}},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.ITERATOR_SYMBOL=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.getAdapter=b,e.makeOptions=x,e.isCustomComponentElement=T,e.propsOfNode=w,e.typeOfNode=S,e.nodeHasType=E,e.nodeMatches=M,e.nodeEqual=I,e.containsChildrenSubArray=R,e.childrenToSimplifiedArray=N,e.isReactElementAlike=B,e.withSetStateAllowed=F,e.AND=H,e.displayNameOfNode=z,e.sym=U,e.privateSet=V,e.cloneElement=G,e.spyMethod=X,e.shallowEqual=Y,e.isEmptyValue=W,e.renderedDive=q;var o=v(n(122)),a=v(n(172)),s=v(n(499)),l=v(n(500)),u=v(n(314)),c=v(n(59)),h=v(n(154)),f=v(n(1054)),d=n(315),p=n(156),m=v(n(103));function v(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn("getAdapter from Utils is deprecated; please use ./getAdapter instead"),(0,m.default)(t)}function _(t,e){if(t&&e&&t!==e)throw new TypeError("If both the `attachTo` and `hydrateIn` options are provided, they must be === (for backwards compatibility)")}function x(t){var e=(0,d.get)(),n=e.attachTo,r=e.hydrateIn,i=y(e,["attachTo","hydrateIn"]);_(n,r);var a=t.attachTo,s=t.hydrateIn;_(a,s);var l=s||r||n||a||void 0,u=s||r||void 0,c=(0,o.default)({},l&&{attachTo:l},u&&{hydrateIn:u});return(0,o.default)({},i,t,c)}function T(t,e){return e.isCustomComponentElement?!!e.isCustomComponentElement(t):!!t&&e.isValidElement(t)&&"function"==typeof t.type}function w(t){return(0,l.default)(t&&t.props||{}).filter((function(t){return typeof i(t,2)[1]<"u"})).reduce((function(t,e){var n=i(e,2),r=n[0],a=n[1];return(0,o.default)(t,g({},r,a))}),{})}function S(t){return t?t.type:null}function E(t,e){if(!e||!t)return!1;var n=(0,m.default)();return n.displayNameOfNode?n.displayNameOfNode(t)===e:!!t.type&&("string"==typeof t.type?t.type===e:("function"==typeof t.type?(0,u.default)(t.type)===e:t.type.name===e)||t.type.displayName===e)}function k(t,e,n,r){var i=r?M:I;if(t===e)return!0;if(!Array.isArray(t)&&!Array.isArray(e))return i(t,e,n);var o=(0,h.default)(t,1/0),a=(0,h.default)(e,1/0);if(o.length!==a.length)return!1;if(0===o.length&&0===a.length)return!0;for(var s=0;s<o.length;s+=1)if(!i(o[s],a[s],n))return!1;return!0}function C(t,e,n){return k(t,e,n,!0)}function A(t,e,n){return k(t,e,n,!1)}function O(t,e){var n=i(e,2),r=n[0],a=n[1],s=null==a?{}:g({},r,a);return(0,o.default)({},t,s)}function P(t,e,n,i){if(t===e)return!0;if(!t||!e||t.type!==e.type)return!1;var o=w(t),s=w(e);i&&(o=(0,l.default)(o).reduce(O,{}),s=(0,l.default)(s).reduce(O,{}));for(var u=Object.keys(o),c=0;c<u.length;c+=1){var h=u[c];if("children"!==h){if(!(h in s))return!1;if(s[h]!==o[h]){if(r(s[h])!==r(o[h])||"object"!==r(o[h]))return!1;if(!(0,a.default)(o[h],s[h]))return!1}}}var f="children"in o,d="children"in s;if((f||d)&&!(i?C:A)(N(o.children,i),N(s.children,i),n))return!1;if(!j(t)){var p=Object.keys(s);return n(u.length-f,p.length-d)}return!1}function M(t,e){return P(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default,!0)}function I(t,e){return P(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default,!1)}function R(t,e,n){var r=(0,p.childrenOfNode)(e),i=function(e,i){return L(t,r.slice(i,i+n.length),n)};return r.some(i)}function L(t,e,n){return e.length===n.length&&e.every((function(e,r){return t(e,n[r])}))}function D(t){var e=[],n=function(t){null===t||!1===t||typeof t>"u"||e.push(t)};return Array.isArray(t)?t.forEach(n):n(t),e}function N(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=D(t),r=[],i=0;i<n.length;i+=1){var o=n[i],a=r.pop();typeof a>"u"?r.push(o):j(o)&&j(a)?r.push(a+o):(r.push(a),r.push(o))}return e?r.map((function(t){return"string"==typeof t?(0,f.default)(t):t})):r}function j(t){return"string"==typeof t||"number"==typeof t}function B(t,e){return e.isValidElement(t)||j(t)||Array.isArray(t)}function F(e){var n=!1;typeof t.document>"u"&&(n=!0,t.document={}),e(),n&&(t.document=void 0,delete t.document)}function H(t){var e=t.slice().reverse();return function(t){return e.every((function(e){return e(t)}))}}function z(t){if(!t)return null;var e=t.type;return e?e.displayName||("function"==typeof e?(0,u.default)(e):e.name||e):null}function U(t){return"function"==typeof Symbol?Symbol.for("enzyme."+String(t)):t}function V(t,e,n){Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0})}function G(t,e,n){return t.createElement(e.type,(0,o.default)({},e.props,n))}function X(t,e){var n=void 0,r=t[e],i=(0,c.default)(t,e),o=void 0;return i&&(o=Object.getOwnPropertyDescriptor(t,e)),Object.defineProperty(t,e,{configurable:!0,enumerable:!o||!!o.enumerable,value:function(){function t(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=r.apply(this,e);return n=o,o}return t}()}),{restore:function(){function n(){i?o?Object.defineProperty(t,e,o):t[e]=r:delete t[e]}return n}(),getLastReturnValue:function(){function t(){return n}return t}()}}function Y(t,e){if((0,s.default)(t,e))return!0;if(!t||!e||"object"!==(typeof t>"u"?"undefined":r(t))||"object"!==(typeof e>"u"?"undefined":r(e)))return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;n.sort(),i.sort();for(var o=0;o<n.length;o+=1)if(!(0,c.default)(e,n[o])||!(0,s.default)(t[n[o]],e[n[o]]))return!1;return!0}function W(t){return null===t||!1===t}function q(t){return!!W(t)||[].concat(t).every((function(t){if(t){var e=t.rendered;return W(e)||q(e)}return W(t)}))}e.ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator}).call(this,n(27))},function(t,e,n){var r=n(52),i=n(53),o=n(504),a=n(506),s=n(1053),l=i.call(Function.call,o);r(l,{getPolyfill:a,implementation:o,shim:s}),t.exports=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.get=s,e.merge=l,e.reset=u;var r=o(n(122)),i=o(n(509));function o(t){return t&&t.__esModule?t:{default:t}}var a={};function s(){return(0,r.default)({},a)}function l(t){t.adapter&&(0,i.default)(t.adapter),(0,r.default)(a,t)}function u(){a={},l(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},function(t,e,n){n.r(e);var r=Array.prototype.slice,i=function(t){return t},o=1,a=2,s=3,l=4,u=1e-6;function c(t){return"translate("+(t+.5)+",0)"}function h(t){return"translate(0,"+(t+.5)+")"}function f(t){return function(e){return+t(e)}}function d(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function p(){return!this.__axis}function m(t,e){var n=[],m=null,v=null,g=6,y=6,b=3,_=t===o||t===l?-1:1,x=t===l||t===a?"x":"y",T=t===o||t===s?c:h;function w(r){var c=m??(e.ticks?e.ticks.apply(e,n):e.domain()),h=v??(e.tickFormat?e.tickFormat.apply(e,n):i),w=Math.max(g,0)+b,S=e.range(),E=+S[0]+.5,k=+S[S.length-1]+.5,C=(e.bandwidth?d:f)(e.copy()),A=r.selection?r.selection():r,O=A.selectAll(".domain").data([null]),P=A.selectAll(".tick").data(c,e).order(),M=P.exit(),I=P.enter().append("g").attr("class","tick"),R=P.select("line"),L=P.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(I),R=R.merge(I.append("line").attr("stroke","currentColor").attr(x+"2",_*g)),L=L.merge(I.append("text").attr("fill","currentColor").attr(x,_*w).attr("dy",t===o?"0em":t===s?"0.71em":"0.32em")),r!==A&&(O=O.transition(r),P=P.transition(r),R=R.transition(r),L=L.transition(r),M=M.transition(r).attr("opacity",u).attr("transform",(function(t){return isFinite(t=C(t))?T(t):this.getAttribute("transform")})),I.attr("opacity",u).attr("transform",(function(t){var e=this.parentNode.__axis;return T(e&&isFinite(e=e(t))?e:C(t))}))),M.remove(),O.attr("d",t===l||t==a?y?"M"+_*y+","+E+"H0.5V"+k+"H"+_*y:"M0.5,"+E+"V"+k:y?"M"+E+","+_*y+"V0.5H"+k+"V"+_*y:"M"+E+",0.5H"+k),P.attr("opacity",1).attr("transform",(function(t){return T(C(t))})),R.attr(x+"2",_*g),L.attr(x,_*w).text(h),A.filter(p).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===a?"start":t===l?"end":"middle"),A.each((function(){this.__axis=C}))}return w.scale=function(t){return arguments.length?(e=t,w):e},w.ticks=function(){return n=r.call(arguments),w},w.tickArguments=function(t){return arguments.length?(n=null==t?[]:r.call(t),w):n.slice()},w.tickValues=function(t){return arguments.length?(m=null==t?null:r.call(t),w):m&&m.slice()},w.tickFormat=function(t){return arguments.length?(v=t,w):v},w.tickSize=function(t){return arguments.length?(g=y=+t,w):g},w.tickSizeInner=function(t){return arguments.length?(g=+t,w):g},w.tickSizeOuter=function(t){return arguments.length?(y=+t,w):y},w.tickPadding=function(t){return arguments.length?(b=+t,w):b},w}function v(t){return m(o,t)}function g(t){return m(a,t)}function y(t){return m(s,t)}function b(t){return m(l,t)}n.d(e,"axisTop",(function(){return v})),n.d(e,"axisRight",(function(){return g})),n.d(e,"axisBottom",(function(){return y})),n.d(e,"axisLeft",(function(){return b}))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.viewer=e.version=e.getTrackObjectFromHGC=e.mountHGComponent=e.waitForTransitionsFinished=e.waitForTilesLoaded=e.waitForJsonComplete=e.schema=e.tracks=e.trackViewer=e.HiGlassTrackComponent=e.HiGlassComponent=e.ChromosomeInfo=void 0;var r=n(73);Object.defineProperty(e,"ChromosomeInfo",{enumerable:!0,get:function(){function t(){return p(r).default}return t}()});var i=n(232);Object.defineProperty(e,"HiGlassComponent",{enumerable:!0,get:function(){function t(){return p(i).default}return t}()});var o=n(1079);Object.defineProperty(e,"HiGlassTrackComponent",{enumerable:!0,get:function(){function t(){return p(o).default}return t}()}),Object.defineProperty(e,"trackViewer",{enumerable:!0,get:function(){function t(){return o.trackViewer}return t}()});var a=n(271);Object.defineProperty(e,"schema",{enumerable:!0,get:function(){function t(){return p(a).default}return t}()});var s=n(10);Object.defineProperty(e,"waitForJsonComplete",{enumerable:!0,get:function(){function t(){return s.waitForJsonComplete}return t}()}),Object.defineProperty(e,"waitForTilesLoaded",{enumerable:!0,get:function(){function t(){return s.waitForTilesLoaded}return t}()}),Object.defineProperty(e,"waitForTransitionsFinished",{enumerable:!0,get:function(){function t(){return s.waitForTransitionsFinished}return t}()}),Object.defineProperty(e,"mountHGComponent",{enumerable:!0,get:function(){function t(){return s.mountHGComponent}return t}()}),Object.defineProperty(e,"getTrackObjectFromHGC",{enumerable:!0,get:function(){function t(){return s.getTrackObjectFromHGC}return t}()});var l=p(n(1)),u=p(n(42)),c=p(i),h=p(n(80)),f=p(n(79)),d=p(n(260));function p(t){return t&&t.__esModule?t:{default:t}}e.tracks={SVGTrack:h.default,TiledPixiTrack:f.default,HorizontalGeneAnnotationsTrack:d.default},e.version="1.11.11";var m=function(t,e,n){var r=l.default.createRef();return u.default.render(l.default.createElement(c.default,{ref:r,options:n||{},viewConfig:e}),t),r.current};e.viewer=function(t,e,n){return m(t,e,n).api}},function(t,e,n){var r=n(39),i=n(92),o=n(21)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r,i,o,a=n(49),s=n(522),l=n(163),u=n(108),c=n(23),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,v=0,g={},y="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){b.call(t.data)};(!f||!d)&&(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},d=function(t){delete g[t]},"process"==n(74)(h)?r=function(t){h.nextTick(a(b,t,1))}:m&&m.now?r=function(t){m.now(a(b,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):r=y in u("script")?function(t){l.appendChild(u("script"))[y]=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:f,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,n){var r=n(39),i=n(33),o=n(219);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(23),i=n(12),o=n(32),a=n(36),s=n(21)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=new t.constructor(t.type,t);return e.sourceUid=t.sourceUid,e.forwarded=t.forwarded,e};e.default=r},function(t,e,n){function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var i={PIXI:r(n(325))};e.default=i},function(t,e){t.exports=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=function(t,e,n){var i=(0,r.absToChr)(t,n),o=(0,r.absToChr)(e,n);return[i[0],Math.round(i[1]),o[0],Math.round(o[1])]};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.THEME_DEFAULT=e.THEME_DARK=e.THEME_LIGHT=void 0;var r=i(n(225));function i(t){return t&&t.__esModule?t:{default:t}}var o=e.THEME_LIGHT=(0,r.default)("Light theme");e.THEME_DARK=(0,r.default)("Dark theme"),e.THEME_DEFAULT=o},function(t,e,n){var r=n(74);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(158),i=n(107).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(60),i=n(48),o=n(93).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),l=s.length,u=0,c=[];l>u;)o.call(a,n=s[u++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){t.exports={default:n(562),__esModule:!0}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}n(571);var o=function(){return r.default.createElement("div",{className:"Cross-module_cross-3WYME"})};e.default=o},function(t,e,n){var r=n(32).f,i=n(110),o=n(220),a=n(49),s=n(218),l=n(129),u=n(109),c=n(160),h=n(322),f=n(36),d=n(226).fastKey,p=n(238),m=f?"_s":"size",v=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var c=t((function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,null!=r&&l(r,n,t[u],t)}));return o(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=p(this,e),r=v(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(p(this,e),t)}}),f&&r(c.prototype,"size",{get:function(){return p(this,e)[m]}}),c},def:function(t,e,n){var r,i,o=v(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:v,setStrong:function(t,e,n){u(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?c(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,c(1))}),n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){var r=n(23),i=n(16),o=n(226),a=n(50),s=n(43),l=n(220),u=n(129),c=n(218),h=n(33),f=n(77),d=n(32).f,p=n(580)(0),m=n(36);t.exports=function(t,e,n,v,g,y){var b=r[t],_=b,x=g?"set":"add",T=_&&_.prototype,w={};return m&&"function"==typeof _&&(y||T.forEach&&!a((function(){(new _).entries().next()})))?(_=e((function(e,n){c(e,_,t,"_c"),e._c=new b,null!=n&&u(n,g,e[x],e)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var e="add"==t||"set"==t;t in T&&(!y||"clear"!=t)&&s(_.prototype,t,(function(n,r){if(c(this,_,t),!e&&y&&!h(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i}))})),y||d(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(e,t,g,x),l(_.prototype,n),o.NEED=!0),f(_,t),w[t]=_,i(i.G+i.W+i.F,w),y||v.setStrong(_,t,g),_}},function(t,e,n){var r=n(111),i=n(584);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(16);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){var r=n(16),i=n(92),o=n(49),a=n(129);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,l=arguments[1];return i(this),(e=void 0!==l)&&i(l),null==t?new this:(n=[],e?(r=0,s=o(l,arguments[2],2),a(t,!1,(function(t){n.push(s(t,r++))}))):a(t,!1,n.push,n),new this(n))}})}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=c(n(1)),o=c(n(2)),a=c(n(172)),s=c(n(340)),l=n(133),u=c(n(593));function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(n,r){h(this,e);var i=f(this,t.call(this,n,r));return m.call(i),(0,l.autoBindHandlers)(i,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),i}return d(e,t),e.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},e.prototype.componentWillReceiveProps=function(t){var e=void 0;if((0,a.default)(t.layout,this.props.layout)&&t.compactType===this.props.compactType?(0,l.childrenEqual)(this.props.children,t.children)||(e=this.state.layout):e=t.layout,e){var n=(0,l.synchronizeLayoutWithChildren)(e,t.children,t.cols,this.compactType(t)),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},e.prototype.containerHeight=function(){if(this.props.autoSize){var t=(0,l.bottom)(this.state.layout),e=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+2*e+"px"}},e.prototype.compactType=function(t){return t||(t=this.props),!1===t.verticalCompact?null:t.compactType},e.prototype.onDragStart=function(t,e,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,l.getLayoutItem)(a,t);if(s)return this.setState({oldDragItem:(0,l.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onDragStart(a,s,s,null,i,o)},e.prototype.onDrag=function(t,e,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props.cols,c=(0,l.getLayoutItem)(s,t);if(c){var h={w:c.w,h:c.h,x:c.x,y:c.y,placeholder:!0,i:t},f=!0;s=(0,l.moveElement)(s,c,e,n,f,this.props.preventCollision,this.compactType(),u),this.props.onDrag(s,a,c,h,i,o),this.setState({layout:(0,l.compact)(s,this.compactType(),u),activeDrag:h})}},e.prototype.onDragStop=function(t,e,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props,c=u.cols,h=u.preventCollision,f=(0,l.getLayoutItem)(s,t);if(f){var d=!0;s=(0,l.moveElement)(s,f,e,n,d,h,this.compactType(),c),this.props.onDragStop(s,a,f,null,i,o);var p=(0,l.compact)(s,this.compactType(),c),m=this.state.oldLayout;this.setState({activeDrag:null,layout:p,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,m)}},e.prototype.onLayoutMaybeChanged=function(t,e){e||(e=this.state.layout),(0,a.default)(e,t)||this.props.onLayoutChange(t)},e.prototype.onResizeStart=function(t,e,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,l.getLayoutItem)(a,t);s&&(this.setState({oldResizeItem:(0,l.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onResizeStart(a,s,s,null,i,o))},e.prototype.onResize=function(t,e,n,i){var o=i.e,a=i.node,s=this.state,u=s.layout,c=s.oldResizeItem,h=this.props,f=h.cols,d=h.preventCollision,p=(0,l.getLayoutItem)(u,t);if(p){var m=void 0;if(d){var v=(0,l.getAllCollisions)(u,r({},p,{w:e,h:n})).filter((function(t){return t.i!==p.i}));if(m=v.length>0){var g=1/0,y=1/0;v.forEach((function(t){t.x>p.x&&(g=Math.min(g,t.x)),t.y>p.y&&(y=Math.min(y,t.y))})),Number.isFinite(g)&&(p.w=g-p.x),Number.isFinite(y)&&(p.h=y-p.y)}}m||(p.w=e,p.h=n);var b={w:p.w,h:p.h,x:p.x,y:p.y,static:!0,i:t};this.props.onResize(u,c,p,b,o,a),this.setState({layout:(0,l.compact)(u,this.compactType(),f),activeDrag:b})}},e.prototype.onResizeStop=function(t,e,n,r){var i=r.e,o=r.node,a=this.state,s=a.layout,u=a.oldResizeItem,c=this.props.cols,h=(0,l.getLayoutItem)(s,t);this.props.onResizeStop(s,u,h,null,i,o);var f=(0,l.compact)(s,this.compactType(),c),d=this.state.oldLayout;this.setState({activeDrag:null,layout:f,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(f,d)},e.prototype.placeholder=function(){var t=this.state.activeDrag;if(!t)return null;var e=this.props,n=e.width,r=e.cols,o=e.margin,a=e.containerPadding,s=e.rowHeight,l=e.maxRows,c=e.useCSSTransforms;return i.default.createElement(u.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:a||o,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,useCSSTransforms:c},i.default.createElement("div",null))},e.prototype.processGridItem=function(t){if(t&&t.key){var e=(0,l.getLayoutItem)(this.state.layout,String(t.key));if(!e)return null;var n=this.props,r=n.width,o=n.cols,a=n.margin,s=n.containerPadding,c=n.rowHeight,h=n.maxRows,f=n.isDraggable,d=n.isResizable,p=n.useCSSTransforms,m=n.draggableCancel,v=n.draggableHandle,g=this.state.mounted,y=!(e.static||!f||!e.isDraggable&&null!=e.isDraggable),b=!(e.static||!d||!e.isResizable&&null!=e.isResizable);return i.default.createElement(u.default,{containerWidth:r,cols:o,margin:a,containerPadding:s||a,maxRows:h,rowHeight:c,cancel:m,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:y,isResizable:b,useCSSTransforms:p&&g,usePercentages:!g,w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minH:e.minH,minW:e.minW,maxH:e.maxH,maxW:e.maxW,static:e.static},t)}},e.prototype.render=function(){var t=this,e=this.props,n=e.className,o=e.style,a=(0,s.default)("react-grid-layout",n),l=r({height:this.containerHeight()},o);return i.default.createElement("div",{className:a,style:l},i.default.Children.map(this.props.children,(function(e){return t.processGridItem(e)})),this.placeholder())},e}(i.default.Component);p.displayName="ReactGridLayout",p.propTypes={className:o.default.string,style:o.default.object,width:o.default.number,autoSize:o.default.bool,cols:o.default.number,draggableCancel:o.default.string,draggableHandle:o.default.string,verticalCompact:function(t){t.verticalCompact},compactType:o.default.oneOf(["vertical","horizontal"]),layout:function(t){var e=t.layout;void 0!==e&&(0,l.validateLayout)(e,"layout")},margin:o.default.arrayOf(o.default.number),containerPadding:o.default.arrayOf(o.default.number),rowHeight:o.default.number,maxRows:o.default.number,isDraggable:o.default.bool,isResizable:o.default.bool,preventCollision:o.default.bool,useCSSTransforms:o.default.bool,onLayoutChange:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onDragStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,onResizeStop:o.default.func,children:function(t,e){var n=t[e],r={};i.default.Children.forEach(n,(function(t){if(r[t.key])throw new Error('Duplicate child key "'+t.key+'" found! This will cause problems in ReactGridLayout.');r[t.key]=!0}))}},p.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:l.noop,onDragStart:l.noop,onDrag:l.noop,onDragStop:l.noop,onResizeStart:l.noop,onResize:l.noop,onResizeStop:l.noop};var m=function(){this.state={activeDrag:null,layout:(0,l.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};e.default=p},function(t,e,n){var r;!function(){var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&t.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0!==(r=function(){return i}.apply(e,[]))&&(t.exports=r)}()},function(t,e,n){var r;r=function(t,e){function n(t,e){return t(e={exports:{}},e.exports),e.exports}function r(t){return function(){return t}}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t};var o=i,a=function(t){};function s(t,e,n,r,i,o,s,l){if(a(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,l],h=0;(u=new Error(e.replace(/%s/g,(function(){return c[h++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}a=function(t){if(void 0===t)throw new Error("invariant requires an error message argument")};var l=s,u=o,c=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+t.replace(/%s/g,(function(){return n[i++]}));typeof console<"u"&&console.error(o);try{throw new Error(o)}catch{}};u=function(t,e){if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==e.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];c.apply(void 0,[e].concat(r))}};var h=u,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function m(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function v(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch{return!1}}var g=v()?Object.assign:function(t,e){for(var n,r,i=m(t),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))d.call(n,a)&&(i[a]=n[a]);if(f){r=f(n);for(var s=0;s<r.length;s++)p.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},y="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",b=l,_=h,x=y,T={};function w(t,e,n,r,i){for(var o in t)if(t.hasOwnProperty(o)){var a;try{b("function"==typeof t[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,o,typeof t[o]),a=t[o](e,o,r,n,null,x)}catch(l){a=l}if(_(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in T)){T[a.message]=!0;var s=i?i():"";_(!1,"Failed %s type: %s%s",n,a.message,s??"")}}}var S=w,E=function(t,e){var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";function i(t){var e=t&&(n&&t[n]||t[r]);if("function"==typeof e)return e}var a="<<anonymous>>",s={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:p(),arrayOf:m,element:v(),instanceOf:b,node:w(),objectOf:x,oneOf:_,oneOfType:T,shape:E,exact:k};function u(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function c(t){this.message=t,this.stack=""}function f(t){var n={},r=0;function i(i,o,s,u,f,d,p){if(u=u||a,d=d||s,p!==y)if(e)l(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(typeof console<"u"){var m=u+":"+s;!n[m]&&r<3&&(h(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,u),n[m]=!0,r++)}return null==o[s]?i?null===o[s]?new c("The "+f+" `"+d+"` is marked as required in `"+u+"`, but its value is `null`."):new c("The "+f+" `"+d+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:t(o,s,u,f,d)}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}function d(t){function e(e,n,r,i,o,a){var s=e[n];return O(s)!==t?new c("Invalid "+i+" `"+o+"` of type `"+P(s)+"` supplied to `"+r+"`, expected `"+t+"`."):null}return f(e)}function p(){return f(o.thatReturnsNull)}function m(t){function e(e,n,r,i,o){if("function"!=typeof t)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a))return new c("Invalid "+i+" `"+o+"` of type `"+O(a)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<a.length;s++){var l=t(a,s,r,i,o+"["+s+"]",y);if(l instanceof Error)return l}return null}return f(e)}function v(){function e(e,n,r,i,o){var a=e[n];return t(a)?null:new c("Invalid "+i+" `"+o+"` of type `"+O(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return f(e)}function b(t){function e(e,n,r,i,o){if(!(e[n]instanceof t)){var s=t.name||a;return new c("Invalid "+i+" `"+o+"` of type `"+I(e[n])+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}return null}return f(e)}function _(t){if(!Array.isArray(t))return h(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull;function e(e,n,r,i,o){for(var a=e[n],s=0;s<t.length;s++)if(u(a,t[s]))return null;return new c("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(t)+".")}return f(e)}function x(t){function e(e,n,r,i,o){if("function"!=typeof t)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=e[n],s=O(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var u=t(a,l,r,i,o+"."+l,y);if(u instanceof Error)return u}return null}return f(e)}function T(t){if(!Array.isArray(t))return h(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var e=0;e<t.length;e++){var n=t[e];if("function"!=typeof n)return h(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",M(n),e),o.thatReturnsNull}function r(e,n,r,i,o){for(var a=0;a<t.length;a++)if(null==(0,t[a])(e,n,r,i,o,y))return null;return new c("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}return f(r)}function w(){function t(t,e,n,r,i){return C(t[e])?null:new c("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return f(t)}function E(t){function e(e,n,r,i,o){var a=e[n],s=O(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var l in t){var u=t[l];if(u){var h=u(a,l,r,i,o+"."+l,y);if(h)return h}}return null}return f(e)}function k(t){function e(e,n,r,i,o){var a=e[n],s=O(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");var l=g({},e[n],t);for(var u in l){var h=t[u];if(!h)return new c("Invalid "+i+" `"+o+"` key `"+u+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var f=h(a,u,r,i,o+"."+u,y);if(f)return f}return null}return f(e)}function C(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(C);if(null===e||t(e))return!0;var n=i(e);if(!n)return!1;var r,o=n.call(e);if(n!==e.entries){for(;!(r=o.next()).done;)if(!C(r.value))return!1}else for(;!(r=o.next()).done;){var a=r.value;if(a&&!C(a[1]))return!1}return!0;default:return!1}}function A(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol}function O(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":A(e,t)?"symbol":e}function P(t){if(typeof t>"u"||null===t)return""+t;var e=O(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function M(t){var e=P(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}function I(t){return t.constructor&&t.constructor.name?t.constructor.name:a}return c.prototype=Error.prototype,s.checkPropTypes=S,s.PropTypes=s,s},k=n((function(t){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,n=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},r=!0;t.exports=E(n,r)})),C=n((function(t){!function(){var e={}.hasOwnProperty;function n(){for(var t=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)t.push(i);else if(Array.isArray(i))t.push(n.apply(null,i));else if("object"===o)for(var a in i)e.call(i,a)&&i[a]&&t.push(a)}}return t.join(" ")}t.exports?t.exports=n:window.classNames=n}()}));function A(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function O(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function P(t){return"number"==typeof t&&!isNaN(t)}function M(t){return parseInt(t,10)}function I(t,e,n){if(t[e])return new Error("Invalid prop "+e+" passed to "+n+" - do not set this, set it on the child.")}var R=["Moz","Webkit","O","ms"];function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if(typeof window>"u"||typeof window.document>"u")return"";var e=window.document.documentElement.style;if(t in e)return"";for(var n=0;n<R.length;n++)if(D(t,R[n])in e)return R[n];return""}function D(t,e){return e?""+e+N(t):t}function N(t){for(var e="",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):"-"===t[r]?n=!0:e+=t[r];return e}var j=L(),B=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},F=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),H=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},V=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},G=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),X="";function Y(t,e){return X||(X=A(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(e){return O(t[e])}))),!!O(t[X])&&t[X](e)}function W(t,e,n){var r=t;do{if(Y(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function q(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function K(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}function $(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=M(n.borderTopWidth),e+=M(n.borderBottomWidth)}function Z(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=M(n.borderLeftWidth),e+=M(n.borderRightWidth)}function Q(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=M(n.paddingTop),e-=M(n.paddingBottom)}function J(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=M(n.paddingLeft),e-=M(n.paddingRight)}function tt(t,e){var n=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect();return{x:t.clientX+e.scrollLeft-n.left,y:t.clientY+e.scrollTop-n.top}}function et(t){var e=t.x,n=t.y;return H({},D("transform",j),"translate("+e+"px,"+n+"px)")}function nt(t){return"translate("+t.x+","+t.y+")"}function rt(t,e){return t.targetTouches&&A(t.targetTouches,(function(t){return e===t.identifier}))||t.changedTouches&&A(t.changedTouches,(function(t){return e===t.identifier}))}function it(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0}function ot(t){if(t){var e=t.getElementById("react-draggable-style-el");e||((e=t.createElement("style")).type="text/css",e.id="react-draggable-style-el",e.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",e.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",t.getElementsByTagName("head")[0].appendChild(e)),t.body&&lt(t.body,"react-draggable-transparent-selection")}}function at(t){try{t&&t.body&&ut(t.body,"react-draggable-transparent-selection"),t.selection?t.selection.empty():window.getSelection().removeAllRanges()}catch{}}function st(){return z({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function lt(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)"+e+"(?!\\S)"))||(t.className+=" "+e)}function ut(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)"+e+"(?!\\S)","g"),"")}function ct(t,e,n){if(!t.props.bounds)return[e,n];var r=t.props.bounds;r="string"==typeof r?r:gt(r);var i=yt(t);if("string"==typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if(!((s="parent"===r?i.parentNode:o.querySelector(r))instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=a.getComputedStyle(i),u=a.getComputedStyle(s);r={left:-i.offsetLeft+M(u.paddingLeft)+M(l.marginLeft),top:-i.offsetTop+M(u.paddingTop)+M(l.marginTop),right:J(s)-Z(i)-i.offsetLeft+M(u.paddingRight)-M(l.marginRight),bottom:Q(s)-$(i)-i.offsetTop+M(u.paddingBottom)-M(l.marginBottom)}}return P(r.right)&&(e=Math.min(e,r.right)),P(r.bottom)&&(n=Math.min(n,r.bottom)),P(r.left)&&(e=Math.max(e,r.left)),P(r.top)&&(n=Math.max(n,r.top)),[e,n]}function ht(t,e,n){return[Math.round(e/t[0])*t[0],Math.round(n/t[1])*t[1]]}function ft(t){return"both"===t.props.axis||"x"===t.props.axis}function dt(t){return"both"===t.props.axis||"y"===t.props.axis}function pt(t,e,n){var r="number"==typeof e?rt(t,e):null;if("number"==typeof e&&!r)return null;var i=yt(n);return tt(r||t,n.props.offsetParent||i.offsetParent||i.ownerDocument.body)}function mt(t,e,n){var r=t.state,i=!P(r.lastX),o=yt(t);return i?{node:o,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:o,deltaX:e-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:e,y:n}}function vt(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function gt(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function yt(e){var n=t.findDOMNode(e);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var bt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},_t=bt.mouse,xt=function(n){function r(){var e,n,i;B(this,r);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=V(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(a))),i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(e){if(i.props.onMouseDown(e),!i.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var n=t.findDOMNode(i);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(i.props.disabled||!(e.target instanceof r.defaultView.Node)||i.props.handle&&!W(e.target,i.props.handle,n)||i.props.cancel&&W(e.target,i.props.cancel,n))){var o=it(e);i.setState({touchIdentifier:o});var a=pt(e,o,i);if(null!=a){var s=a.x,l=a.y,u=mt(i,s,l);i.props.onStart,!1!==i.props.onStart(e,u)&&(i.props.enableUserSelectHack&&ot(r),i.setState({dragging:!0,lastX:s,lastY:l}),q(r,_t.move,i.handleDrag),q(r,_t.stop,i.handleDragStop))}}},i.handleDrag=function(t){"touchmove"===t.type&&t.preventDefault();var e=pt(t,i.state.touchIdentifier,i);if(null!=e){var n=e.x,r=e.y;if(Array.isArray(i.props.grid)){var o=n-i.state.lastX,a=r-i.state.lastY,s=ht(i.props.grid,o,a),l=G(s,2);if(o=l[0],a=l[1],!o&&!a)return;n=i.state.lastX+o,r=i.state.lastY+a}var u=mt(i,n,r);if(!1===i.props.onDrag(t,u)){try{i.handleDragStop(new MouseEvent("mouseup"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(c)}return}i.setState({lastX:n,lastY:r})}},i.handleDragStop=function(e){if(i.state.dragging){var n=pt(e,i.state.touchIdentifier,i);if(null!=n){var r=n.x,o=n.y,a=mt(i,r,o),s=t.findDOMNode(i);s&&i.props.enableUserSelectHack&&at(s.ownerDocument),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(e,a),s&&(K(s.ownerDocument,_t.move,i.handleDrag),K(s.ownerDocument,_t.stop,i.handleDragStop))}}},i.onMouseDown=function(t){return _t=bt.mouse,i.handleDragStart(t)},i.onMouseUp=function(t){return _t=bt.mouse,i.handleDragStop(t)},i.onTouchStart=function(t){return _t=bt.touch,i.handleDragStart(t)},i.onTouchEnd=function(t){return _t=bt.touch,i.handleDragStop(t)},V(i,n)}return U(r,n),F(r,[{key:"componentWillUnmount",value:function(){var e=t.findDOMNode(this);if(e){var n=e.ownerDocument;K(n,bt.mouse.move,this.handleDrag),K(n,bt.touch.move,this.handleDrag),K(n,bt.mouse.stop,this.handleDragStop),K(n,bt.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&at(n)}}},{key:"render",value:function(){return e.cloneElement(e.Children.only(this.props.children),{style:st(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(e.Component);xt.displayName="DraggableCore",xt.propTypes={allowAnyClick:k.bool,disabled:k.bool,enableUserSelectHack:k.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:k.arrayOf(k.number),scale:k.number,handle:k.string,cancel:k.string,onStart:k.func,onDrag:k.func,onStop:k.func,onMouseDown:k.func,className:I,style:I,transform:I},xt.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var Tt=function(n){function r(t){B(this,r);var e=V(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return e.onDragStart=function(t,n){if(!1===e.props.onStart(t,vt(e,n)))return!1;e.setState({dragging:!0,dragged:!0})},e.onDrag=function(t,n){if(!e.state.dragging)return!1;var r=vt(e,n),i={x:r.x,y:r.y};if(e.props.bounds){var o=i.x,a=i.y;i.x+=e.state.slackX,i.y+=e.state.slackY;var s=ct(e,i.x,i.y),l=G(s,2),u=l[0],c=l[1];i.x=u,i.y=c,i.slackX=e.state.slackX+(o-i.x),i.slackY=e.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-e.state.x,r.deltaY=i.y-e.state.y}if(!1===e.props.onDrag(t,r))return!1;e.setState(i)},e.onDragStop=function(t,n){if(!e.state.dragging)return!1;if(!1===e.props.onStop(t,vt(e,n)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(e.props.position){var i=e.props.position,o=i.x,a=i.y;r.x=o,r.y=a}e.setState(r)},e.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},e}return U(r,n),F(r,[{key:"componentWillMount",value:function(){this.props.position&&!this.props.onDrag&&!this.props.onStop&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&t.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(t){t.position&&(!this.props.position||t.position.x!==this.props.position.x||t.position.y!==this.props.position.y)&&this.setState({x:t.position.x,y:t.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var t,n={},r=null,i=!this.props.position||this.state.dragging,o=this.props.position||this.props.defaultPosition,a={x:ft(this)&&i?this.state.x:o.x,y:dt(this)&&i?this.state.y:o.y};this.state.isElementSVG?r=nt(a):n=et(a);var s=this.props,l=s.defaultClassName,u=s.defaultClassNameDragging,c=s.defaultClassNameDragged,h=e.Children.only(this.props.children),f=C(h.props.className||"",l,(H(t={},u,this.state.dragging),H(t,c,this.state.dragged),t));return e.createElement(xt,z({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(h,{className:f,style:z({},h.props.style,n),transform:r}))}}]),r}(e.Component);return Tt.displayName="Draggable",Tt.propTypes=z({},xt.propTypes,{axis:k.oneOf(["both","x","y","none"]),bounds:k.oneOfType([k.shape({left:k.number,right:k.number,top:k.number,bottom:k.number}),k.string,k.oneOf([!1])]),defaultClassName:k.string,defaultClassNameDragging:k.string,defaultClassNameDragged:k.string,defaultPosition:k.shape({x:k.number,y:k.number}),position:k.shape({x:k.number,y:k.number}),className:I,style:I,transform:I}),Tt.defaultProps=z({},xt.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),Tt.default=Tt,Tt.DraggableCore=xt,Tt},t.exports=r(n(42),n(1))},function(t,e,n){e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=l(n(1)),o=l(n(2)),a=n(341),s=l(n(595));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){var n,r;c(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,t.call.apply(t,[this].concat(o))),r.state={resizing:!1,width:r.props.width,height:r.props.height,slackW:0,slackH:0},h(r,n)}return f(e,t),e.prototype.componentWillReceiveProps=function(t){!this.state.resizing&&(t.width!==this.props.width||t.height!==this.props.height)&&this.setState({width:t.width,height:t.height})},e.prototype.lockAspectRatio=function(t,e,n){return[t=(e=t/n)*n,e]},e.prototype.runConstraints=function(t,e){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],i=n[1];if(this.props.lockAspectRatio){var o=this.state.width/this.state.height;t=(e=t/o)*o}if(!r&&!i)return[t,e];var a=t,s=e,l=this.state,u=l.slackW,c=l.slackH;return t+=u,e+=c,r&&(t=Math.max(r[0],t),e=Math.max(r[1],e)),i&&(t=Math.min(i[0],t),e=Math.min(i[1],e)),c+=s-e,((u+=a-t)!==this.state.slackW||c!==this.state.slackH)&&this.setState({slackW:u,slackH:c}),[t,e]},e.prototype.resizeHandler=function(t,e){var n=this;return function(r,i){var o=i.node,a=i.deltaX,s=i.deltaY,l=("both"===n.props.axis||"x"===n.props.axis)&&-1===["n","s"].indexOf(e),u=("both"===n.props.axis||"y"===n.props.axis)&&-1===["e","w"].indexOf(e);l&&"w"===e[e.length-1]&&(a=-a),u&&"n"===e[0]&&(s=-s);var c=n.state.width+(l?a:0),h=n.state.height+(u?s:0),f=c!==n.state.width,d=h!==n.state.height;if("onResize"!==t||f||d){var p=n.runConstraints(c,h);c=p[0],h=p[1];var m={};if("onResizeStart"===t)m.resizing=!0;else if("onResizeStop"===t)m.resizing=!1,m.slackW=m.slackH=0;else{if(c===n.state.width&&h===n.state.height)return;m.width=c,m.height=h}"function"==typeof n.props[t]?("function"==typeof r.persist&&r.persist(),n.setState(m,(function(){return n.props[t](r,{node:o,size:{width:c,height:h},handle:e})}))):n.setState(m)}}},e.prototype.renderResizeHandle=function(t){var e=this.props.handle;return e?"function"==typeof e?e(t):e:i.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+t})},e.prototype.render=function(){var t=this,e=this.props,n=e.children,o=e.draggableOpts;e.width,e.height,e.handleSize,e.lockAspectRatio,e.axis,e.minConstraints,e.maxConstraints,e.onResize,e.onResizeStop,e.onResizeStart;var l=e.resizeHandles,c=u(e,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles"]),h=c.className?c.className+" react-resizable":"react-resizable";return(0,s.default)(n,r({},c,{className:h,children:[n.props.children,l.map((function(e){return i.default.createElement(a.DraggableCore,r({},o,{key:"resizableHandle-"+e,onStop:t.resizeHandler("onResizeStop",e),onStart:t.resizeHandler("onResizeStart",e),onDrag:t.resizeHandler("onResize",e)}),t.renderResizeHandle(e))}))]}))},e}(i.default.Component);d.propTypes={children:o.default.element.isRequired,width:o.default.number.isRequired,height:o.default.number.isRequired,handle:o.default.element,handleSize:o.default.array,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),lockAspectRatio:o.default.bool,axis:o.default.oneOf(["both","x","y","none"]),minConstraints:o.default.arrayOf(o.default.number),maxConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,draggableOpts:o.default.object},d.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"]},e.default=d},function(t,e,n){e.__esModule=!0,e.getBreakpointFromWidth=i,e.getColsFromBreakpoint=o,e.findOrGenerateResponsiveLayout=a,e.sortBreakpoints=s;var r=n(133);function i(t,e){for(var n=s(t),r=n[0],i=1,o=n.length;i<o;i++){var a=n[i];e>t[a]&&(r=a)}return r}function o(t,e){if(!e[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return e[t]}function a(t,e,n,i,o,a){if(t[n])return(0,r.cloneLayout)(t[n]);for(var l=t[i],u=s(e),c=u.slice(u.indexOf(n)),h=0,f=c.length;h<f;h++){var d=c[h];if(t[d]){l=t[d];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:o}),a,o)}function s(t){return Object.keys(t).sort((function(e,n){return t[e]-t[n]}))}},function(t,e,n){t.exports={ResizeSensor:n(345),ElementQueries:n(599)}},function(t,e,n){var r,i;typeof window<"u"&&window,void 0!==(i="function"==typeof(r=function(){if(typeof window>"u")return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};function e(t,e){var n=Object.prototype.toString.call(t),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||typeof jQuery<"u"&&t instanceof jQuery||typeof Elements<"u"&&t instanceof Elements,i=0,o=t.length;if(r)for(;i<o;i++)e(t[i]);else e(t)}function n(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}var r=function(i,o){function a(){var t,e,n=[];this.add=function(t){n.push(t)},this.call=function(r){for(t=0,e=n.length;t<e;t++)n[t].call(this,r)},this.remove=function(r){var i=[];for(t=0,e=n.length;t<e;t++)n[t]!==r&&i.push(n[t]);n=i},this.length=function(){return n.length}}function s(e,r){if(e){if(e.resizedAttached)return void e.resizedAttached.add(r);e.resizedAttached=new a,e.resizedAttached.add(r),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var i="pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;",o="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=i,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor);var s=window.getComputedStyle(e),l=s?s.getPropertyValue("position"):null;"absolute"!==l&&"relative"!==l&&"fixed"!==l&&(e.style.position="relative");var u,c,h=e.resizeSensor.childNodes[0],f=h.childNodes[0],d=e.resizeSensor.childNodes[1],p=n(e),m=p.width,v=p.height,g=!0,y=0,b=function(){var t=e.offsetWidth,n=e.offsetHeight;f.style.width=t+10+"px",f.style.height=n+10+"px",h.scrollLeft=t+10,h.scrollTop=n+10,d.scrollLeft=t+10,d.scrollTop=n+10},_=function(){if(g){if(0===e.offsetWidth&&0===e.offsetHeight)return void(y||(y=t((function(){y=0,_()}))));g=!1}b()};e.resizeSensor.resetSensor=_;var x=function(){c=0,u&&(m=p.width,v=p.height,e.resizedAttached&&e.resizedAttached.call(p))},T=function(){p=n(e),(u=p.width!==m||p.height!==v)&&!c&&(c=t(x)),_()},w=function(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n)};w(h,"scroll",T),w(d,"scroll",T),t(_)}}e(i,(function(t){s(t,o)})),this.detach=function(t){r.detach(i,t)},this.reset=function(){i.resizeSensor.resetSensor()}};if(r.reset=function(t){e(t,(function(t){t.resizeSensor.resetSensor()}))},r.detach=function(t,n){e(t,(function(t){t&&(t.resizedAttached&&"function"==typeof n&&(t.resizedAttached.remove(n),t.resizedAttached.length())||t.resizeSensor&&(t.contains(t.resizeSensor)&&t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached))}))},typeof MutationObserver<"u"){var i=new MutationObserver((function(t){for(var e in t)if(t.hasOwnProperty(e))for(var n=t[e].addedNodes,i=0;i<n.length;i++)n[i].resizeSensor&&r.reset(n[i])}));document.addEventListener("DOMContentLoaded",(function(t){i.observe(document.body,{childList:!0,subtree:!0})}))}return r})?r.call(e,n,e,t):r)&&(t.exports=i)},function(t,e,n){t.exports={"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(14)),l=h(n(7)),u=h(n(115)),c=n(11);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n));return o.pMain=o.pMobile,o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"areAllVisibleTilesLoaded",value:function(){function t(){return!0}return t}()},{key:"initTile",value:function(){function t(t){var e=t.graphics;t.textGraphics=new c.GLOBALS.PIXI.Graphics,t.text=new c.GLOBALS.PIXI.Text(String(t.tileData.zoomLevel)+"/"+String(t.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),t.textGraphics.addChild(t.text),t.text.anchor.x=.5,t.text.anchor.y=.5,e.addChild(t.textGraphics),this.drawTile(t)}return t}()},{key:"destroyTile",value:function(){function t(t){}return t}()},{key:"drawTile",value:function(){function t(t){if((0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"drawTile",this).call(this,t),t.graphics){var n=t.graphics,i=this.getTilePosAndDimensions(t.tileData.zoomLevel,t.tileData.tilePos),o=i.tileX,a=i.tileWidth,l=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)));t.text.scale.x=l,n.clear();var u=this.dimensions[1],c=this._refXScale(o+a)-this._refXScale(o);t.textGraphics.position.x=this._refXScale(o)+c/2,t.textGraphics.position.y=u/2;var h=this._refXScale(o);n.lineStyle(4*l,255,1),n.beginFill(16740363,.4),n.alpha=.5,n.moveTo(h,0),n.lineTo(h,u),n.moveTo(h+c,0),n.lineTo(h+c,u),n.lineStyle(0,255,1),n.drawRect(h,0,c,u)}}return t}()}]),e}(u.default);e.default=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(11);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,o.default)(e,[{key:"areAllVisibleTilesLoaded",value:function(){function t(){return!0}return t}()},{key:"initTile",value:function(){function t(t){var e=t.graphics;t.textGraphics=new u.GLOBALS.PIXI.Graphics,t.text=new u.GLOBALS.PIXI.Text(String(t.tileData.zoomLevel)+"/"+String(t.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),t.textGraphics.addChild(t.text),t.text.anchor.x=.5,t.text.anchor.y=.5,t.text.rotation=-Math.PI/2,e.addChild(t.textGraphics),this.drawTile(t,e)}return t}()},{key:"destroyTile",value:function(){function t(t,e){}return t}()},{key:"drawTile",value:function(){function t(t){if((0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"drawTile",this).call(this,t),t.graphics){var n=t.graphics,i=this.getTilePosAndDimensions(t.tileData.zoomLevel,t.tileData.tilePos),o=i.tileY,a=i.tileHeight,l=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));t.text.scale.x=l,n.clear(),n.lineStyle(4*l,255,1),n.beginFill(16740363,.4),n.alpha=.5;var u=this.dimensions[0],c=this._refYScale(o+a)-this._refYScale(o);t.textGraphics.position.x=u/2,t.textGraphics.position.y=this._refYScale(o)+c/2,n.drawRect(0,this._refYScale(o),u,c)}}return t}()},{key:"fetchNewTiles",value:function(){function t(t){var e=this;t.forEach((function(t){var n=t.remoteId.split("."),r={zoomLevel:n[1],tilePos:n.slice(2,n.length).map((function(t){return+t}))};e.fetchedTiles[t.tileId]=t,e.fetchedTiles[t.tileId].tileData=r,e.fetching.has(t.remoteId)&&e.fetching.delete(t.remoteId)})),this.synchronizeTilesAndGraphics()}return t}()}]),e}(c(n(349)).default);e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(14)),l=h(n(7)),u=h(n(255)),c=n(24);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,o.default)(e,[{key:"calculateZoomLevel",value:function(){function t(){var t=c.tileProxy.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);return Math.min(t,this.maxZoom)}return t}()},{key:"relevantScale",value:function(){function t(){return this._yScale}return t}()},{key:"zoomed",value:function(){function t(t,n){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"zoomed",this).call(this,t,n);var i=1,o=(n(1)-n(0))/(this._refYScale(1)-this._refYScale(0)),a=this.position[0],l=n(0)+this.position[1]-this._refYScale(1)*o;this.pMain.position.x=a,this.pMain.position.y=l,this.pMain.scale.x=i,this.pMain.scale.y=o}return t}()}]),e}(u.default);e.default=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(316);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n));return o.axis=(0,u.axisTop)(o._xScale),o.gAxis=o.gMain.append("g"),o.tilesetInfo=!0,o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"setDimensions",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setDimensions",this).call(this,t),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform","translate(0,"+String(t[1])+")")}return t}()},{key:"draw",value:function(){function t(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}return t}()},{key:"zoomed",value:function(){function t(t,n){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"zoomed",this).call(this,t,n),this.draw()}return t}()}]),e}(c(n(80)).default);e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(316);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n));return o.axis=(0,u.axisLeft)(o._yScale),o.gAxis=o.gMain.append("g"),o.tilesetInfo=!0,o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"setDimensions",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setDimensions",this).call(this,t),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform","translate("+String(t[0])+",0)")}return t}()},{key:"draw",value:function(){function t(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}return t}()},{key:"zoomed",value:function(){function t(t,n){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"zoomed",this).call(this,t,n),this.draw()}return t}()}]),e}(c(n(80)).default);e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=A(n(94)),i=A(n(25)),o=A(n(55)),a=A(n(30)),s=A(n(18)),l=A(n(63)),u=A(n(19)),c=A(n(37)),h=A(n(17)),f=A(n(34)),d=A(n(5)),p=A(n(3)),m=A(n(4)),v=A(n(6)),g=A(n(14)),y=A(n(7)),b=A(n(180)),_=n(8),x=n(28),T=A(n(355)),w=n(157),S=A(n(115)),E=n(24),k=n(10),C=n(11);function A(t){return t&&t.__esModule?t:{default:t}}var O=16,P=50,M=5e3,I=5,R={fontSize:"14px",fontFamily:"Arial",stroke:"white",strokeThickness:2,fontWeight:400,dropShadow:!0,dropShadowColor:"white",dropShadowDistance:0,dropShadowBlur:2},L=function(t){function e(t,n){(0,p.default)(this,e);var r=(0,v.default)(this,(e.__proto__||(0,d.default)(e)).call(this,t,n));return r.valueScaleTransform=w.zoomIdentity,r}return(0,y.default)(e,t),(0,m.default)(e,[{key:"initialize",value:function(){function t(){if(!this.initialized){var t=[1,1,0];this.prevK=t[0],this.vertK=t[1],this.vertY=t[2],this.drawnRects||(this.drawnRects={}),this.colorScale||(this.options.colorRange?this.colorScale=(0,k.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=C.HEATED_OBJECT_MAP),this.initialized=!0}}return t}()},{key:"initTile",value:function(){function t(t){var e=this;t.texts={},t.rectGraphics=new C.GLOBALS.PIXI.Graphics,t.textGraphics=new C.GLOBALS.PIXI.Graphics,t.graphics.addChild(t.rectGraphics),t.graphics.addChild(t.textGraphics);var n=[],r=[];if(t.tileData&&t.tileData.length){if(t.tileData.sort((function(t,e){return e.importance-t.importance})),this.options&&this.options.valueColumn)n=[t.tileData.map((function(t){return{value:t}}))];else{var i=t.tileData.map((function(t){var e=+t.chrOffset;return{from:+t.fields[1]+e,to:+t.fields[2]+e,value:t,text:t.fields[3],strand:t.fields.length>=6&&"-"===t.fields[5]?"-":"+"}}));n=(0,k.segmentsToRows)(i.filter((function(t){return"+"===t.strand}))),r=(0,k.segmentsToRows)(i.filter((function(t){return"-"===t.strand})))}t.plusStrandRows=n,t.minusStrandRows=r,this.options.showTexts&&t.tileData.forEach((function(n,r){var i=n.fields;if(n.importance||(n.importance=Math.random()),t.textWidths={},t.textHeights={},!(r>=(+e.options.maxTexts||P))){var o=new C.GLOBALS.PIXI.Text(i[3],(0,f.default)({},R,{fontSize:+e.options.fontSize||R.fontSize}));e.flipText&&(o.scale.x=-1),o.anchor.x=.5,o.anchor.y=.5,t.texts[n.uid]=o,t.textGraphics.addChild(o)}}))}t.initialized=!0}return t}()},{key:"removeTileRects",value:function(){function t(t){var e=this,n=+t.tileId.split(".")[0];t.rectGraphics.clear(),t.rendered=!1,t.tileData&&t.tileData.length&&t.tileData.forEach((function(r,i){e.drawnRects[n]&&e.drawnRects[n][r.uid]&&e.drawnRects[n][r.uid][2]===t.tileId&&delete e.drawnRects[n][r.uid]}))}return t}()},{key:"destroyTile",value:function(){function t(t){this.removeTileRects(t),t.graphics.removeChild(t.textGraphics),t.graphics.removeChild(t.rectGraphics)}return t}()},{key:"removeTiles",value:function(){function t(t){(0,g.default)(e.prototype.__proto__||(0,d.default)(e.prototype),"removeTiles",this).call(this,t)}return t}()},{key:"drawTile",value:function(){function t(t){this.options&&this.options.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}return t}()},{key:"rerender",value:function(){function t(t,n){(0,g.default)(e.prototype.__proto__||(0,d.default)(e.prototype),"rerender",this).call(this,t,n),this.valueScale=null,this.drawnRects={},this.options.colorRange?this.colorScale=(0,k.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=C.HEATED_OBJECT_MAP;var r=!0,i=!1,o=void 0;try{for(var a,s=(0,h.default)(this.visibleAndFetchedTiles());!(r=(a=s.next()).done);r=!0){var l=a.value;this.destroyTile(l),this.initTile(l),this.renderTile(l)}}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}return t}()},{key:"updateTile",value:function(){function t(t){this.areAllVisibleTilesLoaded()&&this.renderTile(t)}return t}()},{key:"allVisibleRects",value:function(){function t(){var t={};(0,c.default)(this.fetchedTiles).forEach((function(e){if(e.plusStrandRows){var n=!0,r=!1,i=void 0;try{for(var o,a=(0,h.default)(e.plusStrandRows[0]);!(n=(o=a.next()).done);n=!0){var s=o.value;t[s.value.uid]||(t[s.value.uid]=s)}}catch(l){r=!0,i=l}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}));for(var e=(0,c.default)(t).sort((function(t,e){return t.from-e.from})),n=0,r=0,i=0;i<e.length;i++)if(void 0!==e[i].staggeredStartPosition){n=i,r=e[i].staggeredStartPosition;break}for(var o=n;o<e.length;o++)e[o].staggeredStartPosition=(r+o-n)%2;for(var a=n;a>=0&&e.length;a--)e[a].staggeredStartPosition=(r+n-a)%2;return t}return t}()},{key:"drawSegmentStyle",value:function(){function t(t,e,n,r,i,o){var a=.1,s=r+i/2,l=[e,r,e+2*a,r,e+2*a,s-a,n-2*a,s-a,n-2*a,r,n,r,n,r+i,n-2*a,r+i,n-2*a,s+a,e+2*a,s+a,e+2*a,r+i,e,r+i];return t.rectGraphics.drawPolygon(l),l}return t}()},{key:"drawPoly",value:function(){function t(t,e,n,r,i,o){var a=null;return"segment"===this.options.annotationStyle?this.drawSegmentStyle(t,e,n,r,i,o):(("+"===o||"-"===o)&&n-e<O/2?(a=[e,r,e+i/2,r+i/2,e,r+i],"+"===o||(a=[n,r,n-i/2,r+i/2,n,r+i]),t.rectGraphics.drawPolygon(a)):(a="+"===o?[e,r,n-i/2,r,n,r+i/2,n-i/2,r+i,e,r+i]:"-"===o?[e+i/2,r,n,r,n,r+i,e+i/2,r+i,e,r+i/2]:[e,r,n,r,n,r+i,e,r+i],t.rectGraphics.drawPolygon(a)),a)}return t}()},{key:"setValueScale",value:function(){function t(){if(this.valueScale=null,this.options&&this.options.valueColumn){var t=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.valueColumn),e=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.valueColumn);if(this.options.valueColumn){var n=this.makeValueScale(t,this.calculateMedianVisibleValue(+this.options.valueColumn),e),r=(0,u.default)(n,1);this.valueScale=r[0]}}}return t}()},{key:"setColorValueScale",value:function(){function t(){if(this.colorValueScale=null,this.options&&this.options.colorEncoding&&"itemRgb"!==this.options.colorEncoding){var t=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.colorEncoding),e=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.colorEncoding);this.colorValueScale=(0,x.scaleLinear)().domain([t,e]).range([0,255])}}return t}()},{key:"renderRows",value:function(){function t(t,e,n,r,i,o){var a=+t.tileId.split(".")[0];l.default,this.initialize();var s=(0,x.scaleBand)().domain((0,_.range)(n)).range([r,i]).paddingInner(.3);this.allVisibleRects();var u=null;this.options.staggered&&(u=this.allVisibleRects());for(var c=0;c<e.length;c++)for(var h=0;h<e[c].length;h++){var d=e[c][h].value,p=d.fields,m=+d.chrOffset,v=+p[1]+m,g=+p[2]+m,y=(v+g)/2,b=s(c)+s.step()/2,T=this.options.annotationHeight||O;if("scaled"===T&&(T=s.bandwidth(),this.options.maxAnnotationHeight&&(T=Math.min(T,+this.options.maxAnnotationHeight))),this.options&&"itemRgb"===this.options.colorEncoding&&d.fields[8])3===d.fields[8].split(",").length&&(o="rgb("+String(d.fields[8])+")");else if(this.colorValueScale){var w=(0,k.valueToColor)(this.colorValueScale,this.colorScale,0,-Number.MIN_VALUE)(+p[+this.options.colorEncoding-1]);o="rgba("+String(w.join(","))+")"}if(this.valueScale){var S=+p[+this.options.valueColumn-1];b=this.valueScale(S)}var E=this.options.fillOpacity||.3;t.rectGraphics.lineStyle(1,(0,k.colorToHex)(o),E),t.rectGraphics.beginFill((0,k.colorToHex)(o),E);var C=b-T/2,A=this._xScale(v),M=this._xScale(g);this.options.staggered&&(u[d.uid].staggeredStartPosition?C-=I/2:C+=I/2);var L=!0;if(!(a in this.drawnRects)||!(d.uid in this.drawnRects[a])){L=!1,this.drawnRects[a]||(this.drawnRects[a]={});var D=this.drawPoly(t,A,M,C*this.prevK,T*this.prevK,p[5]);this.drawnRects[a][d.uid]=[D,{start:v,end:g,value:d,tile:t,fill:o},t.tileId]}if(this.options.showTexts){if(!t.texts)return;if(!(h>=(+this.options.maxTexts||P))&&t.texts[d.uid]){var N=t.texts[d.uid];N.position.x=this._xScale(y),N.position.y=C+T/2,N.nominalY=C+T/2,L&&(N.alreadyDrawn=!0);var j=void 0!==this.options.fontColor?(0,k.colorToHex)(this.options.fontColor):o;if(N.style=(0,f.default)({},R,{fill:j,fontSize:+this.options.fontSize||R.fontSize}),!(p[3]in t.textWidths)){N.updateTransform();var B=N.getBounds().width,F=N.getBounds().height,H=5;t.textWidths[p[3]]=B,t.textHeights[p[3]]=F-H}}}}}return t}()},{key:"renderTile",value:function(){function t(t){var e=t.plusStrandRows?t.plusStrandRows.length:1,n=t.minusStrandRows?t.minusStrandRows.length:1,r=!0,i=!1,o=void 0;try{for(var a,s=(0,h.default)(this.visibleAndFetchedTiles());!(r=(a=s.next()).done);r=!0){var l=a.value;if(!l.initialized)return;!l.plusStrandRows&&!l.minusStrandRows||(e=Math.max(l.plusStrandRows.length,e),n=Math.max(l.minusStrandRows.length,n))}}catch(p){i=!0,o=p}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}if(t.rendered&&this.removeTileRects(t),t.drawnAtScale=this._xScale.copy(),t.rendered=!0,this.setValueScale(),this.setColorValueScale(),t.tileData&&t.tileData.length){var u=this.options.plusStrandColor||this.options.fillColor||"blue",c=this.options.minusStrandColor||this.options.fillColor||"purple",f=0,d=0;d=this.options.separatePlusMinusStrands?e*this.dimensions[1]/(e+n)-f/2:this.dimensions[1],this.renderRows(t,t.plusStrandRows,e,0,d,u),this.renderRows(t,t.minusStrandRows,n,this.options.separatePlusMinusStrands?d+f/2:0,this.dimensions[1],c)}k.trackUtils.stretchRects(this,[function(t){return t.rectGraphics}])}return t}()},{key:"calculateZoomLevel",value:function(){function t(){var t=E.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),e=Math.min(t,this.maxZoom);return e=Math.max(e,0)}return t}()},{key:"minVisibleValueInTiles",value:function(){function t(t){var e=this,n=this.visibleAndFetchedIds();0===n.length&&(n=(0,s.default)(this.fetchedTiles));var r=Math.min.apply(null,n.map((function(t){return e.fetchedTiles[t]})).filter((function(t){return t.tileData&&t.tileData.length})).map((function(e){return Math.min.apply(null,e.tileData.sort((function(t,e){return e.importance-t.importance})).slice(0,M).map((function(e){return+e.fields[t-1]})).filter((function(t){return!(0,a.default)(t)})))})));return r===o.default&&(r=null),r}return t}()},{key:"maxVisibleValueInTiles",value:function(){function t(t){var e=this,n=this.visibleAndFetchedIds();0===n.length&&(n=(0,s.default)(this.fetchedTiles));var r=Math.max.apply(null,n.map((function(t){return e.fetchedTiles[t]})).filter((function(t){return t.tileData&&t.tileData.length})).map((function(e){return Math.max.apply(null,e.tileData.sort((function(t,e){return e.importance-t.importance})).slice(0,M).map((function(e){return+e.fields[t-1]})).filter((function(t){return!(0,a.default)(t)})))})));return r===l.default&&(r=null),r}return t}()},{key:"calculateMedianVisibleValue",value:function(){function t(t){var e,n=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var r=this.visibleAndFetchedIds();0===r.length&&(r=(0,s.default)(this.fetchedTiles));var o=(e=[]).concat.apply(e,(0,i.default)(r.map((function(t){return n.fetchedTiles[t]})).filter((function(t){return t.tileData&&t.tileData.length})).map((function(e){return e.tileData.sort((function(t,e){return e.importance-t.importance})).slice(0,M).map((function(e){return+e.fields[t-1]}))})))).filter((function(t){return t>0}));this.medianVisibleValue=(0,_.median)(o)}return t}()},{key:"draw",value:function(){function t(){var t=this;(0,g.default)(e.prototype.__proto__||(0,d.default)(e.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=function(){function e(e){var n=t.fetchedTiles[e];if(n.rectGraphics.scale.y=t.vertK,n.rectGraphics.position.y=t.vertY,!n.drawnAtScale)return{v:void 0};k.trackUtils.stretchRects(t,[function(t){return t.rectGraphics}]);var r=t.parentInFetched(n);if(!n.initialized)return"continue";n.tileData&&n.tileData.length&&n.tileData.forEach((function(e){if(n.texts){var i=e.fields,o=i[3],a=n.texts[e.uid];if(a){var s=+e.chrOffset,l=(+i[1]+s+(+i[2]+s))/2;if(a.position.x=t._xScale(l),a.position.y=a.nominalY*(t.vertK*t.prevK)+t.vertY,r||a.alreadyDrawn)a.visible=!1;else{a.visible=!0;var u=3;t.allBoxes.push([a.position.x-u,a.position.y-n.textHeights[i[3]]/2,a.position.x+n.textWidths[i[3]]+u,a.position.y+n.textHeights[i[3]]/2]),t.allTexts.push({importance:e.importance,text:a,caption:o,strand:i[5]})}}}}))}return e}();for(var i in this.fetchedTiles){var o=n(i);if("continue"!==o&&"object"===(typeof o>"u"?"undefined":(0,r.default)(o)))return o.v}this.hideOverlaps(this.allBoxes,this.allTexts)}return t}()},{key:"hideOverlaps",value:function(){function t(t,e){(0,b.default)(t,(function(t,n){e[t].importance>e[n].importance?e[t].text.visible&&(e[n].text.visible=!1):e[n].text.visible&&(e[t].text.visible=!1)}))}return t}()},{key:"setPosition",value:function(){function t(t){(0,g.default)(e.prototype.__proto__||(0,d.default)(e.prototype),"setPosition",this).call(this,t);var n=(0,u.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}return t}()},{key:"setDimensions",value:function(){function t(t){(0,g.default)(e.prototype.__proto__||(0,d.default)(e.prototype),"setDimensions",this).call(this,t)}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.refreshTiles(),this.draw()}return t}()},{key:"exportSVG",value:function(){function t(){var t=this,n=null,r=null;if((0,g.default)(e.prototype.__proto__||(0,d.default)(e.prototype),"exportSVG",this)){var i=(0,g.default)(e.prototype.__proto__||(0,d.default)(e.prototype),"exportSVG",this).call(this),o=(0,u.default)(i,2);r=o[0],n=o[1]}else n=r=document.createElement("g");var a=document.createElement("g");a.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(a);var s=document.createElement("g"),l=document.createElement("g");a.appendChild(s),a.appendChild(l);var c=function(){function e(e){if(!e.tileData.length)return"continue";e.tileData.forEach((function(n){var r=+e.tileId.split(".")[0],i=document.createElement("g");if(i.setAttribute("transform","translate("+String(e.rectGraphics.position.x)+","+String(e.rectGraphics.position.y)+")scale("+String(e.rectGraphics.scale.x)+","+String(e.rectGraphics.scale.y)+")"),s.appendChild(i),t.drawnRects[r]&&n.uid in t.drawnRects[r]){for(var o=t.drawnRects[r][n.uid][0],a=document.createElement("path"),u="M "+String(o[0])+" "+String(o[1]),c=2;c<o.length;c+=2)u+=" L "+String(o[c])+" "+String(o[c+1]);var h=t.drawnRects[r][n.uid][1].fill,f=void 0!==t.options.fontColor?(0,k.colorToHex)(t.options.fontColor):h;if(a.setAttribute("d",u),a.setAttribute("fill",h),a.setAttribute("opacity",.3),a.style.stroke=h,a.style.strokeWidth="1px",i.appendChild(a),e.texts[n.uid]){var d=e.texts[n.uid];if(!d.visible)return;var p=document.createElement("g"),m=document.createElement("text");l.appendChild(p),p.appendChild(m),p.setAttribute("transform","translate("+String(d.x)+","+String(d.y)+")scale("+String(d.scale.x)+",1)"),m.setAttribute("text-anchor","middle"),m.setAttribute("font-family",R.fontFamily),m.setAttribute("font-size",+t.options.fontSize||R.fontSize),m.setAttribute("font-weight","bold"),m.setAttribute("dy","5px"),m.setAttribute("fill",f),m.setAttribute("stroke",R.stroke),m.setAttribute("stroke-width","0.4"),m.setAttribute("text-shadow","0px 0px 2px grey"),m.innerHTML=d.text}}}))}return e}(),f=!0,p=!1,m=void 0;try{for(var v,y=(0,h.default)(this.visibleAndFetchedTiles());!(f=(v=y.next()).done);f=!0)c(v.value)}catch(b){p=!0,m=b}finally{try{!f&&y.return&&y.return()}finally{if(p)throw m}}return[r,r]}return t}()},{key:"movedY",value:function(){function t(t){var e=this;(0,c.default)(this.fetchedTiles).forEach((function(n){var r=e.valueScaleTransform,i=r.y,o=r.k,a=e.dimensions[1];i+t/o>-(o-1)*a&&i+t/o<0&&(e.valueScaleTransform=r.translate(0,t/o)),n.rectGraphics.position.y=e.valueScaleTransform.y,e.vertY=e.valueScaleTransform.y})),this.animate()}return t}()},{key:"zoomedY",value:function(){function t(t,e){var n=this,r=k.trackUtils.zoomedY(t,e,this.valueScaleTransform,this.dimensions[1]);this.valueScaleTransform=r;var i=r.k,o=r.y,a=!1;((i/=this.prevK)>1.5||i<1/1.5)&&(this.prevK*=i,i=1,a=!0),this.vertK=i,this.vertY=o,(0,c.default)(this.fetchedTiles).forEach((function(t){a&&n.renderTile(t),t.rectGraphics.scale.y=i,t.rectGraphics.position.y=o})),this.draw(),this.animate()}return t}()},{key:"getMouseOverHtml",value:function(){function t(t,e){if(!this.tilesetInfo)return"";var n=this.calculateZoomLevel(),r=[t,e];if(this.drawnRects[n])for(var i=(0,c.default)(this.drawnRects[n]),o=0;o<i.length;o++){for(var a=i[o][0].slice(0),s=i[o][1].tile.rectGraphics.scale.x,l=i[o][1].tile.rectGraphics.position.x,h=i[o][1].tile.rectGraphics.scale.y,f=i[o][1].tile.rectGraphics.position.y,d=[];a.length;){var p=a.splice(0,2),m=(0,u.default)(p,2),v=m[0],g=m[1];d.push([v*s+l,g*h+f])}if(-1===(0,T.default)(d,r))return i[o][1].value.fields.join(" ")}return""}return t}()}]),e}(S.default);e.default=L},function(t,e,n){t.exports={init:m,sweepBipartite:y,sweepComplete:b,scanBipartite:_,scanComplete:x};var r=n(257),i=n(258),o=n(619),a=1<<28,s=1024,l=r.mallocInt32(s),u=r.mallocInt32(s),c=r.mallocInt32(s),h=r.mallocInt32(s),f=r.mallocInt32(s),d=r.mallocInt32(s),p=r.mallocDouble(8*s);function m(t){var e=i.nextPow2(t);l.length<e&&(r.free(l),l=r.mallocInt32(e)),u.length<e&&(r.free(u),u=r.mallocInt32(e)),c.length<e&&(r.free(c),c=r.mallocInt32(e)),h.length<e&&(r.free(h),h=r.mallocInt32(e)),f.length<e&&(r.free(f),f=r.mallocInt32(e)),d.length<e&&(r.free(d),d=r.mallocInt32(e));var n=8*e;p.length<n&&(r.free(p),p=r.mallocDouble(n))}function v(t,e,n,r){var i=e[r],o=t[n-1];t[i]=o,e[o]=i}function g(t,e,n,r){t[n]=r,e[r]=n}function y(t,e,n,r,i,s,f,d,m,y){for(var b=0,_=2*t,x=t-1,T=_-1,w=n;w<r;++w){var S=s[w],E=_*w;p[b++]=i[E+x],p[b++]=-(S+1),p[b++]=i[E+T],p[b++]=S}for(w=f;w<d;++w){S=y[w]+a;var k=_*w;p[b++]=m[k+x],p[b++]=-S,p[b++]=m[k+T],p[b++]=S}var C=b>>>1;o(p,C);var A=0,O=0;for(w=0;w<C;++w){var P=0|p[2*w+1];if(P>=a)v(c,h,O--,P=P-a|0);else if(P>=0)v(l,u,A--,P);else if(P<=-a){P=-P-a|0;for(var M=0;M<A;++M)if(void 0!==(I=e(l[M],P)))return I;g(c,h,O++,P)}else{for(P=-P-1|0,M=0;M<O;++M){var I;if(void 0!==(I=e(P,c[M])))return I}g(l,u,A++,P)}}}function b(t,e,n,r,i,a,s,m,y,b){for(var _=0,x=2*t,T=t-1,w=x-1,S=n;S<r;++S){var E=a[S]+1<<1,k=x*S;p[_++]=i[k+T],p[_++]=-E,p[_++]=i[k+w],p[_++]=E}for(S=s;S<m;++S){E=b[S]+1<<1;var C=x*S;p[_++]=y[C+T],p[_++]=1|-E,p[_++]=y[C+w],p[_++]=1|E}var A=_>>>1;o(p,A);var O=0,P=0,M=0;for(S=0;S<A;++S){var I=0|p[2*S+1],R=1&I;if(S<A-1&&I>>1===p[2*S+3]>>1&&(R=2,S+=1),I<0){for(var L=-(I>>1)-1,D=0;D<M;++D)if(void 0!==(N=e(f[D],L)))return N;if(0!==R)for(D=0;D<O;++D)if(void 0!==(N=e(l[D],L)))return N;if(1!==R)for(D=0;D<P;++D){var N;if(void 0!==(N=e(c[D],L)))return N}0===R?g(l,u,O++,L):1===R?g(c,h,P++,L):2===R&&g(f,d,M++,L)}else L=(I>>1)-1,0===R?v(l,u,O--,L):1===R?v(c,h,P--,L):2===R&&v(f,d,M--,L)}}function _(t,e,n,r,i,s,c,h,f,d,m,y){var b=0,_=2*t,x=e,T=e+t,w=1,S=1;r?S=a:w=a;for(var E=i;E<s;++E){var k=E+w,C=_*E;p[b++]=c[C+x],p[b++]=-k,p[b++]=c[C+T],p[b++]=k}for(E=f;E<d;++E){k=E+S;var A=_*E;p[b++]=m[A+x],p[b++]=-k}var O=b>>>1;o(p,O);var P=0;for(E=0;E<O;++E){var M=0|p[2*E+1];if(M<0){var I=!1;if((k=-M)>=a?(I=!r,k-=a):(I=!!r,k-=1),I)g(l,u,P++,k);else{var R=y[k],L=_*k,D=m[L+e+1],N=m[L+e+1+t];t:for(var j=0;j<P;++j){var B=l[j],F=_*B;if(!(N<c[F+e+1]||c[F+e+1+t]<D)){for(var H=e+2;H<t;++H)if(m[L+H+t]<c[F+H]||c[F+H+t]<m[L+H])continue t;var z,U=h[B];if(void 0!==(z=r?n(R,U):n(U,R)))return z}}}}else v(l,u,P--,M-w)}}function x(t,e,n,r,i,s,u,c,h,f,d){for(var m=0,v=2*t,g=e,y=e+t,b=r;b<i;++b){var _=b+a,x=v*b;p[m++]=s[x+g],p[m++]=-_,p[m++]=s[x+y],p[m++]=_}for(b=c;b<h;++b){_=b+1;var T=v*b;p[m++]=f[T+g],p[m++]=-_}var w=m>>>1;o(p,w);var S=0;for(b=0;b<w;++b){var E=0|p[2*b+1];if(E<0)if((_=-E)>=a)l[S++]=_-a;else{var k=d[_-=1],C=v*_,A=f[C+e+1],O=f[C+e+1+t];t:for(var P=0;P<S;++P){var M=l[P],I=u[M];if(I===k)break;var R=v*M;if(!(O<s[R+e+1]||s[R+e+1+t]<A)){for(var L=e+2;L<t;++L)if(f[C+L+t]<s[R+L]||s[R+L+t]<f[C+L])continue t;var D=n(I,k);if(void 0!==D)return D}}}else{for(_=E-a,P=S-1;P>=0;--P)if(l[P]===_){for(L=P+1;L<S;++L)l[L-1]=l[L];break}--S}}}},function(t,e,n){t.exports=i;var r="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m";function i(t,e){var n="abcdef".split("").concat(e),i=[];return t.indexOf("lo")>=0&&i.push("lo=e[k+n]"),t.indexOf("hi")>=0&&i.push("hi=e[k+o]"),n.push(r.replace("_",i.join()).replace("$",t)),Function.apply(void 0,n)}},function(t,e,n){t.exports=i;var r=n(623);function i(t,e){for(var n=e[0],i=e[1],o=t.length,a=1,s=o,l=0,u=o-1;l<s;u=l++){var c=t[l],h=t[u],f=c[1],d=h[1];if(d<f){if(d<i&&i<f){if(0===(p=r(c,h,e)))return 0;a^=0<p|0}else if(i===f&&f<t[(l+1)%o][1]){if(0===(p=r(c,h,e)))return 0;a^=0<p|0}}else if(f<d){if(f<i&&i<d){if(0===(p=r(c,h,e)))return 0;a^=p<0|0}else if(i===f&&t[(l+1)%o][1]<f){var p;if(0===(p=r(c,h,e)))return 0;a^=p<0|0}}else if(i===f){var m=Math.min(c[0],h[0]),v=Math.max(c[0],h[0]);if(0===l){for(;u>0;){var g=(u+o-1)%o;if((_=t[g])[1]!==i)break;var y=_[0];m=Math.min(m,y),v=Math.max(v,y),u=g}if(0===u)return m<=n&&n<=v?0:1;s=u+1}for(var b=t[(u+o-1)%o][1];l+1<s;){var _;if((_=t[l+1])[1]!==i)break;y=_[0],m=Math.min(m,y),v=Math.max(v,y),l+=1}if(m<=n&&n<=v)return 0;var x=t[(l+1)%o][1];n<m&&b<i!=x<i&&(a^=1)}}return 2*a-1}},function(t,e,n){t.exports=i;var r=+(Math.pow(2,27)+1);function i(t,e,n){var i=t*e,o=r*t,a=o-(o-t),s=t-a,l=r*e,u=l-(l-e),c=e-u,h=s*c-(i-a*u-s*u-a*c);return n?(n[0]=h,n[1]=i,n):[h,i]}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(19)),i=d(n(30)),o=d(n(5)),a=d(n(3)),s=d(n(4)),l=d(n(6)),u=d(n(14)),c=d(n(7)),h=d(n(40)),f=n(10);function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t,e,n,r,i){i.drawRect(t,e,n,r)},m=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=o.fill,s=void 0===a?0:a,l=o.fillOpacity,u=void 0===l?0:l,c=o.stroke,h=void 0===c?0:c,d=o.strokeWidth,p=void 0===d?0:d,m=o.strokeOpacity,v=void 0===m?0:m,g=document.createElement("rect");g.setAttribute("x",t),g.setAttribute("y",e),g.setAttribute("width",n),g.setAttribute("height",r),g.setAttribute("fill","#"+String((0,f.decToHexStr)(s))),g.setAttribute("fill-opacity",u),g.setAttribute("stroke","#"+String((0,f.decToHexStr)(h))),g.setAttribute("stroke-opacity",v),g.setAttribute("stroke-width",p),i.appendChild(g)},v=function(t,e,n,r,i,o){i instanceof HTMLElement?m(t,e,n,r,i,o):p(t,e,n,r,i)},g=function(t,e,n,r,i,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=l.isVertical,c=void 0!==u&&u,h=l.svg,f=void 0===h?null:h,d=e,p=n,m=r,g=i,y=2*s.width>r?r/2:s.width,b=2*s.width>i?i/2:s.width,_=f||t,x={fill:0,fillOpacity:0,stroke:0,strokeOpacity:0,strokeWidth:1};if(s.positions&&s.positions.length?(t.lineStyle(1,0,0),t.beginFill(s.color,s.opacity),x.fill=s.color,x.fillOpacity=s.opacity,x.stroke=0,x.strokeOpacity=0,x.strokeWidth=1,s.positions.forEach((function(t){"top"===t&&!c||"left"===t&&c?v(e-y,n-b,r+2*y,b,_,x):"bottom"===t&&!c||"right"===t&&c?v(e-y,n+i,r+2*y,b,_,x):"left"===t&&!c||"top"===t&&c?v(e-y,n-b,y,i+2*b,_,x):("right"===t&&!c||"bottom"===t&&c)&&v(e+r,n-b,y,i+2*b,_,x)}))):s.width>0&&s.opacity>0&&(t.lineStyle(s.width,s.color,s.opacity),t.beginFill(0,0),x.fill=0,x.fillOpacity=0,x.stroke=s.color,x.strokeOpacity=s.opacity,x.strokeWidth=s.width,v(e-y,n-b,r+2*y,i+2*b,_,x)),a.positions&&a.positions.length){t.lineStyle(1,0,0),t.beginFill(a.color,a.opacity);var T=2*a.width>r?r/2:a.width,w=2*a.width>i?i/2:a.width;x.fill=a.color,x.fillOpacity=a.opacity,x.stroke=0,x.strokeOpacity=0,x.strokeWidth=1,a.positions.forEach((function(t){"top"===t&&!c||"left"===t&&c?(v(e,n,r,w,_,x),p+=w,g-=w):"bottom"===t&&!c||"right"===t&&c?(v(e,n+i-w,r,w,_,x),g-=w):"left"===t&&!c||"top"===t&&c?(v(e,n,T,i,_,x),d+=T,m-=T):("right"===t&&!c||"bottom"===t&&c)&&(v(e+r-T,n,T,i,_,x),m-=T)}))}else t.lineStyle(a.width,a.color,a.opacity),x.stroke=a.color,x.strokeOpacity=a.opacity,x.strokeWidth=a.width;t.beginFill(o.color,o.opacity),x.fill=o.color,x.fillOpacity=o.opacity,v(d,p,m,g,_,x)},y=function(t){function e(t,n){(0,a.default)(this,e);var r=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n));return r.options=n||{},r.drawnRects={},r}return(0,c.default)(e,t),(0,s.default)(e,[{key:"drawHorizontalOverlay",value:function(){function t(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments[4],o=arguments[5],a=arguments[6],s=arguments[7];if(n&&!(n.length<2)){var l=this.position[0]+e.left+this._xScale(n[0]),u=this.position[1]+e.top,c=e.height,h=this._xScale(n[1])-this._xScale(n[0]);h<r&&(l-=(r-h)/2,h=r),g(t,l,u,h,c,i,o,a,s)}}return t}()},{key:"drawVerticalOverlay",value:function(){function t(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments[4],o=arguments[5],a=arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(n&&!(n.length<2)){var l=this.position[0]+e.left,u=this.position[1]+e.top+this._yScale(n.length>=4?n[2]:n[0]),c=this.position[1]+e.top,h=this.position[1]+e.top+e.height;if(!(u>h)){u<c&&(u=c);var f=e.width,d=this._yScale(n.length>=4?n[3]:n[1])-u+e.top+this.position[1];d<0||(u+d>h&&(d+=h-(u+d)),d<r&&(u-=(r-d)/2,d=r),s.isVertical=!0,g(t,l,u,f,d,i,o,a,s))}}}return t}()},{key:"draw",value:function(){function t(t){var n=this;(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"draw",this).call(this);var r=this.pMain,a={color:(0,f.colorToHex)(this.options.fill||this.options.fillColor||"blue"),opacity:(0,i.default)(+this.options.fillOpacity)?.3:+this.options.fillOpacity},s={color:(0,f.colorToHex)(this.options.stroke||"blue"),opacity:+this.options.strokeOpacity||1,width:+this.options.strokeWidth||0,positions:!this.options.strokePos||Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]},l={color:(0,f.colorToHex)(this.options.outline||"white"),opacity:+this.options.outlineOpacity||1,width:+this.options.outlineWidth||0,positions:!this.options.outlinePos||Array.isArray(this.options.outlinePos)?this.options.outlinePos:[this.options.outlinePos]};(!t||!t.svg)&&r.clear(),r.lineStyle(s.width,s,+!s.positions*s.opacity),r.beginFill(a.color,a.opacity);var c=Math.max(0,+this.options.minWidth||0),h=Math.max(0,+this.options.minHeight||0);Array.isArray(this.options.extent)&&this.options.orientationsAndPositions.forEach((function(e){("1d-horizontal"===e.orientation||"2d"===e.orientation)&&n.options.extent.forEach((function(i){return n.drawHorizontalOverlay(r,e.position,i,c,a,s,l,t)})),("1d-vertical"===e.orientation||"2d"===e.orientation)&&n.options.extent.forEach((function(i){return n.drawVerticalOverlay(r,e.position,i,h,a,s,l,t)}))}))}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.draw()}return t}()},{key:"setPosition",value:function(){function t(t){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"setPosition",this).call(this,t),this.draw()}return t}()},{key:"setDimensions",value:function(){function t(t){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"setDimensions",this).call(this,t),this.draw()}return t}()},{key:"exportSVG",value:function(){function t(){var t=null,n=null;if((0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"exportSVG",this)){var i=(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"exportSVG",this).call(this),a=(0,r.default)(i,2);n=a[0],t=a[1]}else t=n=document.createElement("g");var s=document.createElement("g");return t.appendChild(s),this.draw({svg:s}),[n,t]}return t}()}]),e}(h.default);e.default=y},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(19)),i=p(n(17)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),h=n(28),f=p(n(116)),d=n(10);function p(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,s.default)(e,[{key:"initTile",value:function(){function t(t){t.barXValues=new Array(t.tileData.dense.length),t.barYValues=new Array(t.tileData.dense.length),t.barWidths=new Array(t.tileData.dense.length),t.barHeights=new Array(t.tileData.dense.length),(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"initTile",this).call(this,t)}return t}()},{key:"drawTile",value:function(){function t(t){if(t.graphics&&t.tileData&&t.tileData.dense){var e=t.graphics,n=this.getTilePosAndDimensions(t.tileData.zoomLevel,t.tileData.tilePos),r=n.tileX,i=n.tileWidth,o=t.tileData.dense;if(0!==o.length){var a=0;if(this.valueScale=null,"log"===this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minValue()),this.valueScale=(0,h.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,h.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(e.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var l=(0,d.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),u=(0,h.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]),c=0;e.lineStyle(c,l,1);var f=this.options.pointSize?this.options.pointSize:3,p=(0,d.colorToHex)(this.options.pointColor?this.options.pointColor:"red");e.beginFill(p,1),t.drawnAtScale=this._xScale.copy();for(var m=0;m<o.length;m++){var v=this._xScale(u(m)),g=this.valueScale(o[m]+a);if(t.barXValues[m]=v-f/2/this.pMain.scale.x,t.barYValues[m]=g-f/2/this.pMain.scale.y,t.barWidths[m]=f/this.pMain.scale.x,t.barHeights[m]=f/this.pMain.scale.y,u(m)>this.tilesetInfo.max_pos[0])break;e.drawRect(v-f/2/this.pMain.scale.x,g-f/2/this.pMain.scale.y,f/this.pMain.scale.x,f/this.pMain.scale.y)}}}}return t}()},{key:"draw",value:function(){function t(){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"draw",this).call(this);var t=!0,n=!1,r=void 0;try{for(var a,s=(0,i.default)((0,d.dictValues)(this.fetchedTiles));!(t=(a=s.next()).done);t=!0){var l=a.value,c=(l.drawnAtScale.domain()[1]-l.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),h=this._xScale.domain().map(l.drawnAtScale)[0];l.graphics.scale.x=c,l.graphics.position.x=-h*c}}catch(f){n=!0,r=f}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}}return t}()},{key:"zoomed",value:function(){function t(t,n,r,i,a){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"zoomed",this).call(this,t,n)}return t}()},{key:"exportSVG",value:function(){function t(){var t=null,n=null,a=(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"superSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],t=s[1],n.setAttribute("class","exported-line-track");var l=document.createElement("g");t.appendChild(l),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var c=!0,h=!1,f=void 0;try{for(var d,p=(0,i.default)(this.visibleAndFetchedTiles());!(c=(d=p.next()).done);c=!0)for(var m=d.value,v=0;v<m.barXValues.length;v++){var g=document.createElement("rect"),y=this.options.lineStrokeColor||"blue",b=this.options.pointColor||"red";g.setAttribute("fill",b),g.setAttribute("stroke",y),g.setAttribute("stroke-width",0),g.setAttribute("x",m.barXValues[v]),g.setAttribute("y",m.barYValues[v]),g.setAttribute("height",m.barHeights[v]),g.setAttribute("width",m.barWidths[v]),l.appendChild(g)}}catch(w){h=!0,f=w}finally{try{!c&&p.return&&p.return()}finally{if(h)throw f}}var _=document.createElement("g");if(_.setAttribute("id","axis"),n.appendChild(_),_.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var x=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);_.appendChild(x)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var T=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);_.appendChild(T)}return[n,t]}return t}()}]),e}(f.default);e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=x(n(30)),i=x(n(37)),o=x(n(94)),a=x(n(18)),s=x(n(34)),l=x(n(35)),u=x(n(5)),c=x(n(3)),h=x(n(4)),f=x(n(6)),d=x(n(14)),p=x(n(7)),m=n(20),v=x(n(135)),g=n(24),y=x(n(139)),b=x(n(628)),_=x(n(181));function x(t){return t&&t.__esModule?t:{default:t}}var T=function(t){function e(t,n){(0,c.default)(this,e);var r=(0,f.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t,n));return r.pMain=r.pMobile,r.continuousScaling=!1,r.updateDataFetcher(n),r}return(0,p.default)(e,t),(0,h.default)(e,[{key:"updateDataFetcher",value:function(){function t(t){if(t&&t.selectRows&&"server"===t.selectRowsAggregationMethod){var e=this.pubSub,n=this.dataFetcher,r=n.dataConfig.options,i={aggGroups:t.selectRows,aggFunc:t.selectRowsAggregationMode};if((0,l.default)(r)!==(0,l.default)(i)){var o=(0,s.default)({},n.dataConfig,{options:i});this.dataFetcher=new n.constructor(o,e),this.dataFetcher.dataConfig.tilesetUid&&this.fetchNewTiles((0,a.default)(this.fetchedTiles).map((function(t){return{tileId:t,remoteId:t}})))}}}return t}()},{key:"rerender",value:function(){function t(t,n){this.updateDataFetcher(t),(0,d.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"rerender",this).call(this,t,n),t.selectRows&&(this.selectRowsCumWeights=(0,b.default)(t.selectRows,t.selectRowsAggregationWithRelativeHeight))}return t}()},{key:"tileDataToCanvas",value:function(){function t(t){var e=document.createElement("canvas");this.options.selectRows&&this.tilesetInfo.shape?(e.width=this.tilesetInfo.shape[0],e.height=(0,y.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight)):this.tilesetInfo.shape?(e.width=this.tilesetInfo.shape[0],e.height=this.tilesetInfo.shape[1]):(e.width=this.tilesetInfo.tile_size,e.height=1);var n=e.getContext("2d");if(n.fillStyle="transparent",n.fillRect(0,0,e.width,e.height),0!==t.length&&t.length===4*e.width*e.height){var r=new ImageData(t,e.width,e.height);n.putImageData(r,0,0)}else console.warn("HorizontalMultivecTrack: pixData has an incorrect length.");return e}return t}()},{key:"setSpriteProperties",value:function(){function t(t,e,n){var r=this.getTilePosAndDimensions(e,n,this.tilesetInfo.tile_size),i=r.tileX,o=i+r.tileWidth;t.width=this._refXScale(o)-this._refXScale(i),t.height=this.dimensions[1],t.x=this._refXScale(i),t.y=0}return t}()},{key:"leftTrackZoomed",value:function(){function t(t,e,n,r,i){var o=this._xScale(0)-n*this._refXScale(0);this.pMobile.position.x=o+this.position[0],this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}return t}()},{key:"zoomed",value:function(){function t(t,n,r,i){(0,d.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"zoomed",this).call(this,t,n),this.pMain.position.x=i,this.pMain.position.y=this.position[1],this.pMain.scale.x=r,this.pMain.scale.y=1,this.drawColorbar()}return t}()},{key:"calculateVisibleTiles",value:function(){function t(){var t=this;if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var e=this.tilesetInfo.resolutions.map((function(t){return+t})).sort((function(t,e){return e-t}));this.xTiles=g.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],null,this.tilesetInfo.tile_size)}else this.xTiles=g.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);var n=this.xTiles.map((function(e){return[t.zoomLevel,e]}));this.setVisibleTiles(n)}}return t}()},{key:"calculateZoomLevel",value:function(){function t(){if(this.tilesetInfo){var t=this.tilesetInfo.min_pos[0];return this.tilesetInfo.resolutions?g.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,t):g.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}}return t}()},{key:"tileToLocalId",value:function(){function t(t){return t.join(".")}return t}()},{key:"tileToRemoteId",value:function(){function t(t){return t.join(".")}return t}()},{key:"getTilePosAtPosition",value:function(){function t(t,e){if(this.tilesetInfo){var n=this.calculateZoomLevel(),r=g.tileProxy.calculateTileWidth(this.tilesetInfo,n,this.tilesetInfo.tile_size),i=this._xScale.invert(t)/r;return[n,Math.floor(i)]}}return t}()},{key:"getVisibleData",value:function(){function t(t,e){var n=this,r=this.calculateZoomLevel(),a=g.tileProxy.calculateTileWidth(this.tilesetInfo,r,this.tilesetInfo.tile_size),s=this._xScale.invert(t)/a,l=this.tilesetInfo.shape?this.tilesetInfo.shape[1]:1;this.options.selectRows&&(l=(0,y.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight));var u=this.tilesetInfo.tile_size*(s-Math.floor(s)),c=e/this.dimensions[1],h=c*l,f=Math.floor(h),d=void 0;this.options.selectRows&&(this.options.selectRowsAggregationWithRelativeHeight&&(f=this.selectRowsCumWeights.findIndex((function(t,e){return c<=t&&(e===n.selectRowsCumWeights.length-1||n.selectRowsCumWeights[e+1]>=c)}))),d=this.options.selectRows[f]);var p=this.tileToLocalId([r,Math.floor(s)]),v=this.fetchedTiles[p],b="";if(v){this.tilesetInfo.shape||(u=v.tileData.dense.length*(s-Math.floor(s)));var x=null;if(x=this.tilesetInfo.shape?Array.isArray(d)&&"client"===this.options.selectRowsAggregationMethod?d.map((function(t){return n.tilesetInfo.shape[0]*t+Math.floor(u)})):d&&"client"===this.options.selectRowsAggregationMethod?this.tilesetInfo.shape[0]*d+Math.floor(u):this.tilesetInfo.shape[0]*f+Math.floor(u):v.tileData.dense.length*f+Math.floor(u),Array.isArray(x)){var T=(0,_.default)(this.options.selectRowsAggregationMode),w=x.map((function(t){return v.tileData.dense[t]}));b=(0,m.format)(".3f")(T(w)),b+="<br/>",b+=String(x.length)+"-item "+String(this.options.selectRowsAggregationMode)}else b=(0,m.format)(".3f")(v.tileData.dense[x]),Array.isArray(d)&&(b+="<br/>",b+=String(d.length)+"-item "+String(this.options.selectRowsAggregationMode))}if(this.tilesetInfo.row_infos){b+="<br/>";var S="";this.options.selectRows&&!Array.isArray(d)?S=this.tilesetInfo.row_infos[d]:f>=0&&f<this.tilesetInfo.row_infos.length&&(S=this.tilesetInfo.row_infos[f]),"object"===(typeof S>"u"?"undefined":(0,o.default)(S))?b+=(0,i.default)(S).join("\t"):b+=S}return""+String(b)}return t}()},{key:"getMouseOverHtml",value:function(){function t(t,e){if(!this.tilesetInfo)return"";var n=this.getTilePosAtPosition(t,e),i="";if(this.options&&this.options.heatmapValueScaling&&"categorical"===this.options.heatmapValueScaling&&this.options.colorRange){var o=this.getVisibleData(t,e).split("<br/>"),a=this.options.colorRange[parseInt(o[0],10)-1],s=o[1];if((0,r.default)(a)||"NaN"===a||typeof a>"u"||"undefined"===a)return"";i='<svg width="10" height="10" style="position:relative;bottom:1px"><rect width="10" height="10" rx="2" ry="2"\n                 style="fill:'+String(a)+';stroke:black;stroke-width:2;"></svg> '+String(s)}else i+="Data value: "+String(this.getVisibleData(t,e))+"</br>",i+="Zoom level: "+String(n[0])+" tile position: "+String(n[1]);return i}return t}()}]),e}(v.default);e.default=T},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=n(28),u=h(n(259)),c=n(10);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"drawTile",value:function(){function t(t){this.renderTile(t)}return t}()},{key:"renderTile",value:function(){function t(t){if(t.graphics){var e=t.graphics,n=this.getTilePosAndDimensions(t.tileData.zoomLevel,t.tileData.tilePos,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension),r=n.tileX,i=n.tileWidth,o=t.tileData.dense;if(0!==o.length){var a=0;if(this.valueScale=null,"log"===this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minValue()),this.valueScale=(0,l.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,l.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(e.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var u=(0,c.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),h=(0,l.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]),f=0;e.lineStyle(f,u,1);var d=this.options.barFillColorTop?this.options.barFillColorTop:"green",p=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",m=(0,c.colorToHex)(d),v=(0,c.colorToHex)(p),g="barOpacity"in this.options?this.options.barOpacity:1;t.drawnAtScale=this._xScale.copy();var y=0;y="log"===this.options.valueScaling?this.valueScale(1):this.valueScale(0),delete t.svgData;for(var b=0;b<o.length;b++){var _=this._xScale(h(b)),x=this.valueScale(o[b]+a),T=this._xScale(h(b+1))-_;if(x>y?(e.beginFill(v,g),this.addSVGInfo(t,_,y,T,x-y,p)):(e.beginFill(m,g),this.addSVGInfo(t,_,x,T,y-x,d)),h(b)>this.tilesetInfo.max_pos[0])break;e.drawRect(_,t.svgData.barYValues[b],T,t.svgData.barHeights[b])}}}}return t}()}]),e}(u.default);e.default=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(30)),i=m(n(19)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(14)),c=m(n(7)),h=n(28),f=m(n(116)),d=n(10),p=n(11);function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n){(0,a.default)(this,e);var r=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n));return r.setColorScale(n.colorRange),r.opacity=n.opacity||1,r}return(0,c.default)(e,t),(0,s.default)(e,[{key:"setColorScale",value:function(){function t(t){this.colorScale=t?(0,d.colorDomainToRgbaArray)(t):p.HEATED_OBJECT_MAP,this.colorScale=this.colorScale.map((function(t){return t.map((function(t){return t/255}))}))}return t}()},{key:"rerender",value:function(){function t(t){t&&t.colorRange&&this.setColorScale(t.colorRange),this.opacity=t.opacity||1,(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"rerender",this).call(this,t)}return t}()},{key:"drawAxis",value:function(){function t(){}return t}()},{key:"drawTile",value:function(){function t(t){if(t.graphics&&t.tileData&&t.tileData.dense){var e=t.graphics,n=this.getTilePosAndDimensions(t.tileData.zoomLevel,t.tileData.tilePos),o=n.tileX,a=n.tileWidth,s=t.tileData.dense;if(0!==s.length){var l=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),u=(0,i.default)(l,2),c=u[0],f=u[1];if(c.range([254,0]).clamp(!0),this.valueScale=c,e.clear(),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var d=(0,h.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([o,o+a]);e.lineStyle(0,0,0);for(var m=0;m<s.length;m++)if(!(0,r.default)(s[m])){var v=Math.round(this.valueScale(s[m]+f));if(!(0,r.default)(+v)){var g=this._xScale(d(m)),y=this._xScale(d(m+1))-g,b=this.dimensions[1];t.xValues[m]=g,t.yValues[m]=v;var _=this.colorScale[v],x=p.GLOBALS.PIXI.utils.rgb2hex(_);if(e.beginFill(x,this.opacity),0!==m){if(d(m)>this.tilesetInfo.max_pos[0])break;0!==s[m]&&e.drawRect(g,0,y,b)}}}}}}return t}()}]),e}(f.default);e.default=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(25)),i=d(n(38)),o=d(n(5)),a=d(n(3)),s=d(n(4)),l=d(n(6)),u=d(n(7)),c=n(28),h=n(8),f=n(10);function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t,n){(0,a.default)(this,e);var r=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n));return r.seen=new i.default,r.pMain=r.pMobile,r.rows=[],r}return(0,u.default)(e,t),(0,s.default)(e,[{key:"uid",value:function(){function t(t){return t[t.length-2]}return t}()},{key:"segmentOverlap",value:function(){function t(t,e){}return t}()},{key:"drawAll",value:function(){function t(t){var e=this;this.pMain.clear();var n=new i.default,r=t.map((function(t){return n.has(e.uid(t))?null:(n.add(e.uid(t)),{from:+t[1],to:+t[2],type:t[4],uid:e.uid(t)})})).filter((function(t){return t})),o=(0,f.segmentsToRows)(r);this.rows=o,this.draw()}return t}()},{key:"draw",value:function(){function t(){var t=this.rows;if(t){var e=(0,c.scaleBand)().range([0,this.dimensions[1]]).padding(.1).domain((0,h.range)(0,this.maxRows())),n=this.pMain;n.clear(),n.lineStyle(1,255,0),n.beginFill(16740363,.8);for(var r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++){var o=t[r][i],a=this._refXScale(o.from),s=this._refXScale(o.to),l=e(r),u=s-a,f=l+e.bandwidth()-l;n.drawRect(a,l,u,f)}}}return t}()},{key:"allTilesLoaded",value:function(){function t(){var t,e=this,n=this.visibleAndFetchedIds().map((function(t){return e.fetchedTiles[t].tileData.discrete})),i=(t=[]).concat.apply(t,(0,r.default)(n));this.drawAll(i)}return t}()},{key:"initTile",value:function(){function t(t){}return t}()},{key:"maxRows",value:function(){function t(){return this.rows.length}return t}()},{key:"updateTile",value:function(){function t(t){}return t}()},{key:"destroyTile",value:function(){function t(t){var e=this;t.tileData.discrete.forEach((function(t){var n=t[t.length-2];e.seen.has(n)&&e.seen.delete(n)}))}return t}()},{key:"drawTile",value:function(){function t(t){}return t}()}]),e}(d(n(115)).default);e.default=p},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(17)),i=v(n(19)),o=v(n(38)),a=v(n(5)),s=v(n(3)),l=v(n(4)),u=v(n(6)),c=v(n(14)),h=v(n(7)),f=v(n(134)),d=v(n(79)),p=n(24),m=n(10);function v(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n,r,i,o,a,s,l,u){var c=u?t._xScale(n.yStart):t._xScale(n.xStart),h=u?t._xScale(n.yEnd):t._xScale(n.xEnd),f=u?t._yScale(n.xStart):t._yScale(n.yStart),d=u?t._yScale(n.xEnd):t._yScale(n.yEnd),p=n.uid+u,m=h-c,v=d-f,g={x:c,y:f,width:m,height:v};r&&(m<r||v<r)&&(g={x:c-r/2,y:f-r/2,width:r,height:r}),t.drawnRects[p]=g;var y=g.x+g.width,b=g.y+g.height;(g.x>i&&g.x<o||y>i&&y<o||g.y>a&&g.y<s||b>a&&b<s)&&(g.width>l||g.height>l)&&(e.drawRect(g.x,g.y,g.width,g.height),t.publish("annotationDrawn",{trackUuid:t.uuid,annotationUuid:p,viewPos:[g.x,g.y,g.width,g.height],dataPos:[n.xStart,n.xEnd,n.yStart,n.yEnd],importance:n.importance,info:{patternType:t.options.patternType}}))}var y=function(t){function e(){var t;(0,s.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,u.default)(this,(t=e.__proto__||(0,a.default)(e)).call.apply(t,[this].concat(r)));o.drawnRects={};var l=(0,f.default)(),c=l.publish,h=l.subscribe,d=l.unsubscribe;return o.publish=c,o.subscribe=h,o.unsubscribe=d,o}return(0,h.default)(e,t),(0,l.default)(e,[{key:"tileToLocalId",value:function(){function t(t){return""+String(t.join("."))}return t}()},{key:"tileToRemoteId",value:function(){function t(t){return""+String(t.join("."))}return t}()},{key:"localToRemoteId",value:function(){function t(t){var e=t.split(".");return e.slice(0,e.length-1).join(".")}return t}()},{key:"calculateZoomLevel",value:function(){function t(){var t=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),e=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(t,e);return n=Math.min(n,this.maxZoom)}return t}()},{key:"setVisibleTiles",value:function(){function t(t){var e=this;this.visibleTiles=t.map((function(t){return{tileId:e.tileToLocalId(t),remoteId:e.tileToRemoteId(t)}})),this.visibleTileIds=new o.default(this.visibleTiles.map((function(t){return t.remoteId})))}return t}()},{key:"calculateVisibleTiles",value:function(){function t(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var t=this.xTiles,e=this.yTiles,n=this.zoomLevel,r=[],i=0;i<t.length;i++)for(var o=0;o<e.length;o++){var a=[n,t[i],e[o]];r.push(a)}this.setVisibleTiles(r)}}return t}()},{key:"initTile",value:function(){function t(){}return t}()},{key:"destroyTile",value:function(){function t(){}return t}()},{key:"draw",value:function(){function t(){this.drawnRects={},(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"draw",this).call(this)}return t}()},{key:"drawTile",value:function(){function t(t){var e=this,n=t.graphics;if(n){n.clear();var r=(0,m.colorToHex)(this.options.rectangleDomainStrokeColor||"black"),i=(0,m.colorToHex)(this.options.rectangleDomainFillColor||"grey");n.lineStyle(typeof this.options.rectangleDomainStrokeWidth<"u"?this.options.rectangleDomainStrokeWidth:1,r,typeof this.options.rectangleDomainStrokeOpacity<"u"?this.options.rectangleDomainStrokeOpacity:1),n.beginFill(i,typeof this.options.rectangleDomainFillOpacity<"u"?this.options.rectangleDomainFillOpacity:.4),n.alpha=this.options.rectangleDomainOpacity||.5;var o=this.options.minSquareSize&&"none"!==this.options.minSquareSize?+this.options.minSquareSize:0,a=this.options.rectangleMinSize?+this.options.rectangleMinSize:0,s=this._xScale.range()[0],l=this._xScale.range()[1],u=this._yScale.range()[0],c=this._yScale.range()[1];t.tileData.length&&t.tileData.filter((function(t){return!(t.uid in e.drawnRects)})).forEach((function(t){g(e,n,t,o,s,l,u,c,a,"yes"===e.options.flipDiagonal),e.options.flipDiagonal&&"copy"===e.options.flipDiagonal&&g(e,n,t,o,s,l,u,c,a,!0)}))}}return t}()},{key:"exportSVG",value:function(){function t(){var t=this,n=null,o=null;if((0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"exportSVG",this)){var s=(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"exportSVG",this).call(this),l=(0,i.default)(s,2);o=l[0],n=l[1]}else n=o=document.createElement("g");var u=document.createElement("g");u.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(u);for(var h=function(){function e(e){var n=function(){function n(n){if(!n.tileData||!n.tileData.length)return"continue";n.tileData.forEach((function(r){var i=r.uid+e,o=document.createElement("g");if(o.setAttribute("transform","translate("+String(n.graphics.position.x)+","+String(n.graphics.position.y)+")scale("+String(n.graphics.scale.x)+","+String(n.graphics.scale.y)+")"),u.appendChild(o),i in t.drawnRects){var a=t.drawnRects[i],s=document.createElement("rect");s.setAttribute("x",a.x),s.setAttribute("y",a.y),s.setAttribute("width",a.width),s.setAttribute("height",a.height),s.setAttribute("fill",t.options.rectangleDomainFillColor?t.options.rectangleDomainFillColor:"grey"),s.setAttribute("opacity",.3),s.style.stroke="black",s.style.strokeWidth="1px",o.appendChild(s)}}))}return n}(),i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(t.visibleAndFetchedTiles());!(i=(s=l.next()).done);i=!0)n(s.value)}catch(c){o=!0,a=c}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}return e}(),f=[!0,!1],d=0;d<f.length;d++)h(f[d]);return[o,o]}return t}()},{key:"setPosition",value:function(){function t(t){(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"setPosition",this).call(this,t),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale().domain()[0]===t.domain()[0]&&this.xScale().domain()[1]===t.domain()[1]&&this.yScale().domain()[0]===e.domain()[0]&&this.yScale().domain()[1]===e.domain()[1]||(this.xScale(t),this.yScale(e),this.refreshTiles(),this.draw())}return t}()},{key:"leftTrackDraw",value:function(){function t(){this.draw()}return t}()}]),e}(d.default);e.default=y},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(25)),i=g(n(38)),o=g(n(19)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(14)),h=g(n(7)),f=g(n(134)),d=g(n(79)),p=n(11),m=n(24),v=n(10);function g(t){return t&&t.__esModule?t:{default:t}}var y=250,b=function(t){function e(t,n){(0,s.default)(this,e);var r=(0,u.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t,n)),i=t.pubSub;r.drawnAnnotations={},r.drawnAnnoGfx={},r.selectedAnno=null,r.options.minSquareSize=+r.options.minSquareSize;var o=(0,f.default)(),l=o.publish,c=o.subscribe,h=o.unsubscribe;return r.publish=l,r.subscribe=c,r.unsubscribe=h,r.sT=0,r.annoSelectedBound=r.annoSelected.bind(r),r.pubSubs.push(i.subscribe("annoSelected",r.annoSelectedBound)),r}return(0,h.default)(e,t),(0,l.default)(e,[{key:"projection",value:function(){function t(t){var e=(0,o.default)(t,2),n=e[0],r=e[1];return[this._xScale(n),this._yScale(r)]}return t}()},{key:"tileToLocalId",value:function(){function t(t){return""+String(t.join("."))}return t}()},{key:"tileToRemoteId",value:function(){function t(t){return""+String(t.join("."))}return t}()},{key:"localToRemoteId",value:function(){function t(t){var e=t.split(".");return e.slice(0,e.length-1).join(".")}return t}()},{key:"calculateZoomLevel",value:function(){function t(){var t=m.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),e=m.tileProxy.calculateZoomLevel(this._yScale,this.minY,this.maxY);return(0,v.min)((0,v.max)(t,e),this.maxZoom)}return t}()},{key:"setVisibleTiles",value:function(){function t(t){var e=this;this.visibleTiles=t.map((function(t){return{tileId:e.tileToLocalId(t),remoteId:e.tileToRemoteId(t)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(t){return t.tileId})))}return t}()},{key:"calculateVisibleTiles",value:function(){function t(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.tilesetInfo.max_zoom,this.maxSize),this.yTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.tilesetInfo.max_zoom,this.maxSize);for(var t=this.zoomLevel,e=[],n=0;n<this.xTiles.length;n++)for(var r=0;r<this.yTiles.length;r++)e.push([t,this.xTiles[n],this.yTiles[r]]);this.setVisibleTiles(e)}}return t}()},{key:"draw",value:function(){function t(){this.drawnAnnotations={},(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"draw",this).call(this)}return t}()},{key:"drawTile",value:function(){function t(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.graphics){t.graphics.__tile__=t;var i=t.graphics;i.clear(),this.setBorderStyle(i),this.setFill(i),i.alpha=+this.options.rectangleDomainOpacity,t.tileData.length&&t.tileData.filter((function(t){return!(t.uid in e.drawnAnnotations)||n})).forEach((function(t){var n=e.projection([t.xStart,t.yStart]),a=(0,o.default)(n,2),s=a[0],l=a[1],u=e.projection([t.xEnd,t.yEnd]),c=(0,o.default)(u,2),h=c[0],f=c[1];e.options.exclude&&e.options.exclude.indexOf(t.uid)>=0||e.drawAnnotation(e.prepAnnotation(i,t.uid,s,l,h-s,f-l,t),r)}))}}return t}()},{key:"prepAnnotation",value:function(){function t(t,e,n,r,i,o,a){var s=void 0;try{s=JSON.parse(a.fields)}catch{}return{graphics:t,id:a.id,uid:e,annotation:{x:n,y:r,width:i,height:o},dataPos:[a.xStart,a.xEnd,a.yStart,a.yEnd],importance:a.importance,info:s}}return t}()},{key:"drawAnnotation",value:function(){function t(t,e){var n=this,r=t.graphics,i=t.id,o=t.uid,a=t.annotation,s=t.dataPos,l=t.importance,u=t.info;this.options.minSquareSize&&(a.width<this.options.minSquareSize||a.height<this.options.minSquareSize)&&(a.x=(a.x+a.width)/2,a.y=(a.y+a.height)/2,a.width=this.options.minSquareSize,a.height=this.options.minSquareSize),this.drawnAnnotations[o]=a;var c=[a.x,a.y,a.width,a.height],h=this.drawnAnnoGfx[o];h||(h=new p.GLOBALS.PIXI.Graphics,this.drawnAnnoGfx[o]=h),-1===r.children.indexOf(h)&&r.addChild(h),this._drawRect(h,c,o),r.interactive=!0,h.interactive=!0,h.buttonMode=!0;var f={id:i,uid:o,dataPos:s,importance:l,info:u,viewPos:[a.x,a.y,a.x+a.width,a.y+a.height]};h.mouseover=function(){return n.hover(h,c,o)},h.mouseout=function(){return n.blur(h,c,o)},h.mousedown=function(){return n.mouseDown()},h.mouseup=function(t){return n.mouseUp(h,c,o,t,f)},e||this.publish("annotationDrawn",{trackUuids:this.uuid,annotationUuid:o,annotationId:i,viewPos:c,dataPos:s,importance:l,info:u})}return t}()},{key:"_drawRect",value:function(){function t(t,e,n){var i=this.options.rectangleDomainStrokeColor,o=this.options.rectangleDomainStrokeWidth,a=this.options.rectangleDomainStrokeOpacity,s=this.options.rectangleDomainFillColor,l=this.options.rectangleDomainFillOpacity;this.hoveredAnno===n&&(i=this.options.hoverColor,o=this.options.rectangleDomainStrokeWidth+1||2,a=1,s=this.options.hoverColor,l=this.options.rectangleDomainFillOpacity),this.selectedAnno&&this.selectedAnno.uid===n&&(i=this.options.selectColor,o=this.options.rectangleDomainStrokeWidth+1||2,a=1,s=this.options.selectColor,l=(0,v.max)(.33,this.options.rectangleDomainFillOpacity)),t.clear(),this.options.trackBorderBgWidth&&(this.setBorderStyle(t,this.options.trackBorderBgColor,this.options.trackBorderBgWidth,this.options.trackBorderBgAlpha),this.setFill(t,s,0),t.drawRect.apply(t,(0,r.default)(e))),this.setBorderStyle(t,i,o,a),this.setFill(t,s,l),t.drawRect.apply(t,(0,r.default)(e)),t.__viewPos__=e}return t}()},{key:"context",value:function(){function t(t,e,n){return function(r){return r(t,e,n)}}return t}()},{key:"click",value:function(){function t(t,e,n,r,i){this.select(t,e,n),this.pubSub.publish("app.click",{type:"annotation",event:r,payload:i})}return t}()},{key:"mouseDown",value:function(){function t(){this.sT=performance.now()}return t}()},{key:"mouseUp",value:function(){function t(t,e,n,r,i){performance.now()-this.sT<=y&&this.click(t,e,n,r,i)}return t}()},{key:"hover",value:function(){function t(t,e,n){this.hoveredAnno=n,this._drawRect(t,e,n),this.animate()}return t}()},{key:"focus",value:function(){function t(t,e,n){this._drawRect(t,e,n),this.animate()}return t}()},{key:"blur",value:function(){function t(t,e,n){this.hoveredAnno=null,this._drawRect(t,e,n),this.animate()}return t}()},{key:"select",value:function(){function t(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=null,o=null;this.selectedAnno&&(i=this.selectedAnno.graphics,o=this.selectedAnno.uid),this.selectedAnno={graphics:t,uid:n},this.focus(t,e,n),this.options.onSelect&&!r&&(window[this.options.onSelect](n),this.pubSub.publish("annoSelected",n)),i&&o&&this.blur(i,i.__viewPos__,o)}return t}()},{key:"unselect",value:function(){function t(){var t=this.selectedAnno.graphics,e=this.selectedAnno.uid;this.selectedAnno=null,this.blur(t,t.__viewPos__,e)}return t}()},{key:"annoSelected",value:function(){function t(t){if(!this.selectedAnno||this.selectedAnno.uid!==t){this.selectedAnno&&this.unselect();var e=this.drawnAnnoGfx[t];e&&this.select(e,e.__viewPos__,t,!0)}}return t}()},{key:"exportSVG",value:function(){function t(){var t=this,n=null,r=null;if((0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"exportSVG",this)){var i=(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"exportSVG",this).call(this),s=(0,o.default)(i,2);r=s[0],n=s[1]}else n=r=document.createElement("g");var l=document.createElement("g");return l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(l),this.visibleAndFetchedTiles().filter((function(t){return t.tileData&&t.tileData.length})).map((function(t){return{graphics:t.graphics,td:t.tileData}})).forEach((function(e){var n=e.td,r=e.graphics,i=document.createElement("g");if(i.setAttribute("transform","translate("+String(r.position.x)+","+String(r.position.y)+")scale("+String(r.scale.x)+","+String(r.scale.y)+")"),l.appendChild(i),n.uid in t.drawnAnnotations){var o=t.drawnAnnotations[n.uid],a=document.createElement("rect");a.setAttribute("x",o.x),a.setAttribute("y",o.y),a.setAttribute("width",o.width),a.setAttribute("height",o.height),a.setAttribute("fill",t.options.fillColor||"grey"),a.setAttribute("opacity",.3),a.style.stroke=t.options.fillColor||"grey",a.style.strokeWidth="1px",i.appendChild(a)}})),[r,r]}return t}()},{key:"setBorderStyle",value:function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.rectangleDomainStrokeColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.rectangleDomainStrokeWidth,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.rectangleDomainStrokeOpacity;t.lineStyle(typeof n<"u"?n:1,(0,v.colorToHex)(e||"black"),typeof r<"u"?r:1)}return t}()},{key:"setFill",value:function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.rectangleDomainFillColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.rectangleDomainFillOpacity;t.beginFill((0,v.colorToHex)(e||"grey"),typeof n<"u"?n:.4)}return t}()},{key:"setPosition",value:function(){function t(t){(0,c.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"setPosition",this).call(this,t),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.refreshTiles(),this.draw()}return t}()},{key:"minX",get:function(){function t(){return this.tilesetInfo&&this.tilesetInfo.min_pos?this.tilesetInfo.min_pos[0]:0}return t}()},{key:"maxX",get:function(){function t(){return this.tilesetInfo&&this.tilesetInfo.max_pos?this.tilesetInfo.max_pos[0]:this.tilesetInfo.max_width||this.tilesetInfo.max_size}return t}()},{key:"minY",get:function(){function t(){return this.minX}return t}()},{key:"maxY",get:function(){function t(){return this.maxX}return t}()},{key:"maxSize",get:function(){function t(){return this.tilesetInfo.max_pos&&Math.max(this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1])||(this.tilesetInfo.max_size?this.tilesetInfo.max_size:0)}return t}()}]),e}(d.default);e.default=b},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(37)),i=d(n(5)),o=d(n(3)),a=d(n(4)),s=d(n(6)),l=d(n(14)),u=d(n(7)),c=n(9),h=d(n(40)),f=n(11);function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t,n,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n));return a.pubSub=t.pubSub,a.options=n,a.isVertical=r,a.rects={},a.defaultColor=(0,c.color)("red"),a}return(0,u.default)(e,t),(0,a.default)(e,[{key:"draw",value:function(){function t(){var t=this,n=typeof this.options.minRectWidth<"u"?this.options.minRectWidth:10,o=typeof this.options.fill<"u"?(0,c.color)(this.options.fill):this.defaultColor,a=typeof this.options.fillOpacity<"u"?+this.options.fillOpacity:.2,s=typeof this.options.stroke<"u"?(0,c.color)(this.options.stroke):this.defaultColor,u=typeof this.options.strokeWidth<"u"?+this.options.strokeWidth:1,h=typeof this.options.strokeOpacity<"u"?+this.options.strokeOpacity:0,d=void 0;this.options.strokePos&&this.options.strokePos.length&&(d=Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]),(0,l.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"draw",this).call(this);var p=this.pMain;p.clear();var m=performance.now();this.options.regions.forEach((function(e){var r=String(e[0])+"-"+String(e[1]);t.rects[r]||(t.rects[r]={graphics:new f.GLOBALS.PIXI.Graphics},p.addChild(t.rects[r].graphics)),t.rects[r].timeStamp=m;var i=(0,c.color)(e[2])||o,l=(0,c.color)(e[3])||s;l||(l=i);var v=f.GLOBALS.PIXI.utils.rgb2hex([i.r/255,i.g/255,i.b/255]),g=f.GLOBALS.PIXI.utils.rgb2hex([l.r/255,l.g/255,l.b/255]);d?(p.lineStyle(1,g,0),p.beginFill(g,+e[5]||h)):(p.lineStyle(u,g,+e[5]||h),p.beginFill(v,+e[4]||a));var y=t.isVertical?t._yScale:t._xScale,b=y(+e[0]),_=y(+e[1]),x=_-b,T=typeof e[6]<"u"?e[6]:n;x<T&&(b=(b+_)/2-T/2,x=T),d?(p.lineStyle(1,g,0),p.beginFill(g,+e[5]||h),d.forEach((function(e){("top"===e||"around"===e)&&(t.isVertical?p.drawRect(0,b,u,x):p.drawRect(b,0,x,u)),("right"===e||"around"===e)&&(t.isVertical?p.drawRect(0,b,t.dimensions[0],u):p.drawRect(b,0,u,t.dimensions[1])),("bottom"===e||"around"===e)&&(t.isVertical?p.drawRect(t.dimensions[0]-u,b,u,x):p.drawRect(b,t.dimensions[1]-u,x,u)),("left"===e||"around"===e)&&(t.isVertical?p.drawRect(0,b+x-u,t.dimensions[0],u):p.drawRect(b+x-u,0,u,t.dimensions[1]))}))):p.lineStyle(u,g,+e[5]||h),t.rects[r].graphics.clear(),t.rects[r].graphics.interactive=!0,t.rects[r].graphics.buttonMode=!0,p.beginFill(v,+e[4]||a),t.isVertical?(p.drawRect(0,b,t.dimensions[0],x),t.rects[r].graphics.hitArea=new f.GLOBALS.PIXI.Rectangle(0,b,t.dimensions[0],x)):(p.drawRect(b,0,x,t.dimensions[1]),t.rects[r].graphics.hitArea=new f.GLOBALS.PIXI.Rectangle(b,0,x,t.dimensions[1])),t.rects[r].graphics.mousedown=function(){t.rects[r].mouseDownTime=performance.now()},t.rects[r].graphics.mouseup=function(n){performance.now()-t.rects[r].mouseDownTime<f.MAX_CLICK_DELAY&&t.pubSub.publish("app.click",{type:"annotation",event:n,payload:e})}})),(0,r.default)(this.rects).filter((function(t){return t.timeStamp!==m})).forEach((function(t){return p.removeChild(t.graphics)}))}return t}()},{key:"setPosition",value:function(){function t(t){(0,l.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"setPosition",this).call(this,t),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.draw()}return t}()}]),e}(h.default);e.default=p},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(17)),i=p(n(38)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),h=p(n(79)),f=n(24),d=n(10);function p(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t,n){(0,a.default)(this,e);var r=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n));return r.drawnRects=new i.default,r.pMain=r.pMobile,r}return(0,c.default)(e,t),(0,s.default)(e,[{key:"tileToLocalId",value:function(){function t(t){return""+String(t.join("."))}return t}()},{key:"tileToRemoteId",value:function(){function t(t){return""+String(t.join("."))}return t}()},{key:"localToRemoteId",value:function(){function t(t){var e=t.split(".");return e.slice(0,e.length-1).join(".")}return t}()},{key:"calculateZoomLevel",value:function(){function t(){var t=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),e=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(t,e);return n=Math.min(n,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}return t}()},{key:"setVisibleTiles",value:function(){function t(t){var e=this;this.visibleTiles=t.map((function(t){return{tileId:e.tileToLocalId(t),remoteId:e.tileToRemoteId(t)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(t){return t.tileId})))}return t}()},{key:"calculateVisibleTiles",value:function(){function t(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var t=this._xScale.copy();t.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=f.tileProxy.calculateTiles(this.zoomLevel,t,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=f.tileProxy.calculateTiles(this.zoomLevel,t,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,n=this.yTiles,r=this.zoomLevel,i=this.tilesetInfo.max_width/Math.pow(2,r),o=[],a=0;a<e.length;a++)for(var s=a;s<n.length;s++)if(!((s-a-2)*(this._xScale(i)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])){var l=[r,e[a],n[s]];l.mirrored=!1,o.push(l)}this.setVisibleTiles(o)}}return t}()},{key:"initTile",value:function(){function t(t){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"initTile",this).call(this,t),this.drawTile(t)}return t}()},{key:"destroyTile",value:function(){function t(t,e){}return t}()},{key:"draw",value:function(){function t(){this.delayDrawing||this.drawnRects.clear(),(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"draw",this).call(this)}return t}()},{key:"drawTile",value:function(){function t(t){if(t.graphics){var e=t.graphics;e.clear();var n=(0,d.colorToHex)(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),i=(0,d.colorToHex)(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");if(e.lineStyle(1/this.pMain.scale.x,n,1),e.beginFill(i,.4),e.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5,t.tileData.sort){var o=!0,a=!1,s=void 0;try{for(var l,u=(0,r.default)(t.tileData);!(o=(l=u.next()).done);o=!0){var c=l.value,h=this._refXScale(c.xStart),f=this._refXScale(c.xEnd),p=this._refYScale(c.yStart),m=this._refYScale(c.yEnd),v=c.uid;this.drawnRects.has(v)||(this.drawnRects.add(v),e.drawRect(h,p,f-h,m-p),e.pivot.x=this._refXScale(0),e.pivot.y=this._refYScale(0),e.scale.x=-1/Math.sqrt(2),e.rotation=-3*Math.PI/4,e.scale.y=1/Math.sqrt(2),e.position.x=this._refXScale(0),e.position.y=0)}}catch(g){a=!0,s=g}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}}}}return t}()},{key:"setPosition",value:function(){function t(t){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"setPosition",this).call(this,t),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return t}()},{key:"refScalesChanged",value:function(){function t(t,n){for(var r in(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"refScalesChanged",this).call(this,t,n),this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){var a=i.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}return t}()},{key:"zoomed",value:function(){function t(t,n,r,i,a){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"zoomed",this).call(this,t,n,r,i,a),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1]),this.draw()}return t}()},{key:"leftTrackDraw",value:function(){function t(){this.draw()}return t}()}]),e}(h.default);e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(17)),i=p(n(38)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),h=p(n(79)),f=n(24),d=n(10);function p(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t,n){(0,a.default)(this,e);var r=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n));return r.drawnRects=new i.default,r}return(0,c.default)(e,t),(0,s.default)(e,[{key:"tileToLocalId",value:function(){function t(t){return""+String(t.join("."))}return t}()},{key:"tileToRemoteId",value:function(){function t(t){return""+String(t.join("."))}return t}()},{key:"localToRemoteId",value:function(){function t(t){var e=t.split(".");return e.slice(0,e.length-1).join(".")}return t}()},{key:"calculateZoomLevel",value:function(){function t(){var t=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),e=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(t,e);return n=Math.min(n,this.maxZoom)}return t}()},{key:"setVisibleTiles",value:function(){function t(t){var e=this;this.visibleTiles=t.map((function(t){return{tileId:e.tileToLocalId(t),remoteId:e.tileToRemoteId(t)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(t){return t.tileId})))}return t}()},{key:"calculateVisibleTiles",value:function(){function t(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=f.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=f.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var t=this.xTiles,e=this.yTiles,n=this.zoomLevel,r=[],i=0;i<t.length;i++)for(var o=0;o<e.length;o++){var a=[n,t[i],e[o]];r.push(a)}this.setVisibleTiles(r)}}return t}()},{key:"initTile",value:function(){function t(t){}return t}()},{key:"destroyTile",value:function(){function t(t,e){}return t}()},{key:"draw",value:function(){function t(){this.drawnRects.clear(),(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"draw",this).call(this)}return t}()},{key:"drawTile",value:function(){function t(t){if(t.graphics){var e=t.graphics;e.clear();var n=(0,d.colorToHex)("green");e.lineStyle(1,255,1),e.beginFill(n,.8),e.alpha=.5;var i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(t.tileData);!(i=(s=l.next()).done);i=!0){var u=s.value,c=this._xScale(u.xStart),h=this._xScale(u.xEnd),f=this._yScale(u.yStart),p=this._yScale(u.yEnd),m=u.uid;if(!this.drawnRects.has(m)){this.drawnRects.add(m);var v=6,g=6,y=p-f,b=h-c,_=(c+h)/2,x=(f+p)/2;y<v&&(y=v),b<g&&(b=g),e.drawRect(_-y/2,x-b/2,y,b)}}}catch(T){o=!0,a=T}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}return t}()},{key:"setPosition",value:function(){function t(t){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"setPosition",this).call(this,t),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.refreshTiles(),this.draw()}return t}()}]),e}(h.default);e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(5)),i=m(n(3)),o=m(n(4)),a=m(n(6)),s=m(n(14)),l=m(n(7)),u=m(n(180)),c=m(n(40)),h=m(n(73)),f=m(n(140)),d=n(10),p=n(11);function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n)),s=t.dataConfig,l=t.animate,u=t.pubSub;o.searchField=null,o.chromInfo=null,o.animate=l;var c=s.server,d=s.tilesetUid,m=String(c)+"/chrom-sizes/?id="+String(d);return(0,h.default)(m,(function(t){o.chromInfo=t,o.searchField=new f.default(o.chromInfo),o.draw(),o.texts=[];for(var e=0;e<o.chromInfo.cumPositions.length;e++){for(var n=[],r=0;r<o.chromInfo.cumPositions.length;r++){var i=String(o.chromInfo.cumPositions[e].chr)+"/"+String(o.chromInfo.cumPositions[r].chr),a=new p.GLOBALS.PIXI.Text(i,{fontSize:"14px",fontFamily:"Arial",fill:"red"});a.anchor.x=.5,a.anchor.y=.5,a.visible=!1,a.hashValue=Math.random(),n.push(a),o.pMain.addChild(a)}o.texts.push(n)}o.draw(),o.animate()}),u),o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"draw",value:function(){function t(){var t=[];if(this.texts&&this.searchField){for(var e=(0,d.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,d.absToChr)(this._xScale.domain()[1],this.chromInfo),r=(0,d.absToChr)(this._yScale.domain()[0],this.chromInfo),i=(0,d.absToChr)(this._yScale.domain()[1],this.chromInfo),o=0;o<this.texts.length;o++)for(var a=0;a<this.texts.length;a++)this.texts[o][a].visible=!1;for(var s=e[3];s<=n[3];s++)for(var l=r[3];l<=i[3];l++){var u=this.chromInfo.cumPositions[s],c=this.chromInfo.cumPositions[l],h=u.pos+this.chromInfo.chromLengths[u.chr]/2,f=c.pos+this.chromInfo.chromLengths[c.chr]/2,p=this._xScale(h),m=this._yScale(f),v=this.texts[s][l];v.x=p,v.y=m,v.updateTransform();var g=v.getBounds(),y=g.width/2,b=g.height/2;p+y>this.dimensions[0]?v.x-=p+y-this.dimensions[0]:p-y<0&&(v.x-=p-y),m+b>this.dimensions[1]?v.y-=m+b-this.dimensions[1]:m-b<0&&(v.y-=m-b),v.visible=!0,t.push({importance:this.texts[s][l].hashValue,text:this.texts[s][l],caption:null})}this.hideOverlaps(t)}}return t}()},{key:"hideOverlaps",value:function(){function t(t){var e=[];e=t.map((function(t){var e=t.text;e.updateTransform();var n=e.getBounds();return[n.x,n.y,n.x+n.width,n.y+n.height]})),(0,u.default)(e,(function(e,n){t[e].importance>t[n].importance?t[n].text.visible=0:t[e].text.visible=0}))}return t}()},{key:"setPosition",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setPosition",this).call(this,t),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.draw()}return t}()}]),e}(c.default);e.default=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(25)),i=v(n(19)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(14)),c=v(n(7)),h=v(n(40)),f=v(n(73)),d=v(n(140)),p=n(10),m=n(11);function v(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(t,n){(0,a.default)(this,e);var r=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n)),i=t.chromInfoPath,s=t.dataConfig,u=t.animate,c=t.pubSub,h=t.orientation,p=void 0===h?"2d":h,v=t.isOverlay,g=void 0!==v&&v;r.searchField=null,r.chromInfo=null,r.animate=u,r.orientation=p,r.isOverlay=g;var y=i;return y||(y=String(s.server)+"/chrom-sizes/?id="+String(s.tilesetUid)),(0,f.default)(y,(function(t){r.chromInfo=t,r.searchField=new d.default(r.chromInfo),r.texts=[],r.lineGraphics=new m.GLOBALS.PIXI.Graphics,r.lineGraphics1dH=new m.GLOBALS.PIXI.Graphics,r.lineGraphics1dV=new m.GLOBALS.PIXI.Graphics,r.lineGraphics2d=new m.GLOBALS.PIXI.Graphics,r.mask1dH=new m.GLOBALS.PIXI.Graphics,r.mask1dV=new m.GLOBALS.PIXI.Graphics,r.mask2d=new m.GLOBALS.PIXI.Graphics,r.lineGraphics.addChild(r.lineGraphics1dH),r.lineGraphics1dH.addChild(r.mask1dH),r.lineGraphics.addChild(r.lineGraphics1dV),r.lineGraphics1dV.addChild(r.mask1dV),r.lineGraphics.addChild(r.lineGraphics2d),r.lineGraphics2d.addChild(r.mask2d),r.pMain.addChild(r.lineGraphics),r.draw(),r.animate()}),c),r}return(0,c.default)(e,t),(0,s.default)(e,[{key:"drawLines",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.orientation,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.lineGraphics;this.isOverlay&&"1d-horizontal"===t&&(r=this.lineGraphics1dH),this.isOverlay&&"1d-vertical"===t&&(r=this.lineGraphics1dV),this.isOverlay&&"2d"===t&&(r=this.lineGraphics2d);var i=(0,p.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),o=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;r.lineStyle(o,i,1),("2d"===t||"1d-horizontal"===t)&&(r.moveTo(this._xScale(0)+e,n),r.lineTo(this._xScale(0)+e,this.dimensions[1]+n)),("2d"===t||"1d-vertical"===t)&&(r.moveTo(e,this._yScale(0)+n),r.lineTo(this.dimensions[0]+e,this._yScale(0)+n));for(var a=0;a<this.chromInfo.cumPositions.length;a++){var s=this.chromInfo.cumPositions[a],l=s.pos+ +this.chromInfo.chromLengths[s.chr]+1;("2d"===t||"1d-horizontal"===t)&&(r.moveTo(this._xScale(l)+e,n),r.lineTo(this._xScale(l)+e,this.dimensions[1]+n)),("2d"===t||"1d-vertical"===t)&&(r.moveTo(e,this._yScale(l)+n),r.lineTo(this.dimensions[0]+e,this._yScale(l)+n))}}return t}()},{key:"draw",value:function(){function t(){if(this.texts&&this.searchField)if(this.lineGraphics.clear(),this.isOverlay){this.lineGraphics1dH.clear(),this.lineGraphics1dV.clear(),this.lineGraphics2d.clear(),this.mask1dH.clear(),this.mask1dV.clear(),this.mask2d.clear(),this.mask1dH.beginFill(16777215),this.mask1dV.beginFill(16777215),this.mask2d.beginFill(16711680);for(var t=0;t<this.options.orientationsAndPositions.length;t++){var e=this.options.orientationsAndPositions[t].orientation,n=this.options.orientationsAndPositions[t].position,r=n.left,i=n.top,o=n.width,a=n.height;"1d-horizontal"===e&&this.mask1dH.drawRect(r,i,o,a),"1d-vertical"===e&&this.mask1dV.drawRect(r,i,o,a),"2d"===e&&this.mask2d.drawRect(r,i,o,a),this.drawLines(e,r,i)}this.lineGraphics1dH.mask=this.mask1dH,this.lineGraphics1dV.mask=this.mask1dV,this.lineGraphics2d.mask=this.mask2d}else this.drawLines()}return t}()},{key:"setPosition",value:function(){function t(t){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"setPosition",this).call(this,t);var n=(0,i.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.draw()}return t}()},{key:"createSvgLine",value:function(){function t(t,e,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",t),a.setAttribute("x2",e),a.setAttribute("y1",n),a.setAttribute("y2",r),a.setAttribute("stroke",i),a.setAttribute("stroke-width",o),a}return t}()},{key:"drawLinesSvg",value:function(){function t(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",s=this.options.lineStrokeWidth;if("2d"===e||"1d-vertical"===e){var l=this._yScale(0);l>0&&l<o+r&&t.appendChild(this.createSvgLine(i,n+i,l+o,l+o,a,s))}if("2d"===e||"1d-horizontal"===e){var u=this._xScale(0);u>0&&u<i+n&&t.appendChild(this.createSvgLine(u+i,u+i,o,r+o,a,s))}for(var c=0;c<this.chromInfo.cumPositions.length;c++){var h=this.chromInfo.cumPositions[c],f=h.pos+ +this.chromInfo.chromLengths[h.chr]+1;if("2d"===e||"1d-vertical"===e){var d=this._yScale(f);d>0&&d<o+r&&t.appendChild(this.createSvgLine(i,n+i,d+o,d+o,a,s))}if("2d"===e||"1d-horizontal"===e){var p=this._xScale(f);p>0&&p<i+n&&t.appendChild(this.createSvgLine(p+i,p+i,o,r+o,a,s))}}}return t}()},{key:"exportSVG",value:function(){function t(){var t=null,n=null;if((0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"exportSVG",this)){var a=(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"exportSVG",this).call(this),s=(0,i.default)(a,2);n=s[0],t=s[1]}else t=n=document.createElement("g");var l=document.createElement("g");if(t.appendChild(l),n.setAttribute("id","ChromosomeGrid"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),!this.chromInfo)return[n,t];if(this.isOverlay)for(var c=0;c<this.options.orientationsAndPositions.length;c++){var h=this.options.orientationsAndPositions[c].orientation,f=this.options.orientationsAndPositions[c].position,d=f.left,p=f.top,m=f.width,v=f.height;this.drawLinesSvg(l,h,m,v,d,p)}else this.drawLinesSvg.apply(this,[l,this.orientation].concat((0,r.default)(this.dimensions)));return[n,t]}return t}()}]),e}(h.default);e.default=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(14)),l=d(n(7)),u=n(9),c=d(n(40)),h=d(n(73)),f=n(11);function d(t){return t&&t.__esModule?t:{default:t}}var p=300,m=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n)),s=t.chromInfoPath,l=t.pubSub;return o.pubSub=l,o.rects={},(0,h.default)(s,(function(t){o.chromInfo=t,o.draw()}),o.pubSub),o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"draw",value:function(){function t(){var t=this;if(this.chromInfo){var n=this.options.minRectWidth?this.options.minRectWidth:10,i=this.options.minRectWidth?this.options.minRectHeight:10;(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"draw",this).call(this);var o=this.pMain;o.clear();var a=performance.now();this.options.regions.forEach((function(e){var r=e.slice(0,6).join("-");t.rects[r]||(t.rects[r]={graphics:new f.GLOBALS.PIXI.Graphics},o.addChild(t.rects[r].graphics)),t.rects[r].timeStamp=a;var s=(0,u.color)(e[6]),l=(0,u.color)(e[7]);l||(l=s);var c=f.GLOBALS.PIXI.utils.rgb2hex([s.r/255,s.g/255,s.b/255]),h=f.GLOBALS.PIXI.utils.rgb2hex([l.r/255,l.g/255,l.b/255]);o.lineStyle(1,h,l.opacity),o.beginFill(c,s.opacity);var d=t._xScale(t.chromInfo.chrPositions[e[0]].pos+ +e[1]),m=t._xScale(t.chromInfo.chrPositions[e[0]].pos+ +e[2]),v=t._yScale(t.chromInfo.chrPositions[e[3]].pos+ +e[4]),g=t._yScale(t.chromInfo.chrPositions[e[3]].pos+ +e[5]),y=m-d,b=g-v,_=typeof e[8]<"u"?e[8]:n,x=typeof e[9]<"u"?e[9]:i;y<_&&(d=(d+m)/2-_/2,y=_),b<x&&(v=(v+g)/2-x/2,b=x),o.drawRect(d,v,y,b),t.rects[r].graphics.clear(),t.rects[r].graphics.interactive=!0,t.rects[r].graphics.buttonMode=!0,t.rects[r].graphics.hitArea=new f.GLOBALS.PIXI.Rectangle(d,v,y,b),t.rects[r].graphics.mousedown=function(){t.rects[r].mouseDownTime=performance.now()},t.rects[r].graphics.mouseup=function(n){performance.now()-t.rects[r].mouseDownTime<p&&t.pubSub.publish("app.click",{type:"annotation",event:n,payload:e})}}))}}return t}()},{key:"setPosition",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setPosition",this).call(this,t),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.draw()}return t}()}]),e}(c.default);e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=T(n(37)),i=T(n(19)),o=T(n(18)),a=T(n(630)),s=T(n(35)),l=T(n(5)),u=T(n(3)),c=T(n(4)),h=T(n(6)),f=T(n(14)),d=T(n(7)),p=T(n(180)),m=n(28),v=n(20),g=T(n(40)),y=T(n(73)),b=T(n(140)),_=n(10),x=n(11);function T(t){return t&&t.__esModule?t:{default:t}}var w=200,S=6,E=2,k=7829367,C=function(t){function e(t,n){(0,u.default)(this,e);var r=(0,h.default)(this,(e.__proto__||(0,l.default)(e)).call(this,t,n)),i=t.dataConfig,o=t.animate,a=t.chromInfoPath,s=t.isShowGlobalMousePosition;r.searchField=null,r.chromInfo=null,r.dataConfig=i,r.pTicks=new x.GLOBALS.PIXI.Graphics,r.pMain.addChild(r.pTicks),r.gTicks={},r.tickTexts={},r.options=n,r.isShowGlobalMousePosition=s,r.textFontSize=12,r.textFontFamily="Arial",r.textFontColor="#808080",r.textStrokeColor=r.getTheme()===x.THEME_DARK?"#000000":"#ffffff",r.pixiTextConfig={fontSize:+r.options.fontSize?+r.options.fontSize+"px":String(r.textFontSize)+"px",fontFamily:r.textFontFamily,fill:r.options.color||r.textFontColor,lineJoin:"round",stroke:r.options.stroke||r.textStrokeColor,strokeThickness:2},r.stroke=(0,_.colorToHex)(r.pixiTextConfig.stroke),r.tickWidth=w,r.tickHeight=S,r.tickTextSeparation=E,r.tickColor=r.options.tickColor?(0,_.colorToHex)(r.options.tickColor):k,r.animate=o,r.pubSubs=[],r.options.showMousePosition&&!r.hideMousePosition&&(r.hideMousePosition=(0,_.showMousePosition)(r,r.is2d,r.isShowGlobalMousePosition()));var c=a;return c||(c=String(i.server)+"/chrom-sizes/?id="+String(i.tilesetUid)),(0,y.default)(c,(function(t){r.chromInfo=t,r.searchField=new b.default(r.chromInfo),r.rerender(r.options,!0),r.draw(),r.animate()}),r.pubSub),r}return(0,d.default)(e,t),(0,c.default)(e,[{key:"initBoundsTicks",value:function(){function t(){this.pTicks&&(this.pMain.removeChild(this.pTicks),this.pTicks=null),this.gBoundTicks||(this.gBoundTicks=new x.GLOBALS.PIXI.Graphics,this.leftBoundTick=new x.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.rightBoundTick=new x.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.gBoundTicks.addChild(this.leftBoundTick),this.gBoundTicks.addChild(this.rightBoundTick),this.pMain.addChild(this.gBoundTicks)),this.texts=[]}return t}()},{key:"initChromLabels",value:function(){function t(){if(this.chromInfo){this.gBoundTicks&&(this.pMain.removeChild(this.gBoundTicks),this.gBoundTicks=null),this.pTicks||(this.pTicks=new x.GLOBALS.PIXI.Graphics,this.pMain.addChild(this.pTicks)),this.texts=[],this.pTicks.removeChildren();for(var t=0;t<this.chromInfo.cumPositions.length;t++){var e=this.chromInfo.cumPositions[t].chr;this.gTicks[e]=new x.GLOBALS.PIXI.Graphics,this.tickTexts[e]||(this.tickTexts[e]=[]);var n=new x.GLOBALS.PIXI.Text(e,this.pixiTextConfig);n.hashValue=Math.random(),this.pTicks.addChild(n),this.pTicks.addChild(this.gTicks[e]),this.texts.push(n)}}}return t}()},{key:"rerender",value:function(){function t(t,n){var r=(0,s.default)(t);!n&&r===this.prevOptions||(this.prevOptions=r,this.options=t,this.pixiTextConfig.fontSize=+this.options.fontSize?+this.options.fontSize+"px":this.pixiTextConfig.fontSize,this.pixiTextConfig.fill=this.options.color||this.pixiTextConfig.fill,this.pixiTextConfig.stroke=this.options.stroke||this.pixiTextConfig.stroke,this.stroke=(0,_.colorToHex)(this.pixiTextConfig.stroke),this.tickColor=this.options.tickColor?(0,_.colorToHex)(this.options.tickColor):k,"ends"===this.options.tickPositions?this.initBoundsTicks():this.initChromLabels(),(0,f.default)(e.prototype.__proto__||(0,l.default)(e.prototype),"rerender",this).call(this,t,n),this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,_.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}return t}()},{key:"formatTick",value:function(){function t(t){var e=this._xScale.domain(),n=e[1]-e[0],r=(0,v.precisionPrefix)(t,n),i=(0,v.format)(","),o=(0,v.formatPrefix)(",."+String(r),n),a=i;return"si"===this.options.tickFormat?a=o:"plain"===this.options.tickFormat?a=i:"ends"===this.options.tickPositions&&(a=o),a(t)}return t}()},{key:"drawBoundsTicks",value:function(){function t(t,e){var n=this.gBoundTicks;n.clear(),n.lineStyle(1,0);var r=this.options.reverseOrientation?0:this.dimensions[1],i=this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight;n.moveTo(1,r),n.lineTo(1,i),n.moveTo(this.dimensions[0]-1,r),n.lineTo(this.dimensions[0]-1,i),this.leftBoundTick.x=0,this.leftBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.leftBoundTick.text=String(t[0])+": "+String(this.formatTick(t[1])),this.leftBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.x=this.dimensions[0],this.rightBoundTick.text=String(e[0])+": "+String(this.formatTick(e[1])),this.rightBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.rightBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.anchor.x=1,this.flipText&&(this.leftBoundTick.scale.x=-1,this.leftBoundTick.anchor.x=1,this.rightBoundTick.scale.x=-1,this.rightBoundTick.anchor.x=0),this.leftBoundTick.tickLine=[1,this.dimensions[1],1,this.dimensions[1]-this.tickHeight],this.rightBoundTick.tickLine=[this.dimensions[0]-1,this.dimensions[1],this.dimensions[0]-1,this.dimensions[1]-this.tickHeight],this.tickTexts={},this.tickTexts.all=[this.leftBoundTick,this.rightBoundTick]}return t}()},{key:"drawTicks",value:function(){function t(t){var e=this.gTicks[t.chr];e.visible=!0,e.clear();var n=+this.chromInfo.chromLengths[t.chr],r=Math.max(this._xScale(t.pos),0),i=Math.min(this._xScale(t.pos+n),this.dimensions[0]),o=(i-r)/this.tickWidth,s=(0,m.scaleLinear)().domain([Math.max(1,this._xScale.invert(0)-t.pos),Math.min(n,this._xScale.invert(this.dimensions[0])-t.pos)]).range(r,i).ticks(o).filter((function(t){return(0,a.default)(t)})),l=this.tickTexts[t.chr],u=this.options.fontIsLeftAligned?(+this.options.fontSize||this.textFontSize)/2:this.tickHeight,c=this.flipText?-1:1,h=this.options.fontIsLeftAligned?4*c:0,f=this.options.fontIsLeftAligned?0:u+this.tickTextSeparation;for(this.options.reverseOrientation&&(f=this.dimensions[1]-f);l.length<s.length;){var d=new x.GLOBALS.PIXI.Text("",this.pixiTextConfig);l.push(d),this.gTicks[t.chr].addChild(d)}for(;l.length>s.length;){var p=l.pop();this.gTicks[t.chr].removeChild(p)}for(var v=0;v<s.length;){l[v].visible=!0,l[v].anchor.x=this.options.fontIsLeftAligned?0:.5,l[v].anchor.y=this.options.reverseOrientation?0:1,this.flipText&&(l[v].scale.x=-1),l[v].x=this._xScale(t.pos+s[v])+h,l[v].y=this.dimensions[1]-f,l[v].text=0===s[v]?String(t.chr)+": 1":String(t.chr)+": "+String(this.formatTick(s[v]));var g=this._xScale(t.pos+s[v]);l[v].tickLine=[g-1,this.dimensions[1],g-1,this.dimensions[1]-u-1];var y=this.options.reverseOrientation?0:this.dimensions[1],b=this.options.reverseOrientation?u:this.dimensions[1]-u;e.lineStyle(1,this.stroke),e.moveTo(g-1,y),e.lineTo(g-1,b-1),this.options.fontIsLeftAligned?(e.lineTo(g+2*c+1*c,b-1),e.lineTo(g+2*c+1*c,b+1),e.lineTo(g+1,b+1)):e.lineTo(g+1,b-1),e.lineTo(g+1,y),e.lineStyle(1,this.tickColor),e.moveTo(g,y),e.lineTo(g,b),this.options.fontIsLeftAligned&&e.lineTo(g+2*c,b),v+=1}for(;v<l.length;)l[v].visible=!1,v+=1;return s.length}return t}()},{key:"draw",value:function(){function t(){var t=this;if(this.allTexts=[],this.texts&&this.searchField){var e=(0,_.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,_.absToChr)(this._xScale.domain()[1],this.chromInfo);if(!e||!n)return void console.warn("Empty chromInfo:",this.dataConfig,this.chromInfo);if("ends"===this.options.tickPositions){if(!this.gBoundTicks)return;return this.gBoundTicks.visible=!0,void this.drawBoundsTicks(e,n)}if(this.pTicks){for(var r=0;r<this.texts.length;r++)this.texts[r].visible=!1,this.gTicks[this.chromInfo.cumPositions[r].chr].visible=!1;var i=this.options.fontIsLeftAligned?0:this.tickHeight+this.tickTextSeparation;this.options.reverseOrientation&&(i=this.dimensions[1]-i),(0,o.default)(this.chromInfo.chrPositions).forEach((function(e){if(t.tickTexts[e])for(var n=0;n<t.tickTexts[e].length;n++)t.tickTexts[e][n].visible=!1}));for(var a=e[3];a<=n[3];a++){var s=this.chromInfo.cumPositions[a],l=s.pos+this.chromInfo.chromLengths[s.chr]/2,u=this._xScale(l),c=this.texts[a];c.anchor.x=this.options.fontIsLeftAligned?0:.5,c.anchor.y=this.options.reverseOrientation?0:1,c.x=u,c.y=this.dimensions[1]-i,c.updateTransform(),this.flipText&&(c.scale.x=-1);var h=this.drawTicks(s);c.visible=h<=0,this.allTexts.push({importance:c.hashValue,text:c,caption:null})}this.hideOverlaps(this.allTexts)}}}return t}()},{key:"hideOverlaps",value:function(){function t(t){var e=[];e=t.map((function(t,e){var n=t.text;n.updateTransform();var r=n.getBounds();return[r.x,r.y,r.x+r.width,r.y+r.height]})),(0,p.default)(e,(function(e,n){t[e].importance>t[n].importance?t[n].text.visible=!1:t[e].text.visible=!1}))}return t}()},{key:"setPosition",value:function(){function t(t){(0,f.default)(e.prototype.__proto__||(0,l.default)(e.prototype),"setPosition",this).call(this,t);var n=(0,i.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.draw()}return t}()},{key:"exportSVG",value:function(){function t(){var t=this,n=null,o=null;if((0,f.default)(e.prototype.__proto__||(0,l.default)(e.prototype),"exportSVG",this)){var a=(0,f.default)(e.prototype.__proto__||(0,l.default)(e.prototype),"exportSVG",this).call(this),s=(0,i.default)(a,2);o=s[0],n=s[1]}else n=o=document.createElement("g");o.setAttribute("class","chromosome-labels");var u=document.createElement("g");return n.appendChild(u),u.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.allTexts.filter((function(t){return t.text.visible})).forEach((function(t){var e=(0,_.pixiTextToSvg)(t.text);u.appendChild(e)})),(0,r.default)(this.tickTexts).forEach((function(e){e.filter((function(t){return t.visible})).forEach((function(e){var n=(0,_.pixiTextToSvg)(e);u.appendChild(n),n=(0,_.svgLine)(e.x,t.options.reverseOrientation?0:t.dimensions[1],e.x,t.options.reverseOrientation?t.tickHeight:t.dimensions[1]-t.tickHeight,1,t.tickColor);var r=document.createElement("line");r.setAttribute("x1",e.tickLine[0]),r.setAttribute("y1",e.tickLine[1]),r.setAttribute("x2",e.tickLine[2]),r.setAttribute("y2",e.tickLine[3]),r.setAttribute("style","stroke: grey"),u.appendChild(n),u.appendChild(r)}))})),[o,n]}return t}()}]),e}(g.default);e.default=C},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(17)),i=m(n(19)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(14)),c=m(n(7)),h=m(n(135)),f=n(24),d=n(10),p=n(11);function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n){(0,a.default)(this,e);var r=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n)),i=t.animate;return r.pMain=r.pMobile,r.colorScale=p.HEATED_OBJECT_MAP,r.continuousScaling=!1,n&&n.colorRange&&(r.colorScale=(0,d.colorDomainToRgbaArray)(n.colorRange)),r.animate=i,r.options=n,r.pubSubs=[],r}return(0,c.default)(e,t),(0,s.default)(e,[{key:"rerender",value:function(){function t(t,n){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"rerender",this).call(this,t,n),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}return t}()},{key:"calculateZoomLevel",value:function(){function t(){var t=null;if(this.tilesetInfo.resolutions){var e=f.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),n=f.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);t=Math.min(e,n)}else{var r=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),i=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);t=Math.max(r,i),t=Math.min(t,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?t=Math.min(this.options.maxZoom,t):console.error("Invalid maxZoom on track:",this)),t}return t}()},{key:"calculateVisibleTiles",value:function(){function t(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var t=this._xScale.copy();if(t.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){var e=this.tilesetInfo.resolutions.map((function(t){return+t})).sort((function(t,e){return e-t}));this.xTiles=f.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],t,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=f.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],t,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=f.tileProxy.calculateTiles(this.zoomLevel,t,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=f.tileProxy.calculateTiles(this.zoomLevel,t,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var n=this.xTiles,r=this.yTiles,i=this.zoomLevel,o=this.tilesetInfo.max_width/Math.pow(2,i),a=[],s=0;s<n.length;s++)for(var l=s;l<r.length;l++)if(!((l-s-2)*(this._xScale(o)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])){var u=[i,n[s],r[l]];u.mirrored=!1,u.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",a.push(u)}this.setVisibleTiles(a)}}return t}()},{key:"tileDataToCanvas",value:function(){function t(t){var e=document.createElement("canvas");e.width=256,e.height=256;var n=e.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,e.width,e.height);var r=new ImageData(t,e.width,e.height);return n.putImageData(r,0,0),e}return t}()},{key:"setSpriteProperties",value:function(){function t(t,e,n,r){var i=this.getTilePosAndDimensions(e,n),o=i.tileX,a=i.tileY,s=o+i.tileWidth,l=a+i.tileHeight;t.width=this._refXScale(s)-this._refXScale(o),t.height=this._refYScale(l)-this._refYScale(a),t.x=this._refXScale(o),t.y=this._refYScale(a)}return t}()},{key:"pixDataFunction",value:function(){function t(t,e){if(e){var n=t.graphics,r=this.tileDataToCanvas(e.pixData),i="4"===p.GLOBALS.PIXI.VERSION[0]?p.GLOBALS.PIXI.Texture.fromCanvas(r,p.GLOBALS.PIXI.SCALE_MODES.NEAREST):p.GLOBALS.PIXI.Texture.from(r,{scaleMode:p.GLOBALS.PIXI.SCALE_MODES.NEAREST});t.sprite=new p.GLOBALS.PIXI.Sprite(i),t.canvas=r,this.setSpriteProperties(t.sprite,t.tileData.zoomLevel,t.tileData.tilePos,t.mirrored),n.pivot.x=this._refXScale(0),n.pivot.y=this._refYScale(0),n.scale.x=-1/Math.sqrt(2),n.rotation=-3*Math.PI/4,n.scale.y=1/Math.sqrt(2),n.position.x=this._refXScale(0),n.position.y=0,n.removeChildren(),n.addChild(t.sprite)}this.renderingTiles.delete(t.tileId)}return t}()},{key:"refScalesChanged",value:function(){function t(t,n){for(var r in(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"refScalesChanged",this).call(this,t,n),this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos,i.mirrored);var a=i.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}return t}()},{key:"zoomed",value:function(){function t(t,n,r,i,a){(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"zoomed",this).call(this,t,n,r,i,a),(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"draw",this).call(this),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1])}return t}()},{key:"leftTrackDraw",value:function(){function t(){this.draw()}return t}()},{key:"exportSVG",value:function(){function t(){var t=null,n=null,a=(0,u.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"superSVG",this).call(this),s=(0,i.default)(a,2);n=s[0],t=s[1];var l=document.createElement("g");t.appendChild(l),l.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var c=!0,h=!1,f=void 0;try{for(var d,p=(0,r.default)(this.visibleAndFetchedTiles());!(c=(d=p.next()).done);c=!0){var m=d.value,v=document.createElement("g"),g=m.graphics,y=180*g.rotation/Math.PI,b="translate("+String(g.position.x)+","+String(g.position.y)+") rotate("+y+") scale("+String(g.scale.x)+","+String(g.scale.y)+") translate("+-g.pivot.x+","+-g.pivot.y+")";v.setAttribute("transform",b);var _=180*m.sprite.rotation/Math.PI,x=document.createElement("g");x.setAttribute("transform","translate("+String(m.sprite.x)+","+String(m.sprite.y)+") rotate("+_+") scale("+String(m.sprite.scale.x)+","+String(m.sprite.scale.y)+")");var T=document.createElement("image");T.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m.canvas.toDataURL()),T.setAttribute("width",256),T.setAttribute("height",256),x.appendChild(T),v.appendChild(x),l.appendChild(v)}}catch(S){h=!0,f=S}finally{try{!c&&p.return&&p.return()}finally{if(h)throw f}}var w=this.exportColorBarSVG();return t.appendChild(w),[n,n]}return t}()}]),e}(h.default);e.default=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(30)),i=m(n(25)),o=m(n(18)),a=m(n(5)),s=m(n(3)),l=m(n(4)),u=m(n(6)),c=m(n(7)),h=n(28),f=m(n(116)),d=m(n(179)),p=n(10);function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n){(0,s.default)(this,e);var r=(0,u.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t,n));return r.axis=new d.default(r),r.pBase.addChild(r.axis.pAxis),r}return(0,c.default)(e,t),(0,l.default)(e,[{key:"initTile",value:function(){function t(t){this.scale.minRawValue=this.minVisibleValueInTiles(),this.scale.maxRawValue=this.minVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(t)}return t}()},{key:"drawTile",value:function(){function t(t){var e=this;if(t.graphics){var n=t.graphics,r=6,i=4;n.clear(),this.valueScale=(0,h.scaleLog)().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-r/2,r/2]);var o=(0,p.colorToHex)("black");n.lineStyle(1,o,.3),n.beginFill(o,.3),this.drawAxis(this.valueScale),t.tileData.forEach((function(t){var o=t.fields,a=+t.chrOffset,s=+o[1]+a,l=+o[2]+a,u=+o[3],c=e._xScale(s),h=e._xScale(l),f=Math.max(h-c,i),d=e.valueScale(u),p=(h+c)/2;n.drawRect(p-f/2,d-r/2,f,r)}))}}return t}()},{key:"minVisibleValueInTiles",value:function(){function t(){var t=this,e=this.visibleAndFetchedIds();return 0===e.length&&(e=(0,o.default)(this.fetchedTiles)),Math.min.apply(null,e.map((function(e){return+Math.min.apply(Math,(0,i.default)(t.fetchedTiles[e].tileData.filter((function(t){return!(0,r.default)(t.fields[3])})).map((function(t){return+t.fields[3]}))))})))}return t}()},{key:"maxVisibleValueInTiles",value:function(){function t(){var t=this,e=this.visibleAndFetchedIds();return 0===e.length&&(e=(0,o.default)(this.fetchedTiles)),Math.max.apply(null,e.map((function(e){return+Math.max.apply(Math,(0,i.default)(t.fetchedTiles[e].tileData.filter((function(t){return!(0,r.default)(t.fields[3])})).map((function(t){return+t.fields[3]}))))})))}return t}()}]),e}(f.default);e.default=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(14)),l=f(n(7)),u=f(n(26)),c=n(83),h=n(0);function f(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n)),s=t.registerViewportChanged,l=t.removeViewportChanged,h=t.setDomainsCallback,f=u.default.nice();return o.uid=f,o.options=n,o.hasFromView=!t.projectionXDomain||!t.projectionYDomain,o.removeViewportChanged=l,o.setDomainsCallback=h,o.viewportXDomain=o.hasFromView?null:t.projectionXDomain,o.viewportYDomain=o.hasFromView?null:t.projectionYDomain,o.brush=(0,c.brush)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--n").style("pointer-events","none"),o.gBrush.selectAll(".handle--s").style("pointer-events","none"),o.gBrush.selectAll(".handle--w").style("pointer-events","none"),o.gBrush.selectAll(".handle--e").style("pointer-events","none"),s(f,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"brushed",value:function(){function t(){var t=h.event.selection;if(this._xScale&&this._yScale){var e=[this._xScale.invert(t[0][0]),this._xScale.invert(t[1][0])],n=[this._yScale.invert(t[0][1]),this._yScale.invert(t[1][1])];this.hasFromView||(this.viewportXDomain=e,this.viewportYDomain=n),this.setDomainsCallback(e,n)}}return t}()},{key:"viewportChanged",value:function(){function t(t,e){var n=t.domain(),r=e.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return t}()},{key:"remove",value:function(){function t(){this.removeViewportChanged(this.uid),(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"remove",this).call(this)}return t}()},{key:"rerender",value:function(){function t(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return t}()},{key:"draw",value:function(){function t(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var t=[[this._xScale(this.viewportXDomain[0]),this._yScale(this.viewportYDomain[0])],[this._xScale(this.viewportXDomain[1]),this._yScale(this.viewportYDomain[1])]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,t),this.brush.on("brush",this.brushed.bind(this))}}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.draw()}return t}()},{key:"setPosition",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setPosition",this).call(this,t),this.draw()}return t}()},{key:"setDimensions",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setDimensions",this).call(this,t);var n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0],a=i[1]-i[0];this.brush.extent([[n[0]-o,i[0]-a],[n[1]+o,i[1]+a]]),this.gBrush.call(this.brush),this.draw()}return t}()}]),e}(f(n(80)).default);e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(14)),l=f(n(7)),u=n(83),c=n(0),h=f(n(26));function f(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n)),s=t.registerViewportChanged,l=t.removeViewportChanged,c=t.setDomainsCallback,f=h.default.nice();return o.uid=f,o.options=n,o.hasFromView=!t.projectionXDomain,o.removeViewportChanged=l,o.setDomainsCallback=c,o.viewportXDomain=o.hasFromView?null:t.projectionXDomain,o.viewportYDomain=o.hasFromView?null:[0,0],o.brush=(0,u.brushX)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--ne").style("pointer-events","none"),o.gBrush.selectAll(".handle--nw").style("pointer-events","none"),o.gBrush.selectAll(".handle--sw").style("pointer-events","none"),o.gBrush.selectAll(".handle--se").style("pointer-events","none"),o.gBrush.selectAll(".handle--n").style("pointer-events","none"),o.gBrush.selectAll(".handle--s").style("pointer-events","none"),s(f,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"brushed",value:function(){function t(){var t=c.event.selection;if(this._xScale&&this._yScale){var e=[this._xScale.invert(t[0]),this._xScale.invert(t[1])],n=this.viewportYDomain;this.hasFromView||(this.viewportXDomain=e),this.setDomainsCallback(e,n)}}return t}()},{key:"viewportChanged",value:function(){function t(t,e){var n=t.domain(),r=e.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return t}()},{key:"remove",value:function(){function t(){this.removeViewportChanged(this.uid),(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"remove",this).call(this)}return t}()},{key:"rerender",value:function(){function t(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return t}()},{key:"draw",value:function(){function t(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var t=[this._xScale(this.viewportXDomain[0]),this._xScale(this.viewportXDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,t),this.brush.on("brush",this.brushed.bind(this))}}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.draw()}return t}()},{key:"setPosition",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setPosition",this).call(this,t),this.draw()}return t}()},{key:"setDimensions",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setDimensions",this).call(this,t);var n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0];this.brush.extent([[n[0]-o,i[0]],[n[1]+o,i[1]]]),this.gBrush.call(this.brush),this.draw()}return t}()}]),e}(f(n(80)).default);e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(14)),l=f(n(7)),u=n(83),c=n(0),h=f(n(26));function f(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n)),s=t.registerViewportChanged,l=t.removeViewportChanged,c=t.setDomainsCallback,f=h.default.nice();return o.uid=f,o.options=n,o.hasFromView=!t.projectionYDomain,o.removeViewportChanged=l,o.setDomainsCallback=c,o.viewportXDomain=o.hasFromView?null:[0,0],o.viewportYDomain=o.hasFromView?null:t.projectionYDomain,o.brush=(0,u.brushY)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--ne").style("pointer-events","none"),o.gBrush.selectAll(".handle--nw").style("pointer-events","none"),o.gBrush.selectAll(".handle--sw").style("pointer-events","none"),o.gBrush.selectAll(".handle--se").style("pointer-events","none"),o.gBrush.selectAll(".handle--e").style("pointer-events","none"),o.gBrush.selectAll(".handle--w").style("pointer-events","none"),s(f,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"brushed",value:function(){function t(){var t=c.event.selection;if(this._xScale&&this._yScale){var e=this.viewportXDomain,n=[this._yScale.invert(t[0]),this._yScale.invert(t[1])];this.hasFromView||(this.viewportYDomain=n),this.setDomainsCallback(e,n)}}return t}()},{key:"viewportChanged",value:function(){function t(t,e){var n=t.domain(),r=e.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return t}()},{key:"remove",value:function(){function t(){this.removeViewportChanged(this.uid),(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"remove",this).call(this)}return t}()},{key:"rerender",value:function(){function t(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return t}()},{key:"draw",value:function(){function t(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var t=[this._yScale(this.viewportYDomain[0]),this._yScale(this.viewportYDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,t),this.brush.on("brush",this.brushed.bind(this))}}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.draw()}return t}()},{key:"setPosition",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setPosition",this).call(this,t),this.draw()}return t}()},{key:"setDimensions",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setDimensions",this).call(this,t);var n=this._xScale.range(),i=this._yScale.range(),o=i[1]-i[0];this.brush.extent([[n[0],i[0]-o],[n[1],i[1]+o]]),this.gBrush.call(this.brush),this.draw()}return t}()}]),e}(f(n(80)).default);e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalRuleMixin=void 0;var r=p(n(19)),i=p(n(14)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=n(81),h=p(n(40)),f=p(n(261)),d=n(10);function p(t){return t&&t.__esModule?t:{default:t}}var m=e.HorizontalRuleMixin=(0,c.Mixin)((function(t){return function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,s.default)(e,[{key:"drawHorizontalRule",value:function(){function t(t){var e=(0,d.colorToHex)(this.options.color||"black");this.highlighted&&(e=(0,d.colorToHex)("red")),t.lineStyle(this.strokeWidth,e,this.strokeOpacity);for(var n=0;n<this.dimensions[0];)t.moveTo(n,this._yScale(this.yPosition)),t.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}return t}()},{key:"isMouseOverHorizontalLine",value:function(){function t(t){return Math.abs(t.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}return t}()}]),e}(t)})),v=function(t){function e(t,n){(0,a.default)(this,e);var r=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n));return r.yPosition=t.yPosition,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(e,t),(0,s.default)(e,[{key:"mouseMoveHandler",value:function(){function t(t){if(this.isWithin(t.x,t.y)&&this.isMouseOverHorizontalLine(t))return this.highlighted=!0,void this.draw();this.highlighted=!1,this.draw()}return t}()},{key:"draw",value:function(){function t(){var t=this.pMain;t.clear(),this.drawHorizontalRule(t),this.animate()}return t}()},{key:"exportSVG",value:function(){function t(){var t=null,n=null;if((0,i.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"exportSVG",this)){var a=(0,i.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],t=s[1]}else t=n=document.createElement("g");var l=document.createElement("g");l.setAttribute("class","horizontal-rule"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),t.appendChild(l);var u=this.options.color||"black",c=document.createElement("line");return c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",0),c.setAttribute("y1",this._yScale(this.yPosition)),c.setAttribute("x2",this.dimensions[0]),c.setAttribute("y2",this._yScale(this.yPosition)),l.appendChild(c),[n,t]}return t}()}]),e}((0,c.mix)(h.default).with(f.default,m));e.default=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(19)),i=m(n(5)),o=m(n(3)),a=m(n(4)),s=m(n(6)),l=m(n(14)),u=m(n(7)),c=n(10),h=n(81),f=m(n(40)),d=m(n(261)),p=n(262);function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n){(0,o.default)(this,e);var r=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n)),a=t.x,l=t.y;return r.xPosition=a,r.yPosition=l,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(e,t),(0,a.default)(e,[{key:"draw",value:function(){function t(){var t=this.pMain;t.clear(),this.drawHorizontalRule(t),this.drawVerticalRule(t)}return t}()},{key:"mouseMoveHandler",value:function(){function t(t){this.highlighted=this.isWithin(t.x,t.y)&&(this.isMouseOverHorizontalLine(t)||this.isMouseOverVerticalLine(t)),this.draw()}return t}()},{key:"drawHorizontalRule",value:function(){function t(t){var e=(0,c.colorToHex)(this.options.color||"black");this.highlighted&&(e=(0,c.colorToHex)("red")),t.lineStyle(this.strokeWidth,e,this.strokeOpacity);for(var n=0;n<this.dimensions[0];)t.moveTo(n,this._yScale(this.yPosition)),t.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}return t}()},{key:"isMouseOverHorizontalLine",value:function(){function t(t){return Math.abs(t.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}return t}()},{key:"exportSVG",value:function(){function t(){var t=null,n=null;if((0,l.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"exportSVG",this)){var o=(0,l.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"exportSVG",this).call(this),a=(0,r.default)(o,2);n=a[0],t=a[1]}else t=n=document.createElement("g");var s=document.createElement("g");s.setAttribute("class","cross-rule"),s.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),t.appendChild(s);var u=this.options.color||"black",c=document.createElement("line");c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",this._xScale(this.xPosition)),c.setAttribute("y1",0),c.setAttribute("x2",this._xScale(this.xPosition)),c.setAttribute("y2",this.dimensions[1]);var h=document.createElement("line");return h.setAttribute("stroke",u),h.setAttribute("stroke-width",this.strokeWidth),h.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),h.setAttribute("x1",0),h.setAttribute("y1",this._yScale(this.yPosition)),h.setAttribute("x2",this.dimensions[0]),h.setAttribute("y2",this._yScale(this.yPosition)),s.appendChild(c),s.appendChild(h),[n,t]}return t}()}]),e}((0,h.mix)(f.default).with(d.default,p.VerticalRuleMixin));e.default=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(254);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,o.default)(e,[{key:"initTile",value:function(){function t(t){u.initTile.bind(this)(t),this.drawTile(t)}return t}()},{key:"drawTile",value:function(){function t(t){u.drawTile.bind(this)(t)}return t}()},{key:"areAllVisibleTilesLoaded",value:function(){function t(){return!0}return t}()},{key:"fetchNewTiles",value:function(){function t(t){var e=this;t.forEach((function(t){var n=t.remoteId.split("."),r={zoomLevel:n[0],tilePos:n.slice(1,n.length).map((function(t){return+t}))};e.fetchedTiles[t.tileId]=t,e.fetchedTiles[t.tileId].tileData=r,e.fetching.has(t.remoteId)&&e.fetching.delete(t.remoteId)})),this.synchronizeTilesAndGraphics(),this.draw(),this.animate()}return t}()},{key:"draw",value:function(){function t(){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"draw",this).call(this)}return t}()}]),e}(c(n(141)).default);e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(5)),i=u(n(3)),o=u(n(4)),a=u(n(6)),s=u(n(14)),l=u(n(7));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n));return o.style=n.style,o.options.accessToken||(o.errorTextText="No access token provided in the viewconf's track options ('accessToken' option).",o.drawError()),o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"rerender",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"rerender",this).call(this,t),t.style!==this.style&&(this.style=t.style,this.removeAllTiles(),this.refreshTiles())}return t}()},{key:"getTileUrl",value:function(){function t(t){var e=this.options&&this.options.style?this.options.style:"streets-v10",n=this.options&&+this.options.tileSize?+this.options.tileSize:256;return"https://api.mapbox.com/styles/v1/mapbox/"+String(e)+"/tiles/"+n+"/"+String(t[0])+"/"+String(t[1])+"/"+String(t[2])+"?access_token="+String(this.options.accessToken)}return t}()}]),e}(u(n(141)).default);e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(5)),i=l(n(3)),o=l(n(4)),a=l(n(6)),s=l(n(7));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n));return o.style=n.style,o.options.tileSource||(o.errorTextText="No tile source string provided in the options. It should be in the form of http://a.com/{z}/{x}/{y}",o.drawError()),o}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getTileUrl",value:function(){function t(t){var e=this.options.tileSource.replace("{z}",t[0]);return e=(e=e.replace("{x}",t[1])).replace("{y}",t[2])}return t}()}]),e}(l(n(141)).default);e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(383)),i=s(n(389)),o=s(n(245)),a=n(11);function s(t){return t&&t.__esModule?t:{default:t}}var l=function(t,e,n){var s=n[t.type];return s?new s.dataFetcher(a.AVAILABLE_FOR_PLUGINS,t,e):"genbank"===t.type?new r.default(t,e):"local-tiles"===t.type?new i.default(t,e):new o.default(t,e)};e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(25)),i=d(n(30)),o=d(n(17)),a=d(n(62)),s=d(n(19)),l=d(n(3)),u=d(n(4)),c=d(n(26)),h=d(n(643)),f=d(n(652));function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){var n=[],r=5;if(!t.length)return[];for(var i=t[0].start,o=t[0].end,a=1;a<t.length;a++)t[a].start<o+1*r/e?o=Math.max(o,t[a].end):(n.push({type:"filler",start:i,end:o}),i=t[a].start,o=t[a].end);return n.push({start:i,end:o,type:"filler"}),n}function m(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}function v(t){var e=t.end-t.start,n=1===t.strand?"+":"-",r=c.default.nice();return"filler"===t.type?{xStart:t.start,xEnd:t.end,strand:t.strand,fields:[],type:"filler",uid:r}:{xStart:t.start,xEnd:t.end,strand:n,chrOffset:0,importance:t.end-t.start,uid:r,type:t.type,fields:["chrom",t.start,t.end,t.name,e,n,"","",t.type,t.name,t.start.toString(),t.end.toString(),t.start.toString(),t.end.toString()]}}var g=function(t){var e=(0,f.default)(t),n=m(e[0].features.filter((function(t){return"source"!==t.type})).sort((function(t,e){return t.start-e.start})));return[e,n]},y=function(){function t(e){var n=this;if((0,l.default)(this,t),this.dataConfig=e,this.trackUid=c.default.nice(),e.url){var r=".gz"===e.url.slice(e.url.length-3);this.errorTxt="",this.dataPromise=fetch(e.url,{mode:"cors",redirect:"follow",method:"GET"}).then((function(t){return r?t.arrayBuffer():t.text()})).then((function(t){var e=r?h.default.inflate(t,{to:"string"}):t,i=g(e),o=(0,s.default)(i,2);n.gbJson=o[0],n.cdss=o[1]}))}else e.text&&(this.dataPromise=new a.default((function(t,r){var i=g(e.text),o=(0,s.default)(i,2);n.gbJson=o[0],n.cdss=o[1],t()})))}return(0,u.default)(t,[{key:"tilesetInfo",value:function(){function t(t){var e=this;return this.tilesetInfoLoading=!0,this.dataPromise.then((function(){e.tilesetInfoLoading=!1;var n=1024,r={};return r={tile_size:n,max_zoom:Math.ceil(Math.log(e.gbJson[0].size/n)/Math.log(2)),max_width:e.gbJson[0].size,min_pos:[0],max_pos:[e.gbJson[0].size]},t&&t(r),r})).catch((function(n){e.tilesetInfoLoading=!1,t&&t({error:"Error parsing genbank: "+String(n)})}))}return t}()},{key:"fetchTilesDebounced",value:function(){function t(t,e){var n={},r=[],s=[],l=!0,u=!1,c=void 0;try{for(var h,f=(0,o.default)(e);!(l=(h=f.next()).done);l=!0){var d=h.value,p=d.split("."),m=parseInt(p[0],10),v=parseInt(p[1],10);(0,i.default)(v)||(0,i.default)(m)?console.warn("Invalid tile zoom or position:",m,v):(r.push(d),s.push(this.tile(m,v)))}}catch(g){u=!0,c=g}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}return a.default.all(s).then((function(e){for(var i=0;i<e.length;i++){var o=r[i];n[o]=e[i],n[o].tilePositionId=o}t(n)})),n}return t}()},{key:"tile",value:function(){function t(t,e){var n=this;return this.tilesetInfo().then((function(i){var o=+i.max_width/Math.pow(2,+t),a=i.min_pos[0]+e*o,s=i.min_pos[0]+(e+1)*o,l=n.cdss.filter((function(t){return t.end>a&&t.start<s})),u=1024/Math.pow(2,i.max_zoom-t),c=p(l.filter((function(t){return 1===t.strand})),u),h=p(l.filter((function(t){return 1!==t.strand})),u);c.forEach((function(t){t.strand="+"})),h.forEach((function(t){t.strand="-"}));for(var f=[],d=20,m=0;m<n.cdss.length&&!(f.length>=d);m++)n.cdss[m].end>=a&&n.cdss[m].start<=s&&f.push(n.cdss[m]);return(f=[].concat((0,r.default)(f),(0,r.default)(c),(0,r.default)(h))).map((function(t){return v(t)}))}))}return t}()}]),t}();e.default=y},function(t,e,n){function r(t,e,n,r){for(var i=65535&t,o=t>>>16&65535,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16}t.exports=r},function(t,e,n){function r(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}var i=r();function o(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return~t}t.exports=o},function(t,e,n){var r=n(82),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,e.string2buf=function(t){var e,n,i,o,a,s=t.length,l=0;for(o=0;o<s;o++)55296===(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(l),a=0,o=0;a<l;o++)55296===(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,i,o,s=e||t.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&t[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},function(t,e,n){function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},function(t,e,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(18)),i=u(n(17)),o=u(n(37)),a=u(n(3)),s=u(n(4)),l=n(182);function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e){(0,a.default)(this,t),this.dataConfig=e,this.tilesetInfoData=(0,o.default)(this.dataConfig.tilesetInfo)[0]}return(0,s.default)(t,[{key:"tilesetInfo",value:function(){function t(t){this.tilesetInfoLoading=!1,t(this.tilesetInfoData)}return t}()},{key:"fetchTilesDebounced",value:function(){function t(t,e){this.tilesData={};var n=!0,o=!1,a=void 0;try{for(var s,u=(0,i.default)((0,r.default)(this.dataConfig.tiles));!(n=(s=u.next()).done);n=!0){var c=s.value,h=c.split("."),f="localtile."+String(h.slice(1).join("."));this.tilesData[f]=this.dataConfig.tiles[c]}}catch(x){o=!0,a=x}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}var d={},p=e.map((function(t){return"localtile."+String(t)}));(0,l.tileResponseToData)(this.tilesData,"",p);var m=!0,v=!1,g=void 0;try{for(var y,b=(0,i.default)(e);!(m=(y=b.next()).done);m=!0){var _=y.value;d[_]=this.tilesData["localtile."+String(_)]}}catch(x){v=!0,g=x}finally{try{!m&&b.return&&b.return()}finally{if(v)throw g}}t(d)}return t}()},{key:"tile",value:function(){function t(t,e){}return t}()}]),t}();e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(1)),u=n(81),c=f(n(663)),h=n(183);function f(t){return t&&t.__esModule?t:{default:t}}var d=(0,u.Mixin)((function(t){return function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getSubmenu",value:function(){function t(){var t=this;if(this.state.submenuShown){var e=this.state.submenuSourceBbox,n=null;n="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top};var r=(0,h.getAllTracksAndSubtracks)(this.props.tracks).filter((function(e){return e.uid===t.state.submenuShown.uid}))[0],i=r&&"whole"!==r.position;return l.default.createElement(c.default,{key:"series-list-menu-"+String(r.uid),ref:function(){function e(e){t.seriesListMenu=e}return e}(),closeMenu:this.props.closeMenu,hostTrack:this.props.tracks[0],onAddDivisor:this.props.onAddDivisor,onAddSeries:i?this.props.onAddSeries:null,onChangeTrackData:this.props.onChangeTrackData,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:function(){function e(){return t.props.onCloseTrack(t.state.submenuShown.uid)}return e}(),onConfigureTrack:this.props.onConfigureTrack,onDivideSeries:this.props.onDivideSeries,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,orientation:this.state.orientation,parentBbox:e,position:n,series:this.state.submenuShown,theme:this.props.theme,track:r,trackOrientation:this.props.trackOrientation,trackSourceServers:this.props.trackSourceServers})}return l.default.createElement("div",null)}return t}()}]),e}(t)}));e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(29)),u=d(n(1)),c=d(n(96)),h=d(n(67)),f=n(11);function d(t){return t&&t.__esModule?t:{default:t}}n(68);var p={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},m=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getSubmenu",value:function(){function t(){if(this.state.submenuShown){var t=this.state.submenuSourceBbox,n="left"===this.state.orientation?{left:this.state.left,top:t.top}:{left:this.state.left+t.width+7,top:t.top},r=this.state.submenuShown;return u.default.createElement(e,{menuItems:r.children,orientation:this.state.orientation,parentBbox:t,position:n,theme:this.props.theme})}return u.default.createElement("div",null)}return t}()},{key:"componentWillUnmount",value:function(){function t(){}return t}()},{key:"render",value:function(){function t(){var t=this,e=[],n=function(){function n(n){var r=t.props.menuItems[n];e.push(u.default.createElement(h.default,{key:n,onClick:r.handler?r.handler:function(){return null},onMouseEnter:r.children?function(e){return t.handleItemMouseEnter(e,r)}:t.handleOtherMouseEnter.bind(t),onMouseLeave:t.handleMouseLeave},r.name,r.children&&u.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},u.default.createElement("use",{xlinkHref:"#play"}))))}return n}();for(var r in this.props.menuItems)n(r);var i="context-menu";return this.props.theme===f.THEME_DARK&&(i+=" context-menu-dark"),u.default.createElement("div",{ref:function(){function e(e){t.div=e}return e}(),style:{left:this.state.left,top:this.state.top},className:(0,l.default)(i,p)},e,this.getSubmenu())}return t}()}]),e}(c.default);e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=x(n(5)),i=x(n(3)),o=x(n(4)),a=x(n(6)),s=x(n(7)),l=x(n(29)),u=x(n(2)),c=x(n(1)),h=n(83),f=n(0),d=x(n(26)),p=x(n(393)),m=x(n(665)),v=x(n(395)),g=n(10),y=n(11);x(n(669));var b=x(n(176)),_=x(n(175));function x(t){return t&&t.__esModule?t:{default:t}}var T={styles:{"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},w=function(t){function e(t){(0,i.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.brushBehavior=(0,h.brushX)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return(0,s.default)(e,t),(0,o.default)(e,[{key:"componentDidMount",value:function(){function t(){this.props.isRangeSelectionActive&&this.addBrush()}return t}()},{key:"shouldComponentUpdate",value:function(){function t(t,e){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==t.rangeSelection&&this.moveBrush(t.rangeSelection[0]?t.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==e):this.props.rangeSelection===t.rangeSelection||(this.moveBrush(t.rangeSelection[0]?t.rangeSelection[0]:null,t.rangeSelectionEnd),this.state!==e)}return t}()},{key:"componentDidUpdate",value:function(){function t(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}return t}()},{key:"addBrush",value:function(){function t(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,g.resetD3BrushStyle)(this.brushEl,_.default["track-range-selection-group-brush-selection"]))}return t}()},{key:"brushed",value:function(){function t(){var t=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelection&&!t&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(f.event.selection))}return t}()},{key:"brushStarted",value:function(){function t(){!this.sourceEvent||!f.event.selection||this.props.onRangeSelectionStart()}return t}()},{key:"brushedEnded",value:function(){function t(){if(this.props.is1dRangeSelection){var t=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,f.event.selection&&f.event.sourceEvent&&this.props.onRangeSelection&&!t&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(f.event.selection)),f.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}return t}()},{key:"moveBrush",value:function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl){var n=t?[this.props.scale(t[0]),this.props.scale(t[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,e?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}}return t}()},{key:"removeBrush",value:function(){function t(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}return t}()},{key:"render",value:function(){function t(){var t=this,e=this.props.tracks.map((function(t){return t.height})).reduce(g.sum,0),n=this.props.tracks.map((function(t){return(0,y.IS_TRACK_RANGE_SELECTABLE)(t)})).reduce(g.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return c.default.createElement("div",{className:"horizontal-tiled-plot HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},n&&c.default.createElement("svg",{ref:function(){function e(e){t.brushEl=(0,f.select)(e)}return e}(),style:{height:e,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,T)}),c.default.createElement(p.default,{className:String(b.default.list)+" "+String(b.default.stylizedList),component:v.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:e,helperClass:b.default.stylizedHelper,itemClass:b.default.stylizedItem,itemReactClass:m.default,items:this.props.tracks.map((function(e){return{configMenuVisible:e.uid===t.props.configTrackMenuId,uid:e.uid||d.default.nice(),width:t.props.width,height:e.height,value:e.value}})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}return t}()},{key:"sourceEvent",get:function(){function t(){return f.event&&f.event.sourceEvent}return t}()}]),e}(c.default.Component);w.propTypes={configTrackMenuId:u.default.string,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,handleSortEnd:u.default.func,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onRangeSelection:u.default.func,onRangeSelectionEnd:u.default.func,onRangeSelectionReset:u.default.func,onRangeSelectionStart:u.default.func,rangeSelection:u.default.array,rangeSelectionEnd:u.default.bool,referenceAncestor:u.default.func,resizeHandles:u.default.object,scale:u.default.func,tracks:u.default.array,width:u.default.number},e.default=w},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(34)),i=f(n(5)),o=f(n(3)),a=f(n(4)),s=f(n(6)),l=f(n(7)),u=f(n(2)),c=f(n(1)),h=n(125);function f(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){var n=t.items;(0,o.default)(this,e);var r=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this));return r.state={items:n,isSorting:!1},r}return(0,l.default)(e,t),(0,a.default)(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(){function t(t){this.setState({items:t.items})}return t}()},{key:"onSortStart",value:function(){function t(t,e){t.node;var n=t.index;t.collection,e.stopImmediatePropagation();var r=this.props.onSortStart;this.setState({isSorting:!0}),r&&r(this.ref),this.sortingIndex=n,this.sortStartTop=e.offsetTop,this.sortStartLeft=e.offsetLeft}return t}()},{key:"onSortMove",value:function(){function t(){}return t}()},{key:"onSortEnd",value:function(){function t(t){var e=t.oldIndex,n=t.newIndex,r=this.props.onSortEnd,i=this.state.items;this.setState({items:(0,h.arrayMove)(i,e,n),isSorting:!1}),r&&r(this.state.items),this.sortingIndex=null}return t}()},{key:"render",value:function(){function t(){var t=this,e=this.props.component,n=this.state,i=n.items,o={isSorting:n.isSorting,items:i,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return c.default.createElement(e,(0,r.default)({},this.props,o,{ref:function(){function e(e){t.ref=e}return e}()}))}return t}()}]),e}(c.default.Component);d.propTypes={axis:u.default.string,className:u.default.string,component:u.default.func,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,height:u.default.number,helperClass:u.default.string,itemClass:u.default.string,itemControlAlignLeft:u.default.bool,itemReactClass:u.default.func,items:u.default.array,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onSortEnd:u.default.func,onSortStart:u.default.func,referenceAncestor:u.default.string,resizeHandles:u.default.object,useDragHandle:u.default.bool,width:u.default.number},d.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600},e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(1)),u=h(n(265)),c=h(n(174));function h(t){return t&&t.__esModule?t:{default:t}}var f={pointerEvents:"all"},d=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getControls",value:function(){function t(t){return l.default.createElement(c.default,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:f,imgStyleClose:f,imgStyleMove:f,imgStyleSettings:f,isMoveable:this.moveable,isVisible:t,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}return t}()}]),e}(u.default);e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(34)),i=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,n(125).SortableContainer)((function(t){var e=t.className,n=t.items,o=t.itemClass,a=t.itemControlAlignLeft,s=t.sortingIndex,l=t.useDragHandle,u=t.sortableHandlers,c=t.height,h=t.width,f=t.onCloseTrack,d=t.onCloseTrackMenuOpened,p=t.onConfigTrackMenuOpened,m=t.onAddSeries,v=t.handleConfigTrack,g=t.editable,y=t.itemReactClass,b=t.handleResizeTrack,_=t.resizeHandles,x=n.map((function(t,e){return i.default.createElement(y,{key:"sci-"+String(t.uid),className:o,controlAlignLeft:a,sortingIndex:s,index:e,uid:t.uid,height:t.height,width:t.width,item:t,useDragHandle:l,onCloseTrack:f,onCloseTrackMenuOpened:d,onConfigTrackMenuOpened:p,onAddSeries:m,handleConfigTrack:v,editable:g,handleResizeTrack:b,resizeHandles:_})}));return i.default.createElement("div",(0,r.default)({className:e,style:{height:c,width:h,background:"transparent"}},u),x)}));e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(1)),u=h(n(265)),c=h(n(174));function h(t){return t&&t.__esModule?t:{default:t}}var f={pointerEvents:"all"},d=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getControls",value:function(){function t(t){return l.default.createElement(c.default,{imgStyleAdd:f,imgStyleClose:f,imgStyleMove:f,imgStyleSettings:f,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:t,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}return t}()}]),e}(u.default);e.default=d},function(t,e,n){var r=n(690),i=n(268),o=n(694),a=n(398),s=n(399),l=n(695),u=n(696),c=n(717),h=n(117);t.exports=g,g.prototype.validate=y,g.prototype.compile=b,g.prototype.addSchema=_,g.prototype.addMetaSchema=x,g.prototype.validateSchema=T,g.prototype.getSchema=S,g.prototype.removeSchema=C,g.prototype.addFormat=N,g.prototype.errorsText=D,g.prototype._addSchema=O,g.prototype._compile=P,g.prototype.compileAsync=n(718);var f=n(719);g.prototype.addKeyword=f.add,g.prototype.getKeyword=f.get,g.prototype.removeKeyword=f.remove,g.prototype.validateKeyword=f.validate;var d=n(270);g.ValidationError=d.Validation,g.MissingRefError=d.MissingRef,g.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],v=["/properties"];function g(t){if(!(this instanceof g))return new g(t);t=this._opts=h.copy(t)||{},U(this),this._schemas={},this._refs={},this._fragments={},this._formats=l(t.format),this._cache=t.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=M(t),t.loopRequired=t.loopRequired||1/0,"property"==t.errorDataPath&&(t._errorDataPathProperty=!0),void 0===t.serialize&&(t.serialize=s),this._metaOpts=z(this),t.formats&&F(this),j(this),"object"==typeof t.meta&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),B(this)}function y(t,e){var n;if("string"==typeof t){if(!(n=this.getSchema(t)))throw new Error('no schema with key or ref "'+t+'"')}else{var r=this._addSchema(t);n=r.validate||this._compile(r)}var i=n(e);return!0!==n.$async&&(this.errors=n.errors),i}function b(t,e){var n=this._addSchema(t,void 0,e);return n.validate||this._compile(n)}function _(t,e,n,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)this.addSchema(t[o],void 0,n,r);return this}var a=this._getId(t);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return H(this,e=i.normalizeId(e||a)),this._schemas[e]=this._addSchema(t,n,r,!0),this}function x(t,e,n){return this.addSchema(t,e,n,!0),this}function T(t,e){var n=t.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||w(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,t);if(!r&&e){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return r}function w(t){var e=t._opts.meta;return t._opts.defaultMeta="object"==typeof e?t._getId(e)||e:t.getSchema(p)?p:void 0,t._opts.defaultMeta}function S(t){var e=k(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return E(this,t)}}function E(t,e){var n=i.schema.call(t,{schema:{}},e);if(n){var o=n.schema,s=n.root,l=n.baseId,u=r.call(t,o,s,void 0,l);return t._fragments[e]=new a({ref:e,fragment:!0,schema:o,root:s,baseId:l,validate:u}),u}}function k(t,e){return e=i.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function C(t){if(t instanceof RegExp)return A(this,this._schemas,t),A(this,this._refs,t),this;switch(typeof t){case"undefined":return A(this,this._schemas),A(this,this._refs),this._cache.clear(),this;case"string":var e=k(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var n=this._opts.serialize,r=n?n(t):t;this._cache.del(r);var o=this._getId(t);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this}function A(t,e,n){for(var r in e){var i=e[r];!i.meta&&(!n||n.test(r))&&(t._cache.del(i.cacheKey),delete e[r])}}function O(t,e,n,r){if("object"!=typeof t&&"boolean"!=typeof t)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(t):t,l=this._cache.get(s);if(l)return l;r=r||!1!==this._opts.addUsedSchema;var u=i.normalizeId(this._getId(t));u&&r&&H(this,u);var c,h=!1!==this._opts.validateSchema&&!e;h&&!(c=u&&u==i.normalizeId(t.$schema))&&this.validateSchema(t,!0);var f=i.ids.call(this,t),d=new a({id:u,schema:t,localRefs:f,cacheKey:s,meta:n});return"#"!=u[0]&&r&&(this._refs[u]=d),this._cache.put(s,d),h&&c&&this.validateSchema(t,!0),d}function P(t,e){if(t.compiling)return t.validate=o,o.schema=t.schema,o.errors=null,o.root=e||o,!0===t.schema.$async&&(o.$async=!0),o;var n,i;t.compiling=!0,t.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,t.schema,e,t.localRefs)}catch(a){throw delete t.validate,a}finally{t.compiling=!1,t.meta&&(this._opts=n)}return t.validate=i,t.refs=i.refs,t.refVal=i.refVal,t.root=i.root,i;function o(){var e=t.validate,n=e.apply(this,arguments);return o.errors=e.errors,n}}function M(t){switch(t.schemaId){case"auto":return L;case"id":return I;default:return R}}function I(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function R(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function L(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function D(t,e){if(!(t=t||this.errors))return"No errors";for(var n=void 0===(e=e||{}).separator?", ":e.separator,r=void 0===e.dataVar?"data":e.dataVar,i="",o=0;o<t.length;o++){var a=t[o];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)}function N(t,e){return"string"==typeof e&&(e=new RegExp(e)),this._formats[t]=e,this}function j(t){var e;if(t._opts.$data&&(e=n(721),t.addMetaSchema(e,e.$id,!0)),!1!==t._opts.meta){var r=n(405);t._opts.$data&&(r=c(r,v)),t.addMetaSchema(r,p,!0),t._refs["http://json-schema.org/schema"]=p}}function B(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var n in e)t.addSchema(e[n],n)}function F(t){for(var e in t._opts.formats){var n=t._opts.formats[e];t.addFormat(e,n)}}function H(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function z(t){for(var e=h.copy(t._opts),n=0;n<m.length;n++)delete e[m[n]];return e}function U(t){var e=t._opts.logger;if(!1===e)t.logger={log:V,warn:V,error:V};else{if(void 0===e&&(e=console),!("object"==typeof e&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}function V(){}},function(t,e,n){var r=n(117);function i(t){r.copy(t,this)}t.exports=i},function(t,e,n){t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n,r="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(n=e.cmp,function(t){return function(e,r){var i={key:e,value:t[e]},o={key:r,value:t[r]};return n(i,o)}}),o=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var n,a;if(Array.isArray(e)){for(a="[",n=0;n<e.length;n++)n&&(a+=","),a+=t(e[n])||"null";return a+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(e)-1,l=Object.keys(e).sort(i&&i(e));for(a="",n=0;n<l.length;n++){var u=l[n],c=t(e[u]);c&&(a&&(a+=","),a+=JSON.stringify(u)+":"+c)}return o.splice(s,1),"{"+a+"}"}}(t)}},function(t,e,n){t.exports=function(t,e,n){var r="",i=!0===t.schema.$async,o=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),a=t.self._getId(t.schema);if(t.opts.strictKeywords){var s=t.util.schemaUnknownRules(t.schema,t.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==t.opts.strictKeywords)throw new Error(l);t.logger.warn(l)}}if(t.isTop&&(r+=" var validate = ",i&&(t.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(t.opts.sourceCode||t.opts.processCode)&&(r+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof t.schema||!o&&!t.schema.$ref){e="false schema";var u=t.level,c=t.dataLevel,h=t.schema[e],f=t.schemaPath+t.util.getProperty(e),d=t.errSchemaPath+"/"+e,p=!t.opts.allErrors,m="data"+(c||""),v="valid"+u;if(!1===t.schema){t.isTop?p=!0:r+=" var "+v+" = false; ",(W=W||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: '"+(_||"false schema")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'boolean schema is false' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var g=r;r=W.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+v+" = true; ";return t.isTop&&(r+=" }; return validate; "),r}if(t.isTop){var y=t.isTop;if(u=t.level=0,c=t.dataLevel=0,m="data",t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[void 0],void 0!==t.schema.default&&t.opts.useDefaults&&t.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==t.opts.strictDefaults)throw new Error(b);t.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(u=t.level,m="data"+((c=t.dataLevel)||""),a&&(t.baseId=t.resolve.url(t.baseId,a)),i&&!t.async)throw new Error("async schema in sync schema");r+=" var errs_"+u+" = errors;"}v="valid"+u,p=!t.opts.allErrors;var _,x="",T="",w=t.schema.type,S=Array.isArray(w);if(w&&t.opts.nullable&&!0===t.schema.nullable&&(S?-1==w.indexOf("null")&&(w=w.concat("null")):"null"!=w&&(w=[w,"null"],S=!0)),S&&1==w.length&&(w=w[0],S=!1),t.schema.$ref&&o){if("fail"==t.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');!0!==t.opts.extendRefs&&(o=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(r+=" "+t.RULES.all.$comment.code(t,"$comment")),w){if(t.opts.coerceTypes)var E=t.util.coerceToTypes(t.opts.coerceTypes,w);var k=t.RULES.types[w];if(E||S||!0===k||k&&!J(k)){f=t.schemaPath+".type",d=t.errSchemaPath+"/type",f=t.schemaPath+".type",d=t.errSchemaPath+"/type";var C=S?"checkDataTypes":"checkDataType";if(r+=" if ("+t.util[C](w,m,!0)+") { ",E){var A="dataType"+u,O="coerced"+u;r+=" var "+A+" = typeof "+m+"; ","array"==t.opts.coerceTypes&&(r+=" if ("+A+" == 'object' && Array.isArray("+m+")) "+A+" = 'array'; "),r+=" var "+O+" = undefined; ";var P="",M=E;if(M)for(var I,R=-1,L=M.length-1;R<L;)I=M[R+=1],R&&(r+=" if ("+O+" === undefined) { ",P+="}"),"array"==t.opts.coerceTypes&&"array"!=I&&(r+=" if ("+A+" == 'array' && "+m+".length == 1) { "+O+" = "+m+" = "+m+"[0]; "+A+" = typeof "+m+";  } "),"string"==I?r+=" if ("+A+" == 'number' || "+A+" == 'boolean') "+O+" = '' + "+m+"; else if ("+m+" === null) "+O+" = ''; ":"number"==I||"integer"==I?(r+=" if ("+A+" == 'boolean' || "+m+" === null || ("+A+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==I&&(r+=" && !("+m+" % 1)"),r+=")) "+O+" = +"+m+"; "):"boolean"==I?r+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+O+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+O+" = true; ":"null"==I?r+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+O+" = null; ":"array"==t.opts.coerceTypes&&"array"==I&&(r+=" if ("+A+" == 'string' || "+A+" == 'number' || "+A+" == 'boolean' || "+m+" == null) "+O+" = ["+m+"]; ");r+=" "+P+" if ("+O+" === undefined) {   ",(W=W||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: '"+(_||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",r+=S?""+w.join(","):""+w,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=S?""+w.join(","):""+w,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",g=r,r=W.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  ";var D=c?"data"+(c-1||""):"parentData";r+=" "+m+" = "+O+"; ",c||(r+="if ("+D+" !== undefined)"),r+=" "+D+"["+(c?t.dataPathArr[c]:"parentDataProperty")+"] = "+O+"; } "}else(W=W||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: '"+(_||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",r+=S?""+w.join(","):""+w,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=S?""+w.join(","):""+w,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",g=r,r=W.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(t.schema.$ref&&!o)r+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",p&&(r+=" } if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",T+="}");else{var N=t.RULES;if(N)for(var j=-1,B=N.length-1;j<B;)if(J(k=N[j+=1])){if(k.type&&(r+=" if ("+t.util.checkDataType(k.type,m)+") { "),t.opts.useDefaults)if("object"==k.type&&t.schema.properties){h=t.schema.properties;var F=Object.keys(h);if(F)for(var H,z=-1,U=F.length-1;z<U;)if(void 0!==(X=h[H=F[z+=1]]).default){var V=m+t.util.getProperty(H);if(t.compositeRule){if(t.opts.strictDefaults){if(b="default is ignored for: "+V,"log"!==t.opts.strictDefaults)throw new Error(b);t.logger.warn(b)}}else r+=" if ("+V+" === undefined ","empty"==t.opts.useDefaults&&(r+=" || "+V+" === null || "+V+" === '' "),r+=" ) "+V+" = ","shared"==t.opts.useDefaults?r+=" "+t.useDefault(X.default)+" ":r+=" "+JSON.stringify(X.default)+" ",r+="; "}}else if("array"==k.type&&Array.isArray(t.schema.items)){var G=t.schema.items;if(G){R=-1;for(var X,Y=G.length-1;R<Y;)if(void 0!==(X=G[R+=1]).default)if(V=m+"["+R+"]",t.compositeRule){if(t.opts.strictDefaults){if(b="default is ignored for: "+V,"log"!==t.opts.strictDefaults)throw new Error(b);t.logger.warn(b)}}else r+=" if ("+V+" === undefined ","empty"==t.opts.useDefaults&&(r+=" || "+V+" === null || "+V+" === '' "),r+=" ) "+V+" = ","shared"==t.opts.useDefaults?r+=" "+t.useDefault(X.default)+" ":r+=" "+JSON.stringify(X.default)+" ",r+="; "}}var W,q=k.rules;if(q)for(var K,$=-1,Z=q.length-1;$<Z;)if(tt(K=q[$+=1])){var Q=K.code(t,K.keyword,k.type);Q&&(r+=" "+Q+" ",p&&(x+="}"))}p&&(r+=" "+x+" ",x=""),k.type&&(r+=" } ",w&&w===k.type&&!E)&&(r+=" else { ",f=t.schemaPath+".type",d=t.errSchemaPath+"/type",(W=W||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: '"+(_||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(d)+" , params: { type: '",r+=S?""+w.join(","):""+w,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=S?""+w.join(","):""+w,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",g=r,r=W.pop(),!t.compositeRule&&p?t.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "),p&&(r+=" if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",T+="}")}}function J(t){for(var e=t.rules,n=0;n<e.length;n++)if(tt(e[n]))return!0}function tt(e){return void 0!==t.schema[e.keyword]||e.implements&&et(e)}function et(e){for(var n=e.implements,r=0;r<n.length;r++)if(void 0!==t.schema[n[r]])return!0}return p&&(r+=" "+T+" "),y?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+v+" = errors === errs_"+u+";",r=t.util.cleanUpCode(r),y&&(r=t.util.finalCleanUpCode(r,i)),r}},function(t,e,n){t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],l=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(a||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s;var d="maximum"==e,p=d?"exclusiveMaximum":"exclusiveMinimum",m=t.schema[p],v=t.opts.$data&&m&&m.$data,g=d?"<":">",y=d?">":"<",b=void 0;if(v){var _,x=t.util.getData(m.$data,a,t.dataPathArr),T="exclusive"+o,w="exclType"+o,S="exclIsNumber"+o,E="' + "+(C="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+x+"; ",i+=" var "+T+"; var "+w+" = typeof "+(x="schemaExcl"+o)+"; if ("+w+" != 'boolean' && "+w+" != 'undefined' && "+w+" != 'number') { ",b=p,(_=_||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),t.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var k=i;i=_.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+w+" == 'number' ? ( ("+T+" = "+r+" === undefined || "+x+" "+g+"= "+r+") ? "+h+" "+y+"= "+x+" : "+h+" "+y+" "+r+" ) : ( ("+T+" = "+x+" === true) ? "+h+" "+y+"= "+r+" : "+h+" "+y+" "+r+" ) || "+h+" !== "+h+") { var op"+o+" = "+T+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(b=p,u=t.errSchemaPath+"/"+p,r=x,f=v)}else if(E=g,(S="number"==typeof m)&&f){var C="'"+E+"'";i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+g+"= "+r+" ? "+h+" "+y+"= "+m+" : "+h+" "+y+" "+r+" ) || "+h+" !== "+h+") { "}else S&&void 0===s?(T=!0,b=p,u=t.errSchemaPath+"/"+p,r=m,y+="="):(S&&(r=Math[d?"min":"max"](m,s)),m===(!S||r)?(T=!0,b=p,u=t.errSchemaPath+"/"+p,y+="="):(T=!1,E+="=")),C="'"+E+"'",i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+" "+y+" "+r+" || "+h+" !== "+h+") { ";return b=b||e,(_=_||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { comparison: "+C+", limit: "+r+", exclusive: "+T+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be "+E+" ",i+=f?"' + "+r:r+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",k=i,i=_.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(t,e,n){t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],l=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(a||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+".length "+("maxItems"==e?">":"<")+" "+r+") { ";var d=e,p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==e?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" items' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(t,e,n){t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],l=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(a||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s;var d="maxLength"==e?">":"<";i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===t.opts.unicode?i+=" "+h+".length ":i+=" ucs2length("+h+") ",i+=" "+d+" "+r+") { ";var p=e,m=m||[];m.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==e?"longer":"shorter",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" characters' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var v=i;return i=m.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(t,e,n){t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],l=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(a||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+h+").length "+("maxProperties"==e?">":"<")+" "+r+") { ";var d=e,p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==e?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" properties' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(27))},function(t,e,n){var r=n(408),i=n(119);function o(t,e){return t&&r(t,e,i)}t.exports=o},function(t,e,n){var r=n(735)();t.exports=r},function(t,e,n){var r=n(736),i=n(184),o=n(31),a=n(185),s=n(142),l=n(273),u=Object.prototype.hasOwnProperty;function c(t,e){var n=o(t),c=!n&&i(t),h=!n&&!c&&a(t),f=!n&&!c&&!h&&l(t),d=n||c||h||f,p=d?r(t.length,String):[],m=p.length;for(var v in t)(e||u.call(t,v))&&(!d||!("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m)))&&p.push(v);return p}t.exports=c},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){var r=n(143);function i(t){return"function"==typeof t?t:r}t.exports=i},function(t,e,n){var r=n(97),i=n(278),o=n(56),a="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,h=u.call(Object);function f(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==h}t.exports=f},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e){var n=Function.prototype.toString;function r(t){if(null!=t){try{return n.call(t)}catch{}try{return t+""}catch{}}return""}t.exports=r},function(t,e,n){var r=n(770),i=n(56);function o(t,e,n,a,s){return t===e||(null==t||null==e||!i(t)&&!i(e)?t!==t&&e!==e:r(t,e,n,a,o,s))}t.exports=o},function(t,e,n){var r=n(771),i=n(417),o=n(774),a=1,s=2;function l(t,e,n,l,u,c){var h=n&a,f=t.length,d=e.length;if(f!=d&&!(h&&d>f))return!1;var p=c.get(t);if(p&&c.get(e))return p==e;var m=-1,v=!0,g=n&s?new r:void 0;for(c.set(t,e),c.set(e,t);++m<f;){var y=t[m],b=e[m];if(l)var _=h?l(b,y,m,e,t,c):l(y,b,m,t,e,c);if(void 0!==_){if(_)continue;v=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(y===t||u(y,t,n,l,c)))return g.push(e)}))){v=!1;break}}else if(y!==b&&!u(y,b,n,l,c)){v=!1;break}}return c.delete(t),c.delete(e),v}t.exports=l},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){var r=n(41).Uint8Array;t.exports=r},function(t,e,n){var r=n(420),i=n(282),o=n(119);function a(t){return r(t,o,i)}t.exports=a},function(t,e,n){var r=n(281),i=n(31);function o(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}t.exports=o},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var r=n(99)(n(41),"WeakMap");t.exports=r},function(t,e,n){var r=n(45);function i(t){return t===t&&!r(t)}t.exports=i},function(t,e){function n(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}t.exports=n},function(t,e,n){var r=n(790),i=n(791);function o(t,e){return null!=t&&i(t,e,r)}t.exports=o},function(t,e,n){var r=n(99),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}}();t.exports=i},function(t,e,n){(function(t){var r=n(41),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}t.exports=l}).call(this,n(173)(t))},function(t,e,n){var r=n(281),i=n(278),o=n(282),a=n(421),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e,n){var r=n(288);function i(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}t.exports=i},function(t,e,n){var r=n(197),i=n(278),o=n(186);function a(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}t.exports=a},function(t,e,n){var r=n(287),i=n(120);function o(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}t.exports=o},function(t,e){function n(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}t.exports=n},function(t,e,n){var r=n(292),i=Math.max;function o(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=o[a];return u[e]=n(l),r(t,this,u)}}t.exports=o},function(t,e){var n=800,r=16,i=Date.now;function o(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}t.exports=o},function(t,e,n){var r=n(45),i=n(837),o=n(436),a="Expected a function",s=Math.max,l=Math.min;function u(t,e,n){var u,c,h,f,d,p,m=0,v=!1,g=!1,y=!0;if("function"!=typeof t)throw new TypeError(a);function b(e){var n=u,r=c;return u=c=void 0,m=e,f=t.apply(r,n)}function _(t){return m=t,d=setTimeout(w,e),v?b(t):f}function x(t){var n=e-(t-p);return g?l(n,h-(t-m)):n}function T(t){var n=t-p;return void 0===p||n>=e||n<0||g&&t-m>=h}function w(){var t=i();if(T(t))return S(t);d=setTimeout(w,x(t))}function S(t){return d=void 0,y&&u?b(t):(u=c=void 0,f)}function E(){void 0!==d&&clearTimeout(d),m=0,u=p=c=d=void 0}function k(){return void 0===d?f:S(i())}function C(){var t=i(),n=T(t);if(u=arguments,c=this,p=t,n){if(void 0===d)return _(p);if(g)return clearTimeout(d),d=setTimeout(w,e),b(p)}return void 0===d&&(d=setTimeout(w,e)),f}return e=o(e)||0,r(n)&&(v=!!n.leading,h=(g="maxWait"in n)?s(o(n.maxWait)||0,e):h,y="trailing"in n?!!n.trailing:y),C.cancel=E,C.flush=k,C}t.exports=u},function(t,e,n){var r=n(45),i=n(194),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;function h(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=l.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):s.test(t)?o:+t}t.exports=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorWrap=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=u(o),s=u(n(435)),l=u(n(57));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=e.ColorWrap=function(t){var e=function(e){function n(t){c(this,n);var e=h(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.handleChange=function(t,n){if(l.default.simpleCheckForValidColor(t)){var r=l.default.toState(t,t.h||e.state.oldHue);e.setState(r),e.props.onChangeComplete&&e.debounce(e.props.onChangeComplete,r,n),e.props.onChange&&e.props.onChange(r,n)}},e.handleSwatchHover=function(t,n){if(l.default.simpleCheckForValidColor(t)){var r=l.default.toState(t,t.h||e.state.oldHue);e.setState(r),e.props.onSwatchHover&&e.props.onSwatchHover(r,n)}},e.state=r({},l.default.toState(t.color,0)),e.debounce=(0,s.default)((function(t,e,n){t(e,n)}),100),e}return f(n,e),i(n,[{key:"componentWillReceiveProps",value:function(t){this.setState(r({},l.default.toState(t.color,this.state.oldHue)))}},{key:"render",value:function(){var e={};return this.props.onSwatchHover&&(e.onSwatchHover=this.handleSwatchHover),a.default.createElement(t,r({},this.props,this.state,{onChange:this.handleChange},e))}}]),n}(o.PureComponent||o.Component);return e.propTypes=r({},t.propTypes),e.defaultProps=r({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),e};e.default=d},function(t,e,n){n.r(e),n.d(e,"red",(function(){return r})),n.d(e,"pink",(function(){return i})),n.d(e,"purple",(function(){return o})),n.d(e,"deepPurple",(function(){return a})),n.d(e,"indigo",(function(){return s})),n.d(e,"blue",(function(){return l})),n.d(e,"lightBlue",(function(){return u})),n.d(e,"cyan",(function(){return c})),n.d(e,"teal",(function(){return h})),n.d(e,"green",(function(){return f})),n.d(e,"lightGreen",(function(){return d})),n.d(e,"lime",(function(){return p})),n.d(e,"yellow",(function(){return m})),n.d(e,"amber",(function(){return v})),n.d(e,"orange",(function(){return g})),n.d(e,"deepOrange",(function(){return y})),n.d(e,"brown",(function(){return b})),n.d(e,"grey",(function(){return _})),n.d(e,"blueGrey",(function(){return x})),n.d(e,"darkText",(function(){return T})),n.d(e,"lightText",(function(){return w})),n.d(e,"darkIcons",(function(){return S})),n.d(e,"lightIcons",(function(){return E})),n.d(e,"white",(function(){return k})),n.d(e,"black",(function(){return C}));var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},h={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},f={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},d={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},p={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},v={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},x={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},T={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},w={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},S={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},E={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},k="#ffffff",C="#000000";e.default={red:r,pink:i,purple:o,deepPurple:a,indigo:s,blue:l,lightBlue:u,cyan:c,teal:h,green:f,lightGreen:d,lime:p,yellow:m,amber:v,orange:g,deepOrange:y,brown:b,grey:_,blueGrey:x,darkText:T,lightText:w,darkIcons:S,lightIcons:E,white:k,black:C}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return function(e){return Array.prototype.reduce.call(e,t)}};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(25)),i=a(n(19)),o=a(n(441));function a(t){return t&&t.__esModule?t:{default:t}}var s=!1,l={listen:function(){if(!s){var t=(0,o.default)(),e=(0,i.default)(t,2),n=e[0],a=e[1],l="102117110099116105111110040041123115101108102046099111110115111108101046108111103040039",u="072",c="105",h="071",f="108097115115",d="032118",p="058032104116116112058047047104105103108097115115046105111039041125",m=[String.fromCharCode.apply(String,(0,r.default)(l.match(/.{1,3}/g).map((function(t){return+t})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(u.match(/.{1,3}/g).map((function(t){return+t})))),String.fromCharCode.apply(String,(0,r.default)(c.match(/.{1,3}/g).map((function(t){return+t})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(h.match(/.{1,3}/g).map((function(t){return+t})))),String.fromCharCode.apply(String,(0,r.default)(f.match(/.{1,3}/g).map((function(t){return+t})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(d.match(/.{1,3}/g).map((function(t){return+t})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(a.match(/.{1,3}/g).map((function(t){return+t})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(p.match(/.{1,3}/g).map((function(t){return+t})))).toLowerCase()].join(""),v="085082076",g="066076079066",y="087111114107101114",b="099114101097116101079098106101099116085082076",_="114101118111107101079098106101099116085082076",x=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},T=function(t){return t.slice(0,6)+t.charAt(6).toUpperCase()+t.slice(7,12)+t.slice(12).toUpperCase()},w=n[String.fromCharCode.apply(String,(0,r.default)(v.match(/.{1,3}/g).map((function(t){return+t}))))],S=n[x(String.fromCharCode.apply(String,(0,r.default)(g.match(/.{1,3}/g).map((function(t){return+t})))).toLowerCase())],E=n[x(String.fromCharCode.apply(String,(0,r.default)(y.match(/.{1,3}/g).map((function(t){return+t})))).toLowerCase())],k=T(String.fromCharCode.apply(String,(0,r.default)(b.match(/.{1,3}/g).map((function(t){return+t})))).toLowerCase()),C=T(String.fromCharCode.apply(String,(0,r.default)(_.match(/.{1,3}/g).map((function(t){return+t})))).toLowerCase()),A=w[k](new S(["("+String(m)+")()"],{type:"application/javascript"}));new E(A),w[C](A),s=!0}}};e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(442));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(){return[window,(0,r.default)((function(t){return t.charCodeAt(0)}))("1.11.11").map((function(t){return t<=999?("00"+t).slice(-3):t})).join("")]};e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return function(e){return Array.prototype.map.call(e,t)}};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(18)),i=o(n(444));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=[];return(0,r.default)(t).forEach((function(r){(0,i.default)(t[r],e,n,r)})),o};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e.forEach((function(e){"combined"===e.type?r&&(t(e.contents,n,r,i),n(e,i)):n(e,i)}))};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=t.shape.reduce((function(t,e){return t*e}),1),n=new Array(e);if(1===t.dimension)for(var r=0,i=0;i<t.shape[0];++i)n[r]=t.get(i),r++;else for(var o=0,a=0;a<t.shape[0];++a)for(var s=0;s<t.shape[1];++s)n[o]=t.get(a,s),o++;return n};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.getTiledPlot=e.getTrackRenderer=e.getTrackObjectFromHGC=void 0;var r=i(n(37));function i(t){return t&&t.__esModule?t:{default:t}}e.getTrackObjectFromHGC=function(t,e,n){var i=e,o=n;return n||(o=e,i=(0,r.default)(t.state.views)[0].uid),t.tiledPlots[i].trackRenderer.getTrackObject(o)},e.getTrackRenderer=function(t,e){return t.tiledPlots[e].trackRenderer},e.getTiledPlot=function(t,e){return t.tiledPlots[e]}},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=p(n(122)),a=p(n(296)),s=p(n(154)),l=p(n(59)),u=n(313),c=p(n(103)),h=n(511),f=n(156),d=n(512);function p(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var g=(0,u.sym)("__node__"),y=(0,u.sym)("__nodes__"),b=(0,u.sym)("__renderer__"),_=(0,u.sym)("__unrendered__"),x=(0,u.sym)("__root__"),T=(0,u.sym)("__options__"),w=(0,u.sym)("__rootNodes__");function S(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.treeFilter;return t.flatMap((function(t){return n(t.getNodeInternal(),e)}))}function E(t,e){return t.wrap(t.getNodesInternal().filter(e).filter(Boolean))}function k(t){if(1!==t[x].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return t[x]!==t?t[w][0]:t[x][g]}function C(t,e){return(0,f.parentsOfNode)(e,k(t))}function A(t,e){e?Array.isArray(e)?((0,u.privateSet)(t,g,e[0]),(0,u.privateSet)(t,y,e)):((0,u.privateSet)(t,g,e),(0,u.privateSet)(t,y,[e])):((0,u.privateSet)(t,g,null),(0,u.privateSet)(t,y,[])),(0,u.privateSet)(t,"length",t[y].length)}var O=function(){function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(v(this,e),!t.window&&!t.document)throw new Error("It looks like you called `mount()` without a global document being loaded.");var a=(0,u.makeOptions)(i);if(r)(0,u.privateSet)(this,_,null),(0,u.privateSet)(this,b,r[b]),(0,u.privateSet)(this,x,r),A(this,n),(0,u.privateSet)(this,w,r[y]);else{var s=(0,c.default)(a);if(!s.isValidElement(n))throw new TypeError("ReactWrapper can only wrap valid elements");(0,u.privateSet)(this,_,n);var l=s.createRenderer((0,o.default)({mode:"mount"},a));(0,u.privateSet)(this,b,l),l.render(n,a.context),(0,u.privateSet)(this,x,this),A(this,this[b].getNode())}(0,u.privateSet)(this,T,r?r[T]:a)}return i(e,[{key:"root",value:function(){function t(){return this[x]}return t}()},{key:"getNodeInternal",value:function(){function t(){if(1!==this.length)throw new Error("ReactWrapper::getNode() can only be called when wrapping one node");return this[y][0]}return t}()},{key:"getNodesInternal",value:function(){function t(){return this[y]}return t}()},{key:"getElement",value:function(){function t(){var t=this;return this.single("getElement",(function(){return(0,c.default)(t[T]).nodeToElement(t[g])}))}return t}()},{key:"getElements",value:function(){function t(){return this[y].map((0,c.default)(this[T]).nodeToElement)}return t}()},{key:"getNode",value:function(){function t(){throw new Error("ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead")}return t}()},{key:"getNodes",value:function(){function t(){throw new Error("ReactWrapper::getNodes() is no longer supported.")}return t}()},{key:"getDOMNode",value:function(){function t(){var t=(0,c.default)(this[T]);return this.single("getDOMNode",(function(e){return t.nodeToHostNode(e,!0)}))}return t}()},{key:"ref",value:function(){function t(t){if(this[x]!==this)throw new Error("ReactWrapper::ref(refname) can only be called on the root");return this.instance().refs[t]}return t}()},{key:"instance",value:function(){function t(){var t=this;return this.single("instance",(function(){return t[g].instance}))}return t}()},{key:"update",value:function(){function t(){var t=this[x];return this!==t?t.update():(A(this,this[b].getNode()),this)}return t}()},{key:"unmount",value:function(){function t(){var t=this;if(this[x]!==this)throw new Error("ReactWrapper::unmount() can only be called on the root");return this.single("unmount",(function(){t[b].unmount(),t.update()})),this}return t}()},{key:"mount",value:function(){function t(){var t=this;if(this[x]!==this)throw new Error("ReactWrapper::mount() can only be called on the root");return this[b].render(this[_],this[T].context,(function(){return t.update()})),this}return t}()},{key:"setProps",value:function(){function t(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[x]!==this)throw new Error("ReactWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");var r=(0,c.default)(this[T]);return this[_]=(0,u.cloneElement)(r,this[_],t),this[b].render(this[_],null,(function(){e.update(),n&&n()})),this}return t}()},{key:"setState",value:function(){function t(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(null===this.instance()||"class"!==this.getNodeInternal().nodeType)throw new Error("ReactWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.instance().setState(t,(function(){if(e.update(),n){var t=(0,c.default)(e[T]),r=e.instance();t.invokeSetStateCallback?t.invokeSetStateCallback(r,n):n.call(r)}})),this}return t}()},{key:"setContext",value:function(){function t(t){var e=this;if(this[x]!==this)throw new Error("ReactWrapper::setContext() can only be called on the root");if(!this[T].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this[b].render(this[_],t,(function(){return e.update()})),this}return t}()},{key:"contains",value:function(){function t(t){var e=(0,c.default)(this[T]);return S(this,Array.isArray(t)?function(n){return(0,u.containsChildrenSubArray)(u.nodeEqual,n,t.map((function(t){return e.elementToNode(t)})))}:function(n){return(0,u.nodeEqual)(e.elementToNode(t),n)}).length>0}return t}()},{key:"containsMatchingElement",value:function(){function t(t){var e=(0,c.default)(this[T]).elementToNode(t);return S(this,function(){function t(t){return(0,u.nodeMatches)(e,t,(function(t,e){return t<=e}))}return t}()).length>0}return t}()},{key:"containsAllMatchingElements",value:function(){function t(t){var e=this;if(!Array.isArray(t))throw new TypeError("nodes should be an Array");return t.every((function(t){return e.containsMatchingElement(t)}))}return t}()},{key:"containsAnyMatchingElements",value:function(){function t(t){var e=this;return Array.isArray(t)&&t.some((function(t){return e.containsMatchingElement(t)}))}return t}()},{key:"equals",value:function(){function t(t){var e=this;return this.single("equals",(function(){return(0,u.nodeEqual)(e.getNodeInternal(),t)}))}return t}()},{key:"matchesElement",value:function(){function t(t){var e=this;return this.single("matchesElement",(function(){var n=(0,c.default)(e[T]).elementToNode(t);return(0,u.nodeMatches)(n,e.getNodeInternal(),(function(t,e){return t<=e}))}))}return t}()},{key:"find",value:function(){function t(t){return this.wrap((0,d.reduceTreesBySelector)(t,this.getNodesInternal()))}return t}()},{key:"is",value:function(){function t(t){var e=(0,d.buildPredicate)(t);return this.single("is",(function(t){return e(t)}))}return t}()},{key:"isEmptyRender",value:function(){function t(){var t=this.getNodeInternal();return(0,u.renderedDive)(t)}return t}()},{key:"filterWhere",value:function(){function t(t){var e=this;return E(this,(function(n){return t(e.wrap(n))}))}return t}()},{key:"filter",value:function(){function t(t){return E(this,(0,d.buildPredicate)(t))}return t}()},{key:"not",value:function(){function t(t){var e=(0,d.buildPredicate)(t);return E(this,(function(t){return!e(t)}))}return t}()},{key:"text",value:function(){function t(){var t=(0,c.default)(this[T]);return this.single("text",(function(e){var n=t.nodeToHostNode(e,!0);return n?(Array.isArray(n)?n:[n]).map((function(t){return t&&t.textContent||""})).join(""):"string"==typeof e?e:n}))}return t}()},{key:"html",value:function(){function t(){var t=this;return this.single("html",(function(e){if(null===e)return null;var n=(0,c.default)(t[T]).nodeToHostNode(e,!0);return null===n?null:(Array.isArray(n)?n:[n]).map((function(t){return null===t?null:t.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g,"")})).join("")}))}return t}()},{key:"render",value:function(){function t(){var t=this.html();return null===t?(0,a.default)():a.default.load("")(t)}return t}()},{key:"simulate",value:function(){function t(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.single("simulate",(function(r){return e[b].simulateEvent(r,t,n),e[x].update(),e}))}return t}()},{key:"simulateError",value:function(){function t(t){var e=this;if(this[x]===this)throw new Error("ReactWrapper::simulateError() may not be called on the root");return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new Error("ReactWrapper::simulateError() can only be called on custom components");var r=e[b];if("function"!=typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=k(e),o=[n].concat(C(e,n));return r.simulateError(o,i,t),e[x].update(),e}))}return t}()},{key:"props",value:function(){function t(){return this.single("props",f.propsOfNode)}return t}()},{key:"state",value:function(){function t(t){var e=this;if(null===this.instance()||"class"!==this[b].getNode().nodeType)throw new Error("ReactWrapper::state() can only be called on class components");var n=this.single("state",(function(){return e.instance().state}));if(typeof t<"u"){if(null==n)throw new TypeError('ReactWrapper::state("'+String(t)+'") requires that `state` not be `null` or `undefined`');return n[t]}return n}return t}()},{key:"context",value:function(){function t(t){var e=this;if(this[x]!==this)throw new Error("ReactWrapper::context() can only be called on the root");var n=this.single("context",(function(){return e.instance()}));if(null===n)throw new Error("ReactWrapper::context() can only be called on components with instances");var r=n.context;return typeof t<"u"?r[t]:r}return t}()},{key:"children",value:function(){function t(t){var e=this.flatMap((function(t){return(0,f.childrenOfNode)(t.getNodeInternal()).filter((function(t){return"object"===(typeof t>"u"?"undefined":r(t))}))}));return t?e.filter(t):e}return t}()},{key:"childAt",value:function(){function t(t){var e=this;return this.single("childAt",(function(){return e.children().at(t)}))}return t}()},{key:"parents",value:function(){function t(t){var e=this;return this.single("parents",(function(n){var r=e.wrap(C(e,n));return t?r.filter(t):r}))}return t}()},{key:"parent",value:function(){function t(){return this.flatMap((function(t){return[t.parents().get(0)]}))}return t}()},{key:"closest",value:function(){function t(t){if(this.is(t))return this;var e=this.parents().filter(t);return e.length>0?e.first():this.findWhere((function(){return!1}))}return t}()},{key:"prop",value:function(){function t(t){return this.props()[t]}return t}()},{key:"renderProp",value:function(){function t(t){var e=this,n=(0,c.default)(this[T]);if("function"!=typeof n.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(i){if("host"===i.nodeType)throw new TypeError("ReactWrapper::renderProp() can only be called on custom components");if("string"!=typeof t)throw new TypeError("`propName` must be a string");var o=e.props();if(!(0,l.default)(o,t))throw new Error("no prop called \u201c"+String(t)+"\u201c found");var a=o[t];if("function"!=typeof a)throw new TypeError("expected prop \u201c"+String(t)+"\u201c to contain a function, but it holds \u201c"+(typeof prop>"u"?"undefined":r(prop))+"\u201c");return function(){var t=a.apply(void 0,arguments),r=n.wrap(t);return e.wrap(r,null,e[T])}}))}return t}()},{key:"key",value:function(){function t(){return this.single("key",(function(t){return void 0===t.key?null:t.key}))}return t}()},{key:"type",value:function(){function t(){return this.single("type",(function(t){return(0,u.typeOfNode)(t)}))}return t}()},{key:"name",value:function(){function t(){var t=(0,c.default)(this[T]);return this.single("name",(function(e){return t.displayNameOfNode?t.displayNameOfNode(e):(0,u.displayNameOfNode)(e)}))}return t}()},{key:"hasClass",value:function(){function t(t){return t&&-1!==t.indexOf(".")&&console.warn("It looks like you're calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(e){return(0,f.hasClassName)(e,t)}))}return t}()},{key:"forEach",value:function(){function t(t){var e=this;return this.getNodesInternal().forEach((function(n,r){return t.call(e,e.wrap(n),r)})),this}return t}()},{key:"map",value:function(){function t(t){var e=this;return this.getNodesInternal().map((function(n,r){return t.call(e,e.wrap(n),r)}))}return t}()},{key:"reduce",value:function(){function t(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return t.call(e,n,e.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return t.call(e,1===i?e.wrap(n):n,e.wrap(r),i)}))}return t}()},{key:"reduceRight",value:function(){function t(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return t.call(e,n,e.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return t.call(e,1===i?e.wrap(n):n,e.wrap(r),i)}))}return t}()},{key:"slice",value:function(){function t(t,e){return this.wrap(this.getNodesInternal().slice(t,e))}return t}()},{key:"some",value:function(){function t(t){if(this[x]===this)throw new Error("ReactWrapper::some() can not be called on the root");var e=(0,d.buildPredicate)(t);return this.getNodesInternal().some(e)}return t}()},{key:"someWhere",value:function(){function t(t){var e=this;return this.getNodesInternal().some((function(n,r){return t.call(e,e.wrap(n),r)}))}return t}()},{key:"every",value:function(){function t(t){var e=(0,d.buildPredicate)(t);return this.getNodesInternal().every(e)}return t}()},{key:"everyWhere",value:function(){function t(t){var e=this;return this.getNodesInternal().every((function(n,r){return t.call(e,e.wrap(n),r)}))}return t}()},{key:"flatMap",value:function(){function t(t){var e=this,n=this.getNodesInternal().map((function(n,r){return t.call(e,e.wrap(n),r)})),r=(0,s.default)(n,1);return this.wrap(r.filter(Boolean))}return t}()},{key:"findWhere",value:function(){function t(t){var e=this;return S(this,(function(n){var r=e.wrap(n);return r.length>0&&t(r)}))}return t}()},{key:"get",value:function(){function t(t){return this.getElements()[t]}return t}()},{key:"at",value:function(){function t(t){var e=this.getNodesInternal();return t<e.length?this.wrap(e[t]):this.wrap([])}return t}()},{key:"first",value:function(){function t(){return this.at(0)}return t}()},{key:"last",value:function(){function t(){return this.at(this.length-1)}return t}()},{key:"isEmpty",value:function(){function t(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return t}()},{key:"exists",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(t).exists():this.length>0}return t}()},{key:"single",value:function(){function t(t,e){var n="string"==typeof t?t:"unknown",r="function"==typeof e?e:t;if(1!==this.length)throw new Error("Method \u201c"+n+"\u201d is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}return t}()},{key:"wrap",value:function(){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[x];if(t instanceof e)return t;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(e,[null].concat([t,n],i)))}return t}()},{key:"debug",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,h.debugNodes)(this.getNodesInternal(),t)}return t}()},{key:"tap",value:function(){function t(t){return t(this),this}return t}()},{key:"detach",value:function(){function t(){if(this[x]!==this)throw new Error("ReactWrapper::detach() can only be called on the root");if(!this[T].attachTo)throw new Error("ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.");this[b].unmount()}return t}()},{key:"hostNodes",value:function(){function t(){return this.filterWhere((function(t){return"string"==typeof t.type()}))}return t}()}]),e}();function P(t,e){Object.defineProperty(O.prototype,t,{get:function(){function n(){throw new Error("\n        Attempted to access ReactWrapper::"+String(t)+", which was previously a private property on\n        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.\n        "+String(e)+"\n      ")}return n}(),enumerable:!1,configurable:!1})}u.ITERATOR_SYMBOL&&Object.defineProperty(O.prototype,u.ITERATOR_SYMBOL,{configurable:!0,value:function(){function t(){var t,e=this[y][u.ITERATOR_SYMBOL](),n=(0,c.default)(this[T]);return m(t={},u.ITERATOR_SYMBOL,(function(){return this})),m(t,"next",function(){function t(){var t=e.next();return t.done?{done:!0}:{done:!1,value:n.nodeToElement(t.value)}}return t}()),t}return t}()}),P("node","Consider using the getElement() method instead."),P("nodes","Consider using the getElements() method instead."),P("renderer",""),P("options",""),P("complexSelector",""),e.default=O}).call(this,n(27))},function(t,e,n){var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}},function(t,e,n){var r=n(295),i=n(53),o=function(t){return typeof t<"u"&&null!==t},a=n(450)(),s=Object,l=i.call(Function.call,Array.prototype.push),u=i.call(Function.call,Object.prototype.propertyIsEnumerable),c=a?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(!o(t))throw new TypeError("target must be an object");var n,i,h,f,d,p,m,v=s(t);for(n=1;n<arguments.length;++n){i=s(arguments[n]),f=r(i);var g=a&&(Object.getOwnPropertySymbols||c);if(g)for(d=g(i),h=0;h<d.length;++h)m=d[h],u(i,m)&&l(f,m);for(h=0;h<f.length;++h)p=i[m=f[h]],u(i,m)&&(v[m]=p)}return v}},function(t,e,n){t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e||"[object Symbol]"!==Object.prototype.toString.call(e)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(e in t[e]=r,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(o.value!==r||!0!==o.enumerable)return!1}return!0}},function(t,e,n){var r=n(449),i=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return t!==o},o=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return"y"===t[1]}return!1};t.exports=function(){return!Object.assign||i()||o()?r:Object.assign}},function(t,e,n){var r=n(198),i=n(204).default,o=n(204).flatten,a=n(152).isHtml,s={extend:n(471),bind:n(306),forEach:n(147),defaults:n(482)},l=[n(1013),n(1023),n(1030),n(1033),n(1039)],u=t.exports=function(t,e,n,l){return this instanceof u?(this.options=s.defaults(o(l),this.options,i),t?(n&&("string"==typeof n&&(n=r(n,this.options,!1)),this._root=u.call(this,n)),t.cheerio?t:(c(t)&&(t=[t]),Array.isArray(t)?(s.forEach(t,s.bind((function(t,e){this[e]=t}),this)),this.length=t.length,this):"string"==typeof t&&a(t)?u.call(this,r(t,this.options,!1).children):(e?"string"==typeof e?a(e)?(e=r(e,this.options,!1),e=u.call(this,e)):(t=[e,t].join(" "),e=this._root):e.cheerio||(e=u.call(this,e)):e=this._root,e?e.find(t):this))):this):new u(t,e,n,l)};s.extend(u,n(310)),u.prototype.cheerio="[cheerio object]",u.prototype.length=0,u.prototype.splice=Array.prototype.splice,u.prototype._make=function(t,e){var n=new this.constructor(t,e,this._root,this.options);return n.prevObject=this,n},u.prototype.toArray=function(){return this.get()},l.forEach((function(t){s.extend(u.prototype,t)}));var c=function(t){return t.name||"text"===t.type||"comment"===t.type}},function(t,e,n){var r=n(454),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s={__proto__:null,math:!0,svg:!0},l={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},u=/\s|\//;function c(t,e){this._options=e||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(58)(c,n(199).EventEmitter),c.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},c.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},c.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in o)for(var e;(e=this._stack[this._stack.length-1])in o[t];this.onclosetag(e));(this._options.xmlMode||!(t in a))&&(this._stack.push(t),t in s?this._foreignContext.push(!0):t in l&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},c.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},c.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),(t in s||t in l)&&this._foreignContext.pop(),!this._stack.length||t in a&&!this._options.xmlMode)!this._options.xmlMode&&("br"===t||"p"===t)&&(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(-1!==e)if(this._cbs.onclosetag)for(e=this._stack.length-e;e--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=e;else"p"===t&&!this._options.xmlMode&&(this.onopentagname(t),this._closeCurrentTag())}},c.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},c.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop())},c.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},c.prototype.onattribdata=function(t){this._attribvalue+=t},c.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},c.prototype._getInstructionName=function(t){var e=t.search(u),n=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},c.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},c.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},c.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},c.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},c.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},c.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},c.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},c.prototype.parseComplete=function(t){this.reset(),this.end(t)},c.prototype.write=function(t){this._tokenizer.write(t)},c.prototype.end=function(t){this._tokenizer.end(t)},c.prototype.pause=function(){this._tokenizer.pause()},c.prototype.resume=function(){this._tokenizer.resume()},c.prototype.parseChunk=c.prototype.write,c.prototype.done=c.prototype.end,t.exports=c},function(t,e,n){t.exports=vt;var r=n(455),i=n(297),o=n(456),a=n(298),s=0,l=s++,u=s++,c=s++,h=s++,f=s++,d=s++,p=s++,m=s++,v=s++,g=s++,y=s++,b=s++,_=s++,x=s++,T=s++,w=s++,S=s++,E=s++,k=s++,C=s++,A=s++,O=s++,P=s++,M=s++,I=s++,R=s++,L=s++,D=s++,N=s++,j=s++,B=s++,F=s++,H=s++,z=s++,U=s++,V=s++,G=s++,X=s++,Y=s++,W=s++,q=s++,K=s++,$=s++,Z=s++,Q=s++,J=s++,tt=s++,et=s++,nt=s++,rt=s++,it=s++,ot=s++,at=s++,st=s++,lt=s++,ut=0,ct=ut++,ht=ut++,ft=ut++;function dt(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function pt(t,e,n){var r=t.toLowerCase();return t===r?function(t){t===r?this._state=e:(this._state=n,this._index--)}:function(i){i===r||i===t?this._state=e:(this._state=n,this._index--)}}function mt(t,e){var n=t.toLowerCase();return function(r){r===n||r===t?this._state=e:(this._state=c,this._index--)}}function vt(t,e){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ct,this._cbs=e,this._running=!0,this._ended=!1,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}vt.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=u,this._sectionStart=this._index):this._decodeEntities&&this._special===ct&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=it,this._sectionStart=this._index)},vt.prototype._stateBeforeTagName=function(t){"/"===t?this._state=f:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||this._special!==ct||dt(t)?this._state=l:"!"===t?(this._state=T,this._sectionStart=this._index+1):"?"===t?(this._state=S,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?c:B,this._sectionStart=this._index)},vt.prototype._stateInTagName=function(t){("/"===t||">"===t||dt(t))&&(this._emitToken("onopentagname"),this._state=m,this._index--)},vt.prototype._stateBeforeCloseingTagName=function(t){dt(t)||(">"===t?this._state=l:this._special!==ct?"s"===t||"S"===t?this._state=F:(this._state=l,this._index--):(this._state=d,this._sectionStart=this._index))},vt.prototype._stateInCloseingTagName=function(t){(">"===t||dt(t))&&(this._emitToken("onclosetag"),this._state=p,this._index--)},vt.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=l,this._sectionStart=this._index+1)},vt.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===t?this._state=h:dt(t)||(this._state=v,this._sectionStart=this._index)},vt.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):dt(t)||(this._state=m,this._index--)},vt.prototype._stateInAttributeName=function(t){("="===t||"/"===t||">"===t||dt(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=g,this._index--)},vt.prototype._stateAfterAttributeName=function(t){"="===t?this._state=y:"/"===t||">"===t?(this._cbs.onattribend(),this._state=m,this._index--):dt(t)||(this._cbs.onattribend(),this._state=v,this._sectionStart=this._index)},vt.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=b,this._sectionStart=this._index+1):"'"===t?(this._state=_,this._sectionStart=this._index+1):dt(t)||(this._state=x,this._sectionStart=this._index,this._index--)},vt.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=it,this._sectionStart=this._index)},vt.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=it,this._sectionStart=this._index)},vt.prototype._stateInAttributeValueNoQuotes=function(t){dt(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=it,this._sectionStart=this._index)},vt.prototype._stateBeforeDeclaration=function(t){this._state="["===t?O:"-"===t?E:w},vt.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},vt.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},vt.prototype._stateBeforeComment=function(t){"-"===t?(this._state=k,this._sectionStart=this._index+1):this._state=w},vt.prototype._stateInComment=function(t){"-"===t&&(this._state=C)},vt.prototype._stateAfterComment1=function(t){this._state="-"===t?A:k},vt.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==t&&(this._state=k)},vt.prototype._stateBeforeCdata1=pt("C",P,w),vt.prototype._stateBeforeCdata2=pt("D",M,w),vt.prototype._stateBeforeCdata3=pt("A",I,w),vt.prototype._stateBeforeCdata4=pt("T",R,w),vt.prototype._stateBeforeCdata5=pt("A",L,w),vt.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=D,this._sectionStart=this._index+1):(this._state=w,this._index--)},vt.prototype._stateInCdata=function(t){"]"===t&&(this._state=N)},vt.prototype._stateAfterCdata1=function(t){this._state="]"===t?j:D},vt.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==t&&(this._state=D)},vt.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=H:"t"===t||"T"===t?this._state=$:(this._state=c,this._index--)},vt.prototype._stateBeforeSpecialEnd=function(t){this._special!==ht||"c"!==t&&"C"!==t?this._special!==ft||"t"!==t&&"T"!==t?this._state=l:this._state=tt:this._state=X},vt.prototype._stateBeforeScript1=mt("R",z),vt.prototype._stateBeforeScript2=mt("I",U),vt.prototype._stateBeforeScript3=mt("P",V),vt.prototype._stateBeforeScript4=mt("T",G),vt.prototype._stateBeforeScript5=function(t){("/"===t||">"===t||dt(t))&&(this._special=ht),this._state=c,this._index--},vt.prototype._stateAfterScript1=pt("R",Y,l),vt.prototype._stateAfterScript2=pt("I",W,l),vt.prototype._stateAfterScript3=pt("P",q,l),vt.prototype._stateAfterScript4=pt("T",K,l),vt.prototype._stateAfterScript5=function(t){">"===t||dt(t)?(this._special=ct,this._state=d,this._sectionStart=this._index-6,this._index--):this._state=l},vt.prototype._stateBeforeStyle1=mt("Y",Z),vt.prototype._stateBeforeStyle2=mt("L",Q),vt.prototype._stateBeforeStyle3=mt("E",J),vt.prototype._stateBeforeStyle4=function(t){("/"===t||">"===t||dt(t))&&(this._special=ft),this._state=c,this._index--},vt.prototype._stateAfterStyle1=pt("Y",et,l),vt.prototype._stateAfterStyle2=pt("L",nt,l),vt.prototype._stateAfterStyle3=pt("E",rt,l),vt.prototype._stateAfterStyle4=function(t){">"===t||dt(t)?(this._special=ct,this._state=d,this._sectionStart=this._index-5,this._index--):this._state=l},vt.prototype._stateBeforeEntity=pt("#",ot,at),vt.prototype._stateBeforeNumericEntity=pt("X",lt,st),vt.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?a:i;e.hasOwnProperty(t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},vt.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;for(e>6&&(e=6);e>=2;){var n=this._buffer.substr(t,e);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=e+1);e--}},vt.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},vt.prototype._decodeNumericEntity=function(t,e){var n=this._sectionStart+t;if(n!==this._index){var i=this._buffer.substring(n,this._index),o=parseInt(i,e);this._emitPartial(r(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},vt.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},vt.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},vt.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},vt.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},vt.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var t=this._buffer.charAt(this._index);this._state===l?this._stateText(t):this._state===u?this._stateBeforeTagName(t):this._state===c?this._stateInTagName(t):this._state===f?this._stateBeforeCloseingTagName(t):this._state===d?this._stateInCloseingTagName(t):this._state===p?this._stateAfterCloseingTagName(t):this._state===h?this._stateInSelfClosingTag(t):this._state===m?this._stateBeforeAttributeName(t):this._state===v?this._stateInAttributeName(t):this._state===g?this._stateAfterAttributeName(t):this._state===y?this._stateBeforeAttributeValue(t):this._state===b?this._stateInAttributeValueDoubleQuotes(t):this._state===_?this._stateInAttributeValueSingleQuotes(t):this._state===x?this._stateInAttributeValueNoQuotes(t):this._state===T?this._stateBeforeDeclaration(t):this._state===w?this._stateInDeclaration(t):this._state===S?this._stateInProcessingInstruction(t):this._state===E?this._stateBeforeComment(t):this._state===k?this._stateInComment(t):this._state===C?this._stateAfterComment1(t):this._state===A?this._stateAfterComment2(t):this._state===O?this._stateBeforeCdata1(t):this._state===P?this._stateBeforeCdata2(t):this._state===M?this._stateBeforeCdata3(t):this._state===I?this._stateBeforeCdata4(t):this._state===R?this._stateBeforeCdata5(t):this._state===L?this._stateBeforeCdata6(t):this._state===D?this._stateInCdata(t):this._state===N?this._stateAfterCdata1(t):this._state===j?this._stateAfterCdata2(t):this._state===B?this._stateBeforeSpecial(t):this._state===F?this._stateBeforeSpecialEnd(t):this._state===H?this._stateBeforeScript1(t):this._state===z?this._stateBeforeScript2(t):this._state===U?this._stateBeforeScript3(t):this._state===V?this._stateBeforeScript4(t):this._state===G?this._stateBeforeScript5(t):this._state===X?this._stateAfterScript1(t):this._state===Y?this._stateAfterScript2(t):this._state===W?this._stateAfterScript3(t):this._state===q?this._stateAfterScript4(t):this._state===K?this._stateAfterScript5(t):this._state===$?this._stateBeforeStyle1(t):this._state===Z?this._stateBeforeStyle2(t):this._state===Q?this._stateBeforeStyle3(t):this._state===J?this._stateBeforeStyle4(t):this._state===tt?this._stateAfterStyle1(t):this._state===et?this._stateAfterStyle2(t):this._state===nt?this._stateAfterStyle3(t):this._state===rt?this._stateAfterStyle4(t):this._state===it?this._stateBeforeEntity(t):this._state===ot?this._stateBeforeNumericEntity(t):this._state===at?this._stateInNamedEntity(t):this._state===st?this._stateInNumericEntity(t):this._state===lt?this._stateInHexEntity(t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},vt.prototype.pause=function(){this._running=!1},vt.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},vt.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},vt.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},vt.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);this._state===D||this._state===N||this._state===j?this._cbs.oncdata(t):this._state===k||this._state===C||this._state===A?this._cbs.oncomment(t):this._state!==at||this._xmlMode?this._state!==st||this._xmlMode?this._state!==lt||this._xmlMode?this._state!==c&&this._state!==m&&this._state!==y&&this._state!==g&&this._state!==v&&this._state!==_&&this._state!==b&&this._state!==x&&this._state!==d&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},vt.prototype.reset=function(){vt.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},vt.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},vt.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},vt.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},vt.prototype._emitPartial=function(t){this._baseState!==l?this._cbs.onattribdata(t):this._cbs.ontext(t)}},function(t,e,n){var r=n(949);function i(t){if(t>=55296&&t<=57343||t>1114111)return"\ufffd";t in r&&(t=r[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}t.exports=i},function(t){t.exports={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",amp:"&",AMP:"&",Aring:"\xc5",aring:"\xe5",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",brvbar:"\xa6",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",copy:"\xa9",COPY:"\xa9",curren:"\xa4",deg:"\xb0",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",gt:">",GT:">",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",iquest:"\xbf",Iuml:"\xcf",iuml:"\xef",laquo:"\xab",lt:"<",LT:"<",macr:"\xaf",micro:"\xb5",middot:"\xb7",nbsp:"\xa0",not:"\xac",Ntilde:"\xd1",ntilde:"\xf1",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",Ograve:"\xd2",ograve:"\xf2",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",plusmn:"\xb1",pound:"\xa3",quot:'"',QUOT:'"',raquo:"\xbb",reg:"\xae",REG:"\xae",sect:"\xa7",shy:"\xad",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",szlig:"\xdf",THORN:"\xde",thorn:"\xfe",times:"\xd7",Uacute:"\xda",uacute:"\xfa",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",Uuml:"\xdc",uuml:"\xfc",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff"}},function(t,e,n){var r=n(123),i=/\s+/g,o=n(458),a=n(950);function s(t,e,n){"object"==typeof t?(n=e,e=t,t=null):"function"==typeof e&&(n=e,e=l),this._callback=t,this._options=e||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(t){this._parser=t},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},s.prototype.onclosetag=function(){var t=this._tagStack.pop();this._options.withEndIndices&&t&&(t.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(t)},s.prototype._createDomElement=function(t){if(!this._options.withDomLvl1)return t;var e;for(var n in e="tag"===t.type?Object.create(a):Object.create(o),t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},s.prototype._addDomElement=function(t){var e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom,r=n[n.length-1];t.next=null,this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withEndIndices&&(t.endIndex=this._parser.endIndex),r?(t.prev=r,r.next=t):t.prev=null,n.push(t),t.parent=e||null},s.prototype.onopentag=function(t,e){var n={type:"script"===t?r.Script:"style"===t?r.Style:r.Tag,name:t,attribs:e,children:[]},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},s.prototype.ontext=function(t){var e,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(e=this.dom[this.dom.length-1]).type===r.Text)n?e.data=(e.data+t).replace(i," "):e.data+=t;else if(this._tagStack.length&&(e=this._tagStack[this._tagStack.length-1])&&(e=e.children[e.children.length-1])&&e.type===r.Text)n?e.data=(e.data+t).replace(i," "):e.data+=t;else{n&&(t=t.replace(i," "));var o=this._createDomElement({data:t,type:r.Text});this._addDomElement(o)}},s.prototype.oncomment=function(t){var e=this._tagStack[this._tagStack.length-1];if(e&&e.type===r.Comment)e.data+=t;else{var n={data:t,type:r.Comment},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)}},s.prototype.oncdatastart=function(){var t={children:[{data:"",type:r.Text}],type:r.CDATA},e=this._createDomElement(t);this._addDomElement(e),this._tagStack.push(e)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(t,e){var n=this._createDomElement({name:t,data:e,type:r.Directive});this._addDomElement(n)},t.exports=s},function(t,e){t.exports={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return r[this.type]||r.element}};var n={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},r={element:1,text:3,cdata:4,comment:8};Object.keys(n).forEach((function(t){}))},function(t,e,n){t.exports=s;var r=n(453),i=n(962).Writable,o=n(300).StringDecoder,a=n(113).Buffer;function s(t,e){var n=this._parser=new r(t,e),a=this._decoder=new o;i.call(this,{decodeStrings:!1}),this.once("finish",(function(){n.end(a.end())}))}n(58)(s,i),s.prototype._write=function(t,e,n){t instanceof a&&(t=this._decoder.write(t)),this._parser.write(t),n()}},function(t,e,n){var r=n(124),i=n(968),o=n(969),a=n(970),s=n(301),l=n(302),u=n(303),c=n(463),h=n(149),f=n(64),d=f.TAG_NAMES,p=f.NAMESPACES,m=f.ATTRS,v={locationInfo:!1,treeAdapter:s},g="hidden",y=8,b=3,_="INITIAL_MODE",x="BEFORE_HTML_MODE",T="BEFORE_HEAD_MODE",w="IN_HEAD_MODE",S="AFTER_HEAD_MODE",E="IN_BODY_MODE",k="TEXT_MODE",C="IN_TABLE_MODE",A="IN_TABLE_TEXT_MODE",O="IN_CAPTION_MODE",P="IN_COLUMN_GROUP_MODE",M="IN_TABLE_BODY_MODE",I="IN_ROW_MODE",R="IN_CELL_MODE",L="IN_SELECT_MODE",D="IN_SELECT_IN_TABLE_MODE",N="IN_TEMPLATE_MODE",j="AFTER_BODY_MODE",B="IN_FRAMESET_MODE",F="AFTER_FRAMESET_MODE",H="AFTER_AFTER_BODY_MODE",z="AFTER_AFTER_FRAMESET_MODE",U=Object.create(null);U[d.TR]=I,U[d.TBODY]=U[d.THEAD]=U[d.TFOOT]=M,U[d.CAPTION]=O,U[d.COLGROUP]=P,U[d.TABLE]=C,U[d.BODY]=E,U[d.FRAMESET]=B;var V=Object.create(null);V[d.CAPTION]=V[d.COLGROUP]=V[d.TBODY]=V[d.TFOOT]=V[d.THEAD]=C,V[d.COL]=P,V[d.TR]=M,V[d.TD]=V[d.TH]=I;var G=Object.create(null);G[_]=Object.create(null),G[_][r.CHARACTER_TOKEN]=G[_][r.NULL_CHARACTER_TOKEN]=at,G[_][r.WHITESPACE_CHARACTER_TOKEN]=J,G[_][r.COMMENT_TOKEN]=tt,G[_][r.DOCTYPE_TOKEN]=ot,G[_][r.START_TAG_TOKEN]=G[_][r.END_TAG_TOKEN]=G[_][r.EOF_TOKEN]=at,G[x]=Object.create(null),G[x][r.CHARACTER_TOKEN]=G[x][r.NULL_CHARACTER_TOKEN]=ut,G[x][r.WHITESPACE_CHARACTER_TOKEN]=J,G[x][r.COMMENT_TOKEN]=tt,G[x][r.DOCTYPE_TOKEN]=J,G[x][r.START_TAG_TOKEN]=st,G[x][r.END_TAG_TOKEN]=lt,G[x][r.EOF_TOKEN]=ut,G[T]=Object.create(null),G[T][r.CHARACTER_TOKEN]=G[T][r.NULL_CHARACTER_TOKEN]=ft,G[T][r.WHITESPACE_CHARACTER_TOKEN]=J,G[T][r.COMMENT_TOKEN]=tt,G[T][r.DOCTYPE_TOKEN]=J,G[T][r.START_TAG_TOKEN]=ct,G[T][r.END_TAG_TOKEN]=ht,G[T][r.EOF_TOKEN]=ft,G[w]=Object.create(null),G[w][r.CHARACTER_TOKEN]=G[w][r.NULL_CHARACTER_TOKEN]=mt,G[w][r.WHITESPACE_CHARACTER_TOKEN]=rt,G[w][r.COMMENT_TOKEN]=tt,G[w][r.DOCTYPE_TOKEN]=J,G[w][r.START_TAG_TOKEN]=dt,G[w][r.END_TAG_TOKEN]=pt,G[w][r.EOF_TOKEN]=mt,G[S]=Object.create(null),G[S][r.CHARACTER_TOKEN]=G[S][r.NULL_CHARACTER_TOKEN]=yt,G[S][r.WHITESPACE_CHARACTER_TOKEN]=rt,G[S][r.COMMENT_TOKEN]=tt,G[S][r.DOCTYPE_TOKEN]=J,G[S][r.START_TAG_TOKEN]=vt,G[S][r.END_TAG_TOKEN]=gt,G[S][r.EOF_TOKEN]=yt,G[E]=Object.create(null),G[E][r.CHARACTER_TOKEN]=_t,G[E][r.NULL_CHARACTER_TOKEN]=J,G[E][r.WHITESPACE_CHARACTER_TOKEN]=bt,G[E][r.COMMENT_TOKEN]=tt,G[E][r.DOCTYPE_TOKEN]=J,G[E][r.START_TAG_TOKEN]=te,G[E][r.END_TAG_TOKEN]=fe,G[E][r.EOF_TOKEN]=de,G[k]=Object.create(null),G[k][r.CHARACTER_TOKEN]=G[k][r.NULL_CHARACTER_TOKEN]=G[k][r.WHITESPACE_CHARACTER_TOKEN]=rt,G[k][r.COMMENT_TOKEN]=G[k][r.DOCTYPE_TOKEN]=G[k][r.START_TAG_TOKEN]=J,G[k][r.END_TAG_TOKEN]=pe,G[k][r.EOF_TOKEN]=me,G[C]=Object.create(null),G[C][r.CHARACTER_TOKEN]=G[C][r.NULL_CHARACTER_TOKEN]=G[C][r.WHITESPACE_CHARACTER_TOKEN]=ve,G[C][r.COMMENT_TOKEN]=tt,G[C][r.DOCTYPE_TOKEN]=J,G[C][r.START_TAG_TOKEN]=Ee,G[C][r.END_TAG_TOKEN]=ke,G[C][r.EOF_TOKEN]=de,G[A]=Object.create(null),G[A][r.CHARACTER_TOKEN]=Oe,G[A][r.NULL_CHARACTER_TOKEN]=J,G[A][r.WHITESPACE_CHARACTER_TOKEN]=Ae,G[A][r.COMMENT_TOKEN]=G[A][r.DOCTYPE_TOKEN]=G[A][r.START_TAG_TOKEN]=G[A][r.END_TAG_TOKEN]=G[A][r.EOF_TOKEN]=Pe,G[O]=Object.create(null),G[O][r.CHARACTER_TOKEN]=_t,G[O][r.NULL_CHARACTER_TOKEN]=J,G[O][r.WHITESPACE_CHARACTER_TOKEN]=bt,G[O][r.COMMENT_TOKEN]=tt,G[O][r.DOCTYPE_TOKEN]=J,G[O][r.START_TAG_TOKEN]=Me,G[O][r.END_TAG_TOKEN]=Ie,G[O][r.EOF_TOKEN]=de,G[P]=Object.create(null),G[P][r.CHARACTER_TOKEN]=G[P][r.NULL_CHARACTER_TOKEN]=De,G[P][r.WHITESPACE_CHARACTER_TOKEN]=rt,G[P][r.COMMENT_TOKEN]=tt,G[P][r.DOCTYPE_TOKEN]=J,G[P][r.START_TAG_TOKEN]=Re,G[P][r.END_TAG_TOKEN]=Le,G[P][r.EOF_TOKEN]=de,G[M]=Object.create(null),G[M][r.CHARACTER_TOKEN]=G[M][r.NULL_CHARACTER_TOKEN]=G[M][r.WHITESPACE_CHARACTER_TOKEN]=ve,G[M][r.COMMENT_TOKEN]=tt,G[M][r.DOCTYPE_TOKEN]=J,G[M][r.START_TAG_TOKEN]=Ne,G[M][r.END_TAG_TOKEN]=je,G[M][r.EOF_TOKEN]=de,G[I]=Object.create(null),G[I][r.CHARACTER_TOKEN]=G[I][r.NULL_CHARACTER_TOKEN]=G[I][r.WHITESPACE_CHARACTER_TOKEN]=ve,G[I][r.COMMENT_TOKEN]=tt,G[I][r.DOCTYPE_TOKEN]=J,G[I][r.START_TAG_TOKEN]=Be,G[I][r.END_TAG_TOKEN]=Fe,G[I][r.EOF_TOKEN]=de,G[R]=Object.create(null),G[R][r.CHARACTER_TOKEN]=_t,G[R][r.NULL_CHARACTER_TOKEN]=J,G[R][r.WHITESPACE_CHARACTER_TOKEN]=bt,G[R][r.COMMENT_TOKEN]=tt,G[R][r.DOCTYPE_TOKEN]=J,G[R][r.START_TAG_TOKEN]=He,G[R][r.END_TAG_TOKEN]=ze,G[R][r.EOF_TOKEN]=de,G[L]=Object.create(null),G[L][r.CHARACTER_TOKEN]=rt,G[L][r.NULL_CHARACTER_TOKEN]=J,G[L][r.WHITESPACE_CHARACTER_TOKEN]=rt,G[L][r.COMMENT_TOKEN]=tt,G[L][r.DOCTYPE_TOKEN]=J,G[L][r.START_TAG_TOKEN]=Ue,G[L][r.END_TAG_TOKEN]=Ve,G[L][r.EOF_TOKEN]=de,G[D]=Object.create(null),G[D][r.CHARACTER_TOKEN]=rt,G[D][r.NULL_CHARACTER_TOKEN]=J,G[D][r.WHITESPACE_CHARACTER_TOKEN]=rt,G[D][r.COMMENT_TOKEN]=tt,G[D][r.DOCTYPE_TOKEN]=J,G[D][r.START_TAG_TOKEN]=Ge,G[D][r.END_TAG_TOKEN]=Xe,G[D][r.EOF_TOKEN]=de,G[N]=Object.create(null),G[N][r.CHARACTER_TOKEN]=_t,G[N][r.NULL_CHARACTER_TOKEN]=J,G[N][r.WHITESPACE_CHARACTER_TOKEN]=bt,G[N][r.COMMENT_TOKEN]=tt,G[N][r.DOCTYPE_TOKEN]=J,G[N][r.START_TAG_TOKEN]=Ye,G[N][r.END_TAG_TOKEN]=We,G[N][r.EOF_TOKEN]=qe,G[j]=Object.create(null),G[j][r.CHARACTER_TOKEN]=G[j][r.NULL_CHARACTER_TOKEN]=Ze,G[j][r.WHITESPACE_CHARACTER_TOKEN]=bt,G[j][r.COMMENT_TOKEN]=et,G[j][r.DOCTYPE_TOKEN]=J,G[j][r.START_TAG_TOKEN]=Ke,G[j][r.END_TAG_TOKEN]=$e,G[j][r.EOF_TOKEN]=it,G[B]=Object.create(null),G[B][r.CHARACTER_TOKEN]=G[B][r.NULL_CHARACTER_TOKEN]=J,G[B][r.WHITESPACE_CHARACTER_TOKEN]=rt,G[B][r.COMMENT_TOKEN]=tt,G[B][r.DOCTYPE_TOKEN]=J,G[B][r.START_TAG_TOKEN]=Qe,G[B][r.END_TAG_TOKEN]=Je,G[B][r.EOF_TOKEN]=it,G[F]=Object.create(null),G[F][r.CHARACTER_TOKEN]=G[F][r.NULL_CHARACTER_TOKEN]=J,G[F][r.WHITESPACE_CHARACTER_TOKEN]=rt,G[F][r.COMMENT_TOKEN]=tt,G[F][r.DOCTYPE_TOKEN]=J,G[F][r.START_TAG_TOKEN]=tn,G[F][r.END_TAG_TOKEN]=en,G[F][r.EOF_TOKEN]=it,G[H]=Object.create(null),G[H][r.CHARACTER_TOKEN]=rn,G[H][r.NULL_CHARACTER_TOKEN]=rn,G[H][r.WHITESPACE_CHARACTER_TOKEN]=bt,G[H][r.COMMENT_TOKEN]=nt,G[H][r.DOCTYPE_TOKEN]=J,G[H][r.START_TAG_TOKEN]=nn,G[H][r.END_TAG_TOKEN]=rn,G[H][r.EOF_TOKEN]=it,G[z]=Object.create(null),G[z][r.CHARACTER_TOKEN]=G[z][r.NULL_CHARACTER_TOKEN]=J,G[z][r.WHITESPACE_CHARACTER_TOKEN]=bt,G[z][r.COMMENT_TOKEN]=nt,G[z][r.DOCTYPE_TOKEN]=J,G[z][r.START_TAG_TOKEN]=on,G[z][r.END_TAG_TOKEN]=J,G[z][r.EOF_TOKEN]=it;var X=t.exports=function(t){this.options=l(v,t),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.locationInfo&&new a(this)};function Y(t,e){var n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagName)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):he(t,e),n}function W(t,e){for(var n=null,r=t.openElements.stackTop;r>=0;r--){var i=t.openElements.items[r];if(i===e.element)break;t._isSpecialElement(i)&&(n=i)}return n||(t.openElements.popUntilElementPopped(e.element),t.activeFormattingElements.removeEntry(e)),n}function q(t,e,n){for(var r=e,i=t.openElements.getCommonAncestor(e),o=0,a=i;a!==n;o++,a=i){i=t.openElements.getCommonAncestor(a);var s=t.activeFormattingElements.getElementEntry(a),l=s&&o>=b;!s||l?(l&&t.activeFormattingElements.removeEntry(s),t.openElements.remove(a)):(a=K(t,s),r===e&&(t.activeFormattingElements.bookmark=s),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(a,r),r=a)}return r}function K(t,e){var n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function $(t,e,n){if(t._isElementCausesFosterParenting(e))t._fosterParentElement(n);else{var r=t.treeAdapter.getTagName(e),i=t.treeAdapter.getNamespaceURI(e);r===d.TEMPLATE&&i===p.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function Z(t,e,n){var r=t.treeAdapter.getNamespaceURI(n.element),i=n.token,o=t.treeAdapter.createElement(i.tagName,r,i.attrs);t._adoptNodes(e,o),t.treeAdapter.appendChild(e,o),t.activeFormattingElements.insertElementAfterBookmark(o,n.token),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,o)}function Q(t,e){for(var n,r=0;r<y&&(n=Y(t,e));r++){var i=W(t,n);if(!i)break;t.activeFormattingElements.bookmark=n;var o=q(t,i,n.element),a=t.openElements.getCommonAncestor(n.element);t.treeAdapter.detachNode(o),$(t,a,o),Z(t,i,n)}}function J(){}function tt(t,e){t._appendCommentNode(e,t.openElements.currentTmplContent||t.openElements.current)}function et(t,e){t._appendCommentNode(e,t.openElements.items[0])}function nt(t,e){t._appendCommentNode(e,t.document)}function rt(t,e){t._insertCharacters(e)}function it(t){t.stopped=!0}function ot(t,e){t._setDocumentType(e);var n=e.forceQuirks?f.DOCUMENT_MODE.QUIRKS:u.getDocumentMode(e.name,e.publicId,e.systemId);t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=x}function at(t,e){t.treeAdapter.setDocumentMode(t.document,f.DOCUMENT_MODE.QUIRKS),t.insertionMode=x,t._processToken(e)}function st(t,e){e.tagName===d.HTML?(t._insertElement(e,p.HTML),t.insertionMode=T):ut(t,e)}function lt(t,e){var n=e.tagName;(n===d.HTML||n===d.HEAD||n===d.BODY||n===d.BR)&&ut(t,e)}function ut(t,e){t._insertFakeRootElement(),t.insertionMode=T,t._processToken(e)}function ct(t,e){var n=e.tagName;n===d.HTML?te(t,e):n===d.HEAD?(t._insertElement(e,p.HTML),t.headElement=t.openElements.current,t.insertionMode=w):ft(t,e)}function ht(t,e){var n=e.tagName;(n===d.HEAD||n===d.BODY||n===d.HTML||n===d.BR)&&ft(t,e)}function ft(t,e){t._insertFakeElement(d.HEAD),t.headElement=t.openElements.current,t.insertionMode=w,t._processToken(e)}function dt(t,e){var n=e.tagName;n===d.HTML?te(t,e):n===d.BASE||n===d.BASEFONT||n===d.BGSOUND||n===d.LINK||n===d.META?t._appendElement(e,p.HTML):n===d.TITLE?t._switchToTextParsing(e,r.MODE.RCDATA):n===d.NOSCRIPT||n===d.NOFRAMES||n===d.STYLE?t._switchToTextParsing(e,r.MODE.RAWTEXT):n===d.SCRIPT?t._switchToTextParsing(e,r.MODE.SCRIPT_DATA):n===d.TEMPLATE?(t._insertTemplate(e,p.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=N,t._pushTmplInsertionMode(N)):n!==d.HEAD&&mt(t,e)}function pt(t,e){var n=e.tagName;n===d.HEAD?(t.openElements.pop(),t.insertionMode=S):n===d.BODY||n===d.BR||n===d.HTML?mt(t,e):n===d.TEMPLATE&&t.openElements.tmplCount>0&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(d.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t._popTmplInsertionMode(),t._resetInsertionMode())}function mt(t,e){t.openElements.pop(),t.insertionMode=S,t._processToken(e)}function vt(t,e){var n=e.tagName;n===d.HTML?te(t,e):n===d.BODY?(t._insertElement(e,p.HTML),t.framesetOk=!1,t.insertionMode=E):n===d.FRAMESET?(t._insertElement(e,p.HTML),t.insertionMode=B):n===d.BASE||n===d.BASEFONT||n===d.BGSOUND||n===d.LINK||n===d.META||n===d.NOFRAMES||n===d.SCRIPT||n===d.STYLE||n===d.TEMPLATE||n===d.TITLE?(t.openElements.push(t.headElement),dt(t,e),t.openElements.remove(t.headElement)):n!==d.HEAD&&yt(t,e)}function gt(t,e){var n=e.tagName;n===d.BODY||n===d.HTML||n===d.BR?yt(t,e):n===d.TEMPLATE&&pt(t,e)}function yt(t,e){t._insertFakeElement(d.BODY),t.insertionMode=E,t._processToken(e)}function bt(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function _t(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function xt(t,e){0===t.openElements.tmplCount&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function Tt(t,e){var n=t.openElements.tryPeekProperlyNestedBodyElement();n&&0===t.openElements.tmplCount&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function wt(t,e){var n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,p.HTML),t.insertionMode=B)}function St(t,e){t.openElements.hasInButtonScope(d.P)&&t._closePElement(),t._insertElement(e,p.HTML)}function Et(t,e){t.openElements.hasInButtonScope(d.P)&&t._closePElement();var n=t.openElements.currentTagName;(n===d.H1||n===d.H2||n===d.H3||n===d.H4||n===d.H5||n===d.H6)&&t.openElements.pop(),t._insertElement(e,p.HTML)}function kt(t,e){t.openElements.hasInButtonScope(d.P)&&t._closePElement(),t._insertElement(e,p.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function Ct(t,e){var n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(d.P)&&t._closePElement(),t._insertElement(e,p.HTML),n||(t.formElement=t.openElements.current))}function At(t,e){t.framesetOk=!1;for(var n=e.tagName,r=t.openElements.stackTop;r>=0;r--){var i=t.openElements.items[r],o=t.treeAdapter.getTagName(i),a=null;if(n===d.LI&&o===d.LI?a=d.LI:(n===d.DD||n===d.DT)&&(o===d.DD||o===d.DT)&&(a=o),a){t.openElements.generateImpliedEndTagsWithExclusion(a),t.openElements.popUntilTagNamePopped(a);break}if(o!==d.ADDRESS&&o!==d.DIV&&o!==d.P&&t._isSpecialElement(i))break}t.openElements.hasInButtonScope(d.P)&&t._closePElement(),t._insertElement(e,p.HTML)}function Ot(t,e){t.openElements.hasInButtonScope(d.P)&&t._closePElement(),t._insertElement(e,p.HTML),t.tokenizer.state=r.MODE.PLAINTEXT}function Pt(t,e){t.openElements.hasInScope(d.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(d.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,p.HTML),t.framesetOk=!1}function Mt(t,e){var n=t.activeFormattingElements.getElementEntryInScopeWithTagName(d.A);n&&(Q(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,p.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function It(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,p.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Rt(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(d.NOBR)&&(Q(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,p.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Lt(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,p.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function Dt(t,e){t.treeAdapter.getDocumentMode(t.document)!==f.DOCUMENT_MODE.QUIRKS&&t.openElements.hasInButtonScope(d.P)&&t._closePElement(),t._insertElement(e,p.HTML),t.framesetOk=!1,t.insertionMode=C}function Nt(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,p.HTML),t.framesetOk=!1}function jt(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,p.HTML);var n=r.getTokenAttr(e,m.TYPE);(!n||n.toLowerCase()!==g)&&(t.framesetOk=!1)}function Bt(t,e){t._appendElement(e,p.HTML)}function Ft(t,e){t.openElements.hasInButtonScope(d.P)&&t._closePElement(),t.openElements.currentTagName===d.MENUITEM&&t.openElements.pop(),t._appendElement(e,p.HTML),t.framesetOk=!1}function Ht(t,e){e.tagName=d.IMG,Nt(t,e)}function zt(t,e){t._insertElement(e,p.HTML),t.skipNextNewLine=!0,t.tokenizer.state=r.MODE.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=k}function Ut(t,e){t.openElements.hasInButtonScope(d.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,r.MODE.RAWTEXT)}function Vt(t,e){t.framesetOk=!1,t._switchToTextParsing(e,r.MODE.RAWTEXT)}function Gt(t,e){t._switchToTextParsing(e,r.MODE.RAWTEXT)}function Xt(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,p.HTML),t.framesetOk=!1,t.insertionMode===C||t.insertionMode===O||t.insertionMode===M||t.insertionMode===I||t.insertionMode===R?t.insertionMode=D:t.insertionMode=L}function Yt(t,e){t.openElements.currentTagName===d.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,p.HTML)}function Wt(t,e){t.openElements.hasInScope(d.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,p.HTML)}function qt(t,e){t.openElements.hasInScope(d.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(d.RTC),t._insertElement(e,p.HTML)}function Kt(t,e){t.openElements.currentTagName===d.MENUITEM&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,p.HTML)}function $t(t,e){t.openElements.hasInButtonScope(d.P)&&t._closePElement(),t.openElements.currentTagName===d.MENUITEM&&t.openElements.pop(),t._insertElement(e,p.HTML)}function Zt(t,e){t._reconstructActiveFormattingElements(),c.adjustTokenMathMLAttrs(e),c.adjustTokenXMLAttrs(e),e.selfClosing?t._appendElement(e,p.MATHML):t._insertElement(e,p.MATHML)}function Qt(t,e){t._reconstructActiveFormattingElements(),c.adjustTokenSVGAttrs(e),c.adjustTokenXMLAttrs(e),e.selfClosing?t._appendElement(e,p.SVG):t._insertElement(e,p.SVG)}function Jt(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,p.HTML)}function te(t,e){var n=e.tagName;switch(n.length){case 1:n===d.I||n===d.S||n===d.B||n===d.U?It(t,e):n===d.P?St(t,e):n===d.A?Mt(t,e):Jt(t,e);break;case 2:n===d.DL||n===d.OL||n===d.UL?St(t,e):n===d.H1||n===d.H2||n===d.H3||n===d.H4||n===d.H5||n===d.H6?Et(t,e):n===d.LI||n===d.DD||n===d.DT?At(t,e):n===d.EM||n===d.TT?It(t,e):n===d.BR?Nt(t,e):n===d.HR?Ft(t,e):n===d.RB?Wt(t,e):n===d.RT||n===d.RP?qt(t,e):n!==d.TH&&n!==d.TD&&n!==d.TR&&Jt(t,e);break;case 3:n===d.DIV||n===d.DIR||n===d.NAV?St(t,e):n===d.PRE?kt(t,e):n===d.BIG?It(t,e):n===d.IMG||n===d.WBR?Nt(t,e):n===d.XMP?Ut(t,e):n===d.SVG?Qt(t,e):n===d.RTC?Wt(t,e):n!==d.COL&&Jt(t,e);break;case 4:n===d.HTML?xt(t,e):n===d.BASE||n===d.LINK||n===d.META?dt(t,e):n===d.BODY?Tt(t,e):n===d.MAIN?St(t,e):n===d.FORM?Ct(t,e):n===d.CODE||n===d.FONT?It(t,e):n===d.NOBR?Rt(t,e):n===d.AREA?Nt(t,e):n===d.MATH?Zt(t,e):n===d.MENU?$t(t,e):n!==d.HEAD&&Jt(t,e);break;case 5:n===d.STYLE||n===d.TITLE?dt(t,e):n===d.ASIDE?St(t,e):n===d.SMALL?It(t,e):n===d.TABLE?Dt(t,e):n===d.EMBED?Nt(t,e):n===d.INPUT?jt(t,e):n===d.PARAM||n===d.TRACK?Bt(t,e):n===d.IMAGE?Ht(t,e):n!==d.FRAME&&n!==d.TBODY&&n!==d.TFOOT&&n!==d.THEAD&&Jt(t,e);break;case 6:n===d.SCRIPT?dt(t,e):n===d.CENTER||n===d.FIGURE||n===d.FOOTER||n===d.HEADER||n===d.HGROUP?St(t,e):n===d.BUTTON?Pt(t,e):n===d.STRIKE||n===d.STRONG?It(t,e):n===d.APPLET||n===d.OBJECT?Lt(t,e):n===d.KEYGEN?Nt(t,e):n===d.SOURCE?Bt(t,e):n===d.IFRAME?Vt(t,e):n===d.SELECT?Xt(t,e):n===d.OPTION?Yt(t,e):Jt(t,e);break;case 7:n===d.BGSOUND?dt(t,e):n===d.DETAILS||n===d.ADDRESS||n===d.ARTICLE||n===d.SECTION||n===d.SUMMARY?St(t,e):n===d.LISTING?kt(t,e):n===d.MARQUEE?Lt(t,e):n===d.NOEMBED?Gt(t,e):n!==d.CAPTION&&Jt(t,e);break;case 8:n===d.BASEFONT?dt(t,e):n===d.MENUITEM?Kt(t,e):n===d.FRAMESET?wt(t,e):n===d.FIELDSET?St(t,e):n===d.TEXTAREA?zt(t,e):n===d.TEMPLATE?dt(t,e):n===d.NOSCRIPT?Gt(t,e):n===d.OPTGROUP?Yt(t,e):n!==d.COLGROUP&&Jt(t,e);break;case 9:n===d.PLAINTEXT?Ot(t,e):Jt(t,e);break;case 10:n===d.BLOCKQUOTE||n===d.FIGCAPTION?St(t,e):Jt(t,e);break;default:Jt(t,e)}}function ee(t){t.openElements.hasInScope(d.BODY)&&(t.insertionMode=j)}function ne(t,e){t.openElements.hasInScope(d.BODY)&&(t.insertionMode=j,t._processToken(e))}function re(t,e){var n=e.tagName;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function ie(t){var e=t.openElements.tmplCount>0,n=t.formElement;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(d.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(d.FORM):t.openElements.remove(n))}function oe(t){t.openElements.hasInButtonScope(d.P)||t._insertFakeElement(d.P),t._closePElement()}function ae(t){t.openElements.hasInListItemScope(d.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(d.LI),t.openElements.popUntilTagNamePopped(d.LI))}function se(t,e){var n=e.tagName;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function le(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function ue(t,e){var n=e.tagName;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function ce(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(d.BR),t.openElements.pop(),t.framesetOk=!1}function he(t,e){for(var n=e.tagName,r=t.openElements.stackTop;r>0;r--){var i=t.openElements.items[r];if(t.treeAdapter.getTagName(i)===n){t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilElementPopped(i);break}if(t._isSpecialElement(i))break}}function fe(t,e){var n=e.tagName;switch(n.length){case 1:n===d.A||n===d.B||n===d.I||n===d.S||n===d.U?Q(t,e):n===d.P?oe(t):he(t,e);break;case 2:n===d.DL||n===d.UL||n===d.OL?re(t,e):n===d.LI?ae(t):n===d.DD||n===d.DT?se(t,e):n===d.H1||n===d.H2||n===d.H3||n===d.H4||n===d.H5||n===d.H6?le(t):n===d.BR?ce(t):n===d.EM||n===d.TT?Q(t,e):he(t,e);break;case 3:n===d.BIG?Q(t,e):n===d.DIR||n===d.DIV||n===d.NAV?re(t,e):he(t,e);break;case 4:n===d.BODY?ee(t):n===d.HTML?ne(t,e):n===d.FORM?ie(t):n===d.CODE||n===d.FONT||n===d.NOBR?Q(t,e):n===d.MAIN||n===d.MENU?re(t,e):he(t,e);break;case 5:n===d.ASIDE?re(t,e):n===d.SMALL?Q(t,e):he(t,e);break;case 6:n===d.CENTER||n===d.FIGURE||n===d.FOOTER||n===d.HEADER||n===d.HGROUP?re(t,e):n===d.APPLET||n===d.OBJECT?ue(t,e):n===d.STRIKE||n===d.STRONG?Q(t,e):he(t,e);break;case 7:n===d.ADDRESS||n===d.ARTICLE||n===d.DETAILS||n===d.SECTION||n===d.SUMMARY?re(t,e):n===d.MARQUEE?ue(t,e):he(t,e);break;case 8:n===d.FIELDSET?re(t,e):n===d.TEMPLATE?pt(t,e):he(t,e);break;case 10:n===d.BLOCKQUOTE||n===d.FIGCAPTION?re(t,e):he(t,e);break;default:he(t,e)}}function de(t,e){t.tmplInsertionModeStackTop>-1?qe(t,e):t.stopped=!0}function pe(t,e){e.tagName===d.SCRIPT&&(t.pendingScript=t.openElements.current),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function me(t,e){t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t._processToken(e)}function ve(t,e){var n=t.openElements.currentTagName;n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR?(t.pendingCharacterTokens=[],t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=A,t._processToken(e)):Ce(t,e)}function ge(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,p.HTML),t.insertionMode=O}function ye(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,p.HTML),t.insertionMode=P}function be(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(d.COLGROUP),t.insertionMode=P,t._processToken(e)}function _e(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,p.HTML),t.insertionMode=M}function xe(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(d.TBODY),t.insertionMode=M,t._processToken(e)}function Te(t,e){t.openElements.hasInTableScope(d.TABLE)&&(t.openElements.popUntilTagNamePopped(d.TABLE),t._resetInsertionMode(),t._processToken(e))}function we(t,e){var n=r.getTokenAttr(e,m.TYPE);n&&n.toLowerCase()===g?t._appendElement(e,p.HTML):Ce(t,e)}function Se(t,e){!t.formElement&&0===t.openElements.tmplCount&&(t._insertElement(e,p.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Ee(t,e){var n=e.tagName;switch(n.length){case 2:n===d.TD||n===d.TH||n===d.TR?xe(t,e):Ce(t,e);break;case 3:n===d.COL?be(t,e):Ce(t,e);break;case 4:n===d.FORM?Se(t,e):Ce(t,e);break;case 5:n===d.TABLE?Te(t,e):n===d.STYLE?dt(t,e):n===d.TBODY||n===d.TFOOT||n===d.THEAD?_e(t,e):n===d.INPUT?we(t,e):Ce(t,e);break;case 6:n===d.SCRIPT?dt(t,e):Ce(t,e);break;case 7:n===d.CAPTION?ge(t,e):Ce(t,e);break;case 8:n===d.COLGROUP?ye(t,e):n===d.TEMPLATE?dt(t,e):Ce(t,e);break;default:Ce(t,e)}}function ke(t,e){var n=e.tagName;n===d.TABLE?t.openElements.hasInTableScope(d.TABLE)&&(t.openElements.popUntilTagNamePopped(d.TABLE),t._resetInsertionMode()):n===d.TEMPLATE?pt(t,e):n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP&&n!==d.HTML&&n!==d.TBODY&&n!==d.TD&&n!==d.TFOOT&&n!==d.TH&&n!==d.THEAD&&n!==d.TR&&Ce(t,e)}function Ce(t,e){var n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,t._processTokenInBodyMode(e),t.fosterParentingEnabled=n}function Ae(t,e){t.pendingCharacterTokens.push(e)}function Oe(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Pe(t,e){var n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)Ce(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}function Me(t,e){var n=e.tagName;n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TD||n===d.TFOOT||n===d.TH||n===d.THEAD||n===d.TR?t.openElements.hasInTableScope(d.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(d.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=C,t._processToken(e)):te(t,e)}function Ie(t,e){var n=e.tagName;n===d.CAPTION||n===d.TABLE?t.openElements.hasInTableScope(d.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(d.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=C,n===d.TABLE&&t._processToken(e)):n!==d.BODY&&n!==d.COL&&n!==d.COLGROUP&&n!==d.HTML&&n!==d.TBODY&&n!==d.TD&&n!==d.TFOOT&&n!==d.TH&&n!==d.THEAD&&n!==d.TR&&fe(t,e)}function Re(t,e){var n=e.tagName;n===d.HTML?te(t,e):n===d.COL?t._appendElement(e,p.HTML):n===d.TEMPLATE?dt(t,e):De(t,e)}function Le(t,e){var n=e.tagName;n===d.COLGROUP?t.openElements.currentTagName===d.COLGROUP&&(t.openElements.pop(),t.insertionMode=C):n===d.TEMPLATE?pt(t,e):n!==d.COL&&De(t,e)}function De(t,e){t.openElements.currentTagName===d.COLGROUP&&(t.openElements.pop(),t.insertionMode=C,t._processToken(e))}function Ne(t,e){var n=e.tagName;n===d.TR?(t.openElements.clearBackToTableBodyContext(),t._insertElement(e,p.HTML),t.insertionMode=I):n===d.TH||n===d.TD?(t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(d.TR),t.insertionMode=I,t._processToken(e)):n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TFOOT||n===d.THEAD?t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=C,t._processToken(e)):Ee(t,e)}function je(t,e){var n=e.tagName;n===d.TBODY||n===d.TFOOT||n===d.THEAD?t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=C):n===d.TABLE?t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=C,t._processToken(e)):(n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP||n!==d.HTML&&n!==d.TD&&n!==d.TH&&n!==d.TR)&&ke(t,e)}function Be(t,e){var n=e.tagName;n===d.TH||n===d.TD?(t.openElements.clearBackToTableRowContext(),t._insertElement(e,p.HTML),t.insertionMode=R,t.activeFormattingElements.insertMarker()):n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR?t.openElements.hasInTableScope(d.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=M,t._processToken(e)):Ee(t,e)}function Fe(t,e){var n=e.tagName;n===d.TR?t.openElements.hasInTableScope(d.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=M):n===d.TABLE?t.openElements.hasInTableScope(d.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=M,t._processToken(e)):n===d.TBODY||n===d.TFOOT||n===d.THEAD?(t.openElements.hasInTableScope(n)||t.openElements.hasInTableScope(d.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=M,t._processToken(e)):(n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP||n!==d.HTML&&n!==d.TD&&n!==d.TH)&&ke(t,e)}function He(t,e){var n=e.tagName;n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TD||n===d.TFOOT||n===d.TH||n===d.THEAD||n===d.TR?(t.openElements.hasInTableScope(d.TD)||t.openElements.hasInTableScope(d.TH))&&(t._closeTableCell(),t._processToken(e)):te(t,e)}function ze(t,e){var n=e.tagName;n===d.TD||n===d.TH?t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=I):n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR?t.openElements.hasInTableScope(n)&&(t._closeTableCell(),t._processToken(e)):n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP&&n!==d.HTML&&fe(t,e)}function Ue(t,e){var n=e.tagName;n===d.HTML?te(t,e):n===d.OPTION?(t.openElements.currentTagName===d.OPTION&&t.openElements.pop(),t._insertElement(e,p.HTML)):n===d.OPTGROUP?(t.openElements.currentTagName===d.OPTION&&t.openElements.pop(),t.openElements.currentTagName===d.OPTGROUP&&t.openElements.pop(),t._insertElement(e,p.HTML)):n===d.INPUT||n===d.KEYGEN||n===d.TEXTAREA||n===d.SELECT?t.openElements.hasInSelectScope(d.SELECT)&&(t.openElements.popUntilTagNamePopped(d.SELECT),t._resetInsertionMode(),n!==d.SELECT&&t._processToken(e)):(n===d.SCRIPT||n===d.TEMPLATE)&&dt(t,e)}function Ve(t,e){var n=e.tagName;if(n===d.OPTGROUP){var r=t.openElements.items[t.openElements.stackTop-1],i=r&&t.treeAdapter.getTagName(r);t.openElements.currentTagName===d.OPTION&&i===d.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagName===d.OPTGROUP&&t.openElements.pop()}else n===d.OPTION?t.openElements.currentTagName===d.OPTION&&t.openElements.pop():n===d.SELECT&&t.openElements.hasInSelectScope(d.SELECT)?(t.openElements.popUntilTagNamePopped(d.SELECT),t._resetInsertionMode()):n===d.TEMPLATE&&pt(t,e)}function Ge(t,e){var n=e.tagName;n===d.CAPTION||n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR||n===d.TD||n===d.TH?(t.openElements.popUntilTagNamePopped(d.SELECT),t._resetInsertionMode(),t._processToken(e)):Ue(t,e)}function Xe(t,e){var n=e.tagName;n===d.CAPTION||n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR||n===d.TD||n===d.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(d.SELECT),t._resetInsertionMode(),t._processToken(e)):Ve(t,e)}function Ye(t,e){var n=e.tagName;if(n===d.BASE||n===d.BASEFONT||n===d.BGSOUND||n===d.LINK||n===d.META||n===d.NOFRAMES||n===d.SCRIPT||n===d.STYLE||n===d.TEMPLATE||n===d.TITLE)dt(t,e);else{var r=V[n]||E;t._popTmplInsertionMode(),t._pushTmplInsertionMode(r),t.insertionMode=r,t._processToken(e)}}function We(t,e){e.tagName===d.TEMPLATE&&pt(t,e)}function qe(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(d.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t._popTmplInsertionMode(),t._resetInsertionMode(),t._processToken(e)):t.stopped=!0}function Ke(t,e){e.tagName===d.HTML?te(t,e):Ze(t,e)}function $e(t,e){e.tagName===d.HTML?t.fragmentContext||(t.insertionMode=H):Ze(t,e)}function Ze(t,e){t.insertionMode=E,t._processToken(e)}function Qe(t,e){var n=e.tagName;n===d.HTML?te(t,e):n===d.FRAMESET?t._insertElement(e,p.HTML):n===d.FRAME?t._appendElement(e,p.HTML):n===d.NOFRAMES&&dt(t,e)}function Je(t,e){e.tagName===d.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagName!==d.FRAMESET&&(t.insertionMode=F))}function tn(t,e){var n=e.tagName;n===d.HTML?te(t,e):n===d.NOFRAMES&&dt(t,e)}function en(t,e){e.tagName===d.HTML&&(t.insertionMode=z)}function nn(t,e){e.tagName===d.HTML?te(t,e):rn(t,e)}function rn(t,e){t.insertionMode=E,t._processToken(e)}function on(t,e){var n=e.tagName;n===d.HTML?te(t,e):n===d.NOFRAMES&&dt(t,e)}function an(t,e){e.chars=h.REPLACEMENT_CHARACTER,t._insertCharacters(e)}function sn(t,e){t._insertCharacters(e),t.framesetOk=!1}function ln(t,e){if(c.causesExit(e)&&!t.fragmentContext){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==p.HTML&&!t._isIntegrationPoint(t.openElements.current);)t.openElements.pop();t._processToken(e)}else{var n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===p.MATHML?c.adjustTokenMathMLAttrs(e):r===p.SVG&&(c.adjustTokenSVGTagName(e),c.adjustTokenSVGAttrs(e)),c.adjustTokenXMLAttrs(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r)}}function un(t,e){for(var n=t.openElements.stackTop;n>0;n--){var r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===p.HTML){t._processToken(e);break}if(t.treeAdapter.getTagName(r).toLowerCase()===e.tagName){t.openElements.popUntilElementPopped(r);break}}}X.prototype.parse=function(t){var e=this.treeAdapter.createDocument();return this._bootstrap(e,null),this.tokenizer.write(t,!0),this._runParsingLoop(null),e},X.prototype.parseFragment=function(t,e){e||(e=this.treeAdapter.createElement(d.TEMPLATE,p.HTML,[]));var n=this.treeAdapter.createElement("documentmock",p.HTML,[]);this._bootstrap(n,e),this.treeAdapter.getTagName(e)===d.TEMPLATE&&this._pushTmplInsertionMode(N),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(t,!0),this._runParsingLoop(null);var r=this.treeAdapter.getFirstChild(n),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,i),i},X.prototype._bootstrap=function(t,e){this.tokenizer=new r(this.options),this.stopped=!1,this.insertionMode=_,this.originalInsertionMode="",this.document=t,this.fragmentContext=e,this.headElement=null,this.formElement=null,this.openElements=new i(this.document,this.treeAdapter),this.activeFormattingElements=new o(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1},X.prototype._runParsingLoop=function(t){for(;!this.stopped;){this._setupTokenizerCDATAMode();var e=this.tokenizer.getNextToken();if(e.type===r.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.type===r.WHITESPACE_CHARACTER_TOKEN&&"\n"===e.chars[0])){if(1===e.chars.length)continue;e.chars=e.chars.substr(1)}if(this._processInputToken(e),t&&this.pendingScript)break}},X.prototype.runParsingLoopForCurrentChunk=function(t,e){if(this._runParsingLoop(e),e&&this.pendingScript){var n=this.pendingScript;return this.pendingScript=null,void e(n)}t&&t()},X.prototype._setupTokenizerCDATAMode=function(){var t=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=t&&t!==this.document&&this.treeAdapter.getNamespaceURI(t)!==p.HTML&&!this._isIntegrationPoint(t)},X.prototype._switchToTextParsing=function(t,e){this._insertElement(t,p.HTML),this.tokenizer.state=e,this.originalInsertionMode=this.insertionMode,this.insertionMode=k},X.prototype.switchToPlaintextParsing=function(){this.insertionMode=k,this.originalInsertionMode=E,this.tokenizer.state=r.MODE.PLAINTEXT},X.prototype._getAdjustedCurrentElement=function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current},X.prototype._findFormInFragmentContext=function(){var t=this.fragmentContext;do{if(this.treeAdapter.getTagName(t)===d.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}while(t)},X.prototype._initTokenizerForFragmentParsing=function(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===p.HTML){var t=this.treeAdapter.getTagName(this.fragmentContext);t===d.TITLE||t===d.TEXTAREA?this.tokenizer.state=r.MODE.RCDATA:t===d.STYLE||t===d.XMP||t===d.IFRAME||t===d.NOEMBED||t===d.NOFRAMES||t===d.NOSCRIPT?this.tokenizer.state=r.MODE.RAWTEXT:t===d.SCRIPT?this.tokenizer.state=r.MODE.SCRIPT_DATA:t===d.PLAINTEXT&&(this.tokenizer.state=r.MODE.PLAINTEXT)}},X.prototype._setDocumentType=function(t){this.treeAdapter.setDocumentType(this.document,t.name,t.publicId,t.systemId)},X.prototype._attachElementToTree=function(t){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{var e=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(e,t)}},X.prototype._appendElement=function(t,e){var n=this.treeAdapter.createElement(t.tagName,e,t.attrs);this._attachElementToTree(n)},X.prototype._insertElement=function(t,e){var n=this.treeAdapter.createElement(t.tagName,e,t.attrs);this._attachElementToTree(n),this.openElements.push(n)},X.prototype._insertFakeElement=function(t){var e=this.treeAdapter.createElement(t,p.HTML,[]);this._attachElementToTree(e),this.openElements.push(e)},X.prototype._insertTemplate=function(t){var e=this.treeAdapter.createElement(t.tagName,p.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(e,n),this._attachElementToTree(e),this.openElements.push(e)},X.prototype._insertFakeRootElement=function(){var t=this.treeAdapter.createElement(d.HTML,p.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t)},X.prototype._appendCommentNode=function(t,e){var n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(e,n)},X.prototype._insertCharacters=function(t){if(this._shouldFosterParentOnInsertion())this._fosterParentText(t.chars);else{var e=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(e,t.chars)}},X.prototype._adoptNodes=function(t,e){for(;;){var n=this.treeAdapter.getFirstChild(t);if(!n)break;this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(e,n)}},X.prototype._shouldProcessTokenInForeignContent=function(t){var e=this._getAdjustedCurrentElement();if(!e||e===this.document)return!1;var n=this.treeAdapter.getNamespaceURI(e);if(n===p.HTML||this.treeAdapter.getTagName(e)===d.ANNOTATION_XML&&n===p.MATHML&&t.type===r.START_TAG_TOKEN&&t.tagName===d.SVG)return!1;var i=t.type===r.CHARACTER_TOKEN||t.type===r.NULL_CHARACTER_TOKEN||t.type===r.WHITESPACE_CHARACTER_TOKEN;return!((t.type===r.START_TAG_TOKEN&&t.tagName!==d.MGLYPH&&t.tagName!==d.MALIGNMARK||i)&&this._isIntegrationPoint(e,p.MATHML)||(t.type===r.START_TAG_TOKEN||i)&&this._isIntegrationPoint(e,p.HTML))&&t.type!==r.EOF_TOKEN},X.prototype._processToken=function(t){G[this.insertionMode][t.type](this,t)},X.prototype._processTokenInBodyMode=function(t){G[E][t.type](this,t)},X.prototype._processTokenInForeignContent=function(t){t.type===r.CHARACTER_TOKEN?sn(this,t):t.type===r.NULL_CHARACTER_TOKEN?an(this,t):t.type===r.WHITESPACE_CHARACTER_TOKEN?rt(this,t):t.type===r.COMMENT_TOKEN?tt(this,t):t.type===r.START_TAG_TOKEN?ln(this,t):t.type===r.END_TAG_TOKEN&&un(this,t)},X.prototype._processInputToken=function(t){this._shouldProcessTokenInForeignContent(t)?this._processTokenInForeignContent(t):this._processToken(t)},X.prototype._isIntegrationPoint=function(t,e){var n=this.treeAdapter.getTagName(t),r=this.treeAdapter.getNamespaceURI(t),i=this.treeAdapter.getAttrList(t);return c.isIntegrationPoint(n,r,i,e)},X.prototype._reconstructActiveFormattingElements=function(){var t=this.activeFormattingElements.length;if(t){var e=t,n=null;do{if(e--,(n=this.activeFormattingElements.entries[e]).type===o.MARKER_ENTRY||this.openElements.contains(n.element)){e++;break}}while(e>0);for(var r=e;r<t;r++)n=this.activeFormattingElements.entries[r],this._insertElement(n.token,this.treeAdapter.getNamespaceURI(n.element)),n.element=this.openElements.current}},X.prototype._closeTableCell=function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=I},X.prototype._closePElement=function(){this.openElements.generateImpliedEndTagsWithExclusion(d.P),this.openElements.popUntilTagNamePopped(d.P)},X.prototype._resetInsertionMode=function(){for(var t=this.openElements.stackTop,e=!1;t>=0;t--){var n=this.openElements.items[t];0===t&&(e=!0,this.fragmentContext&&(n=this.fragmentContext));var r=this.treeAdapter.getTagName(n),i=U[r];if(i){this.insertionMode=i;break}if(!(e||r!==d.TD&&r!==d.TH)){this.insertionMode=R;break}if(!e&&r===d.HEAD){this.insertionMode=w;break}if(r===d.SELECT){this._resetInsertionModeForSelect(t);break}if(r===d.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(r===d.HTML){this.insertionMode=this.headElement?S:T;break}if(e){this.insertionMode=E;break}}},X.prototype._resetInsertionModeForSelect=function(t){if(t>0)for(var e=t-1;e>0;e--){var n=this.openElements.items[e],r=this.treeAdapter.getTagName(n);if(r===d.TEMPLATE)break;if(r===d.TABLE)return void(this.insertionMode=D)}this.insertionMode=L},X.prototype._pushTmplInsertionMode=function(t){this.tmplInsertionModeStack.push(t),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=t},X.prototype._popTmplInsertionMode=function(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]},X.prototype._isElementCausesFosterParenting=function(t){var e=this.treeAdapter.getTagName(t);return e===d.TABLE||e===d.TBODY||e===d.TFOOT||e===d.THEAD||e===d.TR},X.prototype._shouldFosterParentOnInsertion=function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)},X.prototype._findFosterParentingLocation=function(){for(var t={parent:null,beforeElement:null},e=this.openElements.stackTop;e>=0;e--){var n=this.openElements.items[e],r=this.treeAdapter.getTagName(n),i=this.treeAdapter.getNamespaceURI(n);if(r===d.TEMPLATE&&i===p.HTML){t.parent=this.treeAdapter.getTemplateContent(n);break}if(r===d.TABLE){t.parent=this.treeAdapter.getParentNode(n),t.parent?t.beforeElement=n:t.parent=this.openElements.items[e-1];break}}return t.parent||(t.parent=this.openElements.items[0]),t},X.prototype._fosterParentElement=function(t){var e=this._findFosterParentingLocation();e.beforeElement?this.treeAdapter.insertBefore(e.parent,t,e.beforeElement):this.treeAdapter.appendChild(e.parent,t)},X.prototype._fosterParentText=function(t){var e=this._findFosterParentingLocation();e.beforeElement?this.treeAdapter.insertTextBefore(e.parent,t,e.beforeElement):this.treeAdapter.insertText(e.parent,t)},X.prototype._isSpecialElement=function(t){var e=this.treeAdapter.getTagName(t),n=this.treeAdapter.getNamespaceURI(t);return f.SPECIAL_ELEMENTS[n][e]}},function(t,e,n){var r=n(201),i=n(124),o=n(462),a=n(71).inherits,s=t.exports=function(t){r.call(this,t),this.tokenizer=t,this.posTracker=new o(t.preprocessor),this.currentAttrLocation=null,this.currentTokenLocation=null};a(s,r),s.prototype._getCurrentLocation=function(){return{line:this.posTracker.line,col:this.posTracker.col,startOffset:this.posTracker.offset,endOffset:-1}},s.prototype._attachCurrentAttrLocationInfo=function(){this.currentAttrLocation.endOffset=this.posTracker.offset;var t=this.tokenizer.currentToken,e=this.tokenizer.currentAttr;t.location.attrs||(t.location.attrs=Object.create(null)),t.location.attrs[e.name]=this.currentAttrLocation},s.prototype._getOverriddenMethods=function(t,e){var n={_createStartTagToken:function(){e._createStartTagToken.call(this),this.currentToken.location=t.currentTokenLocation},_createEndTagToken:function(){e._createEndTagToken.call(this),this.currentToken.location=t.currentTokenLocation},_createCommentToken:function(){e._createCommentToken.call(this),this.currentToken.location=t.currentTokenLocation},_createDoctypeToken:function(n){e._createDoctypeToken.call(this,n),this.currentToken.location=t.currentTokenLocation},_createCharacterToken:function(n,r){e._createCharacterToken.call(this,n,r),this.currentCharacterToken.location=t.currentTokenLocation},_createAttr:function(n){e._createAttr.call(this,n),t.currentAttrLocation=t._getCurrentLocation()},_leaveAttrName:function(n){e._leaveAttrName.call(this,n),t._attachCurrentAttrLocationInfo()},_leaveAttrValue:function(n){e._leaveAttrValue.call(this,n),t._attachCurrentAttrLocationInfo()},_emitCurrentToken:function(){this.currentCharacterToken&&(this.currentCharacterToken.location.endOffset=this.currentToken.location.startOffset),this.currentToken.location.endOffset=t.posTracker.offset+1,e._emitCurrentToken.call(this)},_emitCurrentCharacterToken:function(){this.currentCharacterToken&&-1===this.currentCharacterToken.location.endOffset&&(this.currentCharacterToken.location.endOffset=t.posTracker.offset),e._emitCurrentCharacterToken.call(this)}};return Object.keys(i.MODE).forEach((function(r){var o=i.MODE[r];n[o]=function(n){t.currentTokenLocation=t._getCurrentLocation(),e[o].call(this,n)}})),n}},function(t,e,n){var r=n(201),i=n(71).inherits,o=n(149).CODE_POINTS,a=t.exports=function(t){return t.__locTracker||(t.__locTracker=this,r.call(this,t),this.preprocessor=t,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.col=-1,this.line=1),t.__locTracker};i(a,r),Object.defineProperty(a.prototype,"offset",{get:function(){return this.droppedBufferSize+this.preprocessor.pos}}),a.prototype._getOverriddenMethods=function(t,e){return{advance:function(){var n=e.advance.call(this);return t.isEol&&(t.isEol=!1,t.line++,t.lineStartPos=t.offset),n===o.LINE_FEED&&(t.isEol=!0),t.col=t.offset-t.lineStartPos+1,n},retreat:function(){e.retreat.call(this),t.isEol=!1,t.col=t.offset-t.lineStartPos+1},dropParsedChunk:function(){var n=this.pos;e.dropParsedChunk.call(this),t.droppedBufferSize+=n-this.pos}}}},function(t,e,n){var r=n(124),i=n(64),o=i.TAG_NAMES,a=i.NAMESPACES,s=i.ATTRS,l={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},u="definitionurl",c="definitionURL",h={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},f={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:a.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:a.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:a.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:a.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:a.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:a.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:a.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:a.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:a.XML},"xml:space":{prefix:"xml",name:"space",namespace:a.XML},xmlns:{prefix:"",name:"xmlns",namespace:a.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:a.XMLNS}},d=e.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},p=Object.create(null);function m(t,e){return e===a.MATHML&&(t===o.MI||t===o.MO||t===o.MN||t===o.MS||t===o.MTEXT)}function v(t,e,n){if(e===a.MATHML&&t===o.ANNOTATION_XML)for(var r=0;r<n.length;r++)if(n[r].name===s.ENCODING){var i=n[r].value.toLowerCase();return i===l.TEXT_HTML||i===l.APPLICATION_XML}return e===a.SVG&&(t===o.FOREIGN_OBJECT||t===o.DESC||t===o.TITLE)}p[o.B]=!0,p[o.BIG]=!0,p[o.BLOCKQUOTE]=!0,p[o.BODY]=!0,p[o.BR]=!0,p[o.CENTER]=!0,p[o.CODE]=!0,p[o.DD]=!0,p[o.DIV]=!0,p[o.DL]=!0,p[o.DT]=!0,p[o.EM]=!0,p[o.EMBED]=!0,p[o.H1]=!0,p[o.H2]=!0,p[o.H3]=!0,p[o.H4]=!0,p[o.H5]=!0,p[o.H6]=!0,p[o.HEAD]=!0,p[o.HR]=!0,p[o.I]=!0,p[o.IMG]=!0,p[o.LI]=!0,p[o.LISTING]=!0,p[o.MENU]=!0,p[o.META]=!0,p[o.NOBR]=!0,p[o.OL]=!0,p[o.P]=!0,p[o.PRE]=!0,p[o.RUBY]=!0,p[o.S]=!0,p[o.SMALL]=!0,p[o.SPAN]=!0,p[o.STRONG]=!0,p[o.STRIKE]=!0,p[o.SUB]=!0,p[o.SUP]=!0,p[o.TABLE]=!0,p[o.TT]=!0,p[o.U]=!0,p[o.UL]=!0,p[o.VAR]=!0,e.causesExit=function(t){var e=t.tagName;return!(e!==o.FONT||null===r.getTokenAttr(t,s.COLOR)&&null===r.getTokenAttr(t,s.SIZE)&&null===r.getTokenAttr(t,s.FACE))||p[e]},e.adjustTokenMathMLAttrs=function(t){for(var e=0;e<t.attrs.length;e++)if(t.attrs[e].name===u){t.attrs[e].name=c;break}},e.adjustTokenSVGAttrs=function(t){for(var e=0;e<t.attrs.length;e++){var n=h[t.attrs[e].name];n&&(t.attrs[e].name=n)}},e.adjustTokenXMLAttrs=function(t){for(var e=0;e<t.attrs.length;e++){var n=f[t.attrs[e].name];n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}},e.adjustTokenSVGTagName=function(t){var e=d[t.tagName];e&&(t.tagName=e)},e.isIntegrationPoint=function(t,e,n,r){return!((r&&r!==a.HTML||!v(t,e,n))&&(r&&r!==a.MATHML||!m(t,e)))}},function(t,e,n){var r=n(301),i=n(302),o=n(303),a=n(64),s=a.TAG_NAMES,l=a.NAMESPACES,u={treeAdapter:r},c=/&/g,h=/\u00a0/g,f=/"/g,d=/</g,p=/>/g,m=t.exports=function(t,e){this.options=i(u,e),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=t};m.escapeString=function(t,e){return t=t.replace(c,"&amp;").replace(h,"&nbsp;"),t=e?t.replace(f,"&quot;"):t.replace(d,"&lt;").replace(p,"&gt;")},m.prototype.serialize=function(){return this._serializeChildNodes(this.startNode),this.html},m.prototype._serializeChildNodes=function(t){var e=this.treeAdapter.getChildNodes(t);if(e)for(var n=0,r=e.length;n<r;n++){var i=e[n];this.treeAdapter.isElementNode(i)?this._serializeElement(i):this.treeAdapter.isTextNode(i)?this._serializeTextNode(i):this.treeAdapter.isCommentNode(i)?this._serializeCommentNode(i):this.treeAdapter.isDocumentTypeNode(i)&&this._serializeDocumentTypeNode(i)}},m.prototype._serializeElement=function(t){var e=this.treeAdapter.getTagName(t),n=this.treeAdapter.getNamespaceURI(t);if(this.html+="<"+e,this._serializeAttributes(t),this.html+=">",e!==s.AREA&&e!==s.BASE&&e!==s.BASEFONT&&e!==s.BGSOUND&&e!==s.BR&&e!==s.BR&&e!==s.COL&&e!==s.EMBED&&e!==s.FRAME&&e!==s.HR&&e!==s.IMG&&e!==s.INPUT&&e!==s.KEYGEN&&e!==s.LINK&&e!==s.MENUITEM&&e!==s.META&&e!==s.PARAM&&e!==s.SOURCE&&e!==s.TRACK&&e!==s.WBR){var r=e===s.TEMPLATE&&n===l.HTML?this.treeAdapter.getTemplateContent(t):t;this._serializeChildNodes(r),this.html+="</"+e+">"}},m.prototype._serializeAttributes=function(t){for(var e=this.treeAdapter.getAttrList(t),n=0,r=e.length;n<r;n++){var i=e[n],o=m.escapeString(i.value,!0);this.html+=" ",i.namespace?i.namespace===l.XML?this.html+="xml:"+i.name:i.namespace===l.XMLNS?("xmlns"!==i.name&&(this.html+="xmlns:"),this.html+=i.name):i.namespace===l.XLINK?this.html+="xlink:"+i.name:this.html+=i.namespace+":"+i.name:this.html+=i.name,this.html+='="'+o+'"'}},m.prototype._serializeTextNode=function(t){var e=this.treeAdapter.getTextNodeContent(t),n=this.treeAdapter.getParentNode(t),r=void 0;n&&this.treeAdapter.isElementNode(n)&&(r=this.treeAdapter.getTagName(n)),r===s.STYLE||r===s.SCRIPT||r===s.XMP||r===s.IFRAME||r===s.NOEMBED||r===s.NOFRAMES||r===s.PLAINTEXT||r===s.NOSCRIPT?this.html+=e:this.html+=m.escapeString(e,!1)},m.prototype._serializeCommentNode=function(t){this.html+="\x3c!--"+this.treeAdapter.getCommentNodeContent(t)+"--\x3e"},m.prototype._serializeDocumentTypeNode=function(t){var e=this.treeAdapter.getDocumentTypeNodeName(t);this.html+="<"+o.serializeContent(e,null,null)+">"}},function(t,e,n){var r=n(202).Writable,i=n(71).inherits,o=n(460),a=t.exports=function(t){r.call(this),this.parser=new o(t),this.lastChunkWritten=!1,this.writeCallback=null,this.pausedByScript=!1,this.document=this.parser.treeAdapter.createDocument(),this.pendingHtmlInsertions=[],this._resume=this._resume.bind(this),this._documentWrite=this._documentWrite.bind(this),this._scriptHandler=this._scriptHandler.bind(this),this.parser._bootstrap(this.document,null)};i(a,r),a.prototype._write=function(t,e,n){this.writeCallback=n,this.parser.tokenizer.write(t.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()},a.prototype.end=function(t,e,n){this.lastChunkWritten=!0,r.prototype.end.call(this,t||"",e,n)},a.prototype._runParsingLoop=function(){this.parser.runParsingLoopForCurrentChunk(this.writeCallback,this._scriptHandler)},a.prototype._resume=function(){if(!this.pausedByScript)throw new Error("Parser was already resumed");for(;this.pendingHtmlInsertions.length;){var t=this.pendingHtmlInsertions.pop();this.parser.tokenizer.insertHtmlAtCurrentPos(t)}this.pausedByScript=!1,this.parser.tokenizer.active&&this._runParsingLoop()},a.prototype._documentWrite=function(t){this.parser.stopped||this.pendingHtmlInsertions.push(t)},a.prototype._scriptHandler=function(t){this.listeners("script").length?(this.pausedByScript=!0,this.emit("script",t,this._documentWrite,this._resume)):this._runParsingLoop()}},function(t,e,n){(function(e,r){var i=n(203);t.exports=T;var o,a=n(338);T.ReadableState=x,n(199).EventEmitter;var s=function(t,e){return t.listeners(e).length},l=n(467),u=n(200).Buffer,c=e.Uint8Array||function(){};function h(t){return u.from(t)}function f(t){return u.isBuffer(t)||t instanceof c}var d=n(151);d.inherits=n(58);var p=n(974),m=void 0;m=p&&p.debuglog?p.debuglog("stream"):function(){};var v,g=n(975),y=n(468);d.inherits(T,l);var b=["error","close","destroy","pause","resume"];function _(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function x(t,e){t=t||{};var r=e instanceof(o=o||n(102));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(v||(v=n(300).StringDecoder),this.decoder=new v(t.encoding),this.encoding=t.encoding)}function T(t){if(o=o||n(102),!(this instanceof T))return new T(t);this._readableState=new x(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function w(t,e,n,r,i){var o,a=t._readableState;return null===e?(a.reading=!1,P(t,a)):(i||(o=E(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"!=typeof e&&!a.objectMode&&Object.getPrototypeOf(e)!==u.prototype&&(e=h(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):S(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?S(t,a,e,!1):R(t,a)):S(t,a,e,!1))):r||(a.reading=!1)),k(a)}function S(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&M(t)),R(t,e)}function E(t,e){var n;return!f(e)&&"string"!=typeof e&&void 0!==e&&!t.objectMode&&(n=new TypeError("Invalid non-string/buffer chunk")),n}function k(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}Object.defineProperty(T.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),T.prototype.destroy=y.destroy,T.prototype._undestroy=y.undestroy,T.prototype._destroy=function(t,e){this.push(null),e(t)},T.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=u.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},T.prototype.unshift=function(t){return w(this,t,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(t){return v||(v=n(300).StringDecoder),this._readableState.decoder=new v(t),this._readableState.encoding=t,this};var C=8388608;function A(t){return t>=C?t=C:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function O(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=A(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function P(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,M(t)}}function M(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(m("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(I,t):I(t))}function I(t){m("emit readable"),t.emit("readable"),F(t)}function R(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(L,t,e))}function L(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(m("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function D(t){return function(){var e=t._readableState;m("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,F(t))}}function N(t){m("readable nexttick read 0"),t.read(0)}function j(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(B,t,e))}function B(t,e){e.reading||(m("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),F(t),e.flowing&&!e.reading&&t.read(0)}function F(t){var e=t._readableState;for(m("flow",e.flowing);e.flowing&&null!==t.read(););}function H(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=z(t,e.buffer,e.decoder),n);var n}function z(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?U(t,e):V(t,e),r}function U(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}function V(t,e){var n=u.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}function G(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(X,e,t))}function X(t,e){!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Y(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}T.prototype.read=function(t){m("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return m("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?G(this):M(this),null;if(0===(t=O(t,e))&&e.ended)return 0===e.length&&G(this),null;var r,i=e.needReadable;return m("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&m("length less than watermark",i=!0),e.ended||e.reading?m("reading or ended",i=!1):i&&(m("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=O(n,e))),null===(r=t>0?H(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&G(this)),null!==r&&this.emit("data",r),r},T.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},T.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,m("pipe count=%d opts=%j",o.pipesCount,e);var a=e&&!1===e.end||t===r.stdout||t===r.stderr?b:u;function l(t,e){m("onunpipe"),t===n&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,f())}function u(){m("onend"),t.end()}o.endEmitted?i.nextTick(a):n.once("end",a),t.on("unpipe",l);var c=D(n);t.on("drain",c);var h=!1;function f(){m("cleanup"),t.removeListener("close",g),t.removeListener("finish",y),t.removeListener("drain",c),t.removeListener("error",v),t.removeListener("unpipe",l),n.removeListener("end",u),n.removeListener("end",b),n.removeListener("data",p),h=!0,o.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}var d=!1;function p(e){m("ondata"),d=!1,!1===t.write(e)&&!d&&((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==Y(o.pipes,t))&&!h&&(m("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function v(e){m("onerror",e),b(),t.removeListener("error",v),0===s(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",y),b()}function y(){m("onfinish"),t.removeListener("close",g),b()}function b(){m("unpipe"),n.unpipe(t)}return n.on("data",p),_(t,"error",v),t.once("close",g),t.once("finish",y),t.emit("pipe",n),o.flowing||(m("pipe resume"),n.resume()),t},T.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=Y(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},T.prototype.on=function(t,e){var n=l.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&M(this):i.nextTick(N,this))}return n},T.prototype.addListener=T.prototype.on,T.prototype.resume=function(){var t=this._readableState;return t.flowing||(m("resume"),t.flowing=!0,j(this,t)),this},T.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},T.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(m("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){m("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||!(n.objectMode||i&&i.length)||e.push(i)||(r=!0,t.pause())})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<b.length;o++)t.on(b[o],this.emit.bind(this,b[o]));return this._read=function(e){m("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),T._fromList=H}).call(this,n(27),n(150))},function(t,e,n){t.exports=n(199).EventEmitter},function(t,e,n){var r=n(203);function i(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&r.nextTick(a,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(a,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(t,e){t.emit("error",e)}t.exports={destroy:i,undestroy:o}},function(t,e,n){t.exports=a;var r=n(102),i=n(151);function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){l(t,e,n)})):l(this,null,null)}function l(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(58),i.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){var r=n(195),i=n(100),o=n(290),a=n(98),s=n(186),l=n(119),u=Object.prototype.hasOwnProperty,c=o((function(t,e){if(s(e)||a(e))i(e,l(e),t);else for(var n in e)u.call(e,n)&&r(t,n,e[n])}));t.exports=c},function(t,e,n){var r=n(100),i=n(290),o=n(121),a=i((function(t,e){r(e,o(e),t)}));t.exports=a},function(t,e,n){var r=n(143),i=n(473),o=i?function(t,e){return i.set(t,e),t}:r;t.exports=o},function(t,e,n){var r=n(422),i=r&&new r;t.exports=i},function(t,e,n){var r=n(475),i=n(476),o=n(993),a=n(205),s=n(477),l=n(309),u=n(1008),c=n(206),h=n(41),f=1,d=2,p=8,m=16,v=128,g=512;function y(t,e,n,b,_,x,T,w,S,E){var k=e&v,C=e&f,A=e&d,O=e&(p|m),P=e&g,M=A?void 0:a(t);function I(){for(var f=arguments.length,d=Array(f),p=f;p--;)d[p]=arguments[p];if(O)var m=l(I),v=o(d,m);if(b&&(d=r(d,b,_,O)),x&&(d=i(d,x,T,O)),f-=v,O&&f<E){var g=c(d,m);return s(t,e,y,I.placeholder,n,d,g,w,S,E-f)}var R=C?n:this,L=A?R[t]:t;return f=d.length,w?d=u(d,w):P&&f>1&&d.reverse(),k&&S<f&&(d.length=S),this&&this!==h&&this instanceof I&&(L=M||a(L)),L.apply(R,d)}return I}t.exports=y},function(t,e){var n=Math.max;function r(t,e,r,i){for(var o=-1,a=t.length,s=r.length,l=-1,u=e.length,c=n(a-s,0),h=Array(u+c),f=!i;++l<u;)h[l]=e[l];for(;++o<s;)(f||o<a)&&(h[r[o]]=t[o]);for(;c--;)h[l++]=t[o++];return h}t.exports=r},function(t,e){var n=Math.max;function r(t,e,r,i){for(var o=-1,a=t.length,s=-1,l=r.length,u=-1,c=e.length,h=n(a-l,0),f=Array(h+c),d=!i;++o<h;)f[o]=t[o];for(var p=o;++u<c;)f[p+u]=e[u];for(;++s<l;)(d||o<a)&&(f[p+r[s]]=t[o++]);return f}t.exports=r},function(t,e,n){var r=n(994),i=n(480),o=n(481),a=1,s=2,l=4,u=8,c=32,h=64;function f(t,e,n,f,d,p,m,v,g,y){var b=e&u;e|=b?c:h,(e&=~(b?h:c))&l||(e&=~(a|s));var _=[t,e,d,b?p:void 0,b?m:void 0,b?void 0:p,b?void 0:m,v,g,y],x=n.apply(void 0,_);return r(t)&&i(x,_),x.placeholder=f,o(x,t,e)}t.exports=f},function(t,e,n){var r=n(473),i=n(995),o=r?function(t){return r.get(t)}:i;t.exports=o},function(t,e,n){var r=n(197),i=n(308);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,t.exports=o},function(t,e,n){var r=n(472),i=n(434)(r);t.exports=i},function(t,e,n){var r=n(1e3),i=n(1001),o=n(293),a=n(1002);function s(t,e,n){var s=e+"";return o(t,i(s,a(r(s),n)))}t.exports=s},function(t,e,n){var r=n(291),i=n(120),o=n(294),a=n(121),s=Object.prototype,l=s.hasOwnProperty,u=r((function(t,e){t=Object(t);var n=-1,r=e.length,u=r>2?e[2]:void 0;for(u&&o(e[0],e[1],u)&&(r=1);++n<r;)for(var c=e[n],h=a(c),f=-1,d=h.length;++f<d;){var p=h[f],m=t[p];(void 0===m||i(m,s[p])&&!l.call(t,p))&&(t[p]=c[p])}return t}));t.exports=u},function(t,e,n){t.exports=g;var r=n(311),i=n(101),o=i.findOne,a=i.findAll,s=i.getChildren,l=i.removeSubsets,u=n(153).falseFunc,c=n(1017),h=c.compileUnsafe,f=c.compileToken;function d(t){return function(e,n,r){return"function"!=typeof e&&(e=h(e,r,n)),n=Array.isArray(n)?l(n):s(n),t(e,n)}}var p=d((function(t,e){return t!==u&&e&&0!==e.length?a(t,e):[]})),m=d((function(t,e){return t!==u&&e&&0!==e.length?o(t,e):null}));function v(t,e,n){return("function"==typeof e?e:c(e,n))(t)}function g(t,e,n){return p(t,e,n)}g.compile=c,g.filters=r.filters,g.pseudos=r.pseudos,g.selectAll=p,g.selectOne=m,g.is=v,g.parse=c,g.iterate=p,g._compileUnsafe=h,g._compileToken=f},function(t,e,n){var r=n(101),i=r.hasAttrib,o=r.getAttributeValue,a=n(153).falseFunc,s=/[-[\]{}()*+?.,\\^$|#\s]/g,l={__proto__:null,equals:function(t,e){var n=e.name,r=e.value;return e.ignoreCase?(r=r.toLowerCase(),function(e){var i=o(e,n);return null!=i&&i.toLowerCase()===r&&t(e)}):function(e){return o(e,n)===r&&t(e)}},hyphen:function(t,e){var n=e.name,r=e.value,i=r.length;return e.ignoreCase?(r=r.toLowerCase(),function(e){var a=o(e,n);return null!=a&&(a.length===i||"-"===a.charAt(i))&&a.substr(0,i).toLowerCase()===r&&t(e)}):function(e){var a=o(e,n);return null!=a&&a.substr(0,i)===r&&(a.length===i||"-"===a.charAt(i))&&t(e)}},element:function(t,e){var n=e.name,r=e.value;if(/\s/.test(r))return a;var i="(?:^|\\s)"+(r=r.replace(s,"\\$&"))+"(?:$|\\s)",l=e.ignoreCase?"i":"",u=new RegExp(i,l);return function(e){var r=o(e,n);return null!=r&&u.test(r)&&t(e)}},exists:function(t,e){var n=e.name;return function(e){return i(e,n)&&t(e)}},start:function(t,e){var n=e.name,r=e.value,i=r.length;return 0===i?a:e.ignoreCase?(r=r.toLowerCase(),function(e){var a=o(e,n);return null!=a&&a.substr(0,i).toLowerCase()===r&&t(e)}):function(e){var a=o(e,n);return null!=a&&a.substr(0,i)===r&&t(e)}},end:function(t,e){var n=e.name,r=e.value,i=-r.length;return 0===i?a:e.ignoreCase?(r=r.toLowerCase(),function(e){var a=o(e,n);return null!=a&&a.substr(i).toLowerCase()===r&&t(e)}):function(e){var a=o(e,n);return null!=a&&a.substr(i)===r&&t(e)}},any:function(t,e){var n=e.name,r=e.value;if(""===r)return a;if(e.ignoreCase){var i=new RegExp(r.replace(s,"\\$&"),"i");return function(e){var r=o(e,n);return null!=r&&i.test(r)&&t(e)}}return function(e){var i=o(e,n);return null!=i&&i.indexOf(r)>=0&&t(e)}},not:function(t,e){var n=e.name,r=e.value;return""===r?function(e){return!!o(e,n)&&t(e)}:e.ignoreCase?(r=r.toLowerCase(),function(e){var i=o(e,n);return null!=i&&i.toLowerCase()!==r&&t(e)}):function(e){return o(e,n)!==r&&t(e)}}};t.exports={compile:function(t,e,n){if(n&&n.strict&&(e.ignoreCase||"not"===e.action))throw SyntaxError("Unsupported attribute selector");return l[e.action](t,e)},rules:l}},function(t){t.exports={universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1}},function(t,e,n){var r=n(146);function i(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}t.exports=i},function(t,e,n){var r=n(1031);function i(t){return null!=t&&t.length?r(t,1):[]}t.exports=i},function(t,e,n){var r=n(1041),i=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,o=function t(e,n,o,a,s){for(var l=a,u=0;u<o;){var c=r.ToString(u);if(r.HasProperty(n,c)){var h=r.Get(n,c),f=!1;if(s>0&&(f=r.IsArray(h)),f)l=t(e,h,r.ToLength(r.Get(h,"length")),l,s-1);else{if(l>=i)throw new TypeError("index too large");r.CreateDataPropertyOrThrow(e,r.ToString(l),h),l+=1}}u+=1}return l};t.exports=function(){var t=r.ToObject(this),e=r.ToLength(r.Get(t,"length")),n=1;arguments.length>0&&typeof arguments[0]<"u"&&(n=r.ToInteger(arguments[0]));var i=r.ArraySpeciesCreate(t,0);return o(i,t,e,0,n),i}},function(t,e,n){var r=n(1042),i=n(312),o=i(i({},r),{SameValueNonNumber:function(t,e){if("number"==typeof t||typeof t!=typeof e)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(t,e)}});t.exports=o},function(t,e){t.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},function(t,e,n){var r=n(207),i=r("%TypeError%"),o=r("%SyntaxError%"),a=n(59),s={"Property Descriptor":function(t,e){if("Object"!==t.Type(e))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in e)if(a(e,r)&&!n[r])return!1;var o=a(e,"[[Value]]"),s=a(e,"[[Get]]")||a(e,"[[Set]]");if(o&&s)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}};t.exports=function(t,e,n,r){var a=s[e];if("function"!=typeof a)throw new o("unknown record type: "+e);if(!a(t,r))throw new i(n+" must be a "+e);console.log(a(t,r),r)}},function(t,e){t.exports=Number.isNaN||function(t){return t!==t}},function(t,e){var n=Number.isNaN||function(t){return t!==t};t.exports=Number.isFinite||function(t){return"number"==typeof t&&!n(t)&&t!==1/0&&t!==-1/0}},function(t,e){t.exports=function(t){return t>=0?1:-1}},function(t,e){t.exports=function(t,e){var n=t%e;return Math.floor(n>=0?n:n+e)}},function(t,e,n){var r=n(207),i=r("%Object%"),o=r("%TypeError%"),a=r("%String%"),s=n(491),l=n(492),u=n(493),c=n(494),h=n(495),f=n(155),d=n(1049),p=n(59),m={ToPrimitive:d,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var e=this.ToNumber(t);return l(e)?0:0!==e&&u(e)?c(e)*Math.floor(Math.abs(e)):e},ToInt32:function(t){return 0|this.ToNumber(t)},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var e=this.ToNumber(t);if(l(e)||0===e||!u(e))return 0;var n=c(e)*Math.floor(Math.abs(e));return h(n,65536)},ToString:function(t){return a(t)},ToObject:function(t){return this.CheckObjectCoercible(t),i(t)},CheckObjectCoercible:function(t,e){if(null==t)throw new o(e||"Cannot call method on "+t);return t},IsCallable:f,SameValue:function(t,e){return t===e?0!==t||1/t===1/e:l(t)&&l(e)},Type:function(t){return null===t?"Null":typeof t>"u"?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var e={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(p(t,n)&&!e[n])return!1;var r=p(t,"[[Value]]"),i=p(t,"[[Get]]")||p(t,"[[Set]]");if(r&&i)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return!(typeof t>"u"||(s(this,"Property Descriptor","Desc",t),!p(t,"[[Get]]")&&!p(t,"[[Set]]")))},IsDataDescriptor:function(t){return!(typeof t>"u"||(s(this,"Property Descriptor","Desc",t),!p(t,"[[Value]]")&&!p(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return!(typeof t>"u")&&(s(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(typeof t>"u")return t;if(s(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new o("ToPropertyDescriptor requires an object");var e={};if(p(t,"enumerable")&&(e["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),p(t,"configurable")&&(e["[[Configurable]]"]=this.ToBoolean(t.configurable)),p(t,"value")&&(e["[[Value]]"]=t.value),p(t,"writable")&&(e["[[Writable]]"]=this.ToBoolean(t.writable)),p(t,"get")){var n=t.get;if(typeof n<"u"&&!this.IsCallable(n))throw new TypeError("getter must be a function");e["[[Get]]"]=n}if(p(t,"set")){var r=t.set;if(typeof r<"u"&&!this.IsCallable(r))throw new o("setter must be a function");e["[[Set]]"]=r}if((p(e,"[[Get]]")||p(e,"[[Set]]"))&&(p(e,"[[Value]]")||p(e,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return e}};t.exports=m},function(t,e,n){var r=n(59),i=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,a=function(t){try{var e=t.lastIndex;return t.lastIndex=0,i.call(t),!0}catch{return!1}finally{t.lastIndex=e}},s=Object.prototype.toString,l="[object RegExp]",u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!u)return s.call(t)===l;var e=o(t,"lastIndex");return!(!e||!r(e,"value"))&&a(t)}},function(t,e,n){var r=n(488);t.exports=function(){return Array.prototype.flat||r}},function(t,e,n){var r=function(t){return t!==t};t.exports=function(t,e){return 0===t&&0===e?1/t===1/e:t===e||!(!r(t)||!r(e))}},function(t,e,n){var r=n(52),i=n(501),o=n(503),a=n(1052),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),t.exports=s},function(t,e,n){var r=n(502),i=n(59),o=n(53).call(Function.call,Object.prototype.propertyIsEnumerable);t.exports=function(t){var e=r.RequireObjectCoercible(t),n=[];for(var a in e)i(e,a)&&o(e,a)&&n.push([a,e[a]]);return n}},function(t,e,n){t.exports=n(489)},function(t,e,n){var r=n(501);t.exports=function(){return"function"==typeof Object.entries?Object.entries:r}},function(t,e,n){var r=n(155),i=n(505),o=n(53),a=o.call(Function.call,Function.prototype.toString),s=o.call(Function.call,String.prototype.match),l=/^class /,u=function(t){if(r(t)||"function"!=typeof t)return!1;try{return!!s(a(t),l)}catch{}return!1},c=/\s*function\s+([^(\s]*)\s*/,h=Function.prototype;t.exports=function(){if(!u(this)&&!r(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(i)return this.name;if(this===h)return"";var t=a(this),e=s(t,c);return e&&e[1]}},function(t,e){t.exports="string"==typeof function(){}.name},function(t,e,n){var r=n(504);t.exports=function(){return r}},function(t,e,n){var r=n(53),i=n(496),o=r.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=i.ToString(i.CheckObjectCoercible(this));return o(o(t,a,""),s,"")}},function(t,e,n){var r=n(507),i="\u200b";t.exports=function(){return String.prototype.trim&&i.trim()===i?String.prototype.trim:r}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=i(n(510));function i(t){return t&&t.__esModule?t:{default:t}}function o(t){if(!t)throw new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n    ");if("function"==typeof t)throw Object.getPrototypeOf(t)===r.default?new Error("\n        Enzyme Internal Error: Enzyme expects an adapter instance to be configured -\n        you provided an adapter *constructor*.\n        To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n        before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n        corresponding to the library currently being tested. For example:\n\n        import Adapter from 'enzyme-adapter-react-15';\n\n        To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n      "):new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured -\n      an enzyme adapter must be an object instance; you provided a function.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n    ");if(!(t instanceof r.default))throw new Error("Enzyme Internal Error: configured enzyme adapter did not inherit from the EnzymeAdapter base class")}},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return new Error(String(t)+" is a required method of "+String(e)+", but was not implemented.")}var a=function(){function t(){i(this,t),this.options={}}return r(t,[{key:"createRenderer",value:function(){function t(t){throw o("createRenderer","EnzymeAdapter")}return t}()},{key:"nodeToElement",value:function(){function t(t){throw o("nodeToElement","EnzymeAdapter")}return t}()},{key:"isValidElement",value:function(){function t(t){throw o("isValidElement","EnzymeAdapter")}return t}()},{key:"createElement",value:function(){function t(t,e){throw o("createElement","EnzymeAdapter")}return t}()},{key:"invokeSetStateCallback",value:function(){function t(t,e){e.call(t)}return t}()}]),t}();a.MODES={STRING:"string",MOUNT:"mount",SHALLOW:"shallow"},t.exports=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.typeName=v,e.spaces=g,e.indent=y,e.debugNode=w,e.debugNodes=S;var i=p(n(1057)),o=p(n(314)),a=p(n(1058)),s=p(n(1059)),l=p(n(155)),u=p(n(1060)),c=p(n(1061)),h=p(n(59)),f=n(156),d=p(n(103));function p(t){return t&&t.__esModule?t:{default:t}}var m=Function.bind.call(Function.call,Boolean.prototype.valueOf);function v(t){return(0,d.default)().displayNameOfNode?(0,d.default)().displayNameOfNode(t)||"Component":"function"==typeof t.type?t.type.displayName||(0,o.default)(t.type)||"Component":t.type}function g(t){return Array(t+1).join(" ")}function y(t,e){return e.split("\n").map((function(e){return""+String(g(t))+String(e)})).join("\n")}function b(t,e){return(0,a.default)(t)?(0,c.default)(String(t),{quoteStyle:"double"}):(0,s.default)(t)?"{"+String((0,c.default)(Number(t)))+"}":(0,u.default)(t)?"{"+String((0,c.default)(m(t)))+"}":(0,l.default)(t)?"{"+String((0,c.default)(t))+"}":"object"===(typeof t>"u"?"undefined":r(t))?e.verbose?"{"+String((0,c.default)(t))+"}":"{{...}}":"{["+(typeof t>"u"?"undefined":r(t))+"]}"}function _(t,e){var n=(0,f.propsOfNode)(t);return Object.keys(n).filter((function(t){return"children"!==t})).map((function(t){return String(t)+"="+String(b(n[t],e))})).join(" ")}function x(t,e){return t.length?"\n"+String(t.map((function(t){return y(e,t)})).join("\n"))+"\n":""}function T(t){return(0,h.default)(t,"nodeType")&&"string"==typeof t.nodeType&&(0,h.default)(t,"type")&&(0,h.default)(t,"key")&&(0,h.default)(t,"ref")&&(0,h.default)(t,"instance")&&(0,h.default)(t,"rendered")}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t||"number"==typeof t)return(0,i.default)(t);if("function"==typeof t){var r=(0,o.default)(t);return"[function"+(r?" "+String(r):"")+"]"}if(!t)return"";if(!(0,d.default)().isValidElement(t)&&!T(t))return"{"+String((0,c.default)(t))+"}";var a=(0,f.childrenOfNode)(t).map((function(t){return w(t,e,n)})).filter(Boolean),s=v(t),l=n.ignoreProps?"":_(t,n),u=l?" ":"",h=a.length?">":" ",p=x(a,e),m=a.length?"</"+String(s)+">":"/>";return"<"+String(s)+u+String(l)+h+String(p)+m}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.map((function(t){return w(t,void 0,e)})).join("\n\n\n")}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.buildPredicate=G,e.reduceTreeBySelector=K,e.reduceTreesBySelector=$;var o=n(1063),a=p(n(1069)),s=p(n(154)),l=p(n(499)),u=p(n(59)),c=p(n(1071)),h=n(156),f=n(313),d=p(n(103));function p(t){return t&&t.__esModule?t:{default:t}}function m(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var v=(0,o.createParser)(),g="childCombinator",y="adjacentSiblingCombinator",b="generalSiblingCombinator",_="descendantCombinator",x="selector",T="typeSelector",w="classSelector",S="idSelector",E="universalSelector",k="attributePresenceSelector",C="attributeValueSelector",A="pseudoClassSelector",O="pseudoElementSelector",P="=",M="~=",I="|=",R="^=",L="$=",D="*=";function N(t){return[].concat(m(new Set(t)))}function j(t,e){return N(e.reduce(t,[]))}function B(t){try{return v.parse(t)}catch{throw new Error("Failed to parse selector: "+String(t))}}function F(t,e){var n=e.operator,r=e.value,i=e.name,o=(0,f.propsOfNode)(t),a=Object.getOwnPropertyDescriptor(o,i);if(a&&a.get)return!1;var s=o[i];if(typeof s>"u")return!1;if(e.type===k)return(0,u.default)(o,e.name);if(("string"!=typeof s||"string"!=typeof r)&&n!==P)return!1;switch(n){case P:return(0,l.default)(s,r);case M:return-1!==s.split(" ").indexOf(r);case I:return s===r||s.startsWith(String(r)+"-");case R:return""!==r&&s.slice(0,r.length)===r;case L:return""!==r&&s.slice(-r.length)===r;case D:return""!==r&&-1!==s.indexOf(r);default:throw new Error('Enzyme::Selector: Unknown attribute selector operator "'+String(n)+'"')}}function H(t,e,n){var r=e.name,o=e.parameters;if("not"===r)return o.every((function(e){return 0===K(e,t).length}));if("empty"===r)return 0===(0,h.treeFilter)(t,(function(e){return e!==t})).length;if("first-child"===r){var a=(0,h.findParentNode)(n,t).rendered;return i(a,1)[0]===t}if("last-child"===r){var s=(0,h.findParentNode)(n,t).rendered;return s[s.length-1]===t}if("focus"===r){if(typeof document>"u")throw new Error('Enzyme::Selector does not support the ":focus" pseudo-element without a global `document`.');var l=(0,d.default)();return document.activeElement&&l.nodeToHostNode(t)===document.activeElement}throw new TypeError('Enzyme::Selector does not support the "'+String(e.name)+'" pseudo-element or pseudo-class selectors.')}function z(t,e,n){if(null===t||"string"==typeof t)return!1;switch(e.type){case E:return!0;case w:return(0,h.hasClassName)(t,e.name);case T:return(0,f.nodeHasType)(t,e.name);case S:return(0,h.nodeHasId)(t,e.name);case k:case C:return F(t,e);case O:case A:return H(t,e,n);default:throw new Error("Unknown token type: "+String(e.type))}}function U(t,e){return function(n){return t.body.every((function(t){return z(n,t,e)}))}}function V(t){return t.some((function(t){return t.type!==x}))}function G(t){if("string"==typeof t){var e=B(t);if(V(e))throw new TypeError("This method does not support complex CSS selectors");return U(e[0])}var n=(0,d.default)();if(n.isValidElementType?n.isValidElementType(t):"function"==typeof t)return function(e){return e&&e.type===t};if("object"===(typeof t>"u"?"undefined":r(t))){if(!Array.isArray(t)&&null!==t&&Object.keys(t).length>0){if((0,a.default)(t).some((function(t){return typeof t>"u"})))throw new TypeError("Enzyme::Props can\u2019t have `undefined` values. Try using \u2018findWhere()\u2019 instead.");return function(e){return(0,h.nodeMatchesObjectProps)(e,t)}}throw new TypeError("Enzyme::Selector does not support an array, null, or empty object as a selector")}throw new TypeError("Enzyme::Selector expects a string, object, or valid element type (Component Constructor)")}function X(t,e,n){return t.reduce((function(t,r){var i=(0,h.findParentNode)(n,r);if(!i)return t;var o=(0,h.childrenOfNode)(i),a=o.indexOf(r),s=o[a+1];return s&&e(s)&&t.push(s),t}),[])}function Y(t,e,n){return j((function(t,r){var i=(0,h.findParentNode)(n,r);if(!i)return t;var o=(0,h.childrenOfNode)(i),a=o.indexOf(r),s=o.slice(a+1);return t.concat(s.filter(e))}),t)}function W(t,e){return j((function(t,n){return t.concat((0,h.childrenOfNode)(n).filter(e))}),t)}function q(t,e){return j((function(t,n){return t.concat((0,h.treeFilter)(n,e))}),(0,s.default)(t.map(h.childrenOfNode)))}function K(t,e){if("string"!=typeof t){var n=(0,c.default)(t);if(n.length>0)return(0,s.default)(n.map((function(t){return K(t.tag,e)})))}if("function"==typeof t||"object"===(typeof t>"u"?"undefined":r(t)))return(0,h.treeFilter)(e,G(t));var i=[];if("string"!=typeof t)throw new TypeError("Enzyme::Selector expects a string, object, or Component Constructor");for(var o=B(t),a=0;a<o.length;){var l=o[a];if(l.type===x){var u=U(l,e);i=i.concat((0,h.treeFilter)(e,u))}else{var f=l.type,d=U(o[a+=1],e);switch(f){case y:i=X(i,d,e);break;case b:i=Y(i,d,e);break;case g:i=W(i,d);break;case _:i=q(i,d);break;default:throw new Error("Unknown combinator selector: "+String(f))}}a+=1}return i}function $(t,e){var n=e.map((function(e){return K(t,e)}));return N((0,s.default)(n,1))}},function(t,e,n){var r=n(502),i=n(59),o=n(53).call(Function.call,Object.prototype.propertyIsEnumerable);t.exports=function(t){var e=r.RequireObjectCoercible(t),n=[];for(var a in e)i(e,a)&&o(e,a)&&n.push(e[a]);return n}},function(t,e,n){var r=n(513);t.exports=function(){return"function"==typeof Object.values?Object.values:r}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=p(n(122)),a=p(n(154)),s=p(n(296)),l=p(n(59)),u=n(313),c=p(n(103)),h=n(511),f=n(156),d=n(512);function p(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=(0,u.sym)("__node__"),b=(0,u.sym)("__nodes__"),_=(0,u.sym)("__renderer__"),x=(0,u.sym)("__unrendered__"),T=(0,u.sym)("__root__"),w=(0,u.sym)("__options__"),S=(0,u.sym)("__setState__"),E=(0,u.sym)("__rootNodes__"),k=(0,u.sym)("__childContext__");function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.treeFilter;return t.flatMap((function(t){return n(t.getNodeInternal(),e)}))}function A(t,e){return t.wrap(t.getNodesInternal().filter(e).filter(Boolean))}function O(t){var e=t.lifecycleExperimental,n=t.disableLifecycleMethods,r=t.enableComponentDidUpdateOnSetState,i=t.supportPrevContextArgumentOfComponentDidUpdate,o=t.lifecycles;if(typeof e<"u"&&"boolean"!=typeof e)throw new Error("lifecycleExperimental must be either true or false if provided");if(typeof n<"u"&&"boolean"!=typeof n)throw new Error("disableLifecycleMethods must be either true or false if provided");if(null!=e&&null!=n&&e===n)throw new Error("lifecycleExperimental and disableLifecycleMethods cannot be set to the same value");if(typeof r<"u"&&o.componentDidUpdate&&o.componentDidUpdate.onSetState!==r)throw new TypeError("the legacy enableComponentDidUpdateOnSetState option should be matched by `lifecycles: { componentDidUpdate: { onSetState: true } }`, for compatibility");if(typeof i<"u"&&o.componentDidUpdate&&o.componentDidUpdate.prevContext!==i)throw new TypeError("the legacy supportPrevContextArgumentOfComponentDidUpdate option should be matched by `lifecycles: { componentDidUpdate: { prevContext: true } }`, for compatibility")}function P(t){var e=t.options,n=e.lifecycles,r=void 0===n?{}:n,i=e.enableComponentDidUpdateOnSetState,a=e.supportPrevContextArgumentOfComponentDidUpdate,s=typeof i<"u",l=typeof a<"u",u=s||l?(0,o.default)({},s&&{onSetState:!!i},l&&{prevContext:!!a}):null;return(0,o.default)({},r,{setState:(0,o.default)({},r.setState),getChildContext:(0,o.default)({calledByRenderer:!0},r.getChildContext)},u&&{componentDidUpdate:u})}function M(t){return"host"===t.nodeType?t:t.rendered}function I(t){if(1!==t[T].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return t[T]!==t?t[E][0]:t[T][y]}function R(t,e){return(0,f.parentsOfNode)(e,I(t))}function L(t,e){Array.isArray(e)?((0,u.privateSet)(t,y,e[0]),(0,u.privateSet)(t,b,e)):((0,u.privateSet)(t,y,e),(0,u.privateSet)(t,b,[e])),(0,u.privateSet)(t,"length",t[b].length)}function D(t,e,n,r){return!(0,u.shallowEqual)(t,e)||!(0,u.shallowEqual)(n,r)}function N(t){return t&&t.isPureReactComponent}function j(t,e,n){var r=t.instance,o=t.type,a=(0,u.displayNameOfNode)(t);if("object"!==i(o.childContextTypes))return console.warn(String(a)+".getChildContext(): childContextTypes must be defined in order to use getChildContext()."),{};var s=r.getChildContext();return Object.keys(s).forEach((function(t){if(!(t in o.childContextTypes))throw new Error(String(a)+'.getChildContext(): key "'+String(t)+'" is not defined in childContextTypes.')})),"function"==typeof n.checkPropTypes&&n.checkPropTypes(o.childContextTypes,s,"child context",e),s}function B(t,e){return(0,u.isCustomComponentElement)(t,e)&&t.type.prototype&&"function"==typeof t.type.prototype.getChildContext?(0,u.spyMethod)(t.type.prototype,"getChildContext"):null}function F(t,e,n,r,i){var o=e[_];if("parent"===t.options.legacyContextMode)if(i)(0,u.privateSet)(e,k,i.getLastReturnValue()),i.restore();else if("function"==typeof n.getChildContext){var a=j(r,[e[y]].concat(R(e,e[y])),o);(0,u.privateSet)(e,k,a)}else(0,u.privateSet)(e,k,null)}var H=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g(this,t),O(i);var a=(0,u.makeOptions)(i),s=(0,c.default)(a),l=P(s);if(n)(0,u.privateSet)(this,T,n),(0,u.privateSet)(this,x,null),(0,u.privateSet)(this,_,n[_]),L(this,e),(0,u.privateSet)(this,w,n[w]),(0,u.privateSet)(this,E,n[b]);else{if(!s.isValidElement(e))throw new TypeError("ShallowWrapper can only wrap valid elements");var h=l.getChildContext.calledByRenderer?B(e,s):null;(0,u.privateSet)(this,T,this),(0,u.privateSet)(this,x,e);var f=s.createRenderer((0,o.default)({mode:"shallow"},a));(0,u.privateSet)(this,_,f),this[_].render(e,a.context);var d=this[_].getNode();L(this,M(d)),(0,u.privateSet)(this,w,a);var p=d.instance;p&&!a.disableLifecycleMethods&&(l.componentDidUpdate.onSetState&&!p[S]&&((0,u.privateSet)(p,S,p.setState),p.setState=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r.setState.apply(r,v(null==e?[t]:[t,e]))}),"function"==typeof p.componentDidMount&&this[_].batchedUpdates((function(){p.componentDidMount()})),F(s,this,p,d,h))}}return r(t,[{key:"root",value:function(){function t(){return this[T]}return t}()},{key:"getNodeInternal",value:function(){function t(){if(1!==this.length)throw new Error("ShallowWrapper::getNode() can only be called when wrapping one node");return this[T]===this&&this.update(),this[y]}return t}()},{key:"getNodesInternal",value:function(){function t(){return this[T]===this&&1===this.length&&this.update(),this[b]}return t}()},{key:"getElement",value:function(){function t(){var t=this;return this.single("getElement",(function(e){return(0,c.default)(t[w]).nodeToElement(e)}))}return t}()},{key:"getElements",value:function(){function t(){return this.getNodesInternal().map((0,c.default)(this[w]).nodeToElement)}return t}()},{key:"getNode",value:function(){function t(){throw new Error("ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead")}return t}()},{key:"getNodes",value:function(){function t(){throw new Error("ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead")}return t}()},{key:"instance",value:function(){function t(){if(this[T]!==this)throw new Error("ShallowWrapper::instance() can only be called on the root");return this[_].getNode().instance}return t}()},{key:"update",value:function(){function t(){if(this[T]!==this)throw new Error("ShallowWrapper::update() can only be called on the root");if(1!==this.length)throw new Error("ShallowWrapper::update() can only be called when wrapping one node");return L(this,M(this[_].getNode())),this}return t}()},{key:"unmount",value:function(){function t(){return this[_].unmount(),this}return t}()},{key:"rerender",value:function(){function t(t,e){var n=this,r=(0,c.default)(this[w]);return this.single("rerender",(function(){(0,u.withSetStateAllowed)((function(){var i=n[_].getNode(),a=i.instance||{},s=a.state,l=a.props||n[x].props,c=a.context||n[w].context,h=e||c;e&&(n[w]=(0,o.default)({},n[w],{context:h})),n[_].batchedUpdates((function(){var e=P(r),f=!0,d=void 0,p=void 0;if(!n[w].disableLifecycleMethods&&a&&("function"==typeof a.shouldComponentUpdate&&(d=(0,u.spyMethod)(a,"shouldComponentUpdate")),e.getChildContext.calledByRenderer&&"function"==typeof a.getChildContext&&(p=(0,u.spyMethod)(a,"getChildContext"))),!d&&N(a)&&(f=D(l,t,s,a.state)),t&&(n[x]=(0,u.cloneElement)(r,n[x],t)),n[_].render(n[x],h),d&&(f=d.getLastReturnValue(),d.restore()),f&&!n[w].disableLifecycleMethods&&a)if(F(r,n,a,i,p),e.getSnapshotBeforeUpdate){var m=void 0;"function"==typeof a.getSnapshotBeforeUpdate&&(m=a.getSnapshotBeforeUpdate(l,s)),e.componentDidUpdate&&"function"==typeof a.componentDidUpdate&&(!s||(0,u.shallowEqual)(s,n.instance().state))&&a.componentDidUpdate(l,s,m)}else e.componentDidUpdate&&"function"==typeof a.componentDidUpdate&&(e.componentDidUpdate.prevContext?a.componentDidUpdate(l,s,c):(!s||(0,u.shallowEqual)(n.instance().state,s))&&a.componentDidUpdate(l,s));else(0,u.shallowEqual)(t,a.props)||(a.props=(Object.freeze||Object)((0,o.default)({},a.props,t)));n.update()}))}))})),this}return t}()},{key:"setProps",value:function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[T]!==this)throw new Error("ShallowWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!=typeof e)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");return this.rerender(t),e&&e(),this}return t}()},{key:"setState",value:function(){function t(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[T]!==this)throw new Error("ShallowWrapper::setState() can only be called on the root");if(null===this.instance()||"class"!==this[_].getNode().nodeType)throw new Error("ShallowWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.single("setState",(function(){(0,u.withSetStateAllowed)((function(){var r=(0,c.default)(e[w]),i=P(r),o=e[_].getNode(),a=o.instance,s=a.props,l=a.state,h=a.context,f="function"==typeof t?t.call(a,l,s):t,d=!i.setState.skipsComponentDidUpdateOnNullish||null!=f,p=void 0,m=void 0,v=!0;if(!e[w].disableLifecycleMethods&&a&&(i.componentDidUpdate&&i.componentDidUpdate.onSetState&&"function"==typeof a.shouldComponentUpdate&&(p=(0,u.spyMethod)(a,"shouldComponentUpdate")),i.getChildContext.calledByRenderer&&"function"==typeof a.getChildContext&&(m=(0,u.spyMethod)(a,"getChildContext"))),!p&&N(a)&&(v=D(s,a.props,l,f)),a[S]?a[S](f):a.setState(f),p&&(v=p.getLastReturnValue(),p.restore()),d&&v&&!e[w].disableLifecycleMethods&&(F(r,e,a,o,m),i.componentDidUpdate&&i.componentDidUpdate.onSetState))if(i.getSnapshotBeforeUpdate&&"function"==typeof a.getSnapshotBeforeUpdate){var g=a.getSnapshotBeforeUpdate(s,l);"function"==typeof a.componentDidUpdate&&a.componentDidUpdate(s,l,g)}else"function"==typeof a.componentDidUpdate&&(i.componentDidUpdate.prevContext?a.componentDidUpdate(s,l,h):a.componentDidUpdate(s,l));e.update(),n&&(r.invokeSetStateCallback?r.invokeSetStateCallback(a,n):n.call(a))}))})),this}return t}()},{key:"setContext",value:function(){function t(t){if(this[T]!==this)throw new Error("ShallowWrapper::setContext() can only be called on the root");if(!this[w].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this.rerender(null,t)}return t}()},{key:"contains",value:function(){function t(t){var e=(0,c.default)(this[w]);if(!(0,u.isReactElementAlike)(t,e))throw new Error("ShallowWrapper::contains() can only be called with ReactElement (or array of them), string or number as argument.");return C(this,Array.isArray(t)?function(n){return(0,u.containsChildrenSubArray)(u.nodeEqual,n,t.map((function(t){return e.elementToNode(t)})))}:function(n){return(0,u.nodeEqual)(e.elementToNode(t),n)}).length>0}return t}()},{key:"containsMatchingElement",value:function(){function t(t){var e=(0,c.default)(this[w]).elementToNode(t);return C(this,function(){function t(t){return(0,u.nodeMatches)(e,t,(function(t,e){return t<=e}))}return t}()).length>0}return t}()},{key:"containsAllMatchingElements",value:function(){function t(t){var e=this;if(!Array.isArray(t))throw new TypeError("nodes should be an Array");return t.every((function(t){return e.containsMatchingElement(t)}))}return t}()},{key:"containsAnyMatchingElements",value:function(){function t(t){var e=this;return Array.isArray(t)&&t.some((function(t){return e.containsMatchingElement(t)}))}return t}()},{key:"equals",value:function(){function t(t){var e=this;return this.single("equals",(function(){return(0,u.nodeEqual)(e.getNodeInternal(),t)}))}return t}()},{key:"matchesElement",value:function(){function t(t){var e=this;return this.single("matchesElement",(function(){var n=(0,c.default)(e[w]).elementToNode(t);return(0,u.nodeMatches)(n,e.getNodeInternal(),(function(t,e){return t<=e}))}))}return t}()},{key:"find",value:function(){function t(t){return this.wrap((0,d.reduceTreesBySelector)(t,this.getNodesInternal()))}return t}()},{key:"is",value:function(){function t(t){var e=(0,d.buildPredicate)(t);return this.single("is",(function(t){return e(t)}))}return t}()},{key:"isEmptyRender",value:function(){function t(){return this.getNodesInternal().every((function(t){return(0,u.isEmptyValue)(t)}))}return t}()},{key:"filterWhere",value:function(){function t(t){var e=this;return A(this,(function(n){return t(e.wrap(n))}))}return t}()},{key:"filter",value:function(){function t(t){return A(this,(0,d.buildPredicate)(t))}return t}()},{key:"not",value:function(){function t(t){var e=(0,d.buildPredicate)(t);return A(this,(function(t){return!e(t)}))}return t}()},{key:"text",value:function(){function t(){return this.single("text",f.getTextFromNode)}return t}()},{key:"html",value:function(){function t(){var t=this;return this.single("html",(function(e){if(null===t.type())return null;var n=(0,c.default)(t[w]);return n.createRenderer((0,o.default)({},t[w],{mode:"string"})).render(n.nodeToElement(e))}))}return t}()},{key:"render",value:function(){function t(){return null===this.type()?(0,s.default)():s.default.load("")(this.html())}return t}()},{key:"simulate",value:function(){function t(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.single("simulate",(function(n){var i;return(i=e[_]).simulateEvent.apply(i,[n,t].concat(r)),e[T].update(),e}))}return t}()},{key:"simulateError",value:function(){function t(t){var e=this;return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new TypeError("ShallowWrapper::simulateError() can only be called on custom components");var r=e[_];if("function"!=typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=I(e),o=[n].concat(R(e,n));return r.simulateError(o,i,t),e}))}return t}()},{key:"props",value:function(){function t(){return this.single("props",f.propsOfNode)}return t}()},{key:"state",value:function(){function t(t){var e=this;if(this[T]!==this)throw new Error("ShallowWrapper::state() can only be called on the root");if(null===this.instance()||"class"!==this[_].getNode().nodeType)throw new Error("ShallowWrapper::state() can only be called on class components");var n=this.single("state",(function(){return e.instance().state}));if(typeof t<"u"){if(null==n)throw new TypeError('ShallowWrapper::state("'+String(t)+'") requires that `state` not be `null` or `undefined`');return n[t]}return n}return t}()},{key:"context",value:function(){function t(t){var e=this;if(this[T]!==this)throw new Error("ShallowWrapper::context() can only be called on the root");if(!this[w].context)throw new Error("ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option");if(null===this.instance())throw new Error("ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance");var n=this.single("context",(function(){return e.instance().context}));return t?n[t]:n}return t}()},{key:"children",value:function(){function t(t){var e=this.flatMap((function(t){return(0,f.childrenOfNode)(t.getNodeInternal())}));return t?e.filter(t):e}return t}()},{key:"childAt",value:function(){function t(t){var e=this;return this.single("childAt",(function(){return e.children().at(t)}))}return t}()},{key:"parents",value:function(){function t(t){var e=this;return this.single("parents",(function(n){var r=e.wrap(R(e,n));return t?r.filter(t):r}))}return t}()},{key:"parent",value:function(){function t(){return this.flatMap((function(t){return[t.parents().get(0)]}))}return t}()},{key:"closest",value:function(){function t(t){if(this.is(t))return this;var e=this.parents().filter(t);return e.length>0?e.first():this.findWhere((function(){return!1}))}return t}()},{key:"shallow",value:function(){function t(t){var e=this;return this.single("shallow",(function(n){return e.wrap((0,c.default)(e[w]).nodeToElement(n),null,t)}))}return t}()},{key:"prop",value:function(){function t(t){return this.props()[t]}return t}()},{key:"renderProp",value:function(){function t(t){var e=this,n=(0,c.default)(this[w]);if("function"!=typeof n.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(r){if("host"===r.nodeType)throw new TypeError("ShallowWrapper::renderProp() can only be called on custom components");if("string"!=typeof t)throw new TypeError("`propName` must be a string");var o=e.props();if(!(0,l.default)(o,t))throw new Error("no prop called \u201c"+String(t)+"\u201c found");var a=o[t];if("function"!=typeof a)throw new TypeError("expected prop \u201c"+String(t)+"\u201c to contain a function, but it holds \u201c"+(typeof prop>"u"?"undefined":i(prop))+"\u201c");return function(){var t=a.apply(void 0,arguments),r=n.wrap(t);return e.wrap(r,null,e[w])}}))}return t}()},{key:"key",value:function(){function t(){return this.single("key",(function(t){return void 0===t.key?null:t.key}))}return t}()},{key:"type",value:function(){function t(){return this.single("type",(function(t){return(0,u.typeOfNode)(t)}))}return t}()},{key:"name",value:function(){function t(){var t=(0,c.default)(this[w]);return this.single("name",(function(e){return t.displayNameOfNode?t.displayNameOfNode(e):(0,u.displayNameOfNode)(e)}))}return t}()},{key:"hasClass",value:function(){function t(t){return t&&-1!==t.indexOf(".")&&console.warn("It looks like you're calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(e){return(0,f.hasClassName)(e,t)}))}return t}()},{key:"forEach",value:function(){function t(t){var e=this;return this.getNodesInternal().forEach((function(n,r){return t.call(e,e.wrap(n),r)})),this}return t}()},{key:"map",value:function(){function t(t){var e=this;return this.getNodesInternal().map((function(n,r){return t.call(e,e.wrap(n),r)}))}return t}()},{key:"reduce",value:function(){function t(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return t.call(e,n,e.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return t.call(e,1===i?e.wrap(n):n,e.wrap(r),i)}))}return t}()},{key:"reduceRight",value:function(){function t(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return t.call(e,n,e.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return t.call(e,1===i?e.wrap(n):n,e.wrap(r),i)}))}return t}()},{key:"slice",value:function(){function t(t,e){return this.wrap(this.getNodesInternal().slice(t,e))}return t}()},{key:"some",value:function(){function t(t){if(this[T]===this)throw new Error("ShallowWrapper::some() can not be called on the root");var e=(0,d.buildPredicate)(t);return this.getNodesInternal().some(e)}return t}()},{key:"someWhere",value:function(){function t(t){var e=this;return this.getNodesInternal().some((function(n,r){return t.call(e,e.wrap(n),r)}))}return t}()},{key:"every",value:function(){function t(t){var e=(0,d.buildPredicate)(t);return this.getNodesInternal().every(e)}return t}()},{key:"everyWhere",value:function(){function t(t){var e=this;return this.getNodesInternal().every((function(n,r){return t.call(e,e.wrap(n),r)}))}return t}()},{key:"flatMap",value:function(){function t(t){var e=this,n=this.getNodesInternal().map((function(n,r){return t.call(e,e.wrap(n),r)})),r=(0,a.default)(n,1);return this.wrap(r.filter(Boolean))}return t}()},{key:"findWhere",value:function(){function t(t){var e=this;return C(this,(function(n){var r=e.wrap(n);return r.length>0&&t(r)}))}return t}()},{key:"get",value:function(){function t(t){return this.getElements()[t]}return t}()},{key:"at",value:function(){function t(t){var e=this.getNodesInternal();return t<e.length?this.wrap(e[t]):this.wrap([])}return t}()},{key:"first",value:function(){function t(){return this.at(0)}return t}()},{key:"last",value:function(){function t(){return this.at(this.length-1)}return t}()},{key:"isEmpty",value:function(){function t(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return t}()},{key:"exists",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(t).exists():this.length>0}return t}()},{key:"single",value:function(){function t(t,e){var n="string"==typeof t?t:"unknown",r="function"==typeof e?e:t;if(1!==this.length)throw new Error("Method \u201c"+n+"\u201d is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}return t}()},{key:"wrap",value:function(){function e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[T];if(e instanceof t)return e;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(t,[null].concat([e,n],i)))}return e}()},{key:"debug",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,h.debugNodes)(this.getNodesInternal(),t)}return t}()},{key:"tap",value:function(){function t(t){return t(this),this}return t}()},{key:"dive",value:function(){function t(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,c.default)(this[w]),r="dive";return this.single(r,(function(i){if(i&&"host"===i.nodeType)throw new TypeError("ShallowWrapper::"+r+"() can not be called on Host Components");var a=(0,c.default)(t[w]).nodeToElement(i);if(!(0,u.isCustomComponentElement)(a,n))throw new TypeError("ShallowWrapper::"+r+"() can only be called on components");return t.wrap(a,null,(0,o.default)({},t[w],e,{context:e.context||(0,o.default)({},t[w].context,t[T][k])}))}))}return t}()},{key:"hostNodes",value:function(){function t(){return this.filterWhere((function(t){return"string"==typeof t.type()}))}return t}()}]),t}();function z(t,e){Object.defineProperty(H.prototype,t,{get:function(){function n(){throw new Error("\n        Attempted to access ShallowWrapper::"+String(t)+", which was previously a private property on\n        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.\n        "+String(e)+"\n      ")}return n}(),enumerable:!1,configurable:!1})}u.ITERATOR_SYMBOL&&Object.defineProperty(H.prototype,u.ITERATOR_SYMBOL,{configurable:!0,value:function(){function t(){var t,e=this.getNodesInternal()[u.ITERATOR_SYMBOL](),n=(0,c.default)(this[w]);return m(t={},u.ITERATOR_SYMBOL,(function(){return this})),m(t,"next",function(){function t(){var t=e.next();return t.done?{done:!0}:{done:!1,value:n.nodeToElement(t.value)}}return t}()),t}return t}()}),z("node","Consider using the getElement() method instead."),z("nodes","Consider using the getElements() method instead."),z("renderer",""),z("options",""),z("complexSelector",""),e.default=H},function(t,e,n){t.exports={default:n(517),__esModule:!0}},function(t,e,n){n(76),n(61),t.exports=n(518)},function(t,e,n){var r=n(111),i=n(21)("iterator"),o=n(51);t.exports=n(12).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(62)),i=n(104),o=n(10);function a(t){return t&&t.__esModule?t:{default:t}}var s={},l=function(t,e){return s[t]?r.default.resolve(s[t]):e(t)},u=function(t){if(0===t.length)return null;var e=(0,i.tsvParseRows)(t);return(0,o.parseChromsizesRows)(e)},c=function(t){return fetch(t,{credentials:"same-origin"}).then((function(t){return t.text()})).then((function(t){return u(t)})).catch((function(t){console.error("Could not retrieve or parse chrom info.",t)}))},h=function(t,e,n){return e(t,n).then((function(e){return s[t]=e,s[t]}))},f={get:function(t){return h(t,l,c)}};e.default=f},function(t,e,n){n(164),n(61),n(76),n(521),n(525),n(526),t.exports=n(12).Promise},function(t,e,n){var r,i,o,a,s=n(75),l=n(23),u=n(49),c=n(111),h=n(16),f=n(33),d=n(92),p=n(218),m=n(129),v=n(318),g=n(319).set,y=n(523)(),b=n(219),_=n(320),x=n(524),T=n(321),w="Promise",S=l.TypeError,E=l.process,k=E&&E.versions,C=k&&k.v8||"",A=l[w],O="process"==c(E),P=function(){},M=i=b.f,I=!!function(){try{var t=A.resolve(1),e=(t.constructor={})[n(21)("species")]=function(t){t(P,P)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==C.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch{}}(),R=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(i||(2==t._h&&j(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===e.promise?u(S("Promise-chain cycle")):(o=R(n))?o.call(n,l,u):l(n)):u(r)}catch(h){c&&!a&&c.exit(),u(h)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&D(t)}))}},D=function(t){g.call(l,(function(){var e,n,r,i=t._v,o=N(t);if(o&&(e=_((function(){O?E.emit("unhandledRejection",i,t):(n=l.onunhandledrejection)?n({promise:t,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=O||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){g.call(l,(function(){var e;O?E.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},B=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},F=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=R(t))?y((function(){var r={_w:n,_d:!1};try{e.call(t,u(F,r,1),u(B,r,1))}catch(i){B.call(r,i)}})):(n._v=t,n._s=1,L(n,!1))}catch(r){B.call({_w:n,_d:!1},r)}}};I||(A=function(t){p(this,A,w,"_h"),d(t),r.call(this);try{t(u(F,this,1),u(B,this,1))}catch(e){B.call(this,e)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(220)(A.prototype,{then:function(t,e){var n=M(v(this,A));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(F,t,1),this.reject=u(B,t,1)},b.f=M=function(t){return t===A||t===a?new o(t):i(t)}),h(h.G+h.W+h.F*!I,{Promise:A}),n(77)(A,w),n(322)(w),a=n(12)[w],h(h.S+h.F*!I,w,{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!I),w,{resolve:function(t){return T(s&&this===a?A:this,t)}}),h(h.S+h.F*!(I&&n(167)((function(t){A.all(t).catch(P)}))),w,{all:function(t){var e=this,n=M(e),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;m(t,!1,(function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then((function(t){l||(l=!0,n[s]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=M(e),r=n.reject,i=_((function(){m(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(23),i=n(319).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(74)(a);t.exports=function(){var t,e,n,u=function(){var r,i;for(l&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=void 0,o}}e=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){i.call(r,u)};else{var h=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(23).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(16),i=n(12),o=n(23),a=n(318),s=n(321);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){var r=n(16),i=n(219),o=n(320);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=function(t,e){if(!e||!e.cumPositions||!e.cumPositions.length)return null;var n=(0,r.chromInfoBisector)(e.cumPositions,t),i=e.cumPositions[e.cumPositions.length-1].chr,o=e.chromLengths[i];n-=n>0&&1;var a=Math.floor(t-e.cumPositions[n].pos),s=0;return a<0&&(s=a-1,a=1),n===e.cumPositions.length-1&&a>o&&(s=a-o,a=o),[e.cumPositions[n].chr,a,s,n]};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return function(n){return n%t*e+Math.floor(n/t)}};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t},i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;return t.map((function(t,r){return t+e[n(r)]}))};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(221));function i(t){return t&&t.__esModule?t:{default:t}}var o="http://www.w3.org/2000/svg",a=function(t,e){if(t.namespaceURI===o){if(!(0,r.default)(t,e)){var n=t.getAttribute("class")||"";t.setAttribute("class",String(n)+" "+String(e))}}else t.classList?t.classList.add(e):(0,r.default)(t,e)||(t.className+=" "+String(e))};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(62));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t,e,n){var i=document.createElement("canvas");return new r.default((function(r,o){var a=new window.Image;a.onload=function(){i.width=e||a.width,i.height=n||a.height,i.getContext("2d").drawImage(a,0,0),r(i)},a.onerror=function(){o(new Error("Could not convert base64 to canvas"))},a.src="data:image/png;base64,"+String(t)}))};e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=(0,n(8).bisector)((function(t){return t.pos})).left;e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return n.chrPositions[t].pos+e};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(28),i=n(8),o=n(9),a=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.map((function(e,n){return n*(255/(t.length-1))})),a=(0,r.scaleLinear)().domain(n).range(t),s=e?255:254,l=(0,i.range)(s,-1,-1).map(a).map((function(t){var e=(0,o.rgb)(t);return[e.r,e.g,e.b,255*e.opacity]}));return l.length<256&&l.push([255,255,255,0]),l};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=o(n(324));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){var e=(0,r.color)(t);return i.default.PIXI.utils.rgb2hex([e.r/255,e.g/255,e.b/255])};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=function(t){if("transparent"===t)return[255,255,255,0];var e=(0,r.color)(t);return[e.r,e.g,e.b,255]};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=e.debounce=function t(e,n,r){var i=void 0,o=function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var s=function(){i=null,r||e.apply(void 0,o)},l=r&&!i;clearTimeout(i),i=setTimeout(s,n),l&&e.apply(void 0,o)};return t.cancel=function(){clearTimeout(i),i=null},o};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return(t+Math.pow(16,6)).toString(16).substr(-6)};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e={};return t.forEach((function(t){e[t[0]]=t[1]})),e};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push([n,t[n]]);return e};e.default=r},function(t,e,n){function r(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){function r(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){function r(t,e){var n="string"==typeof e?new Blob([e],{type:"application/octet-stream"}):e;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,t);else{var r=window.document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}}Object.defineProperty(e,"__esModule",{value:!0}),e.download=r,e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(34)),i=n(11);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){var e=["top","bottom","gallery"],n=["left","right","gallery"];return t.center=t.center||[],t.left=t.left||[],t.right=t.right||[],t.top=t.top||[],t.bottom=t.bottom||[],t.whole=t.whole||[],t.gallery=t.gallery||[],e.map((function(e){return t[e]})).forEach((function(t){return t.forEach((function(t){var e=i.TRACKS_INFO_BY_TYPE[t.type],n=e&&e.defaultOptions||{},o=t.options?(0,r.default)({},n,t.options):n;void 0!==o.minHeight&&void 0===t.height&&(t.height=o.minHeight),void 0===t.height&&(t.height=e&&e.defaultHeight||i.MIN_HORIZONTAL_HEIGHT)}))})),n.map((function(e){return t[e]})).forEach((function(t){return t.forEach((function(t){var e=i.TRACKS_INFO_BY_TYPE[t.type],n=e&&e.defaultOptions||{},o=t.options?(0,r.default)({},n,t.options):n;void 0!==o.minWidth&&void 0===t.width&&(t.width=o.minWidth),void 0===t.width&&(t.width=e&&e.defaultWidth||i.MIN_VERTICAL_WIDTH)}))})),t};e.default=a},function(t,e,n){n(546),n(164),n(549),n(550),t.exports=n(12).Symbol},function(t,e,n){var r=n(23),i=n(47),o=n(36),a=n(16),s=n(161),l=n(226).KEY,u=n(50),c=n(106),h=n(77),f=n(91),d=n(21),p=n(168),m=n(227),v=n(547),g=n(328),y=n(39),b=n(33),_=n(48),x=n(127),T=n(66),w=n(110),S=n(548),E=n(228),k=n(32),C=n(60),A=E.f,O=k.f,P=S.f,M=r.Symbol,I=r.JSON,R=I&&I.stringify,L="prototype",D=d("_hidden"),N=d("toPrimitive"),j={}.propertyIsEnumerable,B=c("symbol-registry"),F=c("symbols"),H=c("op-symbols"),z=Object[L],U="function"==typeof M,V=r.QObject,G=!V||!V[L]||!V[L].findChild,X=o&&u((function(){return 7!=w(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=A(z,e);r&&delete z[e],O(t,e,n),r&&t!==z&&O(z,e,r)}:O,Y=function(t){var e=F[t]=w(M[L]);return e._k=t,e},W=U&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},q=function(t,e,n){return t===z&&q(H,e,n),y(t),e=x(e,!0),y(n),i(F,e)?(n.enumerable?(i(t,D)&&t[D][e]&&(t[D][e]=!1),n=w(n,{enumerable:T(0,!1)})):(i(t,D)||O(t,D,T(1,{})),t[D][e]=!0),X(t,e,n)):O(t,e,n)},K=function(t,e){y(t);for(var n,r=v(e=_(e)),i=0,o=r.length;o>i;)q(t,n=r[i++],e[n]);return t},$=function(t,e){return void 0===e?w(t):K(w(t),e)},Z=function(t){var e=j.call(this,t=x(t,!0));return!(this===z&&i(F,t)&&!i(H,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,D)&&this[D][t])||e)},Q=function(t,e){if(t=_(t),e=x(e,!0),t!==z||!i(F,e)||i(H,e)){var n=A(t,e);return n&&i(F,e)&&!(i(t,D)&&t[D][e])&&(n.enumerable=!0),n}},J=function(t){for(var e,n=P(_(t)),r=[],o=0;n.length>o;)!i(F,e=n[o++])&&e!=D&&e!=l&&r.push(e);return r},tt=function(t){for(var e,n=t===z,r=P(n?H:_(t)),o=[],a=0;r.length>a;)i(F,e=r[a++])&&(!n||i(z,e))&&o.push(F[e]);return o};U||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===z&&e.call(H,n),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),X(this,t,T(1,n))};return o&&G&&X(z,t,{configurable:!0,set:e}),Y(t)},s(M[L],"toString",(function(){return this._k})),E.f=Q,k.f=q,n(329).f=S.f=J,n(93).f=Z,n(130).f=tt,o&&!n(75)&&s(z,"propertyIsEnumerable",Z,!0),p.f=function(t){return Y(d(t))}),a(a.G+a.W+a.F*!U,{Symbol:M});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=C(d.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=M(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:$,defineProperty:q,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:tt}),I&&a(a.S+a.F*(!U||u((function(){var t=M();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!W(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,R.apply(I,r)}}),M[L][N]||n(43)(M[L],N,M[L].valueOf),h(M,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){var r=n(60),i=n(130),o=n(93);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){var r=n(48),i=n(329).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch{return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){n(227)("asyncIterator")},function(t,e,n){n(227)("observable")},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DATATYPE_TO_TRACK_TYPE=void 0;var r=n(11),i=e.DATATYPE_TO_TRACK_TYPE=function(t){var e={},n=function(e){return!!(e.orientation===t||"1d-vertical"===t&&"1d-horizontal"===e.orientation&&e.rotatable)};return r.TRACKS_INFO.filter(n).forEach((function(t){var n=t.datatype;Array.isArray(t.datatype)||(n=[n]),n.forEach((function(n){n in e||(e[n]=[]),e[n].push(t)}))})),e.none=[],e};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=e.HEATED_OBJECT_MAP=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]];e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.IS_TRACK_RANGE_SELECTABLE=void 0;var r=n(10),i=e.IS_TRACK_RANGE_SELECTABLE=function t(e){switch(e.type){case"heatmap":case"horizontal-1d-heatmap":case"horizontal-bar":case"horizontal-line":case"horizontal-point":case"vertical-1d-heatmap":case"vertical-bar":case"vertical-line":case"vertical-point":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":case"horizontal-multivec":return!0;case"combined":return e.contents.map((function(e){return t(e)})).reduce(r.or,!1);default:return!1}};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.OPTIONS_INFO=void 0;var r=c(n(19)),i=c(n(37)),o=c(n(17)),a=c(n(34)),s=c(n(44)),l=n(20),u=c(n(557));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){if(!t.header)return[];for(var e=t.header.split("\t"),n=[],r=0;r<e.length;r++)n.push({name:e[r],value:r+1});return n},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t.reduce((function(t,r){return t[r]={name:""+r*n+String(e),value:r},t}),{})},d={yes:{name:"Yes",value:!0},no:{name:"No",value:!1}},p={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},m={use_stroke:{name:"Glyph color",value:"[glyph-color]"}},v=f([1,2,3,5,8,13,21]),g=(0,s.default)(v,{none:{name:"none",value:"none"}}),y=f([0,2,4,8,16,32,64,128,256]),b=f([0,.2,.4,.6,.8,1],"%",100),_=f([.2,.4,.6,.8,1],"%",100),x=e.OPTIONS_INFO={axisLabelFormatting:{name:"Axis Label Formatting",inlineOptions:{normal:{name:"normal",value:"normal"},scientific:{name:"scientific",value:"scientific"}}},flipDiagonal:{name:"Flip Across Diagonal",inlineOptions:{none:{name:"No",value:"none"},yes:{name:"Yes",value:"yes"},copy:{name:"Copy",value:"copy"}}},heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},extent:{name:"Extent",inlineOptions:{full:{name:"Full",value:"full"},upperRight:{name:"Upper Right",value:"upper-right"},lowerLeft:{name:"Lower Left",value:"lower-left"}}},labelLeftMargin:{name:"Label Left Margin",inlineOptions:y},labelRightMargin:{name:"Label Right Margin",inlineOptions:y},labelTopMargin:{name:"Label Top Margin",inlineOptions:y},labelBottomMargin:{name:"Label Bottom Margin",inlineOptions:y},labelShowResolution:{name:"Label Show Resolution",inlineOptions:d},labelShowAssembly:{name:"Label Show Assembly",inlineOptions:d},lineStrokeWidth:{name:"Stroke Width",inlineOptions:v},strokeWidth:{name:"Stroke Width",inlineOptions:v},trackBorderWidth:{name:"Track Border Width",inlineOptions:v},separatePlusMinusStrands:{name:"Separate +/- strands",inlineOptions:d},sortLargestOnTop:{name:"Sort Largest On Top",inlineOptions:d},showTexts:{name:"Show texts",inlineOptions:d},staggered:{name:"Staggered",inlineOptions:d},minSquareSize:{name:"Minimum size",inlineOptions:g},pointSize:{name:"Point Size",inlineOptions:v},pointColor:{name:"Point Color",inlineOptions:p},trackBorderColor:{name:"Track Border Color",inlineOptions:p},backgroundColor:{name:"Background Color",inlineOptions:{white:{name:"White",value:"white"},lightGrey:{name:"Light Grey",value:"#eeeeee"},grey:{name:"Grey",value:"#cccccc"},black:{name:"Black",value:"black"},transparent:{name:"Transparent",value:"transparent"}}},colorScale:{name:"Color Scale",inlineOptions:{epilogos:{name:"Epilogos",values:["#FF0000","#FF4500","#32CD32","#008000","#006400","#C2E105","#FFFF00","#66CDAA","#8A91D0","#CD5C5C","#E9967A","#BDB76B","#808080","#C0C0C0","#FFFFFF"]},category10:{name:"D3 Category10",values:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]}}},minusStrandColor:{name:"- Strand Color",inlineOptions:p},plusStrandColor:{name:"+ Strand Color",inlineOptions:p},lineStrokeColor:{name:"Stroke color",inlineOptions:p},projectionStrokeColor:{name:"Stroke color",inlineOptions:p},projectionFillColor:{name:"Fill color",inlineOptions:p},stroke:{name:"Stroke Color",inlineOptions:p},strokeColor:{name:"Stroke color",inlineOptions:p},fill:{name:"Fill Color",inlineOptions:p},color:{name:"Color",inlineOptions:p},fontColor:{name:"Font color",inlineOptions:p},fillColor:{name:"Fill color",inlineOptions:p},barFillColor:{name:"Fill color",inlineOptions:p},barFillColorTop:{name:"Top Fill color",inlineOptions:p},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:p},barOpacity:{name:"Bar opacity",inlineOptions:b},zeroLineVisible:{name:"Zero line visible",inlineOptions:d},zeroLineColor:{name:"Zero line color",inlineOptions:p},zeroLineOpacity:{name:"Zero line opacity",inlineOptions:_},fillOpacity:{name:"Fill Opacity",inlineOptions:b},strokeOpacity:{name:"Stroke Opacity",inlineOptions:b},strokePos:{name:"Stroke Position",inlineOptions:{aroundInner:{name:"Around Inner",value:"around"},aroundCenter:{name:"Around Center",value:null},hidden:{name:"Hidden",value:"hidden"},top:{name:"Top",value:"top"},right:{name:"Right",value:"right"},bottom:{name:"Bottom",value:"bottom"},left:{name:"Left",value:"left"}}},barBorder:{name:"Bar border",inlineOptions:d},scaledHeight:{name:"Scaled height",inlineOptions:d},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:p},rectangleDomainFillColor:{name:"Fill color",inlineOptions:p},rectangleDomainFillOpacity:{name:"Fill opacity",inlineOptions:b},rectangleDomainOpacity:{name:"Opacity",inlineOptions:b},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},showMousePosition:{name:"Show Mouse Position",inlineOptions:d},showTooltip:{name:"Show Tooltip",inlineOptions:d},fontSize:{name:"Font Size",inlineOptions:f([8,9,10,11,12,14,16,18,24],"px")},tickPositions:{name:"Tick Positions",inlineOptions:{even:{name:"Even",value:"even"},ends:{name:"Ends",value:"ends"}}},tickFormat:{name:"Tick Format",inlineOptions:{plain:{name:"Plain",value:"plain"},si:{name:"SI",value:"si"}}},colorEncoding:{name:"Color Encode Annotations",inlineOptions:{none:{name:"None",value:null},itemRgb:{name:"itemRgb",value:"itemRgb"}},generateOptions:h},fontIsAligned:{name:"Left-Align Font",inlineOptions:d},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},axisMargin:{name:"Axis Margin",inlineOptions:f([0,10,20,30,40,50,100,200,400],"px")},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarBackgroundColor:{name:"Colorbar Background Color",inlineOptions:p},colorbarBackgroundOpacity:{name:"Colorbar Background Opacity",inlineOptions:b},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:(0,a.default)({},p,m)},labelPosition:{name:"Label Position",inlineOptions:{ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:b},geneAnnotationHeight:{name:"Gene Annotation Height",inlineOptions:{8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16}}},annotationHeight:{name:"Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},scaled:{name:"scaled",value:"scaled"}}},maxAnnotationHeight:{name:"Max Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},none:{name:"none",value:null}}},annotationStyle:{name:"Annotation Style",inlineOptions:{box:{name:"Box",value:"box"},segment:{name:"Segment",value:"segment"}}},geneLabelPosition:{name:"Gene Label Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},geneStrandSpacing:{name:"Gene Strand Spacing",inlineOptions:{2:{name:"2px",value:2},4:{name:"4px",value:4},8:{name:"8px",value:8}}},labelBackgroundColor:{name:"Label Background Color",inlineOptions:p},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:b},viewResolution:{name:"View Resolution",inlineOptions:{high:{name:"High",value:384},medium:{name:"Medium",value:1024},low:{name:"Low",value:2048}}},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},magma:{name:"magma",value:["rgba(0,0,3,1)","rgba(0,0,4,1)","rgba(0,0,6,1)","rgba(1,0,7,1)","rgba(1,1,9,1)","rgba(1,1,11,1)","rgba(2,2,13,1)","rgba(2,2,15,1)","rgba(3,3,17,1)","rgba(4,3,19,1)","rgba(4,4,21,1)","rgba(5,4,23,1)","rgba(6,5,25,1)","rgba(7,5,27,1)","rgba(8,6,29,1)","rgba(9,7,32,1)","rgba(10,7,34,1)","rgba(11,8,36,1)","rgba(12,9,38,1)","rgba(13,10,40,1)","rgba(14,10,42,1)","rgba(15,11,45,1)","rgba(16,12,47,1)","rgba(17,12,49,1)","rgba(19,13,51,1)","rgba(20,13,54,1)","rgba(21,14,56,1)","rgba(22,14,58,1)","rgba(23,15,61,1)","rgba(25,15,63,1)","rgba(26,16,66,1)","rgba(27,16,68,1)","rgba(28,16,70,1)","rgba(30,17,73,1)","rgba(31,17,75,1)","rgba(33,17,78,1)","rgba(34,17,80,1)","rgba(36,17,83,1)","rgba(37,17,85,1)","rgba(39,17,87,1)","rgba(40,17,90,1)","rgba(42,17,92,1)","rgba(43,17,94,1)","rgba(45,17,97,1)","rgba(47,16,99,1)","rgba(49,16,101,1)","rgba(50,16,103,1)","rgba(52,16,105,1)","rgba(54,15,107,1)","rgba(55,15,108,1)","rgba(57,15,110,1)","rgba(59,15,112,1)","rgba(61,15,113,1)","rgba(62,15,114,1)","rgba(64,15,116,1)","rgba(66,15,117,1)","rgba(67,15,118,1)","rgba(69,15,119,1)","rgba(71,15,120,1)","rgba(72,16,120,1)","rgba(74,16,121,1)","rgba(76,16,122,1)","rgba(77,17,123,1)","rgba(79,17,123,1)","rgba(81,18,124,1)","rgba(82,18,124,1)","rgba(84,19,125,1)","rgba(85,20,125,1)","rgba(87,20,126,1)","rgba(88,21,126,1)","rgba(90,21,126,1)","rgba(92,22,127,1)","rgba(93,23,127,1)","rgba(95,23,127,1)","rgba(96,24,128,1)","rgba(98,25,128,1)","rgba(99,25,128,1)","rgba(101,26,128,1)","rgba(103,26,128,1)","rgba(104,27,129,1)","rgba(106,28,129,1)","rgba(107,28,129,1)","rgba(109,29,129,1)","rgba(110,30,129,1)","rgba(112,30,129,1)","rgba(113,31,129,1)","rgba(115,32,129,1)","rgba(117,32,129,1)","rgba(118,33,129,1)","rgba(120,33,129,1)","rgba(121,34,130,1)","rgba(123,35,130,1)","rgba(124,35,130,1)","rgba(126,36,130,1)","rgba(128,36,130,1)","rgba(129,37,129,1)","rgba(131,37,129,1)","rgba(132,38,129,1)","rgba(134,39,129,1)","rgba(136,39,129,1)","rgba(137,40,129,1)","rgba(139,40,129,1)","rgba(140,41,129,1)","rgba(142,41,129,1)","rgba(144,42,129,1)","rgba(145,42,129,1)","rgba(147,43,128,1)","rgba(148,43,128,1)","rgba(150,44,128,1)","rgba(152,44,128,1)","rgba(153,45,128,1)","rgba(155,46,127,1)","rgba(157,46,127,1)","rgba(158,47,127,1)","rgba(160,47,127,1)","rgba(161,48,126,1)","rgba(163,48,126,1)","rgba(165,49,126,1)","rgba(166,49,125,1)","rgba(168,50,125,1)","rgba(170,50,125,1)","rgba(171,51,124,1)","rgba(173,51,124,1)","rgba(175,52,123,1)","rgba(176,52,123,1)","rgba(178,53,123,1)","rgba(180,53,122,1)","rgba(181,54,122,1)","rgba(183,55,121,1)","rgba(185,55,121,1)","rgba(186,56,120,1)","rgba(188,56,120,1)","rgba(189,57,119,1)","rgba(191,57,118,1)","rgba(193,58,118,1)","rgba(194,59,117,1)","rgba(196,59,117,1)","rgba(198,60,116,1)","rgba(199,61,115,1)","rgba(201,61,115,1)","rgba(202,62,114,1)","rgba(204,63,113,1)","rgba(206,63,113,1)","rgba(207,64,112,1)","rgba(209,65,111,1)","rgba(210,66,110,1)","rgba(212,67,110,1)","rgba(213,67,109,1)","rgba(215,68,108,1)","rgba(216,69,107,1)","rgba(218,70,107,1)","rgba(219,71,106,1)","rgba(221,72,105,1)","rgba(222,73,104,1)","rgba(223,74,103,1)","rgba(225,75,103,1)","rgba(226,76,102,1)","rgba(227,78,101,1)","rgba(229,79,100,1)","rgba(230,80,100,1)","rgba(231,81,99,1)","rgba(232,83,98,1)","rgba(233,84,97,1)","rgba(234,85,97,1)","rgba(236,87,96,1)","rgba(237,88,95,1)","rgba(238,90,95,1)","rgba(239,91,94,1)","rgba(239,93,94,1)","rgba(240,95,93,1)","rgba(241,96,93,1)","rgba(242,98,93,1)","rgba(243,100,92,1)","rgba(243,101,92,1)","rgba(244,103,92,1)","rgba(245,105,92,1)","rgba(246,107,92,1)","rgba(246,108,92,1)","rgba(247,110,92,1)","rgba(247,112,92,1)","rgba(248,114,92,1)","rgba(248,116,92,1)","rgba(249,118,92,1)","rgba(249,120,92,1)","rgba(250,121,93,1)","rgba(250,123,93,1)","rgba(250,125,94,1)","rgba(251,127,94,1)","rgba(251,129,95,1)","rgba(251,131,95,1)","rgba(252,133,96,1)","rgba(252,135,97,1)","rgba(252,137,97,1)","rgba(252,139,98,1)","rgba(253,140,99,1)","rgba(253,142,100,1)","rgba(253,144,101,1)","rgba(253,146,102,1)","rgba(253,148,103,1)","rgba(254,150,104,1)","rgba(254,152,105,1)","rgba(254,154,106,1)","rgba(254,156,107,1)","rgba(254,157,108,1)","rgba(254,159,109,1)","rgba(254,161,110,1)","rgba(254,163,111,1)","rgba(254,165,112,1)","rgba(255,167,114,1)","rgba(255,169,115,1)","rgba(255,171,116,1)","rgba(255,172,118,1)","rgba(255,174,119,1)","rgba(255,176,120,1)","rgba(255,178,122,1)","rgba(255,180,123,1)","rgba(255,182,124,1)","rgba(255,184,126,1)","rgba(255,185,127,1)","rgba(255,187,129,1)","rgba(255,189,130,1)","rgba(255,191,132,1)","rgba(255,193,133,1)","rgba(255,195,135,1)","rgba(255,197,136,1)","rgba(255,198,138,1)","rgba(255,200,140,1)","rgba(255,202,141,1)","rgba(255,204,143,1)","rgba(254,206,144,1)","rgba(254,208,146,1)","rgba(254,209,148,1)","rgba(254,211,149,1)","rgba(254,213,151,1)","rgba(254,215,153,1)","rgba(254,217,155,1)","rgba(254,219,156,1)","rgba(254,220,158,1)","rgba(254,222,160,1)","rgba(254,224,162,1)","rgba(254,226,163,1)","rgba(253,228,165,1)","rgba(253,230,167,1)","rgba(253,231,169,1)","rgba(253,233,171,1)","rgba(253,235,172,1)","rgba(253,237,174,1)","rgba(253,239,176,1)","rgba(253,241,178,1)","rgba(253,242,180,1)","rgba(253,244,182,1)","rgba(253,246,184,1)","rgba(252,248,186,1)","rgba(252,250,188,1)","rgba(252,251,189,1)","rgba(252,253,191,1)"]},viridis:{name:"viridis",value:["rgba(68,1,84,1)","rgba(68,2,85,1)","rgba(69,3,87,1)","rgba(69,5,88,1)","rgba(69,6,90,1)","rgba(70,8,91,1)","rgba(70,9,93,1)","rgba(70,11,94,1)","rgba(70,12,96,1)","rgba(71,14,97,1)","rgba(71,15,98,1)","rgba(71,17,100,1)","rgba(71,18,101,1)","rgba(71,20,102,1)","rgba(72,21,104,1)","rgba(72,22,105,1)","rgba(72,24,106,1)","rgba(72,25,108,1)","rgba(72,26,109,1)","rgba(72,28,110,1)","rgba(72,29,111,1)","rgba(72,30,112,1)","rgba(72,32,113,1)","rgba(72,33,115,1)","rgba(72,34,116,1)","rgba(72,36,117,1)","rgba(72,37,118,1)","rgba(72,38,119,1)","rgba(72,39,120,1)","rgba(71,41,121,1)","rgba(71,42,121,1)","rgba(71,43,122,1)","rgba(71,44,123,1)","rgba(71,46,124,1)","rgba(70,47,125,1)","rgba(70,48,126,1)","rgba(70,49,126,1)","rgba(70,51,127,1)","rgba(69,52,128,1)","rgba(69,53,129,1)","rgba(69,54,129,1)","rgba(68,56,130,1)","rgba(68,57,131,1)","rgba(68,58,131,1)","rgba(67,59,132,1)","rgba(67,60,132,1)","rgba(67,62,133,1)","rgba(66,63,133,1)","rgba(66,64,134,1)","rgba(65,65,134,1)","rgba(65,66,135,1)","rgba(65,67,135,1)","rgba(64,69,136,1)","rgba(64,70,136,1)","rgba(63,71,136,1)","rgba(63,72,137,1)","rgba(62,73,137,1)","rgba(62,74,137,1)","rgba(61,75,138,1)","rgba(61,77,138,1)","rgba(60,78,138,1)","rgba(60,79,138,1)","rgba(59,80,139,1)","rgba(59,81,139,1)","rgba(58,82,139,1)","rgba(58,83,139,1)","rgba(57,84,140,1)","rgba(57,85,140,1)","rgba(56,86,140,1)","rgba(56,87,140,1)","rgba(55,88,140,1)","rgba(55,89,140,1)","rgba(54,91,141,1)","rgba(54,92,141,1)","rgba(53,93,141,1)","rgba(53,94,141,1)","rgba(52,95,141,1)","rgba(52,96,141,1)","rgba(51,97,141,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(50,100,142,1)","rgba(50,101,142,1)","rgba(49,102,142,1)","rgba(49,103,142,1)","rgba(48,104,142,1)","rgba(48,105,142,1)","rgba(47,106,142,1)","rgba(47,107,142,1)","rgba(47,108,142,1)","rgba(46,109,142,1)","rgba(46,110,142,1)","rgba(45,111,142,1)","rgba(45,112,142,1)","rgba(45,112,142,1)","rgba(44,113,142,1)","rgba(44,114,142,1)","rgba(43,115,142,1)","rgba(43,116,142,1)","rgba(43,117,142,1)","rgba(42,118,142,1)","rgba(42,119,142,1)","rgba(41,120,142,1)","rgba(41,121,142,1)","rgba(41,122,142,1)","rgba(40,123,142,1)","rgba(40,124,142,1)","rgba(40,125,142,1)","rgba(39,126,142,1)","rgba(39,127,142,1)","rgba(38,128,142,1)","rgba(38,129,142,1)","rgba(38,130,142,1)","rgba(37,131,142,1)","rgba(37,131,142,1)","rgba(37,132,142,1)","rgba(36,133,142,1)","rgba(36,134,142,1)","rgba(35,135,142,1)","rgba(35,136,142,1)","rgba(35,137,142,1)","rgba(34,138,141,1)","rgba(34,139,141,1)","rgba(34,140,141,1)","rgba(33,141,141,1)","rgba(33,142,141,1)","rgba(33,143,141,1)","rgba(32,144,141,1)","rgba(32,145,140,1)","rgba(32,146,140,1)","rgba(32,147,140,1)","rgba(31,147,140,1)","rgba(31,148,140,1)","rgba(31,149,139,1)","rgba(31,150,139,1)","rgba(31,151,139,1)","rgba(30,152,139,1)","rgba(30,153,138,1)","rgba(30,154,138,1)","rgba(30,155,138,1)","rgba(30,156,137,1)","rgba(30,157,137,1)","rgba(30,158,137,1)","rgba(30,159,136,1)","rgba(30,160,136,1)","rgba(31,161,136,1)","rgba(31,162,135,1)","rgba(31,163,135,1)","rgba(31,163,134,1)","rgba(32,164,134,1)","rgba(32,165,134,1)","rgba(33,166,133,1)","rgba(33,167,133,1)","rgba(34,168,132,1)","rgba(35,169,131,1)","rgba(35,170,131,1)","rgba(36,171,130,1)","rgba(37,172,130,1)","rgba(38,173,129,1)","rgba(39,174,129,1)","rgba(40,175,128,1)","rgba(41,175,127,1)","rgba(42,176,127,1)","rgba(43,177,126,1)","rgba(44,178,125,1)","rgba(46,179,124,1)","rgba(47,180,124,1)","rgba(48,181,123,1)","rgba(50,182,122,1)","rgba(51,183,121,1)","rgba(53,183,121,1)","rgba(54,184,120,1)","rgba(56,185,119,1)","rgba(57,186,118,1)","rgba(59,187,117,1)","rgba(61,188,116,1)","rgba(62,189,115,1)","rgba(64,190,114,1)","rgba(66,190,113,1)","rgba(68,191,112,1)","rgba(70,192,111,1)","rgba(72,193,110,1)","rgba(73,194,109,1)","rgba(75,194,108,1)","rgba(77,195,107,1)","rgba(79,196,106,1)","rgba(81,197,105,1)","rgba(83,198,104,1)","rgba(85,198,102,1)","rgba(88,199,101,1)","rgba(90,200,100,1)","rgba(92,201,99,1)","rgba(94,201,98,1)","rgba(96,202,96,1)","rgba(98,203,95,1)","rgba(101,204,94,1)","rgba(103,204,92,1)","rgba(105,205,91,1)","rgba(108,206,90,1)","rgba(110,206,88,1)","rgba(112,207,87,1)","rgba(115,208,85,1)","rgba(117,208,84,1)","rgba(119,209,82,1)","rgba(122,210,81,1)","rgba(124,210,79,1)","rgba(127,211,78,1)","rgba(129,212,76,1)","rgba(132,212,75,1)","rgba(134,213,73,1)","rgba(137,213,72,1)","rgba(139,214,70,1)","rgba(142,215,68,1)","rgba(144,215,67,1)","rgba(147,216,65,1)","rgba(149,216,63,1)","rgba(152,217,62,1)","rgba(155,217,60,1)","rgba(157,218,58,1)","rgba(160,218,57,1)","rgba(163,219,55,1)","rgba(165,219,53,1)","rgba(168,220,51,1)","rgba(171,220,50,1)","rgba(173,221,48,1)","rgba(176,221,46,1)","rgba(179,221,45,1)","rgba(181,222,43,1)","rgba(184,222,41,1)","rgba(187,223,39,1)","rgba(189,223,38,1)","rgba(192,223,36,1)","rgba(195,224,35,1)","rgba(197,224,33,1)","rgba(200,225,32,1)","rgba(203,225,30,1)","rgba(205,225,29,1)","rgba(208,226,28,1)","rgba(211,226,27,1)","rgba(213,226,26,1)","rgba(216,227,25,1)","rgba(219,227,24,1)","rgba(221,227,24,1)","rgba(224,228,24,1)","rgba(226,228,24,1)","rgba(229,228,24,1)","rgba(232,229,25,1)","rgba(234,229,25,1)","rgba(237,229,26,1)","rgba(239,230,27,1)","rgba(242,230,28,1)","rgba(244,230,30,1)","rgba(247,230,31,1)","rgba(249,231,33,1)","rgba(251,231,35,1)","rgba(254,231,36,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:u.default,"horizontal-heatmap":u.default}}}},align:{name:"Align",inlineOptions:{white:{name:"Top",value:"top"},lightGrey:{name:"Bottom",value:"bottom"}}},colorRangeGradient:{name:"Color Gradient",inlineOptions:d},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:function(){function t(t){var e=[];if(t.transforms){var n=!0,r=!1,i=void 0;try{for(var a,s=(0,o.default)(t.transforms);!(n=(a=s.next()).done);n=!0){var l=a.value;e.push({name:l.name,value:l.value})}}catch(u){r=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}return e}return t}()},aggregationMode:{name:"Aggregation Mode",inlineOptions:{},generateOptions:function(){function t(t){var e=[];return t.aggregationModes?(0,i.default)(t.aggregationModes).forEach((function(t){var n=t.name,r=t.value;e.push({name:n,value:r})})):e.push({name:"Default",value:"default"}),e}return t}()},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:function(){function t(t){if(t.maxZoom){for(var e=[],n=0;n<=t.maxZoom;n++){var i=t.maxWidth,o=t.binsPerDimension,a=t.maxZoom,s=1,u=1;if(t.resolutions){var c=t.resolutions.map((function(t){return+t})).sort((function(t,e){return e-t}));s=(0,r.default)(c,1)[0],u=c[n]}else u=t.maxWidth/(Math.pow(2,n)*t.binsPerDimension),s=i/(Math.pow(2,a)*o);var h=(0,l.precisionPrefix)(s,u),f=(0,l.formatPrefix)("."+String(h),u)(u);e.push({name:f,value:n.toString()})}return e}return[]}return t}()},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:h},zeroValueColor:{name:"Zero Value Color",inlineOptions:p}};e.default=x},function(t,e,n){n(556),t.exports=n(12).Object.values},function(t,e,n){var r=n(16),i=n(330)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(44)),i=m(n(35)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(7)),c=m(n(2)),h=m(n(1)),f=m(n(169)),d=m(n(232)),p=m(n(730));function m(t){return t&&t.__esModule?t:{default:t}}n(879);var v=function(t){function e(t){(0,a.default)(this,e);var n=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.state={colors:t.track.options.colorRange.slice()},n}return(0,u.default)(e,t),(0,s.default)(e,[{key:"handleColorsChanged",value:function(){function t(t){this.setState({colors:t})}return t}()},{key:"handleSubmit",value:function(){function t(){this.props.track.options.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}return t}()},{key:"handleAddColor",value:function(){function t(){this.setState((function(t){return{colors:t.colors.concat(t.colors[t.colors.length-1])}}))}return t}()},{key:"handleRemoveColor",value:function(){function t(t){this.setState((function(e){return{colors:e.colors.slice(0,t).concat(e.colors.slice(t+1))}}))}return t}()},{key:"render",value:function(){function t(){var t=this,e=JSON.parse((0,i.default)(this.props.track)),n=(0,r.default)(e,{options:{colorRange:this.state.colors}}),o={editable:!1,zoomFixed:!0,views:[{uid:"hmo-"+String(this.props.track.uid),initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[n]},layout:{x:0,y:0,h:12,w:12,i:"hmo-"+String(this.props.track.id)}}]},a=this.state.colors.map((function(e,n){var r=t.state.colors.length>2&&n===t.state.colors.length-1?h.default.createElement("div",{onClick:function(){function e(){return t.handleRemoveColor(n)}return e}(),style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2,cursor:"pointer"}},h.default.createElement("svg",{height:"10px",style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10}},h.default.createElement("use",{xlinkHref:"#cross"}))):null;return h.default.createElement("div",{key:"l"+String(n),style:{borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",position:"relative",outline:"none"}},r,h.default.createElement(p.default,{key:n,color:t.state.colors[n],onChange:function(){function e(e){t.setState((function(t){var r=t.colors.slice();return r[n]=e,{colors:r}}),(function(){t.handleColorsChanged(t.state.colors)}))}return e}()}))})).reverse(),s=this.state.colors.length<10?h.default.createElement("div",{onClick:this.handleAddColor.bind(this),style:{position:"relative",outline:"none",height:"25px",padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",cursor:"pointer"}},h.default.createElement("div",{style:{textAlign:"center",width:"32px",height:"14px"}},h.default.createElement("svg",{height:"100%",style:{opacity:.5,margin:"auto",display:"block"},width:"10px"},h.default.createElement("use",{xlinkHref:"#plus"})))):null;return h.default.createElement(f.default,{okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmit.bind(this),title:"Custom Color Map"},h.default.createElement("table",{className:"table-track-options"},h.default.createElement("thead",null),h.default.createElement("tbody",{style:{verticalAlign:"top"}},h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},h.default.createElement("table",null,h.default.createElement("tbody",null,h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},"Preview")),h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},h.default.createElement("div",{style:{width:200}},h.default.createElement(d.default,{options:{bounded:!1},viewConfig:o}))))))),h.default.createElement("td",{className:"td-track-options"},h.default.createElement("table",null,h.default.createElement("tbody",null,h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},"Colors")),h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},s,h.default.createElement("div",{style:{position:"relative"}},a))))))))))}return t}()}]),e}(h.default.Component);v.propTypes={handleCancel:c.default.func,onCancel:c.default.func,onSubmit:c.default.func,track:c.default.object,xScale:c.default.object,yScale:c.default.object},e.default=v},function(t,e,n){n(559),t.exports=n(12).Object.getPrototypeOf},function(t,e,n){var r=n(54),i=n(128);n(126)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,e,n){t.exports={default:n(561),__esModule:!0}},function(t,e,n){n(61),n(76),t.exports=n(168).f("iterator")},function(t,e,n){n(563),t.exports=n(12).Object.setPrototypeOf},function(t,e,n){var r=n(16);r(r.S,"Object",{setPrototypeOf:n(564).set})},function(t,e,n){var r=n(33),i=n(39),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(49)(Function.call,n(228).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch{e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(566),__esModule:!0}},function(t,e,n){n(567);var r=n(12).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(16);r(r.S,"Object",{create:n(110)})},function(t,e,n){var r=n(569);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=r},function(t,e,n){t.exports={button:"Button-module_button-3YXsQ","button-shortcut":"Button-module_button-shortcut-1zMAn"}},function(t,e,n){t.exports={cross:"Cross-module_cross-3WYME"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(29)),i=u(n(1)),o=u(n(2)),a=u(n(170)),s=u(n(332)),l=u(n(132));function u(t){return t&&t.__esModule?t:{default:t}}n(573);var c={"../styles/Modal.module.scss":{"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},h=function(t){var e=function(){t.modal.close(),t.onClose&&t.onClose()};return i.default.createElement("div",{className:(0,r.default)("modal-background "+(t.hide?"modal-hide":""),c)},i.default.createElement("div",{className:"Modal-module_modal-wrap-1HWNn"},i.default.createElement("div",{className:(0,r.default)("modal-window "+(t.maxHeight?"modal-window-max-height":""),c)},t.closeButton&&i.default.createElement(a.default,{onClick:e},i.default.createElement(s.default,null)),i.default.createElement("div",{className:"Modal-module_modal-content-2xb_x"},t.children))))};h.defaultProps={closeButton:!0,hide:!1,maxHeight:!1},h.propTypes={children:o.default.element.isRequired,closeButton:o.default.bool,hide:o.default.bool,maxHeight:o.default.bool,modal:o.default.object.isRequired,onClose:o.default.func},e.default=(0,l.default)(h)},function(t,e,n){t.exports={"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},function(t,e,n){t.exports={"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},function(t,e,n){t.exports={default:n(576),__esModule:!0}},function(t,e,n){n(577),t.exports=n(12).Object.entries},function(t,e,n){var r=n(16),i=n(330)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){n(164),n(61),n(76),n(579),n(583),n(585),n(586),t.exports=n(12).Set},function(t,e,n){var r=n(333),i=n(238),o="Set";t.exports=n(334)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,o),t=0===t?0:t,t)}},r)},function(t,e,n){var r=n(49),i=n(105),o=n(54),a=n(88),s=n(581);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var m,v,g=o(e),y=i(g),b=r(s,p,3),_=a(y.length),x=0,T=n?d(e,_):l?d(e,0):void 0;_>x;x++)if((f||x in y)&&(v=b(m=y[x],x,g),t))if(n)T[x]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:T.push(m)}else if(c)return!1;return h?-1:u||c?c:T}}},function(t,e,n){var r=n(582);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(33),i=n(328),o=n(21)("species");t.exports=function(t){var e;return i(t)&&("function"==typeof(e=t.constructor)&&(e===Array||i(e.prototype))&&(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(16);r(r.P+r.R,"Set",{toJSON:n(335)("Set")})},function(t,e,n){var r=n(129);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){n(336)("Set")},function(t,e,n){n(337)("Set")},function(t,e,n){(function(t){var r=n(590);e.encode=function(e){var n=r.parse(e);return new t(n).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},e.decode=function(e){var n=e.replace(/-/g,"+").replace(/_/g,"/")+"==";return r.unparse(new t(n,"base64"))},e.v4=function(){return r.v4(null,new t(16)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},e.nice=function(){var e=r.v4(null,new t(16));return e[0]=127&e[0],e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)}}).call(this,n(113).Buffer)},function(t,e,n){e.byteLength=c,e.toByteArray=f,e.fromByteArray=m;for(var r=[],i=[],o=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function h(t,e,n){return 3*(e+n)/4-n}function f(t){for(var e,n=u(t),r=n[0],a=n[1],s=new o(h(t,r,a)),l=0,c=a>0?r-4:r,f=0;f<c;f+=4)e=i[t.charCodeAt(f)]<<18|i[t.charCodeAt(f+1)]<<12|i[t.charCodeAt(f+2)]<<6|i[t.charCodeAt(f+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;return 2===a&&(e=i[t.charCodeAt(f)]<<2|i[t.charCodeAt(f+1)]>>4,s[l++]=255&e),1===a&&(e=i[t.charCodeAt(f)]<<10|i[t.charCodeAt(f+1)]<<4|i[t.charCodeAt(f+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e),s}function d(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function p(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(d(r));return i.join("")}function m(t){for(var e,n=t.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(p(t,s,s+a>l?l:s+a));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+h],h+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*l-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+d]=255&a,d+=p,a/=256,u-=8);t[n+d-p]|=128*m}},function(t,e,n){for(var r=n(591),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a;function s(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,(function(t){i<16&&(e[r+i++]=o[t])}));i<16;)e[r+i++]=0;return e}function l(t,e){var n=e||0,r=i;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}var u=r(),c=[1|u[0],u[1],u[2],u[3],u[4],u[5]],h=16383&(u[6]<<8|u[7]),f=0,d=0;function p(t,e,n){var r=e&&n||0,i=e||[],o=void 0!==(t=t||{}).clockseq?t.clockseq:h,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),s=void 0!==t.nsecs?t.nsecs:d+1,u=a-f+(s-d)/1e4;if(u<0&&void 0===t.clockseq&&(o=o+1&16383),(u<0||a>f)&&void 0===t.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=a,d=s,h=o;var p=(1e4*(268435455&(a+=122192928e5))+s)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var m=a/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var v=t.node||c,g=0;g<6;g++)i[r+g]=v[g];return e||l(i)}function m(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;a++)e[i+a]=o[a];return e||l(o)}var v=m;v.v1=p,v.v4=m,v.parse=s,v.unparse=l,t.exports=v},function(t,e,n){(function(e){var n,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var t,e=0;e<16;e++)3&e||(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}t.exports=n}).call(this,n(27))},function(t,e,n){t.exports=n(339).default,t.exports.utils=n(133),t.exports.Responsive=n(597).default,t.exports.Responsive.utils=n(343),t.exports.WidthProvider=n(598).default},function(t,e,n){e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=c(n(1)),o=c(n(2)),a=n(341),s=n(594),l=n(133),u=c(n(340));function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){var n,r;h(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,t.call.apply(t,[this].concat(o))),r.state={resizing:null,dragging:null,className:""},f(r,n)}return d(e,t),e.prototype.calcColWidth=function(){var t=this.props,e=t.margin,n=t.containerPadding,r=t.containerWidth,i=t.cols;return(r-e[0]*(i-1)-2*n[0])/i},e.prototype.calcPosition=function(t,e,n,r,i){var o=this.props,a=o.margin,s=o.containerPadding,l=o.rowHeight,u=this.calcColWidth(),c={left:Math.round((u+a[0])*t+s[0]),top:Math.round((l+a[1])*e+s[1]),width:n===1/0?n:Math.round(u*n+Math.max(0,n-1)*a[0]),height:r===1/0?r:Math.round(l*r+Math.max(0,r-1)*a[1])};return i&&i.resizing&&(c.width=Math.round(i.resizing.width),c.height=Math.round(i.resizing.height)),i&&i.dragging&&(c.top=Math.round(i.dragging.top),c.left=Math.round(i.dragging.left)),c},e.prototype.calcXY=function(t,e){var n=this.props,r=n.margin,i=n.cols,o=n.rowHeight,a=n.w,s=n.h,l=n.maxRows,u=this.calcColWidth(),c=Math.round((e-r[0])/(u+r[0])),h=Math.round((t-r[1])/(o+r[1]));return{x:c=Math.max(Math.min(c,i-a),0),y:h=Math.max(Math.min(h,l-s),0)}},e.prototype.calcWH=function(t){var e=t.height,n=t.width,r=this.props,i=r.margin,o=r.maxRows,a=r.cols,s=r.rowHeight,l=r.x,u=r.y,c=this.calcColWidth(),h=Math.round((n+i[0])/(c+i[0])),f=Math.round((e+i[1])/(s+i[1]));return{w:h=Math.max(Math.min(h,a-l),0),h:f=Math.max(Math.min(f,o-u),0)}},e.prototype.createStyle=function(t){var e=this.props,n=e.usePercentages,r=e.containerWidth,i=void 0;return e.useCSSTransforms?i=(0,l.setTransform)(t):(i=(0,l.setTopLeft)(t),n&&(i.left=(0,l.perc)(t.left/r),i.width=(0,l.perc)(t.width/r))),i},e.prototype.mixinDraggable=function(t){return i.default.createElement(a.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},t)},e.prototype.mixinResizable=function(t,e){var n=this.props,r=n.cols,o=n.x,a=n.minW,l=n.minH,u=n.maxW,c=n.maxH,h=this.calcPosition(0,0,r-o,0).width,f=this.calcPosition(0,0,a,l),d=this.calcPosition(0,0,u,c),p=[f.width,f.height],m=[Math.min(d.width,h),Math.min(d.height,1/0)];return i.default.createElement(s.Resizable,{width:e.width,height:e.height,minConstraints:p,maxConstraints:m,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},t)},e.prototype.onDragHandler=function(t){var e=this;return function(n,r){var i=r.node,o=r.deltaX,a=r.deltaY,s=e.props[t];if(s){var l={top:0,left:0};switch(t){case"onDragStart":var u=i.offsetParent;if(!u)return;var c=u.getBoundingClientRect(),h=i.getBoundingClientRect();l.left=h.left-c.left+u.scrollLeft,l.top=h.top-c.top+u.scrollTop,e.setState({dragging:l});break;case"onDrag":if(!e.state.dragging)throw new Error("onDrag called before onDragStart.");l.left=e.state.dragging.left+o,l.top=e.state.dragging.top+a,e.setState({dragging:l});break;case"onDragStop":if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");l.left=e.state.dragging.left,l.top=e.state.dragging.top,e.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+t)}var f=e.calcXY(l.top,l.left),d=f.x,p=f.y;return s.call(e,e.props.i,d,p,{e:n,node:i,newPosition:l})}}},e.prototype.onResizeHandler=function(t){var e=this;return function(n,r){var i=r.node,o=r.size,a=e.props[t];if(a){var s=e.props,l=s.cols,u=s.x,c=s.i,h=s.maxW,f=s.minW,d=s.maxH,p=s.minH,m=e.calcWH(o),v=m.w,g=m.h;v=Math.min(v,l-u),v=Math.max(v,1),v=Math.max(Math.min(v,h),f),g=Math.max(Math.min(g,d),p),e.setState({resizing:"onResizeStop"===t?null:o}),a.call(e,c,v,g,{e:n,node:i,size:o})}}},e.prototype.render=function(){var t=this.props,e=t.x,n=t.y,o=t.w,a=t.h,s=t.isDraggable,l=t.isResizable,c=t.useCSSTransforms,h=this.calcPosition(e,n,o,a,this.state),f=i.default.Children.only(this.props.children),d=i.default.cloneElement(f,{className:(0,u.default)("react-grid-item",f.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":s,"react-draggable-dragging":!!this.state.dragging,cssTransforms:c}),style:r({},this.props.style,f.props.style,this.createStyle(h))});return l&&(d=this.mixinResizable(d,h)),s&&(d=this.mixinDraggable(d)),d},e}(i.default.Component);p.propTypes={children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(t,e){var n=t[e];return"number"!=typeof n?new Error("minWidth not Number"):n>t.w||n>t.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(t,e){var n=t[e];return"number"!=typeof n?new Error("maxWidth not Number"):n<t.w||n<t.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(t,e){var n=t[e];return"number"!=typeof n?new Error("minHeight not Number"):n>t.h||n>t.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(t,e){var n=t[e];return"number"!=typeof n?new Error("maxHeight not Number"):n<t.h||n<t.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,className:o.default.string,handle:o.default.string,cancel:o.default.string},p.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},e.default=p},function(t,e,n){t.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},t.exports.Resizable=n(342).default,t.exports.ResizableBox=n(596).default},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t,e){return e.style&&t.props.style&&(e.style=r({},t.props.style,e.style)),e.className&&t.props.className&&(e.className=t.props.className+" "+e.className),i.default.cloneElement(t,e)}},function(t,e,n){e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=s(n(1)),o=s(n(2)),a=s(n(342));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){var n,r;u(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(t,e){var n=e.size;n.width,n.height,r.props.onResize?(t.persist&&t.persist(),r.setState(n,(function(){return r.props.onResize&&r.props.onResize(t,e)}))):r.setState(n)},c(r,n)}return h(e,t),e.prototype.componentWillReceiveProps=function(t){(t.width!==this.props.width||t.height!==this.props.height)&&this.setState({width:t.width,height:t.height})},e.prototype.render=function(){var t=this.props,e=t.handle,n=t.handleSize;t.onResize;var o=t.onResizeStart,s=t.onResizeStop,u=t.draggableOpts,c=t.minConstraints,h=t.maxConstraints,f=t.lockAspectRatio,d=t.axis;t.width,t.height;var p=t.resizeHandles,m=l(t,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles"]);return i.default.createElement(a.default,{handle:e,handleSize:n,width:this.state.width,height:this.state.height,onResizeStart:o,onResize:this.onResize,onResizeStop:s,draggableOpts:u,minConstraints:c,maxConstraints:h,lockAspectRatio:f,axis:d,resizeHandles:p},i.default.createElement("div",r({style:{width:this.state.width+"px",height:this.state.height+"px"}},m)))},e}(i.default.Component);f.propTypes={height:o.default.number,width:o.default.number},f.defaultProps={handleSize:[20,20]},e.default=f},function(t,e,n){e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=c(n(1)),o=c(n(2)),a=c(n(172)),s=n(133),l=n(343),u=c(n(339));function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){return Object.prototype.toString.call(t)},v=function(t){function e(){var n,i;f(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=d(this,t.call.apply(t,[this].concat(a))),i.state=i.generateInitialState(),i.onLayoutChange=function(t){var e;i.props.onLayoutChange(t,r({},i.props.layouts,((e={})[i.state.breakpoint]=t,e)))},d(i,n)}return p(e,t),e.prototype.generateInitialState=function(){var t=this.props,e=t.width,n=t.breakpoints,r=t.layouts,i=t.cols,o=(0,l.getBreakpointFromWidth)(n,e),a=(0,l.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}},e.prototype.componentWillReceiveProps=function(t){if(t.width==this.props.width&&t.breakpoint===this.props.breakpoint&&(0,a.default)(t.breakpoints,this.props.breakpoints)&&(0,a.default)(t.cols,this.props.cols)){if(!(0,a.default)(t.layouts,this.props.layouts)){var e=this.state,n=e.breakpoint,r=e.cols,i=(0,l.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,n,n,r,t.compactType);this.setState({layout:i})}}else this.onWidthChange(t)},e.prototype.onWidthChange=function(t){var e=t.breakpoints,n=t.cols,r=t.layouts,i=t.compactType,o=t.breakpoint||(0,l.getBreakpointFromWidth)(t.breakpoints,t.width),a=this.state.breakpoint;if(a!==o||this.props.breakpoints!==e||this.props.cols!==n){a in r||(r[a]=(0,s.cloneLayout)(this.state.layout));var u=(0,l.getColsFromBreakpoint)(o,n),c=(0,l.findOrGenerateResponsiveLayout)(r,e,o,a,u,i);c=(0,s.synchronizeLayoutWithChildren)(c,t.children,u,i),r[o]=c,this.props.onLayoutChange(c,r),this.props.onBreakpointChange(o,u),this.props.onWidthChange(t.width,t.margin,u,t.containerPadding),this.setState({breakpoint:o,layout:c,cols:u})}},e.prototype.render=function(){var t=this.props;t.breakpoint,t.breakpoints,t.cols,t.layouts,t.onBreakpointChange,t.onLayoutChange,t.onWidthChange;var e=h(t,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]);return i.default.createElement(u.default,r({},e,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},e}(i.default.Component);v.propTypes={breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,layouts:function(t,e){if("[object Object]"!==m(t[e]))throw new Error("Layout property must be an object. Received: "+m(t[e]));Object.keys(t[e]).forEach((function(e){if(!(e in t.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(t.layouts[e],"layouts."+e)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func},v.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop},e.default=v},function(t,e,n){e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=f;var i=s(n(1)),o=s(n(2)),a=s(n(42));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t){var e,n;return n=e=function(e){function n(){var t,r;u(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=r=c(this,e.call.apply(e,[this].concat(o))),r.state={width:1280},r.mounted=!1,r.onWindowResize=function(){if(r.mounted){var t=a.default.findDOMNode(r);t instanceof HTMLElement&&r.setState({width:t.offsetWidth})}},c(r,t)}return h(n,e),n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){var e=this.props,n=e.measureBeforeMount,o=l(e,["measureBeforeMount"]);return n&&!this.mounted?i.default.createElement("div",{className:this.props.className,style:this.props.style}):i.default.createElement(t,r({},o,this.state))},n}(i.default.Component),e.defaultProps={measureBeforeMount:!1},e.propTypes={measureBeforeMount:o.default.bool},n}},function(t,e,n){var r,i,o,a;typeof window<"u"&&window,a=function(t){var e=function(){var e,n={},r=[];function i(t){t||(t=document.documentElement);var e=window.getComputedStyle(t,null).fontSize;return parseFloat(e)||16}function o(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}function a(t,e){var n=e.split(/\d/),r=n[n.length-1];switch(e=parseFloat(e),r){case"px":default:return e;case"em":return e*i(t);case"rem":return e*i();case"vw":return e*document.documentElement.clientWidth/100;case"vh":return e*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return e*(0,Math["vmin"===r?"min":"max"])(o,a)}}function s(t,e){this.element=t;var r,i,s,l,u,c,h,f,d=["min-width","min-height","max-width","max-height"];this.call=function(){for(r in s=o(this.element),c={},n[e])n[e].hasOwnProperty(r)&&(i=n[e][r],l=a(this.element,i.value),u="width"===i.property?s.width:s.height,f=i.mode+"-"+i.property,h="","min"===i.mode&&u>=l&&(h+=i.value),"max"===i.mode&&u<=l&&(h+=i.value),c[f]||(c[f]=""),h&&-1===(" "+c[f]+" ").indexOf(" "+h+" ")&&(c[f]+=" "+h));for(var t in d)d.hasOwnProperty(t)&&(c[d[t]]?this.element.setAttribute(d[t],c[d[t]].substr(1)):this.element.removeAttribute(d[t]))}}function l(e,n){e.elementQueriesSetupInformation||(e.elementQueriesSetupInformation=new s(e,n)),e.elementQueriesSensor||(e.elementQueriesSensor=new t(e,(function(){e.elementQueriesSetupInformation.call()}))),e.elementQueriesSetupInformation.call()}function u(t,i,o,a){if(typeof n[t]>"u"){n[t]=[];var s=r.length;e.innerHTML+="\n"+t+" {animation: 0.1s element-queries;}",e.innerHTML+="\n"+t+" > .resize-sensor {min-width: "+s+"px;}",r.push(t)}n[t].push({mode:i,property:o,value:a})}function c(t){var e;if(document.querySelectorAll&&(e=t?t.querySelectorAll.bind(t):document.querySelectorAll.bind(document)),!e&&typeof $$<"u"&&(e=$$),!e&&typeof jQuery<"u"&&(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return e}function h(t){var e=c(t);for(var r in n)if(n.hasOwnProperty(r))for(var i=e(r,t),o=0,a=i.length;o<a;o++)l(i[o],r)}function f(e){var n=[],r=[],i=[],o=0,a=-1,s=[];for(var l in e.children)if(e.children.hasOwnProperty(l)&&e.children[l].tagName&&"img"===e.children[l].tagName.toLowerCase()){n.push(e.children[l]);var u=e.children[l].getAttribute("min-width")||e.children[l].getAttribute("data-min-width"),c=e.children[l].getAttribute("data-src")||e.children[l].getAttribute("url");i.push(c);var h={minWidth:u};r.push(h),u?e.children[l].style.display="none":(o=n.length-1,e.children[l].style.display="block")}function f(){var t,l=!1;for(t in n)n.hasOwnProperty(t)&&r[t].minWidth&&e.offsetWidth>r[t].minWidth&&(l=t);if(l||(l=o),a!==l)if(s[l])n[a].style.display="none",n[l].style.display="block",a=l;else{var u=new Image;u.onload=function(){n[l].src=i[l],n[a].style.display="none",n[l].style.display="block",s[l]=!0,a=l},u.src=i[l]}else n[l].src=i[l]}a=o,e.resizeSensorInstance=new t(e,f),f()}function d(){for(var t=c()("[data-responsive-image],[responsive-image]"),e=0,n=t.length;e<n;e++)f(t[e])}var p=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,m=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function v(t){var e,n,r,i;for(t=t.replace(/'/g,'"');null!==(e=p.exec(t));)for(n=e[1]+e[3],r=e[2];null!==(i=m.exec(r));)u(n,i[1],i[2],i[3])}function g(t){var e="";if(t)if("string"==typeof t)(-1!==(t=t.toLowerCase()).indexOf("min-width")||-1!==t.indexOf("max-width"))&&v(t);else for(var n=0,r=t.length;n<r;n++)1===t[n].type?(-1!==(e=t[n].selectorText||t[n].cssText).indexOf("min-height")||-1!==e.indexOf("max-height")||-1!==e.indexOf("min-width")||-1!==e.indexOf("max-width"))&&v(e):4===t[n].type?g(t[n].cssRules||t[n].rules):3===t[n].type&&t[n].styleSheet.hasOwnProperty("cssRules")&&g(t[n].styleSheet.cssRules)}var y=!1;this.init=function(){var n="animationstart";typeof document.documentElement.style.webkitAnimationName<"u"?n="webkitAnimationStart":typeof document.documentElement.style.MozAnimationName<"u"?n="mozanimationstart":typeof document.documentElement.style.OAnimationName<"u"&&(n="oanimationstart"),document.body.addEventListener(n,(function(e){var n=e.target,i=n&&window.getComputedStyle(n,null),o=i&&i.getPropertyValue("animation-name");if(o&&-1!==o.indexOf("element-queries")){n.elementQueriesSensor=new t(n,(function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()}));var a=window.getComputedStyle(n.resizeSensor,null).getPropertyValue("min-width");a=parseInt(a.replace("px","")),l(e.target,r[a])}})),y||((e=document.createElement("style")).type="text/css",e.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",e.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(e),y=!0);for(var i=0,o=document.styleSheets.length;i<o;i++)try{document.styleSheets[i].href&&0===document.styleSheets[i].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[i].href),g(document.styleSheets[i].cssRules||document.styleSheets[i].rules||document.styleSheets[i].cssText)}catch{}d()},this.findElementQueriesElements=function(t){h(t)},this.update=function(){this.init()}};e.update=function(){e.instance.update()},e.detach=function(t){t.elementQueriesSetupInformation?(t.elementQueriesSensor.detach(),delete t.elementQueriesSetupInformation,delete t.elementQueriesSensor):t.resizeSensorInstance&&(t.resizeSensorInstance.detach(),delete t.resizeSensorInstance)},e.init=function(){e.instance||(e.instance=new e),e.instance.init()};var n=function(t){if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var e=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(t(),clearInterval(e))}),10);else window.onload=t};return e.findElementQueriesElements=function(t){e.instance.findElementQueriesElements(t)},e.listen=function(){n(e.init)},e},i=[n(345)],void 0!==(o="function"==typeof(r=a)?r.apply(e,i):r)&&(t.exports=o)},function(t,e){function n(t){var e="    ";if(isNaN(parseInt(t)))e=t;else switch(t){case 1:e=" ";break;case 2:e="  ";break;case 3:e="   ";break;case 4:e="    ";break;case 5:e="     ";break;case 6:e="      ";break;case 7:e="       ";break;case 8:e="        ";break;case 9:e="         ";break;case 10:e="          ";break;case 11:e="           ";break;case 12:e="            "}for(var n=["\n"],r=0;r<100;r++)n.push(n[r]+e);return n}function r(){this.step="    ",this.shift=n(this.step)}function i(t,e){return e-(t.replace(/\(/g,"").length-t.replace(/\)/g,"").length)}function o(t,e){return t.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+e+e+"AND ").replace(/ BETWEEN /gi,"~::~"+e+"BETWEEN ").replace(/ CASE /gi,"~::~"+e+"CASE ").replace(/ ELSE /gi,"~::~"+e+"ELSE ").replace(/ END /gi,"~::~"+e+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+e+"ON ").replace(/ OR /gi,"~::~"+e+e+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+e+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+e).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+e+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(t,e){var r=t.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=r.length,o=!1,a=0,s="",l=0,u=e?n(e):this.shift;for(l=0;l<i;l++)r[l].search(/<!/)>-1?(s+=u[a]+r[l],o=!0,(r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1||r[l].search(/!DOCTYPE/)>-1)&&(o=!1)):r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1?(s+=r[l],o=!1):/^<\w/.exec(r[l-1])&&/^<\/\w/.exec(r[l])&&/^<[\w:\-\.\,]+/.exec(r[l-1])==/^<\/[\w:\-\.\,]+/.exec(r[l])[0].replace("/","")?(s+=r[l],o||a--):r[l].search(/<\w/)>-1&&-1==r[l].search(/<\//)&&-1==r[l].search(/\/>/)?s=s+=o?r[l]:u[a++]+r[l]:r[l].search(/<\w/)>-1&&r[l].search(/<\//)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\//)>-1?s=s+=o?r[l]:u[--a]+r[l]:r[l].search(/\/>/)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\?/)>-1||r[l].search(/xmlns\:/)>-1||r[l].search(/xmlns\=/)>-1?s+=u[a]+r[l]:s+=r[l];return"\n"==s[0]?s.slice(1):s},r.prototype.json=function(t,e){return e=e||this.step,typeof JSON>"u"?t:"string"==typeof t?JSON.stringify(JSON.parse(t),null,e):"object"==typeof t?JSON.stringify(t,null,e):t},r.prototype.css=function(t,e){var r=t.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=r.length,o=0,a="",s=0,l=e?n(e):this.shift;for(s=0;s<i;s++)/\{/.exec(r[s])?a+=l[o++]+r[s]:/\}/.exec(r[s])?a+=l[--o]+r[s]:(/\*\\/.exec(r[s]),a+=l[o]+r[s]);return a.replace(/^\n{1,}/,"")},r.prototype.sql=function(t,e){var r=t.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=r.length,s=[],l=0,u=this.step,c=0,h="",f=0,d=e?n(e):this.shift;for(f=0;f<a;f++)s=f%2?s.concat(r[f]):s.concat(o(r[f],u));for(a=s.length,f=0;f<a;f++)c=i(s[f],c),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[f])&&(s[f]=s[f].replace(/\,/g,",\n"+u+u)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[f])&&(s[f]=s[f].replace(/\,/g,",\n"+u+u)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[f])?h+=d[++l]+s[f]:/\'/.exec(s[f])?(c<1&&l&&l--,h+=s[f]):(h+=d[l]+s[f],c<1&&l&&l--);return h=h.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(t,e){return(e?t:t.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(t){return typeof JSON>"u"?t:JSON.stringify(JSON.parse(t),null,0)},r.prototype.cssmin=function(t,e){return(e?t:t.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(t){return t.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},t.exports=new r},function(t,e,n){(function(e){var r=n(602),i=n(603),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(t){return(t||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function h(t){var n,r=(typeof window<"u"?window:typeof e<"u"?e:typeof self<"u"?self:{}).location||{},i={},a=typeof(t=t||r);if("blob:"===t.protocol)i=new p(unescape(t.pathname),{});else if("string"===a)for(n in i=new p(t,{}),c)delete i[n];else if("object"===a){for(n in t)n in c||(i[n]=t[n]);void 0===i.slashes&&(i.slashes=o.test(t.href))}return i}function f(t){t=l(t);var e=a.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function d(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),("."===i||".."===i)&&n.push(""),n.join("/")}function p(t,e,n){if(t=l(t),!(this instanceof p))return new p(t,e,n);var o,a,s,c,m,v,g=u.slice(),y=typeof e,b=this,_=0;for("object"!==y&&"string"!==y&&(n=e,e=null),n&&"function"!=typeof n&&(n=i.parse),e=h(e),o=!(a=f(t||"")).protocol&&!a.slashes,b.slashes=a.slashes||o&&e.slashes,b.protocol=a.protocol||e.protocol||"",t=a.rest,a.slashes||(g[3]=[/(.*)/,"pathname"]);_<g.length;_++)"function"!=typeof(c=g[_])?(s=c[0],v=c[1],s!==s?b[v]=t:"string"==typeof s?~(m=t.indexOf(s))&&("number"==typeof c[2]?(b[v]=t.slice(0,m),t=t.slice(m+c[2])):(b[v]=t.slice(m),t=t.slice(0,m))):(m=s.exec(t))&&(b[v]=m[1],t=t.slice(0,m.index)),b[v]=b[v]||o&&c[3]&&e[v]||"",c[4]&&(b[v]=b[v].toLowerCase())):t=c(t);n&&(b.query=n(b.query)),o&&e.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==e.pathname)&&(b.pathname=d(b.pathname,e.pathname)),r(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(c=b.auth.split(":"),b.username=c[0]||"",b.password=c[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}function m(t,e,n){var o=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||i.parse)(e)),o[t]=e;break;case"port":o[t]=e,r(e,o.protocol)?e&&(o.host=o.hostname+":"+e):(o.host=o.hostname,o[t]="");break;case"hostname":o[t]=e,o.port&&(e+=":"+o.port),o.host=e;break;case"host":o[t]=e,/:\d+$/.test(e)?(e=e.split(":"),o.port=e.pop(),o.hostname=e.join(":")):(o.hostname=e,o.port="");break;case"protocol":o.protocol=e.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";o[t]=e.charAt(0)!==a?a+e:e}else o[t]=e;break;default:o[t]=e}for(var s=0;s<u.length;s++){var l=u[s];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o}function v(t){(!t||"function"!=typeof t)&&(t=i.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(o+=n.hash),o}p.prototype={set:m,toString:v},p.extractProtocol=f,p.location=h,p.trimLeft=l,p.qs=i,t.exports=p}).call(this,n(27))},function(t,e,n){t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){var r,i=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function a(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var i=o(e[1]),a=o(e[2]);null===i||null===a||i in r||(r[i]=a)}return r}function s(t,e){e=e||"";var n,o,a=[];for(o in"string"!=typeof e&&(e="?"),t)if(i.call(t,o)){if(!(n=t[o])&&(null===n||n===r||isNaN(n))&&(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;a.push(o+"="+n)}return a.length?e+a.join("&"):""}e.stringify=s,e.parse=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=z(n(38)),i=z(n(17)),o=z(n(63)),a=z(n(55)),s=z(n(44)),l=z(n(37)),u=z(n(35)),c=z(n(18)),h=z(n(25)),f=z(n(5)),d=z(n(3)),p=z(n(4)),m=z(n(6)),v=z(n(7)),g=n(0),y=z(n(26)),b=z(n(1)),_=z(n(42)),x=z(n(2)),T=n(344),w=z(n(67)),S=z(n(605)),E=z(n(607)),k=z(n(609)),C=z(n(611)),A=z(n(655)),O=z(n(662)),P=z(n(664)),M=z(n(264)),I=z(n(96)),R=z(n(392)),L=z(n(670)),D=z(n(673)),N=z(n(69)),j=z(n(132)),B=z(n(78)),F=n(10),H=n(11);function z(t){return t&&t.__esModule?t:{default:t}}z(n(176)),z(n(346));var U=function(t){function e(t){(0,d.default)(this,e);var n=(0,m.default)(this,(e.__proto__||(0,f.default)(e)).call(this,t));n.closing=!1;var r=n.props.tracks;return n.canvasElement=null,n.tracksByUidInit={},[].concat((0,h.default)(n.props.tracks.top||[]),(0,h.default)(n.props.tracks.right||[]),(0,h.default)(n.props.tracks.bottom||[]),(0,h.default)(n.props.tracks.left||[]),(0,h.default)(n.props.tracks.gallery||[]),(0,h.default)(n.props.tracks.center||[])).forEach((function(t){"combined"===t.type?t.contents.forEach((function(t){n.tracksByUidInit[t.uid]=!1})):n.tracksByUidInit[t.uid]=!1})),n.xScale=null,n.yScale=null,n.addUidsToTracks(r),n.trackToReplace=null,n.trackRenderer=null,n.configTrackMenu=null,n.state={sizeMeasured:!1,height:10,width:10,tracks:r,init:!1,addTrackPosition:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],rangeSelectionEnd:!1,chromInfo:null,defaultChromSizes:null,contextMenuCustomItems:null,contextMenuPosition:null,addDivisorDialog:null},n.reset=!0,window.higlassTracksByType&&(0,c.default)(window.higlassTracksByType).forEach((function(t){H.TRACKS_INFO_BY_TYPE[t]=window.higlassTracksByType[t].config})),n.topHeight=0,n.bottomHeight=0,n.leftWidth=0,n.rightWidth=0,n.centerHeight=0,n.centerWidth=0,n.dragTimeout=null,n.previousPropsStr="",n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.handleNoTrackAddedBound=n.handleNoTrackAdded.bind(n),n.handleTracksAddedBound=n.handleTracksAdded.bind(n),n.closeMenusBound=n.closeMenus.bind(n),n.handleAddDivisorBound=n.handleAddDivisor.bind(n),n.handleAddSeriesBound=n.handleAddSeries.bind(n),n.handleChangeTrackDataBound=n.handleChangeTrackData.bind(n),n.handleChangeTrackTypeBound=n.handleChangeTrackType.bind(n),n.handleCloseTrackBound=n.handleCloseTrack.bind(n),n.handleConfigureTrackBound=n.handleConfigureTrack.bind(n),n.handleExportTrackDataBound=n.handleExportTrackData.bind(n),n.handleLockValueScaleBound=n.handleLockValueScale.bind(n),n.handleReplaceTrackBound=n.handleReplaceTrack.bind(n),n.handleTrackOptionsChangedBound=n.handleTrackOptionsChanged.bind(n),n.handleUnlockValueScaleBound=n.handleUnlockValueScale.bind(n),n.onAddTrack=n.handleAddTrack.bind(n),n}return(0,v.default)(e,t),(0,p.default)(e,[{key:"waitForDOMAttachment",value:function(){function t(t){var e=this;if(this.mounted){var n=_.default.findDOMNode(this);document.body.contains(n)?t():requestAnimationFrame((function(){return e.waitForDOMAttachment(t)}))}}return t}()},{key:"componentDidMount",value:function(){function t(){var t=this;this.mounted=!0,this.element=_.default.findDOMNode(this),this.canvasElement=_.default.findDOMNode(this.props.canvasElement),this.waitForDOMAttachment((function(){T.ElementQueries.listen(),t.resizeSensor=new T.ResizeSensor(t.element.parentNode,t.measureSize.bind(t)),t.measureSize()})),this.addEventListeners(),this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("contextmenu",this.contextMenuHandlerBound))}return t}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function t(t){this.addUidsToTracks(t.tracks),this.setState({tracks:t.tracks})}return t}()},{key:"shouldComponentUpdate",value:function(){function t(t,e){var n=this,r=this.previousPropsStr,i=this.updatablePropsToString(t),o=(0,u.default)(this.state),a=(0,u.default)(e),s=r!==i||o!==a||this.props.chooseTrackHandler!==t.chooseTrackHandler;s&&(this.previousPropsStr=i);var l=this.numTracks;return this.numTracks=0,(0,F.visitPositionedTracks)(this.props.tracks,(function(){return n.numTracks++})),this.reset=this.reset||0===l&&this.numTracks>0,this.numTracks||(this.tracksByUidInit={}),s}return t}()},{key:"UNSAFE_componentWillUpdate",value:function(){function t(){}return t}()},{key:"componentDidUpdate",value:function(){function t(t,e){var n=this;if(e.rangeSelection!==this.state.rangeSelection){var r=[null,null];this.state.defaultChromSizes&&this.state.rangeSelection.every((function(t){return t&&t.length}))&&(r=this.state.rangeSelection.map((function(t){return F.dataToGenomicLoci.apply(void 0,(0,h.default)(t).concat([n.state.defaultChromSizes]))}))),this.props.onRangeSelection({dataRange:this.state.rangeSelection,genomicRange:r})}if(t.tracks.center,this.props.tracks.center,(this.state.addTrackPosition||this.props.addTrackPosition)&&this.props.modal.open(b.default.createElement(A.default,{host:this.state.addTrackHost,onCancel:this.handleNoTrackAddedBound,onTracksChosen:this.handleTracksAddedBound,position:this.state.addTrackPosition||this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),this.state.addDivisorDialog){var i=this.state.addDivisorDialog;this.props.modal.open(b.default.createElement(A.default,{datatype:H.TRACKS_INFO_BY_TYPE[i.type].datatype[0],host:this.state.addTrackHost,onCancel:function(){function t(){n.setState({addDivisorDialog:null})}return t}(),onTracksChosen:function(){function t(t){n.handleDivisorChosen(i,t)}return t}(),trackSourceServers:this.props.trackSourceServers}))}}return t}()},{key:"componentWillUnmount",value:function(){function t(){var t=this;this.closing=!0,this.removeEventListeners(),this.pubSubs.forEach((function(e){return t.props.pubSub.unsubscribe(e)}))}return t}()},{key:"addUidsToTracks",value:function(){function t(t){(0,c.default)(t).forEach((function(e){t[e].forEach((function(t){t.uid=t.uid||y.default.nice()}))}))}return t}()},{key:"contextMenuHandler",value:function(){function t(t){if(this.divTiledPlot){var e=this.divTiledPlot.getBoundingClientRect();if((0,F.isWithin)(t.clientX,t.clientY,e.left,e.left+e.width,e.top,e.top+e.height)){var n=[t.clientX,t.clientY],r=(0,g.clientPoint)(this.divTiledPlot,t),i=this.trackRenderer.zoomedXScale.invert(r[0]),o=this.trackRenderer.zoomedYScale.invert(r[1]),a=null;t.hgCustomItems&&(a=t.hgCustomItems.map((function(t){return b.default.createElement(w.default,{key:t.key,onClick:t.onClick},t.text)}))),this.setState({contextMenuCustomItems:a,contextMenuPosition:{left:n[0],top:n[1],canvasLeft:r[0]+this.trackRenderer.xPositionOffset,canvasTop:r[1]+this.trackRenderer.yPositionOffset},contextMenuDataX:i,contextMenuDataY:o})}}}return t}()},{key:"measureSize",value:function(){function t(){this.element.clientWidth>0&&this.element.clientHeight>0&&this.setState({sizeMeasured:!0,width:this.element.clientWidth,height:this.element.clientHeight})}return t}()},{key:"handleTrackOptionsChanged",value:function(){function t(t,e){return this.props.onTrackOptionsChanged(t,e)}return t}()},{key:"handleScalesChanged",value:function(){function t(t,e){this.xScale=t,this.yScale=e,this.props.onScalesChanged(t,e)}return t}()},{key:"handleTilesetInfoReceived",value:function(){function t(t,e){var n=(0,F.getTrackByUid)(this.props.tracks,t);n?(this.tracksByUidInit[n.uid]=!0,this.checkAllTilesetInfoReceived(),n.options||(n.options={}),n.name=e.name,n.maxWidth=e.max_width,n.transforms=e.transforms,n.aggregationModes=e.aggregation_modes,n.header=e.header,n.binsPerDimension=e.bins_per_dimension,e.resolutions?(n.maxZoom=e.resolutions.length-1,n.resolutions=e.resolutions):n.maxZoom=e.max_zoom,n.coordSystem=e.coordSystem,n.datatype=e.datatype):console.warn("Strange, track not found:",t)}return t}()},{key:"checkAllTilesetInfoReceived",value:function(){function t(){var t=this;if((!this.state.init||this.reset)&&this.trackRenderer&&this.props.zoomToDataExtentOnInit()){var e=(0,c.default)(this.trackRenderer.trackDefObjects).map((function(e){var n=t.trackRenderer.trackDefObjects[e].trackObject;return n.childTracks?n.childTracks:n})).reduce((function(t,e){return t.concat(e)}),[]).filter((function(t){var e=t.tilesetInfo;return typeof e<"u"&&!0!==e})),n=(0,l.default)(this.tracksByUidInit).filter((function(t){return t})).length;e.length===n&&(this.setState({init:!0}),this.reset=!1,this.handleZoomToData())}}return t}()},{key:"handleOverlayMouseEnter",value:function(){function t(t){this.setState({mouseOverOverlayUid:t})}return t}()},{key:"handleOverlayMouseLeave",value:function(){function t(t){t===this.state.mouseOverOverlayUid&&this.setState({mouseOverOverlayUid:null})}return t}()},{key:"handleTrackPositionChosen",value:function(){function t(t){this.setState({mouseOverOverlayUid:null}),this.props.chooseTrackHandler(t.track.uid)}return t}()},{key:"handleNoTrackAdded",value:function(){function t(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackPosition:null,addTrackHost:null})}return t}()},{key:"handleAddDivisor",value:function(){function t(t){this.setState({addDivisorDialog:t})}return t}()},{key:"handleDivisorChosen",value:function(){function t(t,e){this.setState({addDivisorDialog:null});var n=t.data?{server:t.data.server,tilesetUid:t.data.tilesetUid}:{server:t.server,tilesetUid:t.tilesetUid},r={server:e[0].server,tilesetUid:e[0].uuid};this.handleChangeTrackData(t.uid,{type:"divided",children:[n,r]})}return t}()},{key:"handleDivideSeries",value:function(){function t(t){}return t}()},{key:"handleAddSeries",value:function(){function t(t){var e=(0,F.getTrackPositionByUid)(this.props.tracks,t),n=(0,F.getTrackByUid)(this.props.tracks,t);this.setState({addTrackPosition:e,addTrackHost:n})}return t}()},{key:"handleReplaceTrack",value:function(){function t(t,e){this.trackToReplace=t,this.handleAddTrack(e)}return t}()},{key:"handleAddTrack",value:function(){function t(t){this.setState({addTrackPosition:t,addTrackHost:null})}return t}()},{key:"handleResizeTrack",value:function(){function t(t,e,n){var r=this.state.tracks;for(var i in r){var o=r[i].filter((function(e){return e.uid===t}));o.length>0&&(o[0].width=e,o[0].height=n)}this.setState({tracks:r,forceUpdate:Math.random()}),this.props.onResizeTrack()}return t}()},{key:"closeMenus",value:function(){function t(){this.setState({closeTrackMenuId:null,configTrackMenuId:null,contextMenuPosition:null,contextMenuCustomItems:null})}return t}()},{key:"handleLockValueScale",value:function(){function t(t){this.closeMenus(),this.props.onLockValueScale(t)}return t}()},{key:"handleUnlockValueScale",value:function(){function t(t){this.closeMenus(),this.props.onUnlockValueScale(t)}return t}()},{key:"handleCloseTrack",value:function(){function t(t){this.closeMenus(),this.props.onCloseTrack(t)}return t}()},{key:"handleChangeTrackType",value:function(){function t(t,e){this.closeMenus(),this.props.onChangeTrackType(t,e)}return t}()},{key:"handleChangeTrackData",value:function(){function t(t,e){this.closeMenus(),this.props.onChangeTrackData(t,e)}return t}()},{key:"handleTracksAdded",value:function(){function t(t,e,n){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(t,e,n),this.setState({addTrackPosition:null,addTrackHost:null}),t}return t}()},{key:"handleCloseTrackMenuOpened",value:function(){function t(t,e){this.setState({closeTrackMenuId:t,closeTrackMenuLocation:e})}return t}()},{key:"handleCloseContextMenu",value:function(){function t(){this.setState({contextMenuCustomItems:null,contextMenuPosition:null,contextMenuDataX:null,contextMenuDataY:null})}return t}()},{key:"handleCloseTrackMenuClosed",value:function(){function t(){this.setState({closeTrackMenuId:null})}return t}()},{key:"handleConfigTrackMenuOpened",value:function(){function t(t,e){this.closeMenus(),this.setState({configTrackMenuId:t,configTrackMenuLocation:e})}return t}()},{key:"handleConfigureTrack",value:function(){function t(t,e){this.setState({configTrackMenuId:null,trackOptions:{track:t,configComponent:e}}),this.closeMenus()}return t}()},{key:"handleSortEnd",value:function(){function t(t){this.setState((function(e){for(var n=e.tracks,r={},i=0;i<t.length;i++)r[t[i].uid]=i;for(var o in n){var a=n[o];if(a.length&&a[0].uid in r){for(var s=new Array(a.length),l=0;l<a.length;l++)s[r[a[l].uid]]=a[l];n[o]=s}}return{tracks:n,forceUpdate:Math.random()}}))}return t}()},{key:"createTracksAndLocations",value:function(){function t(){var t=[],e=this.state.tracks;return H.TRACK_LOCATIONS.forEach((function(n){e[n]&&e[n].forEach((function(e){e.contents&&e.contents.forEach((function(t){t.position=n})),e.position=n,t.push({track:e,location:n})}))})),t}return t}()},{key:"calculateTrackPosition",value:function(){function t(t,e){var n=this.props.paddingTop,r=this.props.paddingBottom,i=this.props.paddingLeft,o=this.props.paddingRight,a=this.centerWidth,s=t.height,l=0,u=0;switch(e){case"top":i+=this.leftWidth;for(var c=0;c<this.state.tracks.top.length&&this.state.tracks.top[c].uid!==t.uid;c++)n+=this.state.tracks.top[c].height;break;case"bottom":i+=this.leftWidth,n+=this.topHeight+this.centerHeight+this.galleryDim;for(var h=0;h<this.state.tracks.bottom.length&&this.state.tracks.bottom[h].uid!==t.uid;h++)n+=this.state.tracks.bottom[h].height;break;case"left":n+=this.topHeight,a=t.width,s=this.centerHeight;for(var f=0;f<this.state.tracks.left.length&&this.state.tracks.left[f].uid!==t.uid;f++)i+=this.state.tracks.left[f].width;break;case"right":i+=this.leftWidth+this.centerWidth+this.galleryDim,n+=this.topHeight,a=t.width,s=this.centerHeight;for(var d=0;d<this.state.tracks.right.length&&this.state.tracks.right[d].uid!==t.uid;d++)i+=this.state.tracks.right[d].width;break;case"center":i+=this.leftWidth,n+=this.topHeight,s=this.centerHeight;break;case"gallery":i+=this.leftWidthNoGallery,n+=this.topHeightNoGallery,a=this.state.width-this.leftWidthNoGallery-this.rightWidthNoGallery-this.props.paddingLeft,s=this.state.height-this.topHeightNoGallery-this.bottomHeightNoGallery-this.props.paddingTop,l=this.galleryDim,u=this.galleryDim;for(var p=0;p<this.state.tracks.gallery.length&&this.state.tracks.gallery[p].uid!==t.uid;p++)a-=2*this.state.tracks.gallery[p].height,s-=2*this.state.tracks.gallery[p].height,i+=this.state.tracks.gallery[p].height,n+=this.state.tracks.gallery[p].height,l-=this.state.tracks.gallery[p].height,u-=this.state.tracks.gallery[p].height;for(var m=0;m<this.state.tracks.right.length;m++)o+=this.state.tracks.right[m].width;for(var v=0;v<this.state.tracks.bottom.length;v++)r+=this.state.tracks.bottom[v].height;t.offsetX=l,t.offsetY=u,t.offsetTop=n,t.offsetRight=o,t.offsetBottom=r,t.offsetLeft=i;break;default:a=this.leftWidth+this.centerWidth+this.rightWidth,s=this.topHeight+this.centerHeight+this.bottomHeight}return-1===H.TRACK_LOCATIONS.indexOf(e)&&console.warn("Track with unknown position present:",e,t),{left:i,top:n,width:a,height:s,track:t}}return t}()},{key:"findCentralHeatmapTrack",value:function(){function t(t){for(var e=0;e<t.length;e++){if("combined"===t[e].type)return this.findCentralHeatmapTrack(t[e].contents);if("heatmap"===t[e].type)return t[e]}}return t}()},{key:"trackUuidToOrientation",value:function(){function t(t){}return t}()},{key:"overlayTracks",value:function(){function t(t){var e=this;return this.props.overlays?this.props.overlays.filter((function(t){return t.includes&&t.includes.length})).map((function(n){var r=n.type?"overlay-"+String(n.type)+"-track":"overlay-track",i=(0,s.default)({},n,{uid:n.uid||y.default.nice(),includes:n.includes,type:r,options:(0,s.default)(n.options,{orientationsAndPositions:n.includes.map((function(n){var r=(0,F.getTrackByUid)(e.props.tracks,n);if(!r)return console.warn("OverlayTrack included uid ("+String(n)+") not found in the track list"),null;var i=(0,F.getTrackPositionByUid)(e.props.tracks,r.uid),o=void 0;if(("top"===i||"bottom"===i)&&(o="1d-horizontal"),("left"===i||"right"===i)&&(o="1d-vertical"),"center"===i&&(o="2d"),!o)return console.warn("Only top, bottom, left, right, or center tracks can be overlaid at the moment"),null;var a=t.filter((function(t){return t.track.uid===n}));return a.length?{orientation:o,position:{left:a[0].left-e.props.paddingLeft,top:a[0].top-e.props.paddingTop,width:a[0].width,height:a[0].height}}:null})).filter((function(t){return t}))})});return{top:e.props.paddingTop,left:e.props.paddingLeft,width:e.leftWidth+e.centerWidth+e.rightWidth,height:e.topHeight+e.centerHeight+e.bottomHeight+e.props.marginTop+e.props.marginBottom,track:i}})):[]}return t}()},{key:"positionedTracks",value:function(){function t(){var t=this;return this.createTracksAndLocations().map((function(e){var n=e.track,r=e.location;return t.calculateTrackPosition(n,r)}))}return t}()},{key:"createTrackPositionTexts",value:function(){function t(){var t=this.positionedTracks();return this.createTracksAndLocations(),t.map((function(t){var e=t.track;return b.default.createElement("div",{key:e.uid,style:{left:t.left,top:t.top,width:t.width,height:t.height,position:"absolute"}},e.uid.slice(0,2))}))}return t}()},{key:"handleExportTrackData",value:function(){function t(t,e){var n=(0,F.getTrackByUid)(this.props.tracks,e);(t!==e?this.trackRenderer.trackDefObjects[t].trackObject.createdTracks[n.uid]:this.trackRenderer.trackDefObjects[t].trackObject).exportData(),this.closeMenus()}return t}()},{key:"listTracksAtPosition",value:function(){function t(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if(!this.trackRenderer)return[];for(var i in this.trackRenderer.trackDefObjects){var o=this.trackRenderer.trackDefObjects[i].trackObject;if(o.respondsToPosition(t,e))if(n){if(this.props.tracks.center)if(this.props.tracks.center.contents)for(var a=0;a<this.props.tracks.center.contents.length;a++)this.props.tracks.center.contents[a].uid===i&&(o.is2d=!0);else this.props.tracks.center&&this.props.tracks.center.length&&this.props.tracks.center[0].uid===i&&(o.is2d=!0);r.push(o)}else r.push(this.trackRenderer.trackDefObjects[i].trackDef.track)}return r}return t}()},{key:"listAllTrackObjects",value:function(){function t(){var t=[];for(var e in this.trackRenderer.trackDefObjects){var n=this.trackRenderer.trackDefObjects[e];if(n.trackObject.createdTracks)for(var r in n.trackObject.createdTracks){var i=n.trackObject.createdTracks[r];t.push(i)}else t.push(n.trackObject)}return t}return t}()},{key:"handleZoomToData",value:function(){function t(){var t=a.default,e=o.default,n=[t,t],r=[e,e],s=this.listAllTrackObjects(),l=!0,u=!1,c=void 0;try{for(var h,f=(0,i.default)(s);!(l=(h=f.next()).done);l=!0){var d=h.value;if(d.tilesetInfo&&d.tilesetInfo.min_pos)for(var p=0;p<d.tilesetInfo.min_pos.length;p++)d.tilesetInfo.min_pos[p]<n[p]&&(n[p]=d.tilesetInfo.min_pos[p]),d.tilesetInfo.max_pos[p]>r[p]&&(r[p]=d.tilesetInfo.max_pos[p])}}catch(b){u=!0,c=b}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}var m=this.trackRenderer.currentProps.paddingLeft+this.trackRenderer.currentProps.leftWidth,v=[m,m+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert),g=this.trackRenderer.currentProps.paddingTop+this.trackRenderer.currentProps.topHeight,y=[g,g+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),n[0]<a.default&&r[0]>o.default&&(v=[n[0],r[0]]),n[1]<a.default&&r[1]>o.default&&(y=[n[1],r[1]]),this.props.onDataDomainChanged(v,y)}return t}()},{key:"resetViewport",value:function(){function t(){this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),this.props.onDataDomainChanged(this.props.initialXDomain,this.props.initialYDomain)}return t}()},{key:"updatablePropsToString",value:function(){function t(t){return(0,u.default)({tracks:t.tracks,overlays:t.overlays,viewOptions:t.viewOptions,uid:t.uid,addTrackPosition:t.addTrackPosition,editable:t.editable,marginTop:t.marginTop,marginBottom:t.marginBottom,marginLeft:t.marginLeft,marginRight:t.marginRight,paddingTop:t.paddingTop,paddingBottom:t.paddingBottom,paddingLeft:t.paddingLeft,paddingRight:t.paddingRight,mouseTool:t.mouseTool,initialXDomain:t.initialXDomain,initialYDomain:t.initialYDomain,trackSourceServers:t.trackSourceServers,zoomable:t.zoomable,draggingHappending:t.draggingHappening})}return t}()},{key:"getXYScales",value:function(){function t(){this.trackRenderer&&(this.xScale=this.trackRenderer.currentXScale,this.yScale=this.trackRenderer.currentYScale)}return t}()},{key:"rangeViewToDataLoci",value:function(){function t(t,e){return e?[parseInt(e.invert(t[0]),10),parseInt(e.invert(t[1]),10)]:[null,null]}return t}()},{key:"rangeSelectionResetHandler",value:function(){function t(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null,rangeSelectionEnd:!1})}return t}()},{key:"rangeSelection1dEndHandler",value:function(){function t(t){var e=this;(!this.xScale||!this.yScale)&&this.getXYScales();var n="x"===t?this.xScale:this.yScale;return function(r){e.setState((function(i){var o=i.is1dRangeSelection?[null,null]:i.rangeSelection.slice(),a=e.state.is1dRangeSelection||"y"!==t?0:1,s=e.rangeViewToDataLoci(r,n),l=s[1]-s[0];if(e.props.rangeSelection1dSize[0]>l){var u=s[0]+l/2;s=[u-e.props.rangeSelection1dSize[0]/2,u+e.props.rangeSelection1dSize[0]/2]}else if(e.props.rangeSelection1dSize[1]<l){var c=s[0]+l/2;s=[c-e.props.rangeSelection1dSize[1]/2,c+e.props.rangeSelection1dSize[1]/2]}return o[a]=s,e.props.rangeSelectionToInt&&(o[a]=o[a].map((function(t){return Math.round(t)}))),{rangeSelection:o,rangeSelectionEnd:!0}}))}}return t}()},{key:"rangeSelection1dHandler",value:function(){function t(t){var e=this;(!this.xScale||!this.yScale)&&this.getXYScales();var n="x"===t?this.xScale:this.yScale;return function(r){e.setState((function(i){var o=i.is1dRangeSelection?[null,null]:i.rangeSelection.slice();return o[i.is1dRangeSelection||"y"!==t?0:1]=e.rangeViewToDataLoci(r,n),{rangeSelection:o,rangeSelectionEnd:!1}}))}}return t}()},{key:"rangeSelection1dStartHandler",value:function(){function t(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}return t}()},{key:"rangeSelection2dHandler",value:function(){function t(t){(!this.xScale||!this.yScale)&&this.getXYScales(),this.setState({rangeSelection:[this.rangeViewToDataLoci(t[0],this.xScale),this.rangeViewToDataLoci(t[1],this.yScale)],rangeSelectionEnd:!1})}return t}()},{key:"rangeSelection2dStartHandler",value:function(){function t(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}return t}()},{key:"rangeSelection2dEndHandler",value:function(){function t(t){var e=this;(!this.xScale||!this.yScale)&&this.getXYScales();var n=this.rangeViewToDataLoci(t[0],this.xScale),r=this.rangeViewToDataLoci(t[1],this.yScale),i=[n,r],o=[n[1]-n[0],r[1]-r[0]];i.forEach((function(t,n){if(e.props.rangeSelection1dSize[0]>o[n]){var r=t[0]+Math.round(o[n]/2);t[0]=r-e.props.rangeSelection1dSize[0]/2,t[1]=r+e.props.rangeSelection1dSize[0]/2}else if(e.props.rangeSelection1dSize[1]<o[n]){var i=t[0]+Math.round(o[n]/2);t[0]=i-e.props.rangeSelection1dSize[1]/2,t[1]=i+e.props.rangeSelection1dSize[1]/2}})),this.props.rangeSelectionToInt&&(i=i.map((function(t){return t.map((function(t){return Math.round(t)}))}))),this.setState({rangeSelection:i,rangeSelectionEnd:!0})}return t}()},{key:"getContextMenu",value:function(){function t(){var t=this;if(this.state.contextMenuPosition){var e=this.listTracksAtPosition(this.state.contextMenuPosition.canvasLeft,this.state.contextMenuPosition.canvasTop);return b.default.createElement(M.default,{onMenuClosed:this.closeMenusBound},b.default.createElement(D.default,{closeMenu:this.closeMenusBound,coords:[this.state.contextMenuDataX,this.state.contextMenuDataY],customItems:this.state.contextMenuCustomItems,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:function(){function e(e){t.props.onTracksAdded([e],e.position,null),t.handleCloseContextMenu()}return e}(),onChangeTrackData:this.handleChangeTrackDataBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,orientation:"right",position:this.state.contextMenuPosition,theme:this.props.theme,tracks:e,trackSourceServers:this.props.trackSourceServers}))}return null}return t}()},{key:"getIdealizedTrackPositionsOverlay",value:function(){function t(){var t=this,e=this.props.draggingHappening,n=e.datatype;if(n in H.DEFAULT_TRACKS_FOR_DATATYPE||e.defaultTracks){var o={"1d-horizontal":["top","bottom","left","right"],"2d":["center"],"1d-vertical":["left","right"]},a=H.DEFAULT_TRACKS_FOR_DATATYPE[n]||{};if(e.defaultTracks){var s=!0,l=!1,u=void 0;try{for(var h,f=(0,i.default)(e.defaultTracks);!(s=(h=f.next()).done);s=!0){var d=h.value;if(H.TRACKS_INFO_BY_TYPE[d]){var p=!0,m=!1,v=void 0;try{for(var g,y=(0,i.default)(o[H.TRACKS_INFO_BY_TYPE[d].orientation]);!(p=(g=y.next()).done);p=!0)a[g.value]=d}catch(z){m=!0,v=z}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}else console.warn("unknown track type",d)}}catch(z){l=!0,u=z}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}var _=new r.default(["top","left","right","center","bottom"].filter((function(e){return e in t.state.tracks&&t.state.tracks[e].length}))),x="top"in a,T="left"in a,w="right"in a,S="bottom"in a,k="center"in a,C="center"in a||_.has("left")||_.has("right")||_.has("center"),A="top"in a,O="bottom"in a&&C,P="left"in a&&C,M="right"in a&&C,I=(0,c.default)(a).length&&("center"in a||C),R=b.default.createElement("div",{style:{flexGrow:1}}),L=b.default.cloneElement(R),D=b.default.createElement("div",{style:{display:"flex",flexGrow:1}},A&&(I||P)?R:null,b.default.createElement(E.default,{defaultTrackType:a.top,draggingHappening:this.props.draggingHappening,enabled:x,onTrackDropped:function(){function e(e){return t.handleTracksAdded([e],"top")}return e}(),style:{border:"1px solid black",flexGrow:1}}),A&&(I||P)?L:null),N=b.default.createElement("div",{style:{display:"flex",flexGrow:1}},A&&(I||P)?R:null,b.default.createElement(E.default,{defaultTrackType:a.bottom,draggingHappening:this.props.draggingHappening,enabled:S,onTrackDropped:function(){function e(e){return t.handleTracksAdded([e],"bottom")}return e}(),style:{border:"1px solid black",flexGrow:1}}),A&&(I||P)?L:null),j=b.default.createElement(E.default,{defaultTrackType:a.left,draggingHappening:this.props.draggingHappening,enabled:T,onTrackDropped:function(){function e(e){return t.handleTracksAdded([e],"left")}return e}(),style:{border:"1px solid black",flexGrow:1}}),B=b.default.createElement(E.default,{defaultTrackType:a.center,draggingHappening:this.props.draggingHappening,enabled:k,onTrackDropped:function(){function e(e){return t.handleTracksAdded([e],"center")}return e}(),position:"center",style:{border:"1px solid black",flexGrow:1}}),F=b.default.cloneElement(j,{defaultTrackType:a.right,enabled:w,onTrackDropped:function(){function e(e){return t.handleTracksAdded([e],"right")}return e}()});return b.default.createElement("div",{style:{position:"absolute",left:"0px",top:"0px",width:this.state.width,height:this.state.height}},b.default.createElement("div",{style:{position:"absolute",width:this.state.width,height:this.state.height,background:"white",opacity:.4}}),b.default.createElement("div",{style:{width:this.state.width,height:this.state.height,position:"absolute",display:"flex",flexDirection:"column"}},A?D:null,C&&b.default.createElement("div",{style:{display:"flex",height:A||O?"40%":"100%",width:"100%"}},P?j:null,I?B:null,M?F:null),O?N:null))}console.warn("unknown data type:",e.higlassTrack)}return t}()},{key:"render",value:function(){function t(){var t=this;this.galleryDim=this.props.tracks.gallery?this.props.tracks.gallery.map((function(t){return t.height})).reduce(F.sum,0):0,this.topHeightNoGallery=this.props.tracks.top.map((function(t){return t.height})).reduce(F.sum,0),this.topHeight=this.topHeightNoGallery+this.galleryDim,this.bottomHeightNoGallery=this.props.tracks.bottom.map((function(t){return t.height})).reduce(F.sum,0),this.bottomHeight=this.bottomHeightNoGallery+this.galleryDim,this.leftWidthNoGallery=this.props.tracks.left.map((function(t){return t.width})).reduce(F.sum,0),this.leftWidth=this.leftWidthNoGallery+this.galleryDim,this.rightWidthNoGallery=this.props.tracks.right.map((function(t){return t.width})).reduce(F.sum,0),this.rightWidth=this.rightWidthNoGallery+this.galleryDim;var e=this.props.paddingTop+this.props.paddingBottom,n=this.props.paddingLeft+this.props.paddingRight;this.centerHeight=Math.max(0,this.state.height-this.topHeight-this.bottomHeight-e),this.centerWidth=Math.max(0,this.state.width-this.leftWidth-this.rightWidth-n);var i="none",o=b.default.createElement("div",{className:"top-track-container",style:{left:this.leftWidth+this.props.paddingLeft,top:this.props.paddingTop,width:this.centerWidth,height:this.topHeightNoGallery,outline:i,position:"absolute"}},b.default.createElement(R.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===H.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),a=b.default.createElement("div",{className:"left-track-container",style:{left:this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.leftWidthNoGallery,height:this.centerHeight,outline:i,position:"absolute"}},b.default.createElement(L.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===H.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),s=b.default.createElement("div",{className:"right-track-container",style:{right:this.props.paddingRight,top:this.topHeight+this.props.paddingTop,width:this.rightWidthNoGallery,height:this.centerHeight,outline:i,position:"absolute"}},b.default.createElement(L.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===H.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),l=b.default.createElement("div",{className:"bottom-track-container",style:{left:this.leftWidth+this.props.paddingLeft,bottom:this.props.paddingBottom,width:this.centerWidth,height:this.bottomHeightNoGallery,outline:i,position:"absolute"}},b.default.createElement(R.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===H.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),u=b.default.createElement("div",{key:"galleryTracksDiv",className:"gallery-track-container",style:{left:this.leftWidthNoGallery+this.props.paddingLeft,top:this.topHeightNoGallery+this.props.paddingTop,width:this.centerWidth+2*this.galleryDim,height:this.centerHeight+2*this.galleryDim,outline:i,position:"absolute"}},b.default.createElement(k.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight+2*this.galleryDim,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),tracks:this.props.tracks.gallery,width:this.centerWidth+2*this.galleryDim})),c=b.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.bottomHeight,outline:i}});this.props.tracks.center.length&&(c=b.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.centerHeight,outline:i}},b.default.createElement(S.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===H.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionXYEnd:this.rangeSelection2dEndHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionYEnd:this.rangeSelection1dEndHandler("y").bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();var h=this.positionedTracks();h=h.concat(this.overlayTracks(h));var f=null;this.state.sizeMeasured&&(f=b.default.createElement(C.default,{ref:function(){function e(e){t.trackRenderer=e,t.checkAllTilesetInfoReceived()}return e}(),canvasElement:this.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,disableTrackMenu:this.props.disableTrackMenu,dragging:this.props.dragging,galleryDim:this.galleryDim,getLockGroupExtrema:this.props.getLockGroupExtrema,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===H.MOUSE_TOOL_SELECT,isShowGlobalMousePosition:this.props.isShowGlobalMousePosition,isValueScaleLocked:this.props.isValueScaleLocked,leftWidth:this.leftWidth,leftWidthNoGallery:this.leftWidthNoGallery,metaTracks:this.props.metaTracks,onMouseMoveZoom:this.props.onMouseMoveZoom,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,paddingLeft:this.props.paddingLeft,paddingTop:this.props.paddingTop,pixiRenderer:this.props.pixiRenderer,pixiStage:this.props.pixiStage,pluginDataFetchers:this.props.pluginDataFetchers,pluginTracks:this.props.pluginTracks,positionedTracks:h,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,topHeightNoGallery:this.topHeightNoGallery,uid:this.props.uid,viewOptions:this.props.viewOptions,width:this.state.width,xDomainLimits:this.props.xDomainLimits,yDomainLimits:this.props.yDomainLimits,zoomable:this.props.zoomable,zoomLimits:this.props.zoomLimits},o,a,s,l,u,c));var d=null,p=null;this.state.configTrackMenuId&&(d=b.default.createElement(M.default,{onMenuClosed:this.closeMenusBound},b.default.createElement(O.default,{ref:function(){function e(e){t.configTrackMenu=e}return e}(),closeMenu:this.closeMenusBound,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:this.handleAddTrackBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,position:this.state.configTrackMenuLocation,theme:this.props.theme,trackOrientation:(0,F.getTrackPositionByUid)(this.props.tracks,this.state.configTrackMenuId),tracks:[(0,F.getTrackByUid)(this.props.tracks,this.state.configTrackMenuId)]}))),this.state.closeTrackMenuId&&(p=b.default.createElement(M.default,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},b.default.createElement(I.default,{position:this.state.closeTrackMenuLocation,theme:this.props.theme},b.default.createElement(P.default,{onCloseTrack:this.handleCloseTrack.bind(this),tracks:[(0,F.getTrackByUid)(this.props.tracks,this.state.closeTrackMenuId)]}))));var m=null;this.props.chooseTrackHandler&&(m=h.filter((function(t){return"whole"!==t.track.position})).map((function(e){var n="transparent",r="none";return t.state.mouseOverOverlayUid===e.track.uid&&(n="yellow",r="1px solid black"),b.default.createElement("div",{key:e.track.uid,className:"tiled-plot-track-overlay",onClick:function(){function n(){return t.handleTrackPositionChosen(e)}return n}(),onDragEnter:function(){function n(n){t.handleOverlayMouseEnter(e.track.uid),n.preventDefault()}return n}(),onDragLeave:function(){function n(){return t.handleOverlayMouseLeave(e.track.uid)}return n}(),onDragOver:function(){function t(t){return t.preventDefault()}return t}(),onDrop:function(){function n(){return t.handleTrackPositionChosen(e)}return n}(),onMouseEnter:function(){function n(){return t.handleOverlayMouseEnter(e.track.uid)}return n}(),onMouseLeave:function(){function n(){return t.handleOverlayMouseLeave(e.track.uid)}return n}(),style:{position:"absolute",left:e.left,top:e.top,width:e.width,height:e.height,background:n,opacity:.4,border:r,zIndex:1}})})));var v=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){var g=this.state.trackOptions.configComponent,y=this.state.trackOptions.track;v=b.default.createElement(g,{track:y,xScale:this.xScale,yScale:this.yScale,onCancel:function(){function e(){t.setState({trackOptions:null})}return e}(),onTrackOptionsChanged:function(){function t(t){return t}return t}(),onSubmit:function(){function e(e){t.handleTrackOptionsChanged(t.state.trackOptions.track.uid,e),t.setState({trackOptions:null})}return e}()})}return b.default.createElement("div",{ref:function(){function e(e){t.divTiledPlot=e}return e}(),className:"tiled-plot-div TiledPlot-module_tiled-plot-uFHiB",style:{marginBottom:this.props.marginBottom,marginLeft:this.props.marginLeft,marginRight:this.props.marginRight,marginTop:this.props.marginTop}},f,m,d,p,v,this.getContextMenu(),this.props.draggingHappening&&this.getIdealizedTrackPositionsOverlay())}return t}()},{key:"addEventListeners",value:function(){function t(){this.eventListeners=[],this.eventListeners.forEach((function(t){return document.addEventListener(t.name,t.callback,!1)}))}return t}()},{key:"removeEventListeners",value:function(){function t(){this.eventListeners.forEach((function(t){return document.removeEventListener(t.name,t.callback)}))}return t}()}]),e}(b.default.Component);U.defaultProps={isShowGlobalMousePosition:!1,pluginDataFetchers:{},pluginTracks:{},metaTracks:[],zoomable:!0},U.propTypes={addTrackPosition:x.default.string,canvasElement:x.default.object,chooseTrackHandler:x.default.func,chromInfoPath:x.default.string,disableTrackMenu:x.default.bool,dragging:x.default.bool,draggingHappening:x.default.bool,editable:x.default.bool,getLockGroupExtrema:x.default.func,initialXDomain:x.default.array,initialYDomain:x.default.array,isShowGlobalMousePosition:x.default.bool,isValueScaleLocked:x.default.func,marginBottom:x.default.number.isRequired,marginLeft:x.default.number.isRequired,marginRight:x.default.number.isRequired,marginTop:x.default.number.isRequired,paddingBottom:x.default.number.isRequired,paddingLeft:x.default.number.isRequired,paddingRight:x.default.number.isRequired,paddingTop:x.default.number.isRequired,metaTracks:x.default.array,modal:x.default.object,mouseTool:x.default.string,onCloseTrack:x.default.func,onChangeTrackData:x.default.func,onChangeTrackType:x.default.func,onDataDomainChanged:x.default.func,onLockValueScale:x.default.func,onMouseMoveZoom:x.default.func,onNewTilesLoaded:x.default.func,onNoTrackAdded:x.default.func,onRangeSelection:x.default.func.isRequired,onScalesChanged:x.default.func,onTrackOptionsChanged:x.default.func,onTrackPositionChosen:x.default.func,onTracksAdded:x.default.func,onUnlockValueScale:x.default.func,onValueScaleChanged:x.default.func,onResizeTrack:x.default.func,overlays:x.default.array,openModal:x.default.func,pixiRenderer:x.default.object,pixiStage:x.default.object,pluginDataFetchers:x.default.object,pluginTracks:x.default.object,pubSub:x.default.object.isRequired,rangeSelection1dSize:x.default.array,rangeSelectionToInt:x.default.bool,registerDraggingChangedListener:x.default.func,removeDraggingChangedListener:x.default.func,setCentersFunction:x.default.func,svgElement:x.default.object,theme:x.default.symbol.isRequired,tracks:x.default.object,trackSourceServers:x.default.array,uid:x.default.string,viewOptions:x.default.object,xDomainLimits:x.default.array,yDomainLimits:x.default.array,zoomable:x.default.bool,zoomLimits:x.default.array,zoomToDataExtentOnInit:x.default.func},e.default=(0,N.default)((0,j.default)((0,B.default)(U)))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(7)),l=g(n(29)),u=g(n(2)),c=g(n(1)),h=n(83),f=n(0),d=g(n(174)),p=n(10),m=n(11);g(n(346));var v=g(n(175));function g(t){return t&&t.__esModule?t:{default:t}}var y={styles:{"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},b={pointerEvents:"all"},_=function(t){function e(t){(0,i.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.state={isVisible:!1},n.brushBehaviorX=(0,h.brushX)(!0,!0).on("brush",n.brushedX.bind(n)).on("end",n.brushedXEnded.bind(n)),n.brushBehaviorY=(0,h.brushY)(!0,!0,!0).on("brush",n.brushedY.bind(n)).on("end",n.brushedYEnded.bind(n)),n.brushBehaviorXY=(0,h.brush)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushedXY.bind(n)).on("end",n.brushedXYEnded.bind(n)),n}return(0,s.default)(e,t),(0,o.default)(e,[{key:"componentDidMount",value:function(){function t(){this.props.isRangeSelectionActive&&this.addBrush2d()}return t}()},{key:"shouldComponentUpdate",value:function(){function t(t,e){if(this.rangeSelectionTriggeredXY){if(this.rangeSelectionTriggeredXY=!1,this.rangeSelectionTriggeredXYEnd){var n=t.rangeSelection[0]||null;this.moveBrushXY([n,t.rangeSelection[1]],!0),this.rangeSelectionTriggeredXYEnd=!1}return this.state!==e}if(this.props.rangeSelection!==t.rangeSelection){var r=t.rangeSelection[0]||null;this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(r,t.rangeSelectionEnd),this.rangeSelectionTriggeredXEnd&&this.moveBrushX(r,t.rangeSelectionEnd,!0),this.rangeSelectionTriggeredY||this.moveBrushY(r,t.rangeSelectionEnd),this.rangeSelectionTriggeredYEnd&&this.moveBrushY(r,t.rangeSelectionEnd,!0),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredXEnd=!1,this.rangeSelectionTriggeredY=!1,this.rangeSelectionTriggeredYEnd=!1):this.moveBrushXY([r,t.rangeSelection[1]],t.rangeSelectionEnd);var i=this.props.is1dRangeSelection&&!t.is1dRangeSelection&&null===r;return this.state!==e||i}return!0}return t}()},{key:"componentDidUpdate",value:function(){function t(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}return t}()},{key:"addBrush1d",value:function(){function t(){!this.brushElX||!this.brushElY||this.brushElXOld===this.brushElX&&this.brushElYOld===this.brushElY||(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),this.brushElY.call(this.brushBehaviorY),(0,p.resetD3BrushStyle)(this.brushElX,v.default["track-range-selection-group-brush-selection"]),(0,p.resetD3BrushStyle)(this.brushElY,v.default["track-range-selection-group-brush-selection"]),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}return t}()},{key:"addBrush2d",value:function(){function t(){!this.brushElXY||this.brushElXYOld===this.brushElXY||(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0,(0,p.resetD3BrushStyle)(this.brushElXY,v.default["track-range-selection-group-brush-selection"]))}return t}()},{key:"brushedX",value:function(){function t(){var t=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!t&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(f.event.selection))}return t}()},{key:"brushedXEnded",value:function(){function t(){var t=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,this.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!t&&(this.rangeSelectionTriggeredX=!0,this.rangeSelectionTriggeredXEnd=!0,this.props.onRangeSelectionXEnd(f.event.selection))}return t}()},{key:"brushedY",value:function(){function t(){var t=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!t&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(f.event.selection))}return t}()},{key:"brushedYEnded",value:function(){function t(){var t=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,this.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!t&&(this.rangeSelectionTriggeredY=!0,this.rangeSelectionTriggeredYEnd=!0,this.props.onRangeSelectionYEnd(f.event.selection))}return t}()},{key:"brushedXY",value:function(){function t(){var t=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionXY&&!t&&!this.props.is1dRangeSelection&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[f.event.selection[0][0],f.event.selection[1][0]],[f.event.selection[0][1],f.event.selection[1][1]]]))}return t}()},{key:"brushedXYEnded",value:function(){function t(){if(!this.props.is1dRangeSelection){var t=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,f.event.selection&&f.event.sourceEvent&&this.props.onRangeSelectionXY&&!t&&(this.rangeSelectionTriggeredXY=!0,this.rangeSelectionTriggeredXYEnd=!0,this.props.onRangeSelectionXYEnd([[f.event.selection[0][0],f.event.selection[1][0]],[f.event.selection[0][1],f.event.selection[1][1]]])),f.event.selection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionReset())}}return t}()},{key:"brushStarted",value:function(){function t(){this.sourceEvent&&this.props.onRangeSelectionStart()}return t}()},{key:"moveBrushX",value:function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var n=t?[this.props.scaleX(t[0]),this.props.scaleX(t[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,e?this.brushElX.transition().call(this.brushBehaviorX.move,n):this.brushElX.call(this.brushBehaviorX.move,n)}}return t}()},{key:"moveBrushY",value:function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var n=t?[this.props.scaleY(t[0]),this.props.scaleY(t[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,e?this.brushElY.transition().call(this.brushBehaviorY.move,n):this.brushElY.call(this.brushBehaviorY.move,n)}}return t}()},{key:"moveBrushXY",value:function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){var n=[[this.props.scaleX(t[0][0]),this.props.scaleY(t[1][0])],[this.props.scaleX(t[0][1]),this.props.scaleY(t[1][1])]];this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,e?this.brushElXY.transition().call(this.brushBehaviorXY.move,n):this.brushElXY.call(this.brushBehaviorXY.move,n)}}return t}()},{key:"mouseEnterHandler",value:function(){function t(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}return t}()},{key:"mouseLeaveHandler",value:function(){function t(){this.setState({isVisible:!1})}return t}()},{key:"removeBrush1d",value:function(){function t(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}return t}()},{key:"removeBrush2d",value:function(){function t(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,this.props.is1dRangeSelection||this.props.onRangeSelectionReset())}return t}()},{key:"render",value:function(){function t(){var t=this,e=this.props.tracks.map((function(t){return(0,m.IS_TRACK_RANGE_SELECTABLE)(t)})).reduce(p.or,!1),n=this.props.tracks.some((function(t){return t.contents?t.contents.some((function(t){return"heatmap"===t.type&&"topRight"===t.options.colorbarPosition})):"heatmap"===t.type&&"topRight"===t.options.colorbarPosition})),r="stylesTrack.track-range-selection";this.props.isRangeSelectionActive&&(r+=this.props.is1dRangeSelection?"-active-secondary":"-active-primary");var i=this.props.is1dRangeSelection?"":"stylesTrack.track-range-selection-group-inactive",o=this.props.is1dRangeSelection?"stylesTrack.track-range-selection-group-inactive":"";return c.default.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"CenterTrack-module_center-track-3ptRW",onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},e&&c.default.createElement("svg",{style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,y)},c.default.createElement("g",{ref:function(){function e(e){t.brushElX=(0,f.select)(e)}return e}(),className:(0,l.default)(i,y)}),c.default.createElement("g",{ref:function(){function e(e){t.brushElY=(0,f.select)(e)}return e}(),className:(0,l.default)(i,y)}),c.default.createElement("g",{ref:function(){function e(e){t.brushElXY=(0,f.select)(e)}return e}(),className:(0,l.default)(o,y)})),this.props.editable&&c.default.createElement(d.default,{imgStyleAdd:b,imgStyleClose:b,imgStyleMove:b,imgStyleSettings:b,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:n,uid:this.props.uid}))}return t}()},{key:"sourceEvent",get:function(){function t(){return f.event&&f.event.sourceEvent}return t}()}]),e}(c.default.Component);_.defaultProps={className:"center-track",configTrackMenuId:null,is1dRangeSelection:!1,rangeSelectionEnd:u.default.bool,isRangeSelectionActive:!1,scaleX:function(){function t(t){return t}return t}(),scaleY:function(){function t(t){return t}return t}()},_.propTypes={className:u.default.string,configTrackMenuId:u.default.string,editable:u.default.bool.isRequired,height:u.default.number.isRequired,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,onAddSeries:u.default.func.isRequired,onCloseTrackMenuOpened:u.default.func.isRequired,onConfigTrackMenuOpened:u.default.func.isRequired,onRangeSelectionX:u.default.func.isRequired,onRangeSelectionXEnd:u.default.func.isRequired,onRangeSelectionY:u.default.func.isRequired,onRangeSelectionYEnd:u.default.func.isRequired,onRangeSelectionXY:u.default.func.isRequired,onRangeSelectionXYEnd:u.default.func.isRequired,onRangeSelectionReset:u.default.func.isRequired,onRangeSelectionStart:u.default.func.isRequired,rangeSelection:u.default.array.isRequired,rangeSelectionEnd:u.default.bool,scaleX:u.default.func,scaleY:u.default.func,tracks:u.default.array.isRequired,uid:u.default.string.isRequired,width:u.default.number.isRequired},e.default=_},function(t,e,n){t.exports={"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(44)),i=p(n(5)),o=p(n(3)),a=p(n(4)),s=p(n(6)),l=p(n(7)),u=p(n(29)),c=p(n(2)),h=p(n(1)),f=p(n(26)),d=p(n(69));function p(t){return t&&t.__esModule?t:{default:t}}n(608);var m={"../styles/DragListeningDiv.module.scss":{"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},v=function(t){function e(t){(0,o.default)(this,e);var n=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return n.state={dragOnTop:!1},n}return(0,l.default)(e,t),(0,a.default)(e,[{key:"render",value:function(){function t(){var t=this,e="red";this.props.enabled&&this.state.dragOnTop?e="green":this.props.enabled&&(e="blue");var n=this.props.enabled?"drag-listening-div-active":"";return h.default.createElement("div",{onDragEnter:function(){function e(){t.setState({dragOnTop:!0})}return e}(),onDragLeave:function(){function e(){t.setState({dragOnTop:!1})}return e}(),onDragOver:function(){function t(t){t.preventDefault()}return t}(),onDrop:function(){function e(){if(t.props.enabled){var e=t.props.draggingHappening,n={type:t.props.defaultTrackType,uid:f.default.nice(),tilesetUid:e.tilesetUid,server:e.server};t.props.onTrackDropped(n),t.props.pubSub.publish("trackDropped",n)}}return e}(),style:(0,r.default)({background:e,opacity:.6},this.props.style),className:"DragListeningDiv "+(0,u.default)(n,m)})}return t}()}]),e}(h.default.Component);v.defaultProps={enabled:!1,style:{},draggingHappening:{},onTrackDropped:function(){function t(){}return t}()},v.propTypes={enabled:c.default.bool,style:c.default.object,defaultTrackType:c.default.object,draggingHappening:c.default.object,onTrackDropped:c.default.func,position:c.default.string.isRequired,pubSub:c.default.object.isRequired},e.default=(0,d.default)(v)},function(t,e,n){t.exports={"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(2)),u=h(n(1)),c=h(n(174));function h(t){return t&&t.__esModule?t:{default:t}}h(n(610)),h(n(176)),h(n(175));var f={pointerEvents:"all"},d=function(t){function e(t){(0,i.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.state={hovering:!1},n}return(0,s.default)(e,t),(0,o.default)(e,[{key:"mouseEnterHandler",value:function(){function t(){this.setState({hovering:!0})}return t}()},{key:"mouseLeaveHandler",value:function(){function t(){this.setState({hovering:!1})}return t}()},{key:"render",value:function(){function t(){var t=this;return u.default.createElement("div",{className:"gallery-tracks GalleryTracks-module_gallery-tracks-3tsUO"},this.props.tracks&&this.props.tracks.map((function(e,n){return u.default.createElement("div",{key:e.uid||n,onMouseLeave:t.mouseLeaveHandler.bind(t),style:{top:e.height*n,right:e.height*n,bottom:e.height*n,left:e.height*n},className:"GalleryTracks-module_gallery-track-eGKoq"},u.default.createElement("div",{onMouseEnter:t.mouseEnterHandler.bind(t),style:{top:0,right:0,left:0,height:e.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:t.mouseEnterHandler.bind(t),style:{top:0,right:0,bottom:0,width:e.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:t.mouseEnterHandler.bind(t),style:{right:0,bottom:0,left:0,height:e.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:t.mouseEnterHandler.bind(t),style:{top:0,bottom:0,left:0,width:e.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseLeave:t.mouseLeaveHandler.bind(t),style:{top:e.height,right:e.height,bottom:e.height,left:e.height},className:"GalleryTracks-module_gallery-invisible-track-1hMJp"}),t.props.editable&&u.default.createElement(c.default,{configMenuVisible:!0,imgStyleAdd:f,imgStyleClose:f,imgStyleMove:f,imgStyleSettings:f,isMoveable:!1,isVisible:t.state.hovering,onCloseTrackMenuOpened:t.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:t.props.onConfigTrackMenuOpened,uid:e.uid||n}))})))}return t}()}]),e}(u.default.Component);d.propTypes={editable:l.default.bool.isRequired,onCloseTrackMenuOpened:l.default.func.isRequired,onConfigTrackMenuOpened:l.default.func.isRequired,tracks:l.default.array.isRequired},e.default=d},function(t,e,n){t.exports={"gallery-tracks":"GalleryTracks-module_gallery-tracks-3tsUO","gallery-track":"GalleryTracks-module_gallery-track-eGKoq","gallery-sub-track":"GalleryTracks-module_gallery-sub-track-z1HEh","gallery-invisible-track":"GalleryTracks-module_gallery-invisible-track-1hMJp"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=pt(n(38)),i=pt(n(19)),o=pt(n(35)),a=pt(n(25)),s=pt(n(17)),l=pt(n(18)),u=pt(n(5)),c=pt(n(3)),h=pt(n(4)),f=pt(n(6)),d=pt(n(7)),p=pt(n(1)),m=pt(n(2)),v=n(157),g=n(0),y=n(28),b=pt(n(26)),_=pt(n(40)),x=pt(n(135)),T=pt(n(254)),w=pt(n(347)),S=pt(n(348)),E=pt(n(350)),k=pt(n(351)),C=pt(n(256)),A=pt(n(352)),O=pt(n(357)),P=pt(n(116)),M=pt(n(358)),I=pt(n(359)),R=pt(n(259)),L=pt(n(360)),D=pt(n(361)),N=pt(n(362)),j=pt(n(629)),B=pt(n(177)),F=pt(n(260)),H=pt(n(363)),z=pt(n(364)),U=pt(n(365)),V=pt(n(366)),G=pt(n(367)),X=pt(n(368)),Y=pt(n(369)),W=pt(n(370)),q=pt(n(371)),K=pt(n(372)),$=pt(n(633)),Z=pt(n(373)),Q=pt(n(374)),J=pt(n(375)),tt=pt(n(376)),et=pt(n(377)),nt=pt(n(262)),rt=pt(n(378)),it=pt(n(141)),ot=pt(n(379)),at=pt(n(380)),st=pt(n(381)),lt=pt(n(80)),ut=pt(n(69)),ct=pt(n(382)),ht=pt(n(78)),ft=n(10),dt=n(11);function pt(t){return t&&t.__esModule?t:{default:t}}n(654);var mt=100,vt=function(t){function e(t){(0,c.default)(this,e);var n=(0,f.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return n.dragging=!1,n.element=null,n.closing=!1,n.yPositionOffset=0,n.xPositionOffset=0,n.scrollTop=0,n.scrollTimeout=null,n.activeTransitions=0,n.zoomTransform=v.zoomIdentity,n.windowScrolledBound=n.windowScrolled.bind(n),n.zoomStartedBound=n.zoomStarted.bind(n),n.zoomedBound=n.zoomed.bind(n),n.zoomEndedBound=n.zoomEnded.bind(n),n.uid=b.default.nice(),n.viewUid=n.props.uid,n.availableForPlugins=dt.AVAILABLE_FOR_PLUGINS,n.availableForPlugins.services.pubSub=n.props.pubSub,n.availableForPlugins.services.pixiRenderer=n.props.pixiRenderer,n.mounted=!1,n.emptyZoomBehavior=(0,v.zoom)(),n.currentProps=t,n.prevPropsStr="",n.zoomBehavior=(0,v.zoom)().filter((function(){return!(g.event.target.classList.contains("no-zoom")||g.event.target.classList.contains("react-resizable-handle"))})).on("start",n.zoomStartedBound).on("zoom",n.zoomedBound).on("end",n.zoomEndedBound),n.zoomTransform=v.zoomIdentity,n.prevZoomTransform=v.zoomIdentity,n.initialXDomain=[0,1],n.initialYDomain=[0,1],n.xDomainLimits=[-1/0,1/0],n.yDomainLimits=[-1/0,1/0],n.zoomLimits=[0,1/0],n.prevCenterX=n.currentProps.paddingLeft+n.currentProps.leftWidth+n.currentProps.centerWidth/2,n.prevCenterY=n.currentProps.paddingTop+n.currentProps.topHeight+n.currentProps.centerHeight/2,n.cumCenterXOffset=0,n.cumCenterYOffset=0,n.setUpInitialScales(n.currentProps.initialXDomain,n.currentProps.initialYDomain,n.currentProps.xDomainLimits,n.currentProps.yDomainLimits,n.currentProps.zoomLimits),n.setUpScales(),n.trackDefObjects={},n.metaTracks={},n.pubSubs=[],window.higlassTracksByType&&(0,l.default)(window.higlassTracksByType).forEach((function(t){dt.TRACKS_INFO_BY_TYPE[t]=window.higlassTracksByType[t].config})),n.boundForwardEvent=n.forwardEvent.bind(n),n.boundScrollEvent=n.scrollEvent.bind(n),n.boundForwardContextMenu=n.forwardContextMenu.bind(n),n.dispatchEventBound=n.dispatchEvent.bind(n),n.zoomToDataPosHandlerBound=n.zoomToDataPosHandler.bind(n),n.onScrollHandlerBound=n.onScrollHandler.bind(n),n}return(0,d.default)(e,t),(0,h.default)(e,[{key:"UNSAFE_componentWillMount",value:function(){function t(){this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("scroll",this.windowScrolledBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.event",this.dispatchEventBound)),this.pubSubs.push(this.props.pubSub.subscribe("zoomToDataPos",this.zoomToDataPosHandlerBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.scroll",this.onScrollHandlerBound))}return t}()},{key:"componentDidMount",value:function(){function t(){if(this.elementPos=this.element.getBoundingClientRect(),this.elementSelection=(0,g.select)(this.element),this.svgTrackAreaSelection=(0,g.select)(this.svgTrackArea),this.pStage=new dt.GLOBALS.PIXI.Graphics,this.pMask=new dt.GLOBALS.PIXI.Graphics,this.pOutline=new dt.GLOBALS.PIXI.Graphics,this.pBackground=new dt.GLOBALS.PIXI.Graphics,this.pStage.addChild(this.pMask),this.pStage.addChild(this.pOutline),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),this.currentProps.svgElement&&this.currentProps.canvasElement){this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.syncMetaTracks(this.currentProps.metaTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0),this.addEventTracker();var t=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],e=this.svgElement.getBoundingClientRect(),n=[[Math.max(t[0][0],0),Math.max(t[0][1],0)],[Math.min(t[1][0],e.width),Math.min(t[1][1],e.height)]];this.zoomBehavior.extent(n).translateExtent(t).scaleExtent(this.zoomLimits)}}return t}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function t(t){if(t.svgElement&&t.canvasElement){var e=this.updatablePropsToString(t);if(this.currentProps=t,this.prevPropsStr!==e){for(var n in this.setBackground(),this.trackDefObjects)this.trackDefObjects[n].trackObject.delayDrawing=!0;this.prevPropsStr=e,this.setUpInitialScales(t.initialXDomain,t.initialYDomain,t.xDomainLimits,t.yDomainLimits,t.zoomLimits),this.setUpScales(t.width!==this.props.width||t.height!==this.props.height),this.svgElement=t.svgElement;var r=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],i=this.svgElement.getBoundingClientRect(),o=[[Math.max(r[0][0],0),Math.max(r[0][1],0)],[Math.min(r[1][0],i.width),Math.min(r[1][1],i.height)]];this.zoomBehavior.extent(o).translateExtent(r).scaleExtent(this.zoomLimits),this.syncTrackObjects(t.positionedTracks),this.syncMetaTracks(t.metaTracks);var a=!0,l=!1,u=void 0;try{for(var c,h=(0,s.default)(t.positionedTracks);!(a=(c=h.next()).done);a=!0){var f=c.value,d=f.track.options,p=this.trackDefObjects[f.track.uid].trackObject;if(p.rerender(d),f.track.hasOwnProperty("contents")){var m={},v=!0,g=!1,y=void 0;try{for(var b,_=(0,s.default)(f.track.contents);!(v=(b=_.next()).done);v=!0){var x=b.value;m[x.uid]=x}}catch(E){g=!0,y=E}finally{try{!v&&_.return&&_.return()}finally{if(g)throw y}}for(var T in p.createdTracks)p.createdTracks[T].rerender(m[T].options)}}}catch(E){l=!0,u=E}finally{try{!a&&h.return&&h.return()}finally{if(l)throw u}}for(var w in this.props.onNewTilesLoaded(),this.trackDefObjects){var S=this.trackDefObjects[w].trackObject;S.delayDrawing=!1,S.draw()}}}}return t}()},{key:"componentDidUpdate",value:function(){function t(t){(this.props.initialXDomain[0]!==t.initialXDomain[0]||this.props.initialXDomain[1]!==t.initialXDomain[1]||this.props.initialYDomain[0]!==t.initialYDomain[0]||this.props.initialYDomain[1]!==t.initialYDomain[1])&&(this.element.__zoom=v.zoomIdentity),t.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom()),t.zoomable!==this.props.zoomable&&(this.props.zoomable?this.addZoom():this.removeZoom()),this.addEventTracker()}return t}()},{key:"componentWillUnmount",value:function(){function t(){var t=this;this.mounted=!1,this.removeTracks((0,l.default)(this.trackDefObjects)),this.removeMetaTracks((0,l.default)(this.metaTracks)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.currentProps.pixiStage.removeChild(this.pStage),this.pMask.destroy(!0),this.pStage.destroy(!0),this.pubSubs.forEach((function(e){return t.props.pubSub.unsubscribe(e)})),this.pubSubs=[],this.removeEventTracker()}return t}()},{key:"dispatchEvent",value:function(){function t(t){t.sourceUid===this.uid&&"contextmenu"!==t.type&&(0,ft.forwardEvent)(t,this.element)}return t}()},{key:"isWithin",value:function(){function t(t,e){if(!this.element)return!1;var n=t>=this.elementPos.left&&t<=this.elementPos.width+this.elementPos.left,r=e>=this.elementPos.top&&e<=this.elementPos.height+this.elementPos.top;return n&&r}return t}()},{key:"zoomToDataPosHandler",value:function(){function t(t){var e=t.pos,n=t.animateTime,r=t.isMercator;this.zoomToDataPos.apply(this,(0,a.default)(e).concat([n,r]))}return t}()},{key:"addZoom",value:function(){function t(){!this.elementSelection||!this.currentProps.zoomable||(this.elementSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.elementSelection,this.zoomTransform))}return t}()},{key:"removeZoom",value:function(){function t(){this.elementSelection&&(this.zoomEnded(),this.elementSelection.on(".zoom",null))}return t}()},{key:"setMask",value:function(){function t(){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pMask.endFill()}return t}()},{key:"setBackground",value:function(){function t(){var t=this.props.theme===dt.THEME_DARK?"black":"white",e=(0,ft.colorToHex)(this.currentProps.viewOptions&&this.currentProps.viewOptions.backgroundColor||t);this.pBackground.clear(),this.pBackground.beginFill(e),this.pBackground.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pBackground.endFill()}return t}()},{key:"windowScrolled",value:function(){function t(){var t=this;this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){t.addZoom()}),mt)}return t}()},{key:"setUpInitialScales",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-1/0,1/0],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[-1/0,1/0],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,1/0];i[0]=null===i[0]?0:i[0],i[1]=null===i[1]?1/0:i[1];var o=t[1]-t[0],a=(e[0]+e[1])/2;if(e[0]=a-o/2,e[1]=a+o/2,t[0]!==this.initialXDomain[0]||t[1]!==this.initialXDomain[1]||e[0]!==this.initialYDomain[0]||e[1]!==this.initialYDomain[1]||n[0]!==this.xDomainLimits[0]||n[1]!==this.xDomainLimits[1]||r[0]!==this.yDomainLimits[0]||r[1]!==this.yDomainLimits[1]||i[0]!==this.zoomLimits[0]||i[1]!==this.zoomLimits[1]){this.initialXDomain=t,this.initialYDomain=e,this.xDomainLimits=n,this.yDomainLimits=r,this.zoomLimits=i,this.zoomTransform=v.zoomIdentity,this.prevZoomTransform=v.zoomIdentity,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=(0,y.scaleLinear)().domain([this.currentProps.paddingLeft+this.currentProps.leftWidth,this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([t[0],t[1]]);var s=void 0,l=void 0;0===this.currentProps.centerWidth?(s=this.currentProps.paddingTop+this.currentProps.topHeight,l=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight):(s=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,l=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2),this.drawableToDomainY=(0,y.scaleLinear)().domain([s,l]).range([e[0],e[1]]),this.prevCenterX=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2}}return t}()},{key:"updatablePropsToString",value:function(){function t(t){return(0,o.default)({positionedTracks:t.positionedTracks,initialXDomain:t.initialXDomain,initialYDomain:t.initialYDomain,width:t.width,height:t.height,paddingLeft:t.paddingLeft,paddingTop:t.paddingTop,leftWidth:t.leftWidth,topHeight:t.topHeight,dragging:t.dragging,viewOptions:t.viewOptions})}return t}()},{key:"draggingChanged",value:function(){function t(t){this.dragging=t,this.timedUpdatePositionAndDimensions()}return t}()},{key:"setUpScales",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,n=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,r=(this.drawableToDomainX(e)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,i=(this.drawableToDomainY(n)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=i,this.cumCenterXOffset+=r,this.prevCenterY=n,this.prevCenterX=e;var o=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],a=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];for(var s in this.xScale=(0,y.scaleLinear)().domain(o).range([0,this.currentProps.width]),this.yScale=(0,y.scaleLinear)().domain(a).range([0,this.currentProps.height]),this.trackDefObjects)this.trackDefObjects[s].trackObject.refScalesChanged(this.xScale,this.yScale);this.applyZoomTransform(t)}return t}()},{key:"getTrackDef",value:function(){function t(t){var e=(0,ft.dictItems)(this.trackDefObjects),n=!0,r=!1,o=void 0;try{for(var a,l=(0,s.default)(e);!(n=(a=l.next()).done);n=!0){var u=a.value,c=(0,i.default)(u,2)[1],h=c.trackDef,f=c.trackObject;if(f===t)return h.track;if(h.track.contents){var d=!0,p=!1,m=void 0;try{for(var v,g=(0,s.default)(h.track.contents);!(d=(v=g.next()).done);d=!0){var y=v.value;if(f.createdTracks[y.uid]===t)return y}}catch(b){p=!0,m=b}finally{try{!d&&g.return&&g.return()}finally{if(p)throw m}}}}}catch(b){r=!0,o=b}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return null}return t}()},{key:"getTrackObject",value:function(){function t(t){for(var e=(0,ft.dictItems)(this.trackDefObjects),n=0;n<e.length;n++){var r=e[n][0],i=e[n][1].trackObject;if(r===t)return i;if(i.createdTracks)for(var o=(0,ft.dictItems)(i.createdTracks),a=0;a<o.length;a++){var s=o[a][0],l=o[a][1];if(s===t)return l}}}return t}()},{key:"timedUpdatePositionAndDimensions",value:function(){function t(){!this.closing&&this.element&&(this.elementPos=this.element.getBoundingClientRect(),this.dragging)&&(this.yPositionOffset=this.element.getBoundingClientRect().top-this.currentProps.canvasElement.getBoundingClientRect().top+this.scrollTop,this.xPositionOffset=this.element.getBoundingClientRect().left-this.currentProps.canvasElement.getBoundingClientRect().left,this.setMask(),this.setBackground(),this.updateTrackPositions()&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this)))}return t}()},{key:"syncMetaTracks",value:function(){function t(t){var e=this,n=(0,l.default)(this.metaTracks),i=new r.default(t.map((function(t){return t.uid})));this.addMetaTracks(t.filter((function(t){return!e.metaTracks[t.uid]}))),this.updateMetaTracks(t.filter((function(t){return e.metaTracks[t.uid]}))),this.removeMetaTracks(n.filter((function(t){return!i.has(t)})))}return t}()},{key:"syncTrackObjects",value:function(){function t(t){this.prevTrackDefinitions=(0,o.default)(t);for(var e={},n=0;n<t.length;n++)e[t[n].track.uid]=t[n];var i=new r.default((0,l.default)(this.trackDefObjects)),s=new r.default((0,l.default)(e)),u=new r.default([].concat((0,a.default)(s)).filter((function(t){return!i.has(t)}))),c=new r.default([].concat((0,a.default)(i)).filter((function(t){return!s.has(t)}))),h=new r.default([].concat((0,a.default)(s)).filter((function(t){return i.has(t)})));this.updateExistingTrackDefs([].concat((0,a.default)(h)).map((function(t){return e[t]}))),this.addNewTracks([].concat((0,a.default)(u)).map((function(t){return e[t]}))),this.updateExistingTrackDefs([].concat((0,a.default)(u)).map((function(t){return e[t]}))),this.removeTracks([].concat((0,a.default)(c)))}return t}()},{key:"addMetaTracks",value:function(){function t(t){var e=this;t.filter((function(t){return!e.metaTracks[t.uid]})).forEach((function(t){e.metaTracks[t.uid]={trackDef:t,trackObject:e.createMetaTrack(t)}}))}return t}()},{key:"addNewTracks",value:function(){function t(t){if(this.currentProps.pixiStage){for(var e=0;e<t.length;e++){var n=t[e],r=this.createTrackObject(n.track);r.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[n.track.uid]={trackDef:n,trackObject:r};var i=this.zoomTransform.rescaleX(this.xScale),o=this.zoomTransform.rescaleY(this.yScale);r.setDimensions([n.width,n.height]),r.zoomed(i,o)}this.applyZoomTransform(!1)}}return t}()},{key:"updateMetaTracks",value:function(){function t(){}return t}()},{key:"updateExistingTrackDefs",value:function(){function t(t){for(var e=0;e<t.length;e++)this.trackDefObjects[t[e].track.uid].trackDef=t[e],"combined"===t[e].track.type&&this.trackDefObjects[t[e].track.uid].trackObject.updateContents(t[e].track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale);this.updateTrackPositions()&&this.applyZoomTransform(!1)}return t}()},{key:"updateTrackPositions",value:function(){function t(){var t=!1;for(var e in this.trackDefObjects){var n=this.trackDefObjects[e].trackDef,r=this.trackDefObjects[e].trackObject,i=r.position,o=r.dimensions,a=[this.xPositionOffset+n.left,this.yPositionOffset+n.top],s=[n.width,n.height];(!i||a[0]!==i[0]||a[1]!==i[1])&&(r.setPosition(a),t=!0),(!o||s[0]!==o[0]||s[1]!==o[1])&&(r.setDimensions(s),t=!0)}return t}return t}()},{key:"removeMetaTracks",value:function(){function t(t){var e=this;t.forEach((function(t){e.metaTracks[t].trackObject.remove(),e.metaTracks[t]=void 0,delete e.metaTracks[t]}))}return t}()},{key:"removeTracks",value:function(){function t(t){for(var e=0;e<t.length;e++)this.trackDefObjects[t[e]].trackObject.remove(),delete this.trackDefObjects[t[e]]}return t}()},{key:"setCenter",value:function(){function t(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.xScale,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.yScale,l=(this.xScale.invert(1)-this.xScale.invert(0))/n,u=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,c=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,h=u-a(t)*l,f=c-s(e)*l,d=void 0,p=function(){function t(){var t=v.zoomIdentity.translate(h,f).scale(l);o.zoomTransform=t,o.emptyZoomBehavior.transform(o.elementSelection,t),d=o.applyZoomTransform(r)}return t}();if(i){var m=this.elementSelection;this.activeTransitions+=1,document.hidden||(m=m.transition().duration(i)),m.call(this.zoomBehavior.transform,v.zoomIdentity.translate(h,f).scale(l)).on("end",(function(){p(),o.activeTransitions-=1}))}else p();return d}return t}()},{key:"valueScaleMove",value:function(){function t(t){var e=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(this.getTracksAtPosition.apply(this,(0,a.default)(this.zoomStartPos)));!(e=(i=o.next()).done);e=!0)i.value.movedY(t)}catch(l){n=!0,r=l}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}this.zoomTransform=this.zoomStartTransform}return t}()},{key:"valueScaleZoom",value:function(){function t(t){var e=g.event.sourceEvent.deltaY,n=g.event.sourceEvent.deltaMode,r=function(){function t(t,e){return t*(e?120:1)/500}return t}()(e,n),i=(0,g.clientPoint)(this.props.canvasElement,g.event.sourceEvent),o=!0,l=!1,u=void 0;try{for(var c,h=(0,s.default)(this.getTracksAtPosition.apply(this,(0,a.default)(i)));!(o=(c=h.next()).done);o=!0){var f=c.value,d="1d-horizontal"===t?i[1]-f.position[1]:i[0]-f.position[0];f.zoomedY(d,Math.pow(2,r))}}catch(p){l=!0,u=p}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}this.zoomTransform=this.zoomStartTransform}return t}()},{key:"zoomed",value:function(){function t(){var t=null;if(this.zoomStartPos){var e=this.getTracksAtPosition.apply(this,(0,a.default)(this.zoomStartPos));if(e.length){var n=e[0],r=this.getTrackDef(n);dt.TRACKS_INFO_BY_TYPE[r.type]&&(t=dt.TRACKS_INFO_BY_TYPE[r.type].orientation),n instanceof j.default&&(t="1d-vertical")}}if(t&&g.event.sourceEvent){if(g.event.shiftKey||this.valueScaleZooming){if(void 0!==g.event.sourceEvent.deltaY)return void this.valueScaleZoom(t);"1d-horizontal"===t?this.valueScaleMove(g.event.sourceEvent.movementY):"1d-vertical"===t&&this.valueScaleMove(g.event.sourceEvent.movementX)}"1d-horizontal"===t&&g.event.sourceEvent.movementY?this.valueScaleMove(g.event.sourceEvent.movementY):"1d-vertical"===t&&g.event.sourceEvent.movementX&&this.valueScaleMove(g.event.sourceEvent.movementX)}this.zoomTransform=this.currentProps.zoomable?g.event.transform:v.zoomIdentity,this.prevZoomTransform.k!==this.zoomTransform.k||("1d-horizontal"===t?this.zoomTransform=v.zoomIdentity.translate(this.zoomTransform.x,this.prevZoomTransform.y).scale(this.zoomTransform.k):"1d-vertical"===t&&(this.zoomTransform=v.zoomIdentity.translate(this.prevZoomTransform.x,this.zoomTransform.y).scale(this.zoomTransform.k)),this.element.__zoom=this.zoomTransform),this.applyZoomTransform(!0),this.prevZoomTransform=this.zoomTransform,this.props.pubSub.publish("app.zoom",g.event),g.event.sourceEvent&&(g.event.sourceEvent.stopPropagation(),g.event.sourceEvent.preventDefault())}return t}()},{key:"getTracksAtPosition",value:function(){function t(t,e){var n=[],r=[];for(var i in this.trackDefObjects){var o=this.trackDefObjects[i].trackObject;o.childTracks?r=r.concat(o.childTracks):r.push(o)}var a=!0,l=!1,u=void 0;try{for(var c,h=(0,s.default)(r);!(a=(c=h.next()).done);a=!0){var f=c.value,d=f.position[0]<=t&&t<=f.position[0]+f.dimensions[0],p=f.position[1]<=e&&e<=f.position[1]+f.dimensions[1];d&&p&&n.push(f)}}catch(m){l=!0,u=m}finally{try{!a&&h.return&&h.return()}finally{if(l)throw u}}return n}return t}()},{key:"zoomStarted",value:function(){function t(){this.zooming=!0,g.event.sourceEvent&&(this.zoomStartPos=(0,g.clientPoint)(this.props.canvasElement,g.event.sourceEvent),g.event.sourceEvent.shiftKey&&(this.valueScaleZooming=!0)),this.zoomStartTransform=this.zoomTransform,this.props.pubSub.publish("app.zoomStart")}return t}()},{key:"zoomEnded",value:function(){function t(){this.zooming=!1,this.zoomStartPos=null,this.valueScaleZooming&&(this.valueScaleZooming=!1,this.element.__zoom=this.zoomStartTransform),this.props.pubSub.publish("app.zoomEnd")}return t}()},{key:"applyZoomTransform",value:function(){function t(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.currentProps,n=e.paddingLeft+e.leftWidth,r=e.paddingTop+e.topHeight;this.zoomedXScale=this.zoomTransform.rescaleX(this.xScale),this.zoomedYScale=this.zoomTransform.rescaleY(this.yScale);var i=(0,y.scaleLinear)().domain([n,n+e.centerWidth].map(this.zoomedXScale.invert)).range([0,e.centerWidth]),o=(0,y.scaleLinear)().domain([r,r+e.centerHeight].map(this.zoomedYScale.invert)).range([0,e.centerHeight]);for(var a in this.trackDefObjects){var s=this.trackDefObjects[a].trackObject,l=this.trackDefObjects[a].trackDef,u="unknown";if(dt.TRACKS_INFO_BY_TYPE[l.track.type]&&(u=dt.TRACKS_INFO_BY_TYPE[l.track.type].orientation),"whole"!==u)if("gallery"!==this.trackDefObjects[a].trackDef.track.position)s.zoomed(i.copy(),o.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,e.paddingLeft+e.leftWidth,e.paddingTop+e.topHeight);else{var c=(0,y.scaleLinear)().domain([e.paddingLeft+e.leftWidthNoGallery,e.paddingLeft+e.leftWidth+e.centerWidth+e.galleryDim].map(this.zoomedXScale.invert)).range([0,e.centerWidth+2*e.galleryDim]),h=(0,y.scaleLinear)().domain([e.paddingTop+e.topHeightNoGallery,e.paddingTop+e.topHeight+e.centerHeight+e.galleryDim].map(this.zoomedYScale.invert)).range([0,e.centerHeight-2*e.galleryDim]);s.zoomed(c.copy(),h.copy(),this.zoomTransform.k)}else{var f=(0,y.scaleLinear)().domain([e.paddingLeft,e.width-e.paddingLeft].map(this.zoomedXScale.invert)).range([0,e.width-2*e.paddingLeft]),d=(0,y.scaleLinear)().domain([e.paddingTop,e.height-e.paddingTop].map(this.zoomedYScale.invert)).range([0,e.height-2*e.paddingTop]);s.zoomed(f,d)}}return this.currentXScale=i,this.currentYScale=o,t&&this.currentProps.onScalesChanged(i,o),[i,o]}return t}()},{key:"createMetaTrack",value:function(){function t(t){var e=this;t.type;var n=this.props.pluginTracks[t.type];if(n&&n.isMetaTrack){var r={getTrackObject:this.getTrackObject.bind(this),onNewTilesLoaded:function(){function n(){e.currentProps.onNewTilesLoaded(t.uid)}return n}(),definition:t};try{return new n.track(dt.AVAILABLE_FOR_PLUGINS,r,t.options)}catch(i){console.error("Plugin meta track",t.type,"failed to instantiate.",i)}}return console.warn("Unknown meta track of type: "+String(t.type)),new $.default(this.pStage,{name:"Unknown Track Type",type:t.type},(function(){return e.currentProps.onNewTilesLoaded(t.uid)}))}return t}()},{key:"createTrackObject",value:function(){function t(t){var e=this.createLocationAgnosticTrackObject(t);return"left"!==t.position&&"right"!==t.position||"1d-horizontal"!==dt.TRACKS_INFO_BY_TYPE[t.type].orientation?e:new j.default(e)}return t}()},{key:"createLocationAgnosticTrackObject",value:function(){function t(t){var e=this,n=function(){function n(n){e.currentProps.onTilesetInfoReceived(t.uid,n)}return n}(),r=t.data;r||(r={server:(0,ft.trimTrailingSlash)(t.server),tilesetUid:t.tilesetUid}),t.coordSystem&&(r.coordSystem=t.coordSystem);var i=(0,ct.default)(r,this.props.pubSub,this.props.pluginDataFetchers),o={id:t.uid,viewUid:this.viewUid,pubSub:this.props.pubSub,scene:this.pStage,dataConfig:r,dataFetcher:i,getLockGroupExtrema:function(){function n(){return e.currentProps.getLockGroupExtrema(t.uid)}return n}(),handleTilesetInfoReceived:n,animate:function(){function n(){e.currentProps.onNewTilesLoaded(t.uid)}return n}(),svgElement:this.svgElement,isValueScaleLocked:function(){function n(){return e.currentProps.isValueScaleLocked(t.uid)}return n}(),onValueScaleChanged:function(){function n(){e.currentProps.onValueScaleChanged(t.uid)}return n}(),onTrackOptionsChanged:function(){function n(n){e.currentProps.onTrackOptionsChanged(t.uid,n)}return n}(),onMouseMoveZoom:this.props.onMouseMoveZoom,chromInfoPath:t.chromInfoPath,isShowGlobalMousePosition:function(){function t(){return e.props.isShowGlobalMousePosition}return t}(),getTheme:function(){function t(){return e.props.theme}return t}()};t.y&&(o.yPosition=t.y),t.x&&(o.xPosition=t.x),t.projectionXDomain&&(o.projectionXDomain=t.projectionXDomain),t.projectionYDomain&&(o.projectionYDomain=t.projectionYDomain);var a=t.options;switch(t.type){case"left-axis":return new k.default(o,a);case"top-axis":return new E.default(o,a);case"heatmap":return new x.default(o,a);case"multivec":case"vector-heatmap":case"horizontal-multivec":case"horizontal-vector-heatmap":case"vertical-multivec":case"vertical-vector-heatmap":return new I.default(o,a);case"1d-heatmap":case"horizontal-1d-heatmap":case"vertical-1d-heatmap":return new D.default(o,a);case"line":case"horizontal-line":case"vertical-line":return new P.default(o,a);case"point":case"horizontal-point":case"vertical-point":return new M.default(o,a);case"bar":case"horizontal-bar":case"vertical-bar":return new R.default(o,a);case"divergent-bar":case"horizontal-divergent-bar":case"vertical-divergent-bar":return new L.default(o,a);case"horizontal-1d-tiles":return new w.default(o,a);case"vertical-1d-tiles":return new S.default(o,a);case"2d-tiles":return new T.default(o,a);case"stacked-interval":case"top-stacked-interval":case"left-stacked-interval":return new N.default(o,a);case"viewport-projection-center":return t.registerViewportChanged&&t.removeViewportChanged&&t.setDomainsCallback?(o.registerViewportChanged=t.registerViewportChanged,o.removeViewportChanged=t.removeViewportChanged,o.setDomainsCallback=t.setDomainsCallback,new Q.default(o,a)):new B.default(o,a);case"viewport-projection-horizontal":return t.registerViewportChanged&&t.removeViewportChanged&&t.setDomainsCallback?(o.registerViewportChanged=t.registerViewportChanged,o.removeViewportChanged=t.removeViewportChanged,o.setDomainsCallback=t.setDomainsCallback,new J.default(o,a)):new B.default(o,a);case"viewport-projection-vertical":return t.registerViewportChanged&&t.removeViewportChanged&&t.setDomainsCallback?(o.registerViewportChanged=t.registerViewportChanged,o.removeViewportChanged=t.removeViewportChanged,o.setDomainsCallback=t.setDomainsCallback,new tt.default(o,a)):new B.default(o,a);case"gene-annotations":case"horizontal-gene-annotations":case"vertical-gene-annotations":return new F.default(o,a);case"2d-rectangle-domains":case"arrowhead-domains":return new H.default(o,a);case"horizontal-1d-annotations":return new U.default(o,a);case"vertical-1d-annotations":return new U.default(o,a,!0);case"2d-annotations":return new z.default(o,a);case"linear-2d-rectangle-domains":case"horizontal-2d-rectangle-domains":case"vertical-2d-rectangle-domains":return new V.default(o,a);case"square-markers":return new G.default(o,a);case"combined":return o.tracks=t.contents,o.createTrackObject=this.createTrackObject.bind(this),new C.default(o,a);case"2d-chromosome-labels":return new X.default(o,a);case"horizontal-chromosome-grid":return o.orientation="1d-horizontal",new Y.default(o,a);case"vertical-chromosome-grid":return o.orientation="1d-vertical",new Y.default(o,a);case"2d-chromosome-grid":return new Y.default(o,a);case"chromosome-labels":case"horizontal-chromosome-labels":case"vertical-chromosome-labels":return new q.default(o,a);case"linear-heatmap":case"horizontal-heatmap":case"vertical-heatmap":return new K.default(o,a);case"2d-chromosome-annotations":return new W.default(o,a);case"1d-value-interval":case"horizontal-1d-value-interval":case"vertical-1d-value-interval":return new Z.default(o,a);case"osm":case"osm-tiles":return new it.default(o,a);case"osm-2d-tile-ids":return new ot.default(o,a);case"mapbox":case"mapbox-tiles":return new at.default(o,a);case"raster-tiles":return new st.default(o,a);case"bedlike":case"vertical-bedlike":return new A.default(o,a);case"overlay-track":return new O.default(o,a);case"overlay-chromosome-grid-track":return o.isOverlay=!0,new Y.default(o,a);case"horizontal-rule":return new et.default(o,a);case"vertical-rule":return new nt.default(o,a);case"cross-rule":return o.x=t.x,o.y=t.y,new rt.default(o,a);case"simple-svg":return new lt.default(o,a);case"empty":return new _.default(o,a);default:var s=this.props.pluginTracks[t.type];if(s&&!s.isMetaTrack){o.AVAILABLE_FOR_PLUGINS=dt.AVAILABLE_FOR_PLUGINS,o.baseEl=this.baseEl,o.definition=t,t.registerViewportChanged&&t.removeViewportChanged&&t.setDomainsCallback&&(o.registerViewportChanged=t.registerViewportChanged,o.removeViewportChanged=t.removeViewportChanged,o.setDomainsCallback=t.setDomainsCallback);try{return new s.track(dt.AVAILABLE_FOR_PLUGINS,o,a)}catch(l){console.error("Plugin track",t.type,"failed to instantiate.",l)}}return console.warn("Unknown track type:",t.type),new $.default(o,{name:"Unknown Track Type",type:t.type})}}return t}()},{key:"zoomToDataPos",value:function(){function t(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3e3,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=(0,ft.scalesCenterAndK)(this.xScale.copy().domain([t,e]),this.yScale.copy().domain([n,r])),l=(0,i.default)(s,3),u=l[0],c=l[1],h=l[2],f=a?a(this.xScale,this.yScale):[this.xScale,this.yScale];this.setCenter(u,c,h,!1,o,f[0],f[1])}return t}()},{key:"forwardContextMenu",value:function(){function t(t){var e=this;this.props.disableTrackMenu||t.altKey||(t.preventDefault(),setTimeout((function(){e.props.pubSub.publish("contextmenu",t)}),0))}return t}()},{key:"addEventTracker",value:function(){function t(){!this.eventTracker||this.eventTracker===this.eventTrackerOld||(this.eventTrackerOld||(this.eventTrackerOld=this.eventTracker),this.eventTracker=this.eventTrackerOld,this.eventTracker.addEventListener("click",this.boundForwardEvent),this.eventTracker.addEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.addEventListener("dblclick",this.boundForwardEvent),this.eventTracker.addEventListener("wheel",this.boundForwardEvent),this.eventTracker.addEventListener("dragstart",this.boundForwardEvent),this.eventTracker.addEventListener("selectstart",this.boundForwardEvent),this.eventTracker.addEventListener("mouseover",this.boundForwardEvent),this.eventTracker.addEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.addEventListener("mousedown",this.boundForwardEvent),this.eventTracker.addEventListener("mouseup",this.boundForwardEvent),this.eventTracker.addEventListener("mouseout",this.boundForwardEvent),this.eventTracker.addEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.addEventListener("touchstart",this.boundForwardEvent),this.eventTracker.addEventListener("touchend",this.boundForwardEvent),this.eventTracker.addEventListener("touchmove",this.boundForwardEvent),this.eventTracker.addEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerover",this.boundForwardEvent),this.eventTracker.addEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.addEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.addEventListener("pointerup",this.boundForwardEvent),this.eventTracker.addEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerout",this.boundForwardEvent),this.eventTracker.addEventListener("pointerleave",this.boundForwardEvent),window.addEventListener("scroll",this.boundScrollEvent))}return t}()},{key:"removeEventTracker",value:function(){function t(){this.eventTracker&&(this.eventTracker.removeEventListener("click",this.boundForwardEvent),this.eventTracker.removeEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.removeEventListener("dblclick",this.boundForwardEvent),this.eventTracker.removeEventListener("wheel",this.boundForwardEvent),this.eventTracker.removeEventListener("dragstart",this.boundForwardEvent),this.eventTracker.removeEventListener("selectstart",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseover",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.removeEventListener("mousedown",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseup",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseout",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.removeEventListener("touchstart",this.boundForwardEvent),this.eventTracker.removeEventListener("touchend",this.boundForwardEvent),this.eventTracker.removeEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerover",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerup",this.boundForwardEvent),this.eventTracker.removeEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerout",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerleave",this.boundForwardEvent),window.removeEventListener("scroll",this.boundScrollEvent))}return t}()},{key:"scrollEvent",value:function(){function t(){this.elementPos=this.element.getBoundingClientRect()}return t}()},{key:"forwardEvent",value:function(){function t(t){t.sourceUid=this.uid,t.forwarded=!0,this.props.pubSub.publish("app.event",t)}return t}()},{key:"onScrollHandler",value:function(){function t(t){this.scrollTop=t}return t}()},{key:"render",value:function(){function t(){var t=this;return p.default.createElement("div",{ref:function(){function e(e){t.baseEl=e}return e}(),className:"track-renderer-div TrackRenderer-module_track-renderer-3TM7n",style:{height:this.currentProps.height,width:this.currentProps.width}},p.default.createElement("div",{ref:function(){function e(e){t.element=e}return e}(),className:"track-renderer-element TrackRenderer-module_track-renderer-element-2i16D"}),p.default.createElement("div",{ref:function(){function e(e){t.eventTracker=e}return e}(),className:"track-renderer-events TrackRenderer-module_track-renderer-events-3tVM2"},this.currentProps.children))}return t}()}]),e}(p.default.Component);vt.defaultProps={pluginDataFetchers:{},pluginTracks:{},canvasElement:null,centerHeight:0,centerWidth:0,children:[],galleryDim:0,height:0,initialXDomain:[],initialYDomain:[],isShowGlobalMousePosition:!1,isRangeSelection:!1,leftWidth:0,leftWidthNoGallery:0,paddingLeft:0,paddingTop:0,positionedTracks:[],topHeight:0,topHeightNoGallery:0,width:0,metaTracks:[]},vt.propTypes={canvasElement:m.default.object,centerHeight:m.default.number,centerWidth:m.default.number,children:m.default.array,disableTrackMenu:m.default.bool,galleryDim:m.default.number,height:m.default.number,initialXDomain:m.default.array,initialYDomain:m.default.array,isShowGlobalMousePosition:m.default.bool,isRangeSelection:m.default.bool,leftWidth:m.default.number,leftWidthNoGallery:m.default.number,paddingLeft:m.default.number,paddingTop:m.default.number,metaTracks:m.default.array,onMouseMoveZoom:m.default.func,onNewTilesLoaded:m.default.func.isRequired,onScalesChanged:m.default.func.isRequired,pixiRenderer:m.default.object.isRequired,pixiStage:m.default.object.isRequired,pluginDataFetchers:m.default.object,pluginTracks:m.default.object,positionedTracks:m.default.array,pubSub:m.default.object.isRequired,setCentersFunction:m.default.func,svgElement:m.default.object.isRequired,theme:m.default.symbol.isRequired,topHeight:m.default.number,topHeightNoGallery:m.default.number,viewOptions:m.default.object,width:m.default.number,xDomainLimits:m.default.array,yDomainLimits:m.default.array,valueScaleZoom:m.default.bool,zoomable:m.default.bool.isRequired,zoomDomain:m.default.array},e.default=(0,ut.default)((0,ht.default)(vt))},function(t,e,n){t.exports={default:n(613),__esModule:!0}},function(t,e,n){n(614);var r=n(12).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(48),i=n(228).f;n(126)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(616),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch{r.regeneratorRuntime=void 0}},function(t,e){!function(e){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",u="object"==typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{(c=e.regeneratorRuntime=u?t.exports:{}).wrap=_;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",m={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(I([])));y&&y!==r&&i.call(y,a)&&(v=y);var b=S.prototype=T.prototype=Object.create(v);w.prototype=b.constructor=S,S.constructor=w,S[l]=w.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(b),t},c.awrap=function(t){return{__await:t}},E(k.prototype),k.prototype[s]=function(){return this},c.AsyncIterator=k,c.async=function(t,e,n,r){var i=new k(_(t,e,n,r));return c.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(b),b[l]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=I,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function _(t,e,n,r){var i=e&&e.prototype instanceof T?e:T,o=Object.create(i.prototype),a=new M(r||[]);return o._invoke=C(t,n,a),o}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function T(){}function w(){}function S(){}function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function k(t){function e(n,r,o,a){var s=x(t[n],t,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(u).then((function(t){l.value=t,o(l)}),a)}a(s.arg)}var n;function r(t,r){function i(){return new Promise((function(n,i){e(t,r,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=r}function C(t,e,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=x(t,e,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}function A(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,A(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=x(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function I(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:R}}function R(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(3)),i=o(n(4));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(){(0,r.default)(this,t),this.taskList=[],this.taskHandle=null,this.requestIdleCallbackTimeout=300}return(0,i.default)(t,[{key:"enqueueTask",value:function(){function t(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n?this.taskList.push({handler:t,data:e}):(this.taskList=this.taskList.filter((function(t){return t.trackId!==n})),this.taskList.push({handler:t,data:e,trackId:n})),this.taskHandle||(this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}))}return t}()},{key:"runTaskQueue",value:function(){function t(t){for(;(t.timeRemaining()>0||t.didTimeout)&&this.taskList.length;){var e=this.taskList.shift();null===e.data?e.handler():e.handler(e.data)}this.taskList.length?this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}):this.taskHandle=0}return t}()}]),t}(),s=new a;e.default=s},function(t,e,n){function r(t,e,n){var i=0|t[n];if(i<=0)return[];var o,a=new Array(i);if(n===t.length-1)for(o=0;o<i;++o)a[o]=e;else for(o=0;o<i;++o)a[o]=r(t,e,n+1);return a}function i(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function o(t,e){switch(typeof e>"u"&&(e=0),typeof t){case"number":if(t>0)return i(0|t,e);break;case"object":if("number"==typeof t.length)return r(t,e,0)}return[]}t.exports=o},function(t,e,n){t.exports=i;var r=32;function i(t,e){e<=4*r?o(0,e-1,t):f(0,e-1,t)}function o(t,e,n){for(var r=2*(t+1),i=t+1;i<=e;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >t;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=a}}function a(t,e,n){e*=2;var r=n[t*=2],i=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=r,n[e+1]=i}function s(t,e,n){e*=2,n[t*=2]=n[e],n[t+1]=n[e+1]}function l(t,e,n,r){e*=2,n*=2;var i=r[t*=2],o=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=r[n],r[e+1]=r[n+1],r[n]=i,r[n+1]=o}function u(t,e,n,r,i){e*=2,i[t*=2]=i[e],i[e]=n,i[t+1]=i[e+1],i[e+1]=r}function c(t,e,n){e*=2;var r=n[t*=2],i=n[e];return!(r<i)&&(r!==i||n[t+1]>n[e+1])}function h(t,e,n,r){var i=r[t*=2];return i<e||i===e&&r[t+1]<n}function f(t,e,n){var i=(e-t+1)/6|0,d=t+i,p=e-i,m=t+e>>1,v=m-i,g=m+i,y=d,b=v,_=m,x=g,T=p,w=t+1,S=e-1,E=0;c(y,b,n)&&(E=y,y=b,b=E),c(x,T,n)&&(E=x,x=T,T=E),c(y,_,n)&&(E=y,y=_,_=E),c(b,_,n)&&(E=b,b=_,_=E),c(y,x,n)&&(E=y,y=x,x=E),c(_,x,n)&&(E=_,_=x,x=E),c(b,T,n)&&(E=b,b=T,T=E),c(b,_,n)&&(E=b,b=_,_=E),c(x,T,n)&&(E=x,x=T,T=E);for(var k=n[2*b],C=n[2*b+1],A=n[2*x],O=n[2*x+1],P=2*y,M=2*_,I=2*T,R=2*d,L=2*m,D=2*p,N=0;N<2;++N){var j=n[P+N],B=n[M+N],F=n[I+N];n[R+N]=j,n[L+N]=B,n[D+N]=F}s(v,t,n),s(g,e,n);for(var H=w;H<=S;++H)if(h(H,k,C,n))H!==w&&a(H,w,n),++w;else if(!h(H,A,O,n))for(;;){if(h(S,A,O,n)){h(S,k,C,n)?(l(H,w,S,n),++w,--S):(a(H,S,n),--S);break}if(--S<H)break}u(t,w-1,k,C,n),u(e,S+1,A,O,n),w-2-t<=r?o(t,w-2,n):f(t,w-2,n),e-(S+2)<=r?o(S+2,e,n):f(S+2,e,n),S-w<=r?o(w,S,n):f(w,S,n)}},function(t,e,n){t.exports=O;var r=n(257),i=n(258),o=n(621),a=o.partial,s=o.full,l=n(353),u=n(622),c=n(354),h=128,f=1<<22,d=1<<22,p=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),m=c("lo===p0",["p0"]),v=c("lo<p0",["p0"]),g=c("hi<=p0",["p0"]),y=c("lo<=p0&&p0<=hi",["p0"]),b=c("lo<p0&&p0<=hi",["p0"]),_=6,x=2,T=1024,w=r.mallocInt32(T),S=r.mallocDouble(T);function E(t,e){var n=8*i.log2(e+1)*(t+1)|0,o=i.nextPow2(_*n);w.length<o&&(r.free(w),w=r.mallocInt32(o));var a=i.nextPow2(x*n);S.length<a&&(r.free(S),S=r.mallocDouble(a))}function k(t,e,n,r,i,o,a,s,l){var u=_*t;w[u]=e,w[u+1]=n,w[u+2]=r,w[u+3]=i,w[u+4]=o,w[u+5]=a;var c=x*t;S[c]=s,S[c+1]=l}function C(t,e,n,r,i,o,a,s,l,u,c){var h=2*t,f=l*h,d=u[f+e];t:for(var p=i,m=i*h;p<o;++p,m+=h){var v=a[m+e],g=a[m+e+t];if(!(d<v||g<d)&&(!r||d!==v)){for(var y=s[p],b=e+1;b<t;++b){v=a[m+b],g=a[m+b+t];var _=u[f+b],x=u[f+b+t];if(g<_||x<v)continue t}var T;if(void 0!==(T=r?n(c,y):n(y,c)))return T}}}function A(t,e,n,r,i,o,a,s,l,u){var c=2*t,h=s*c,f=l[h+e];t:for(var d=r,p=r*c;d<i;++d,p+=c){var m=a[d];if(m!==u){var v=o[p+e],g=o[p+e+t];if(!(f<v||g<f)){for(var y=e+1;y<t;++y){v=o[p+y],g=o[p+y+t];var b=l[h+y],_=l[h+y+t];if(g<b||_<v)continue t}var x=n(m,u);if(void 0!==x)return x}}}}function O(t,e,n,r,i,o,c,T,O){E(t,r+c);var P,M=0,I=2*t;for(k(M++,0,0,r,0,c,n?16:0,-1/0,1/0),n||k(M++,0,0,c,0,r,1,-1/0,1/0);M>0;){var R=(M-=1)*_,L=w[R],D=w[R+1],N=w[R+2],j=w[R+3],B=w[R+4],F=w[R+5],H=M*x,z=S[H],U=S[H+1],V=1&F,G=!!(16&F),X=i,Y=o,W=T,q=O;if(V&&(X=T,Y=O,W=i,q=o),!(2&F&&(N=v(t,L,D,N,X,Y,U),D>=N))&&!(4&F&&(D=g(t,L,D,N,X,Y,z),D>=N))){var K=N-D,$=B-j;if(G){if(t*K*(K+$)<d){if(void 0!==(P=l.scanComplete(t,L,e,D,N,X,Y,j,B,W,q)))return P;continue}}else{if(t*Math.min(K,$)<h){if(void 0!==(P=a(t,L,e,V,D,N,X,Y,j,B,W,q)))return P;continue}if(t*K*$<f){if(void 0!==(P=l.scanBipartite(t,L,e,V,D,N,X,Y,j,B,W,q)))return P;continue}}var Z=p(t,L,D,N,X,Y,z,U);if(D<Z)if(t*(Z-D)<h){if(void 0!==(P=s(t,L+1,e,D,Z,X,Y,j,B,W,q)))return P}else if(L===t-2){if(void 0!==(P=V?l.sweepBipartite(t,e,j,B,W,q,D,Z,X,Y):l.sweepBipartite(t,e,D,Z,X,Y,j,B,W,q)))return P}else k(M++,L+1,D,Z,j,B,V,-1/0,1/0),k(M++,L+1,j,B,D,Z,1^V,-1/0,1/0);if(Z<N){var Q=u(t,L,j,B,W,q),J=W[I*Q+L],tt=m(t,L,Q,B,W,q,J);if(tt<B&&k(M++,L,Z,N,tt,B,(4|V)+(G?16:0),J,U),j<Q&&k(M++,L,Z,N,j,Q,(2|V)+(G?16:0),z,J),Q+1===tt){if(void 0!==(P=G?A(t,L,e,Z,N,X,Y,Q,W,q[Q]):C(t,L,e,V,Z,N,X,Y,Q,W,q[Q])))return P}else if(Q<tt){var et;if(G){if(Z<(et=y(t,L,Z,N,X,Y,J))){var nt=m(t,L,Z,et,X,Y,J);if(L===t-2){if(Z<nt&&void 0!==(P=l.sweepComplete(t,e,Z,nt,X,Y,Q,tt,W,q))||nt<et&&void 0!==(P=l.sweepBipartite(t,e,nt,et,X,Y,Q,tt,W,q)))return P}else Z<nt&&k(M++,L+1,Z,nt,Q,tt,16,-1/0,1/0),nt<et&&(k(M++,L+1,nt,et,Q,tt,0,-1/0,1/0),k(M++,L+1,Q,tt,nt,et,1,-1/0,1/0))}}else Z<(et=V?b(t,L,Z,N,X,Y,J):y(t,L,Z,N,X,Y,J))&&(L===t-2?P=V?l.sweepBipartite(t,e,Q,tt,W,q,Z,et,X,Y):l.sweepBipartite(t,e,Z,et,X,Y,Q,tt,W,q):(k(M++,L+1,Z,et,Q,tt,V,-1/0,1/0),k(M++,L+1,Q,tt,Z,et,1^V,-1/0,1/0)))}}}}}},function(t,e,n){var r="d",i="ax",o="vv",a="fp",s="es",l="rs",u="re",c="rb",h="ri",f="rp",d="bs",p="be",m="bb",v="bi",g="bp",y="rv",b="Q",_=[r,i,o,l,u,c,h,d,p,m,v];function x(t,e,n){var a="bruteForce"+(t?"Red":"Blue")+(e?"Flip":"")+(n?"Full":""),x=["function ",a,"(",_.join(),"){","var ",s,"=2*",r,";"],T="for(var i="+l+","+f+"="+s+"*"+l+";i<"+u+";++i,"+f+"+="+s+"){var x0="+c+"["+i+"+"+f+"],x1="+c+"["+i+"+"+f+"+"+r+"],xi="+h+"[i];",w="for(var j="+d+","+g+"="+s+"*"+d+";j<"+p+";++j,"+g+"+="+s+"){var y0="+m+"["+i+"+"+g+"],"+(n?"y1="+m+"["+i+"+"+g+"+"+r+"],":"")+"yi="+v+"[j];";return t?x.push(T,b,":",w):x.push(w,b,":",T),n?x.push("if(y1<x0||x1<y0)continue;"):e?x.push("if(y0<=x0||x1<y0)continue;"):x.push("if(y0<x0||x1<y0)continue;"),x.push("for(var k="+i+"+1;k<"+r+";++k){var r0="+c+"[k+"+f+"],r1="+c+"[k+"+r+"+"+f+"],b0="+m+"[k+"+g+"],b1="+m+"[k+"+r+"+"+g+"];if(r1<b0||b1<r0)continue "+b+";}var "+y+"="+o+"("),e?x.push("yi,xi"):x.push("xi,yi"),x.push(");if("+y+"!==void 0)return "+y+";}}}"),{name:a,code:x.join("")}}function T(t){var e="bruteForce"+(t?"Full":"Partial"),n=[],r=_.slice();t||r.splice(3,0,a);var i=["function "+e+"("+r.join()+"){"];function o(e,r){var o=x(e,r,t);n.push(o.code),i.push("return "+o.name+"("+_.join()+");")}i.push("if("+u+"-"+l+">"+p+"-"+d+"){"),t?(o(!0,!1),i.push("}else{"),o(!1,!1)):(i.push("if("+a+"){"),o(!0,!0),i.push("}else{"),o(!0,!1),i.push("}}else{if("+a+"){"),o(!1,!0),i.push("}else{"),o(!1,!1),i.push("}")),i.push("}}return "+e);var s=n.join("")+i.join("");return new Function(s)()}e.partial=T(!1),e.full=T(!0)},function(t,e,n){t.exports=a;var r=n(354)("lo<p0",["p0"]),i=8;function o(t,e,n,r,i,o){for(var a=2*t,s=a*(n+1)+e,l=n+1;l<r;++l,s+=a)for(var u=i[s],c=l,h=a*(l-1);c>n&&i[h+e]>u;--c,h-=a){for(var f=h,d=h+a,p=0;p<a;++p,++f,++d){var m=i[f];i[f]=i[d],i[d]=m}var v=o[c];o[c]=o[c-1],o[c-1]=v}}function a(t,e,n,a,s,l){if(a<=n+1)return n;for(var u=n,c=a,h=a+n>>>1,f=2*t,d=h,p=s[f*h+e];u<c;){if(c-u<i){o(t,e,u,c,s,l),p=s[f*h+e];break}var m=c-u,v=Math.random()*m+u|0,g=s[f*v+e],y=Math.random()*m+u|0,b=s[f*y+e],_=Math.random()*m+u|0,x=s[f*_+e];g<=b?x>=b?(d=y,p=b):g>=x?(d=v,p=g):(d=_,p=x):b>=x?(d=y,p=b):x>=g?(d=v,p=g):(d=_,p=x);for(var T=f*(c-1),w=f*d,S=0;S<f;++S,++T,++w){var E=s[T];s[T]=s[w],s[w]=E}var k=l[c-1];for(l[c-1]=l[d],l[d]=k,T=f*(c-1),w=f*(d=r(t,e,u,c-1,s,l,p)),S=0;S<f;++S,++T,++w)E=s[T],s[T]=s[w],s[w]=E;if(k=l[c-1],l[c-1]=l[d],l[d]=k,h<d){for(c=d-1;u<c&&s[f*(c-1)+e]===p;)c-=1;c+=1}else{if(!(d<h))break;for(u=d+1;u<c&&s[f*u+e]===p;)u+=1}}return r(t,e,n,h,s,l,s[f*h+e])}},function(t,e,n){var r=n(356),i=n(624),o=n(625),a=n(627),s=5,l=11102230246251565e-32,u=(3+16*l)*l,c=(7+56*l)*l;function h(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function f(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}function d(t){return 1&t?"-":""}function p(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",p(t.slice(0,e)),",",p(t.slice(e)),")"].join("")}function m(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",p(m(h(t,n))),",",d(n),t[0][n],")"].join(""));return e}function v(t){for(var e=[],n=[],s=f(t),l=[],u=0;u<t;++u)1&u?n.push.apply(n,m(h(s,u))):e.push.apply(e,m(h(s,u))),l.push("m"+u);var c=p(e),d=p(n),v="orientation"+t+"Exact",g=["function ",v,"(",l.join(),"){var p=",c,",n=",d,",d=sub(p,n);\treturn d[d.length-1];};return ",v].join("");return new Function("sum","prod","scale","sub",g)(i,r,o,a)}var g=v(3),y=v(4),b=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=u*r;return a>=s||a<=-s?a:g(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],s=t[1]-r[1],l=e[1]-r[1],u=n[1]-r[1],h=t[2]-r[2],f=e[2]-r[2],d=n[2]-r[2],p=o*u,m=a*l,v=a*s,g=i*u,b=i*l,_=o*s,x=h*(p-m)+f*(v-g)+d*(b-_),T=(Math.abs(p)+Math.abs(m))*Math.abs(h)+(Math.abs(v)+Math.abs(g))*Math.abs(f)+(Math.abs(b)+Math.abs(_))*Math.abs(d),w=c*T;return x>w||-x>w?x:y(t,e,n,r)}];function _(t){var e=b[t.length];return e||(e=b[t.length]=v(t.length)),e.apply(void 0,t)}function x(){for(;b.length<=s;)b.push(v(b.length));for(var e=[],n=["slow"],r=0;r<=s;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=s;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);for(t.exports=o.apply(void 0,[_].concat(b)),r=0;r<=s;++r)t.exports[r]=b[r]}x()},function(t,e,n){function r(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}function i(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return r(t[0],e[0]);var o,a,s=new Array(n+i),l=0,u=0,c=0,h=Math.abs,f=t[u],d=h(f),p=e[c],m=h(p);d<m?(a=f,(u+=1)<n&&(d=h(f=t[u]))):(a=p,(c+=1)<i&&(m=h(p=e[c]))),u<n&&d<m||c>=i?(o=f,(u+=1)<n&&(d=h(f=t[u]))):(o=p,(c+=1)<i&&(m=h(p=e[c])));for(var v,g,y=o+a,b=y-o,_=a-b,x=_,T=y;u<n&&c<i;)d<m?(o=f,(u+=1)<n&&(d=h(f=t[u]))):(o=p,(c+=1)<i&&(m=h(p=e[c]))),(_=(a=x)-(b=(y=o+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v;for(;u<n;)(_=(a=x)-(b=(y=(o=f)+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v,(u+=1)<n&&(f=t[u]);for(;c<i;)(_=(a=x)-(b=(y=(o=p)+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v,(c+=1)<i&&(p=e[c]);return x&&(s[l++]=x),T&&(s[l++]=T),l||(s[l++]=0),s.length=l,s}t.exports=i},function(t,e,n){var r=n(356),i=n(626);function o(t,e){var n=t.length;if(1===n){var o=r(t[0],e);return o[0]?o:[o[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;r(t[0],e,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<n;++c){r(t[c],e,l);var h=s[1];i(h,l[0],s),s[0]&&(a[u++]=s[0]);var f=l[1],d=s[1],p=f+d,m=d-(p-f);s[1]=p,m&&(a[u++]=m)}return s[1]&&(a[u++]=s[1]),0===u&&(a[u++]=0),a.length=u,a}t.exports=o},function(t,e,n){function r(t,e,n){var r=t+e,i=r-t,o=e-i,a=t-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]}t.exports=r},function(t,e,n){function r(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}function i(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return r(t[0],-e[0]);var o,a,s=new Array(n+i),l=0,u=0,c=0,h=Math.abs,f=t[u],d=h(f),p=-e[c],m=h(p);d<m?(a=f,(u+=1)<n&&(d=h(f=t[u]))):(a=p,(c+=1)<i&&(m=h(p=-e[c]))),u<n&&d<m||c>=i?(o=f,(u+=1)<n&&(d=h(f=t[u]))):(o=p,(c+=1)<i&&(m=h(p=-e[c])));for(var v,g,y=o+a,b=y-o,_=a-b,x=_,T=y;u<n&&c<i;)d<m?(o=f,(u+=1)<n&&(d=h(f=t[u]))):(o=p,(c+=1)<i&&(m=h(p=-e[c]))),(_=(a=x)-(b=(y=o+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v;for(;u<n;)(_=(a=x)-(b=(y=(o=f)+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v,(u+=1)<n&&(f=t[u]);for(;c<i;)(_=(a=x)-(b=(y=(o=p)+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v,(c+=1)<i&&(p=-e[c]);return x&&(s[l++]=x),T&&(s[l++]=T),l||(s[l++]=0),s.length=l,s}t.exports=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(139));function i(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=0,n=[];return t.forEach((function(t){e+=+t||0,n.push(e)})),Float64Array.from(n)}var a=function(t,e){var n=(0,r.default)(t,e);return o(t.map((function(t){return(Array.isArray(t)&&e?t.length:1)/n})))};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(3)),i=a(n(4)),o=n(11);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){(0,r.default)(this,t),this.scene=e.scene,this.originalTrack=e,this.pBase=new o.GLOBALS.PIXI.Graphics,this.scene.removeChild(e.pBase),this.scene.addChild(this.pBase),this.moveToOrigin=new o.GLOBALS.PIXI.Graphics,this.moveToOrigin.addChild(e.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,e.isLeftModified=!0,e.flipText=!0,this.svgOutput=null,e.gBase&&e.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                             rotate(90)\n                             scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}return(0,i.default)(t,[{key:"remove",value:function(){function t(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}return t}()},{key:"setDimensions",value:function(){function t(t){this.dimensions=t;var e=[t[1],t[0]];this.originalTrack.setDimensions(e)}return t}()},{key:"setPosition",value:function(){function t(t){this.position=t,this.originalTrack.setPosition(t),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                                 rotate(90)\n                                 scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}return t}()},{key:"refXScale",value:function(){function t(t){return arguments.length?(this.originalTrack._refXScale=t,this):this.originalTrack._refYScale}return t}()},{key:"refYScale",value:function(){function t(t){return arguments.length?(this.originalTrack._refYScale=t,this):this.originalTrack._refXScale}return t}()},{key:"xScale",value:function(){function t(t){return arguments.length?(this.originalTrack._yScale=t,this):this.originalTrack._xScale}return t}()},{key:"yScale",value:function(){function t(t){return arguments.length?(this.originalTrack._xScale=t,this):this.originalTrack._yScale}return t}()},{key:"getMouseOverHtml",value:function(){function t(t,e){return this.originalTrack.getMouseOverHtml(e,t)}return t}()},{key:"draw",value:function(){function t(){this.originalTrack.draw()}return t}()},{key:"zoomed",value:function(){function t(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(this.xScale(t),this.yScale(e),this.originalTrack.leftTrackZoomed)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackZoomed(t,e,n,r,i),void this.originalTrack.draw();var o=this.originalTrack._xScale(0)-n*this.originalTrack._refXScale(0);if(this.originalTrack.pMobile.position.x=o+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=n,this.originalTrack.pMobile.scale.y=n,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-n,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.leftTrackDraw)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),void this.originalTrack.leftTrackDraw();this.originalTrack.zoomed(this.xScale(),this.yScale())}return t}()},{key:"zoomedY",value:function(){function t(t,e){this.originalTrack.zoomedY(t,e)}return t}()},{key:"movedY",value:function(){function t(t){this.originalTrack.movedY(t)}return t}()},{key:"refScalesChanged",value:function(){function t(t,e){this.originalTrack.refScalesChanged(e,t)}return t}()},{key:"rerender",value:function(){function t(t){this.originalTrack.rerender(t)}return t}()},{key:"exportSVG",value:function(){function t(){var t=document.createElement("g");if(t.setAttribute("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                             rotate(90)\n                             scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.exportSVG){var e=document.createElement("g");e.setAttribute("transform","translate("+String(this.originalTrack.pBase.position.x)+", "+String(this.originalTrack.pBase.position.y)+")"),e.appendChild(this.originalTrack.exportSVG()[0]),t.appendChild(e)}return[t,t]}return t}()},{key:"respondsToPosition",value:function(){function t(t,e){return t>=this.position[0]&&t<=this.dimensions[0]+this.position[0]&&e>=this.position[1]&&e<=this.dimensions[1]+this.position[1]}return t}()}]),t}();e.default=s},function(t,e,n){t.exports={default:n(631),__esModule:!0}},function(t,e,n){n(632),t.exports=n(12).Number.isInteger},function(t,e,n){var r=n(16);r(r.S,"Number",{isInteger:n(178)})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(5)),i=l(n(3)),o=l(n(4)),a=l(n(6)),s=l(n(7));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n));return o.tilesetInfo={},o.errorTextText="Unknown track type: "+String(n.type),o}return(0,s.default)(e,t),(0,o.default)(e,[{key:"zoomed",value:function(){function t(){this.draw()}return t}()}]),e}(l(n(40)).default);e.default=u},function(t,e,n){t.exports={default:n(635),__esModule:!0}},function(t,e,n){n(636),t.exports=n(168).f("hasInstance")},function(t,e,n){var r=n(33),i=n(128),o=n(21)("hasInstance"),a=Function.prototype;o in a||n(32).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){t.exports={default:n(638),__esModule:!0}},function(t,e,n){n(164),n(61),n(76),n(639),n(640),n(641),n(642),t.exports=n(12).Map},function(t,e,n){var r=n(333),i=n(238),o="Map";t.exports=n(334)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},function(t,e,n){var r=n(16);r(r.P+r.R,"Map",{toJSON:n(335)("Map")})},function(t,e,n){n(336)("Map")},function(t,e,n){n(337)("Map")},function(t,e,n){var r={};(0,n(82).assign)(r,n(644),n(647),n(388)),t.exports=r},function(t,e,n){var r=n(645),i=n(82),o=n(386),a=n(263),s=n(387),l=Object.prototype.toString,u=0,c=4,h=0,f=1,d=2,p=-1,m=0,v=8;function g(t){if(!(this instanceof g))return new g(t);this.options=i.assign({level:p,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==h)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var u;if(u="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=r.deflateSetDictionary(this.strm,u))!==h)throw new Error(a[n]);this._dict_set=!0}}function y(t,e){var n=new g(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}function b(t,e){return(e=e||{}).raw=!0,y(t,e)}function _(t,e){return(e=e||{}).gzip=!0,y(t,e)}g.prototype.push=function(t,e){var n,a,s=this.strm,p=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?c:u,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===l.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(p),s.next_out=0,s.avail_out=p),(n=r.deflate(s,a))!==f&&n!==h)return this.onEnd(n),this.ended=!0,!1;(0===s.avail_out||0===s.avail_in&&(a===c||a===d))&&("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&n!==f);return a===c?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h):(a===d&&(this.onEnd(h),s.avail_out=0),!0)},g.prototype.onData=function(t){this.chunks.push(t)},g.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=g,e.deflate=y,e.deflateRaw=b,e.gzip=_},function(t,e,n){var r,i=n(82),o=n(646),a=n(384),s=n(385),l=n(263),u=0,c=1,h=3,f=4,d=5,p=0,m=1,v=-2,g=-3,y=-5,b=-1,_=1,x=2,T=3,w=4,S=0,E=2,k=8,C=9,A=15,O=8,P=286,M=30,I=19,R=2*P+1,L=15,D=3,N=258,j=N+D+1,B=32,F=42,H=69,z=73,U=91,V=103,G=113,X=666,Y=1,W=2,q=3,K=4,$=3;function Z(t,e){return t.msg=l[e],e}function Q(t){return(t<<1)-(t>4?9:0)}function J(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function rt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function it(t,e,n,r){var o=t.avail_in;return o>r&&(o=r),0===o?0:(t.avail_in-=o,i.arraySet(e,t.input,t.next_in,o,n),1===t.state.wrap?t.adler=a(t.adler,e,o,n):2===t.state.wrap&&(t.adler=s(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)}function ot(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-j?t.strstart-(t.w_size-j):0,u=t.window,c=t.w_mask,h=t.prev,f=t.strstart+N,d=u[o+a-1],p=u[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+a]===p&&u[n+a-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=N-(f-o),o=f-N,r>a){if(t.match_start=e,a=r,r>=s)break;d=u[o+a-1],p=u[o+a]}}}while((e=h[e&c])>l&&0!==--i);return a<=t.lookahead?a:t.lookahead}function at(t){var e,n,r,o,a,s=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-j)){i.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=s?r-s:0}while(--n);e=n=s;do{r=t.prev[--e],t.prev[e]=r>=s?r-s:0}while(--n);o+=s}if(0===t.strm.avail_in)break;if(n=it(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=D)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+D-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<D)););}while(t.lookahead<j&&0!==t.strm.avail_in)}function st(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),0===t.lookahead&&e===u)return Y;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,et(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-j&&(et(t,!1),0===t.strm.avail_out))return Y}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?q:K):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),Y)}function lt(t,e){for(var n,r;;){if(t.lookahead<j){if(at(t),t.lookahead<j&&e===u)return Y;if(0===t.lookahead)break}if(n=0,t.lookahead>=D&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-j&&(t.match_length=ot(t,n)),t.match_length>=D)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-D),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=D){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(et(t,!1),0===t.strm.avail_out))return Y}return t.insert=t.strstart<D-1?t.strstart:D-1,e===f?(et(t,!0),0===t.strm.avail_out?q:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Y:W}function ut(t,e){for(var n,r,i;;){if(t.lookahead<j){if(at(t),t.lookahead<j&&e===u)return Y;if(0===t.lookahead)break}if(n=0,t.lookahead>=D&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=D-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-j&&(t.match_length=ot(t,n),t.match_length<=5&&(t.strategy===_||t.match_length===D&&t.strstart-t.match_start>4096)&&(t.match_length=D-1)),t.prev_length>=D&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-D,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-D),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=D-1,t.strstart++,r&&(et(t,!1),0===t.strm.avail_out))return Y}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Y}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<D-1?t.strstart:D-1,e===f?(et(t,!0),0===t.strm.avail_out?q:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Y:W}function ct(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=N){if(at(t),t.lookahead<=N&&e===u)return Y;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=D&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=t.strstart+N;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);t.match_length=N-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=D?(n=o._tr_tally(t,1,t.match_length-D),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return Y}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?q:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Y:W}function ht(t,e){for(var n;;){if(0===t.lookahead&&(at(t),0===t.lookahead)){if(e===u)return Y;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return Y}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?q:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Y:W}function ft(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function dt(t){t.window_size=2*t.w_size,J(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=D-1,t.match_available=0,t.ins_h=0}function pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*R),this.dyn_dtree=new i.Buf16(2*(2*M+1)),this.bl_tree=new i.Buf16(2*(2*I+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(L+1),this.heap=new i.Buf16(2*P+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*P+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function mt(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=E,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?F:G,t.adler=2===e.wrap?0:1,e.last_flush=u,o._tr_init(e),p):Z(t,v)}function vt(t){var e=mt(t);return e===p&&dt(t.state),e}function gt(t,e){return t&&t.state&&2===t.state.wrap?(t.state.gzhead=e,p):v}function yt(t,e,n,r,o,a){if(!t)return v;var s=1;if(e===b&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>C||n!==k||r<8||r>15||e<0||e>9||a<0||a>w)return Z(t,v);8===r&&(r=9);var l=new pt;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+D-1)/D),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,vt(t)}function bt(t,e){return yt(t,e,k,A,O,S)}function _t(t,e){var n,i,a,l;if(!t||!t.state||e>d||e<0)return t?Z(t,v):v;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===X&&e!==f)return Z(t,0===t.avail_out?y:v);if(i.strm=t,n=i.last_flush,i.last_flush=e,i.status===F)if(2===i.wrap)t.adler=0,nt(i,31),nt(i,139),nt(i,8),i.gzhead?(nt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),nt(i,255&i.gzhead.time),nt(i,i.gzhead.time>>8&255),nt(i,i.gzhead.time>>16&255),nt(i,i.gzhead.time>>24&255),nt(i,9===i.level?2:i.strategy>=x||i.level<2?4:0),nt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(nt(i,255&i.gzhead.extra.length),nt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=H):(nt(i,0),nt(i,0),nt(i,0),nt(i,0),nt(i,0),nt(i,9===i.level?2:i.strategy>=x||i.level<2?4:0),nt(i,$),i.status=G);else{var g=k+(i.w_bits-8<<4)<<8;g|=(i.strategy>=x||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(g|=B),g+=31-g%31,i.status=G,rt(i,g),0!==i.strstart&&(rt(i,t.adler>>>16),rt(i,65535&t.adler)),t.adler=1}if(i.status===H)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending!==i.pending_buf_size));)nt(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=z)}else i.status=z;if(i.status===z)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,nt(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=U)}else i.status=U;if(i.status===U)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,nt(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=V)}else i.status=V;if(i.status===V&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&tt(t),i.pending+2<=i.pending_buf_size&&(nt(i,255&t.adler),nt(i,t.adler>>8&255),t.adler=0,i.status=G)):i.status=G),0!==i.pending){if(tt(t),0===t.avail_out)return i.last_flush=-1,p}else if(0===t.avail_in&&Q(e)<=Q(n)&&e!==f)return Z(t,y);if(i.status===X&&0!==t.avail_in)return Z(t,y);if(0!==t.avail_in||0!==i.lookahead||e!==u&&i.status!==X){var b=i.strategy===x?ht(i,e):i.strategy===T?ct(i,e):r[i.level].func(i,e);if((b===q||b===K)&&(i.status=X),b===Y||b===q)return 0===t.avail_out&&(i.last_flush=-1),p;if(b===W&&(e===c?o._tr_align(i):e!==d&&(o._tr_stored_block(i,0,0,!1),e===h&&(J(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),tt(t),0===t.avail_out))return i.last_flush=-1,p}return e!==f?p:i.wrap<=0?m:(2===i.wrap?(nt(i,255&t.adler),nt(i,t.adler>>8&255),nt(i,t.adler>>16&255),nt(i,t.adler>>24&255),nt(i,255&t.total_in),nt(i,t.total_in>>8&255),nt(i,t.total_in>>16&255),nt(i,t.total_in>>24&255)):(rt(i,t.adler>>>16),rt(i,65535&t.adler)),tt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:m)}function xt(t){var e;return t&&t.state?(e=t.state.status)!==F&&e!==H&&e!==z&&e!==U&&e!==V&&e!==G&&e!==X?Z(t,v):(t.state=null,e===G?Z(t,g):p):v}function Tt(t,e){var n,r,o,s,l,u,c,h,f=e.length;if(!t||!t.state||2===(s=(n=t.state).wrap)||1===s&&n.status!==F||n.lookahead)return v;for(1===s&&(t.adler=a(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,e,f-n.w_size,n.w_size,0),e=h,f=n.w_size),l=t.avail_in,u=t.next_in,c=t.input,t.avail_in=f,t.next_in=0,t.input=e,at(n);n.lookahead>=D;){r=n.strstart,o=n.lookahead-(D-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+D-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=D-1,at(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=D-1,n.match_available=0,t.next_in=u,t.input=c,t.avail_in=l,n.wrap=s,p}r=[new ft(0,0,0,0,st),new ft(4,4,8,4,lt),new ft(4,5,16,8,lt),new ft(4,6,32,32,lt),new ft(4,4,16,16,ut),new ft(8,16,32,32,ut),new ft(8,16,128,128,ut),new ft(8,32,128,256,ut),new ft(32,128,258,1024,ut),new ft(32,258,258,4096,ut)],e.deflateInit=bt,e.deflateInit2=yt,e.deflateReset=vt,e.deflateResetKeep=mt,e.deflateSetHeader=gt,e.deflate=_t,e.deflateEnd=xt,e.deflateSetDictionary=Tt,e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){var r=n(82),i=4,o=0,a=1,s=2;function l(t){for(var e=t.length;--e>=0;)t[e]=0}var u=0,c=1,h=2,f=3,d=258,p=29,m=256,v=m+1+p,g=30,y=19,b=2*v+1,_=15,x=16,T=7,w=256,S=16,E=17,k=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=512,I=new Array(2*(v+2));l(I);var R=new Array(2*g);l(R);var L=new Array(M);l(L);var D=new Array(d-f+1);l(D);var N=new Array(p);l(N);var j,B,F,H=new Array(g);function z(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function U(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function V(t){return t<256?L[t]:L[256+(t>>>7)]}function G(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function X(t,e,n){t.bi_valid>x-n?(t.bi_buf|=e<<t.bi_valid&65535,G(t,t.bi_buf),t.bi_buf=e>>x-t.bi_valid,t.bi_valid+=n-x):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function Y(t,e,n){X(t,n[2*e],n[2*e+1])}function W(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function q(t){16===t.bi_valid?(G(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function K(t,e){var n,r,i,o,a,s,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=_;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<b;n++)(o=l[2*l[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,m++),l[2*r+1]=o,!(r>u)&&(t.bl_count[o]++,a=0,r>=d&&(a=f[r-d]),s=l[2*r],t.opt_len+=s*(o+a),h&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)!((i=t.heap[--n])>u)&&(l[2*i+1]!==o&&(t.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}function $(t,e,n){var r,i,o=new Array(_+1),a=0;for(r=1;r<=_;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=W(o[s]++,s))}}function Z(){var t,e,n,r,i,o=new Array(_+1);for(n=0,r=0;r<p-1;r++)for(N[r]=n,t=0;t<1<<C[r];t++)D[n++]=r;for(D[n-1]=r,i=0,r=0;r<16;r++)for(H[r]=i,t=0;t<1<<A[r];t++)L[i++]=r;for(i>>=7;r<g;r++)for(H[r]=i<<7,t=0;t<1<<A[r]-7;t++)L[256+i++]=r;for(e=0;e<=_;e++)o[e]=0;for(t=0;t<=143;)I[2*t+1]=8,t++,o[8]++;for(;t<=255;)I[2*t+1]=9,t++,o[9]++;for(;t<=279;)I[2*t+1]=7,t++,o[7]++;for(;t<=287;)I[2*t+1]=8,t++,o[8]++;for($(I,v+1,o),t=0;t<g;t++)R[2*t+1]=5,R[2*t]=W(t,5);j=new z(I,C,m+1,v,_),B=new z(R,A,0,g,_),F=new z(new Array(0),O,0,y,T)}function Q(t){var e;for(e=0;e<v;e++)t.dyn_ltree[2*e]=0;for(e=0;e<g;e++)t.dyn_dtree[2*e]=0;for(e=0;e<y;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*w]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function J(t){t.bi_valid>8?G(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function tt(t,e,n,i){J(t),i&&(G(t,n),G(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function et(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function nt(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&et(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!et(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function rt(t,e,n){var r,i,o,a,s=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===r?Y(t,i,e):(Y(t,(o=D[i])+m+1,e),0!==(a=C[o])&&X(t,i-=N[o],a),Y(t,o=V(--r),n),0!==(a=A[o])&&X(t,r-=H[o],a))}while(s<t.last_lit);Y(t,w,e)}function it(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=b,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)nt(t,o,n);i=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],nt(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,nt(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],K(t,e),$(o,u,t.bl_count)}function ot(t,e,n){var r,i,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],!(++s<l&&i===a)&&(s<u?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*S]++):s<=10?t.bl_tree[2*E]++:t.bl_tree[2*k]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function at(t,e,n){var r,i,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)do{Y(t,i,t.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(Y(t,i,t.bl_tree),s--),Y(t,S,t.bl_tree),X(t,s-3,2)):s<=10?(Y(t,E,t.bl_tree),X(t,s-3,3)):(Y(t,k,t.bl_tree),X(t,s-11,7));s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}function st(t){var e;for(ot(t,t.dyn_ltree,t.l_desc.max_code),ot(t,t.dyn_dtree,t.d_desc.max_code),it(t,t.bl_desc),e=y-1;e>=3&&0===t.bl_tree[2*P[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function lt(t,e,n,r){var i;for(X(t,e-257,5),X(t,n-1,5),X(t,r-4,4),i=0;i<r;i++)X(t,t.bl_tree[2*P[i]+1],3);at(t,t.dyn_ltree,e-1),at(t,t.dyn_dtree,n-1)}function ut(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<m;e++)if(0!==t.dyn_ltree[2*e])return a;return o}l(H);var ct=!1;function ht(t){ct||(Z(),ct=!0),t.l_desc=new U(t.dyn_ltree,j),t.d_desc=new U(t.dyn_dtree,B),t.bl_desc=new U(t.bl_tree,F),t.bi_buf=0,t.bi_valid=0,Q(t)}function ft(t,e,n,r){X(t,(u<<1)+(r?1:0),3),tt(t,e,n,!0)}function dt(t){X(t,c<<1,3),Y(t,w,I),q(t)}function pt(t,e,n,r){var o,a,l=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=ut(t)),it(t,t.l_desc),it(t,t.d_desc),l=st(t),o=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==e?ft(t,e,n,r):t.strategy===i||a===o?(X(t,(c<<1)+(r?1:0),3),rt(t,I,R)):(X(t,(h<<1)+(r?1:0),3),lt(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),rt(t,t.dyn_ltree,t.dyn_dtree)),Q(t),r&&J(t)}function mt(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(D[n]+m+1)]++,t.dyn_dtree[2*V(e)]++),t.last_lit===t.lit_bufsize-1}e._tr_init=ht,e._tr_stored_block=ft,e._tr_flush_block=pt,e._tr_tally=mt,e._tr_align=dt},function(t,e,n){var r=n(648),i=n(82),o=n(386),a=n(388),s=n(263),l=n(387),u=n(651),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(s[n])}function f(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}function d(t,e){return(e=e||{}).raw=!0,f(t,e)}h.prototype.push=function(t,e){var n,s,l,u,h,f=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?f.input=o.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(d),f.next_out=0,f.avail_out=d),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0===f.avail_out||n===a.Z_STREAM_END||0===f.avail_in&&(s===a.Z_FINISH||s===a.Z_SYNC_FLUSH))&&("string"===this.options.to?(l=o.utf8border(f.output,f.next_out),u=f.next_out-l,h=o.buf2string(f.output,l),f.next_out=u,f.avail_out=d-u,u&&i.arraySet(f.output,f.output,l,u,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):(s===a.Z_SYNC_FLUSH&&(this.onEnd(a.Z_OK),f.avail_out=0),!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=f,e.inflateRaw=d,e.ungzip=f},function(t,e,n){var r=n(82),i=n(384),o=n(385),a=n(649),s=n(650),l=0,u=1,c=2,h=4,f=5,d=6,p=0,m=1,v=2,g=-2,y=-3,b=-4,_=-5,x=8,T=1,w=2,S=3,E=4,k=5,C=6,A=7,O=8,P=9,M=10,I=11,R=12,L=13,D=14,N=15,j=16,B=17,F=18,H=19,z=20,U=21,V=22,G=23,X=24,Y=25,W=26,q=27,K=28,$=29,Z=30,Q=31,J=852,tt=592,et=15;function nt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function rt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function it(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=T,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(J),e.distcode=e.distdyn=new r.Buf32(tt),e.sane=1,e.back=-1,p):g}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,it(t)):g}function at(t,e){var n,r;return!t||!t.state||(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15))?g:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,ot(t))}function st(t,e){var n,r;return t?(r=new rt,t.state=r,r.window=null,(n=at(t,e))!==p&&(t.state=null),n):g}function lt(t){return st(t,et)}var ut,ct,ht=!0;function ft(t){if(ht){var e;for(ut=new r.Buf32(512),ct=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(u,t.lens,0,288,ut,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(c,t.lens,0,32,ct,0,t.work,{bits:5}),ht=!1}t.lencode=ut,t.lenbits=9,t.distcode=ct,t.distbits=5}function dt(t,e,n,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,e,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}function pt(t,e){var n,J,tt,et,rt,it,ot,at,st,lt,ut,ct,ht,pt,mt,vt,gt,yt,bt,_t,xt,Tt,wt,St,Et=0,kt=new r.Buf8(4),Ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return g;(n=t.state).mode===R&&(n.mode=L),rt=t.next_out,tt=t.output,ot=t.avail_out,et=t.next_in,J=t.input,it=t.avail_in,at=n.hold,st=n.bits,lt=it,ut=ot,Tt=p;t:for(;;)switch(n.mode){case T:if(0===n.wrap){n.mode=L;break}for(;st<16;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}if(2&n.wrap&&35615===at){n.check=0,kt[0]=255&at,kt[1]=at>>>8&255,n.check=o(n.check,kt,2,0),at=0,st=0,n.mode=w;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&at)<<8)+(at>>8))%31){t.msg="incorrect header check",n.mode=Z;break}if((15&at)!==x){t.msg="unknown compression method",n.mode=Z;break}if(st-=4,xt=8+(15&(at>>>=4)),0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=Z;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&at?M:R,at=0,st=0;break;case w:for(;st<16;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}if(n.flags=at,(255&n.flags)!==x){t.msg="unknown compression method",n.mode=Z;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Z;break}n.head&&(n.head.text=at>>8&1),512&n.flags&&(kt[0]=255&at,kt[1]=at>>>8&255,n.check=o(n.check,kt,2,0)),at=0,st=0,n.mode=S;case S:for(;st<32;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}n.head&&(n.head.time=at),512&n.flags&&(kt[0]=255&at,kt[1]=at>>>8&255,kt[2]=at>>>16&255,kt[3]=at>>>24&255,n.check=o(n.check,kt,4,0)),at=0,st=0,n.mode=E;case E:for(;st<16;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}n.head&&(n.head.xflags=255&at,n.head.os=at>>8),512&n.flags&&(kt[0]=255&at,kt[1]=at>>>8&255,n.check=o(n.check,kt,2,0)),at=0,st=0,n.mode=k;case k:if(1024&n.flags){for(;st<16;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}n.length=at,n.head&&(n.head.extra_len=at),512&n.flags&&(kt[0]=255&at,kt[1]=at>>>8&255,n.check=o(n.check,kt,2,0)),at=0,st=0}else n.head&&(n.head.extra=null);n.mode=C;case C:if(1024&n.flags&&((ct=n.length)>it&&(ct=it),ct&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,J,et,ct,xt)),512&n.flags&&(n.check=o(n.check,J,ct,et)),it-=ct,et+=ct,n.length-=ct),n.length))break t;n.length=0,n.mode=A;case A:if(2048&n.flags){if(0===it)break t;ct=0;do{xt=J[et+ct++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt))}while(xt&&ct<it);if(512&n.flags&&(n.check=o(n.check,J,ct,et)),it-=ct,et+=ct,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=O;case O:if(4096&n.flags){if(0===it)break t;ct=0;do{xt=J[et+ct++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt))}while(xt&&ct<it);if(512&n.flags&&(n.check=o(n.check,J,ct,et)),it-=ct,et+=ct,xt)break t}else n.head&&(n.head.comment=null);n.mode=P;case P:if(512&n.flags){for(;st<16;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}if(at!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Z;break}at=0,st=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=R;break;case M:for(;st<32;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}t.adler=n.check=nt(at),at=0,st=0,n.mode=I;case I:if(0===n.havedict)return t.next_out=rt,t.avail_out=ot,t.next_in=et,t.avail_in=it,n.hold=at,n.bits=st,v;t.adler=n.check=1,n.mode=R;case R:if(e===f||e===d)break t;case L:if(n.last){at>>>=7&st,st-=7&st,n.mode=q;break}for(;st<3;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}switch(n.last=1&at,st-=1,3&(at>>>=1)){case 0:n.mode=D;break;case 1:if(ft(n),n.mode=z,e===d){at>>>=2,st-=2;break t}break;case 2:n.mode=B;break;case 3:t.msg="invalid block type",n.mode=Z}at>>>=2,st-=2;break;case D:for(at>>>=7&st,st-=7&st;st<32;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}if((65535&at)!==(at>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Z;break}if(n.length=65535&at,at=0,st=0,n.mode=N,e===d)break t;case N:n.mode=j;case j:if(ct=n.length){if(ct>it&&(ct=it),ct>ot&&(ct=ot),0===ct)break t;r.arraySet(tt,J,et,ct,rt),it-=ct,et+=ct,ot-=ct,rt+=ct,n.length-=ct;break}n.mode=R;break;case B:for(;st<14;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}if(n.nlen=257+(31&at),at>>>=5,st-=5,n.ndist=1+(31&at),at>>>=5,st-=5,n.ncode=4+(15&at),at>>>=4,st-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Z;break}n.have=0,n.mode=F;case F:for(;n.have<n.ncode;){for(;st<3;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}n.lens[Ct[n.have++]]=7&at,at>>>=3,st-=3}for(;n.have<19;)n.lens[Ct[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,wt={bits:n.lenbits},Tt=s(l,n.lens,0,19,n.lencode,0,n.work,wt),n.lenbits=wt.bits,Tt){t.msg="invalid code lengths set",n.mode=Z;break}n.have=0,n.mode=H;case H:for(;n.have<n.nlen+n.ndist;){for(;vt=(Et=n.lencode[at&(1<<n.lenbits)-1])>>>16&255,gt=65535&Et,!((mt=Et>>>24)<=st);){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}if(gt<16)at>>>=mt,st-=mt,n.lens[n.have++]=gt;else{if(16===gt){for(St=mt+2;st<St;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}if(at>>>=mt,st-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=Z;break}xt=n.lens[n.have-1],ct=3+(3&at),at>>>=2,st-=2}else if(17===gt){for(St=mt+3;st<St;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}st-=mt,xt=0,ct=3+(7&(at>>>=mt)),at>>>=3,st-=3}else{for(St=mt+7;st<St;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}st-=mt,xt=0,ct=11+(127&(at>>>=mt)),at>>>=7,st-=7}if(n.have+ct>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Z;break}for(;ct--;)n.lens[n.have++]=xt}}if(n.mode===Z)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Z;break}if(n.lenbits=9,wt={bits:n.lenbits},Tt=s(u,n.lens,0,n.nlen,n.lencode,0,n.work,wt),n.lenbits=wt.bits,Tt){t.msg="invalid literal/lengths set",n.mode=Z;break}if(n.distbits=6,n.distcode=n.distdyn,wt={bits:n.distbits},Tt=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,wt),n.distbits=wt.bits,Tt){t.msg="invalid distances set",n.mode=Z;break}if(n.mode=z,e===d)break t;case z:n.mode=U;case U:if(it>=6&&ot>=258){t.next_out=rt,t.avail_out=ot,t.next_in=et,t.avail_in=it,n.hold=at,n.bits=st,a(t,ut),rt=t.next_out,tt=t.output,ot=t.avail_out,et=t.next_in,J=t.input,it=t.avail_in,at=n.hold,st=n.bits,n.mode===R&&(n.back=-1);break}for(n.back=0;vt=(Et=n.lencode[at&(1<<n.lenbits)-1])>>>16&255,gt=65535&Et,!((mt=Et>>>24)<=st);){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}if(vt&&!(240&vt)){for(yt=mt,bt=vt,_t=gt;vt=(Et=n.lencode[_t+((at&(1<<yt+bt)-1)>>yt)])>>>16&255,gt=65535&Et,!(yt+(mt=Et>>>24)<=st);){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}at>>>=yt,st-=yt,n.back+=yt}if(at>>>=mt,st-=mt,n.back+=mt,n.length=gt,0===vt){n.mode=W;break}if(32&vt){n.back=-1,n.mode=R;break}if(64&vt){t.msg="invalid literal/length code",n.mode=Z;break}n.extra=15&vt,n.mode=V;case V:if(n.extra){for(St=n.extra;st<St;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}n.length+=at&(1<<n.extra)-1,at>>>=n.extra,st-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=G;case G:for(;vt=(Et=n.distcode[at&(1<<n.distbits)-1])>>>16&255,gt=65535&Et,!((mt=Et>>>24)<=st);){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}if(!(240&vt)){for(yt=mt,bt=vt,_t=gt;vt=(Et=n.distcode[_t+((at&(1<<yt+bt)-1)>>yt)])>>>16&255,gt=65535&Et,!(yt+(mt=Et>>>24)<=st);){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}at>>>=yt,st-=yt,n.back+=yt}if(at>>>=mt,st-=mt,n.back+=mt,64&vt){t.msg="invalid distance code",n.mode=Z;break}n.offset=gt,n.extra=15&vt,n.mode=X;case X:if(n.extra){for(St=n.extra;st<St;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}n.offset+=at&(1<<n.extra)-1,at>>>=n.extra,st-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Z;break}n.mode=Y;case Y:if(0===ot)break t;if(ct=ut-ot,n.offset>ct){if((ct=n.offset-ct)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Z;break}ct>n.wnext?(ct-=n.wnext,ht=n.wsize-ct):ht=n.wnext-ct,ct>n.length&&(ct=n.length),pt=n.window}else pt=tt,ht=rt-n.offset,ct=n.length;ct>ot&&(ct=ot),ot-=ct,n.length-=ct;do{tt[rt++]=pt[ht++]}while(--ct);0===n.length&&(n.mode=U);break;case W:if(0===ot)break t;tt[rt++]=n.length,ot--,n.mode=U;break;case q:if(n.wrap){for(;st<32;){if(0===it)break t;it--,at|=J[et++]<<st,st+=8}if(ut-=ot,t.total_out+=ut,n.total+=ut,ut&&(t.adler=n.check=n.flags?o(n.check,tt,ut,rt-ut):i(n.check,tt,ut,rt-ut)),ut=ot,(n.flags?at:nt(at))!==n.check){t.msg="incorrect data check",n.mode=Z;break}at=0,st=0}n.mode=K;case K:if(n.wrap&&n.flags){for(;st<32;){if(0===it)break t;it--,at+=J[et++]<<st,st+=8}if(at!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Z;break}at=0,st=0}n.mode=$;case $:Tt=m;break t;case Z:Tt=y;break t;case Q:return b;default:return g}return t.next_out=rt,t.avail_out=ot,t.next_in=et,t.avail_in=it,n.hold=at,n.bits=st,(n.wsize||ut!==t.avail_out&&n.mode<Z&&(n.mode<q||e!==h))&&dt(t,t.output,t.next_out,ut-t.avail_out),lt-=t.avail_in,ut-=t.avail_out,t.total_in+=lt,t.total_out+=ut,n.total+=ut,n.wrap&&ut&&(t.adler=n.check=n.flags?o(n.check,tt,ut,t.next_out-ut):i(n.check,tt,ut,t.next_out-ut)),t.data_type=n.bits+(n.last?64:0)+(n.mode===R?128:0)+(n.mode===z||n.mode===N?256:0),(0===lt&&0===ut||e===h)&&Tt===p&&(Tt=_),Tt}function mt(t){if(!t||!t.state)return g;var e=t.state;return e.window&&(e.window=null),t.state=null,p}function vt(t,e){var n;return t&&t.state&&2&(n=t.state).wrap?(n.head=e,e.done=!1,p):g}function gt(t,e){var n,r=e.length;return t&&t.state&&(0===(n=t.state).wrap||n.mode===I)?n.mode===I&&i(1,e,r,0)!==n.check?y:dt(t,e,r,r)?(n.mode=Q,b):(n.havedict=1,p):g}e.inflateReset=ot,e.inflateReset2=at,e.inflateResetKeep=it,e.inflateInit=lt,e.inflateInit2=st,e.inflate=pt,e.inflateEnd=mt,e.inflateGetHeader=vt,e.inflateSetDictionary=gt,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){var r=30,i=12;t.exports=function(t,e){var n,o,a,s,l,u,c,h,f,d,p,m,v,g,y,b,_,x,T,w,S,E,k,C,A;n=t.state,o=t.next_in,C=t.input,a=o+(t.avail_in-5),s=t.next_out,A=t.output,l=s-(e-t.avail_out),u=s+(t.avail_out-257),c=n.dmax,h=n.wsize,f=n.whave,d=n.wnext,p=n.window,m=n.hold,v=n.bits,g=n.lencode,y=n.distcode,b=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;t:do{v<15&&(m+=C[o++]<<v,v+=8,m+=C[o++]<<v,v+=8),x=g[m&b];e:for(;;){if(m>>>=T=x>>>24,v-=T,0===(T=x>>>16&255))A[s++]=65535&x;else{if(!(16&T)){if(64&T){if(32&T){n.mode=i;break t}t.msg="invalid literal/length code",n.mode=r;break t}x=g[(65535&x)+(m&(1<<T)-1)];continue e}for(w=65535&x,(T&=15)&&(v<T&&(m+=C[o++]<<v,v+=8),w+=m&(1<<T)-1,m>>>=T,v-=T),v<15&&(m+=C[o++]<<v,v+=8,m+=C[o++]<<v,v+=8),x=y[m&_];;){if(m>>>=T=x>>>24,v-=T,16&(T=x>>>16&255)){if(S=65535&x,v<(T&=15)&&(m+=C[o++]<<v,(v+=8)<T&&(m+=C[o++]<<v,v+=8)),(S+=m&(1<<T)-1)>c){t.msg="invalid distance too far back",n.mode=r;break t}if(m>>>=T,v-=T,S>(T=s-l)){if((T=S-T)>f&&n.sane){t.msg="invalid distance too far back",n.mode=r;break t}if(E=0,k=p,0===d){if(E+=h-T,T<w){w-=T;do{A[s++]=p[E++]}while(--T);E=s-S,k=A}}else if(d<T){if(E+=h+d-T,(T-=d)<w){w-=T;do{A[s++]=p[E++]}while(--T);if(E=0,d<w){w-=T=d;do{A[s++]=p[E++]}while(--T);E=s-S,k=A}}}else if(E+=d-T,T<w){w-=T;do{A[s++]=p[E++]}while(--T);E=s-S,k=A}for(;w>2;)A[s++]=k[E++],A[s++]=k[E++],A[s++]=k[E++],w-=3;w&&(A[s++]=k[E++],w>1&&(A[s++]=k[E++]))}else{E=s-S;do{A[s++]=A[E++],A[s++]=A[E++],A[s++]=A[E++],w-=3}while(w>2);w&&(A[s++]=A[E++],w>1&&(A[s++]=A[E++]))}break}if(64&T){t.msg="invalid distance code",n.mode=r;break t}x=y[(65535&x)+(m&(1<<T)-1)]}}break}}while(o<a&&s<u);o-=w=v>>3,m&=(1<<(v-=w<<3))-1,t.next_in=o,t.next_out=s,t.avail_in=o<a?a-o+5:5-(o-a),t.avail_out=s<u?u-s+257:257-(s-u),n.hold=m,n.bits=v}},function(t,e,n){var r=n(82),i=15,o=852,a=592,s=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,p,m,v,g,y){var b,_,x,T,w,S,E,k,C,A=y.bits,O=0,P=0,M=0,I=0,R=0,L=0,D=0,N=0,j=0,B=0,F=null,H=0,z=new r.Buf16(i+1),U=new r.Buf16(i+1),V=null,G=0;for(O=0;O<=i;O++)z[O]=0;for(P=0;P<p;P++)z[e[n+P]]++;for(R=A,I=i;I>=1&&0===z[I];I--);if(R>I&&(R=I),0===I)return m[v++]=20971520,m[v++]=20971520,y.bits=1,0;for(M=1;M<I&&0===z[M];M++);for(R<M&&(R=M),N=1,O=1;O<=i;O++)if(N<<=1,(N-=z[O])<0)return-1;if(N>0&&(t===s||1!==I))return-1;for(U[1]=0,O=1;O<i;O++)U[O+1]=U[O]+z[O];for(P=0;P<p;P++)0!==e[n+P]&&(g[U[e[n+P]]++]=P);if(t===s?(F=V=g,S=19):t===l?(F=c,H-=257,V=h,G-=257,S=256):(F=f,V=d,S=-1),B=0,P=0,O=M,w=v,L=R,D=0,x=-1,T=(j=1<<R)-1,t===l&&j>o||t===u&&j>a)return 1;for(;;){E=O-D,g[P]<S?(k=0,C=g[P]):g[P]>S?(k=V[G+g[P]],C=F[H+g[P]]):(k=96,C=0),b=1<<O-D,M=_=1<<L;do{m[w+(B>>D)+(_-=b)]=E<<24|k<<16|C}while(0!==_);for(b=1<<O-1;B&b;)b>>=1;if(0!==b?(B&=b-1,B+=b):B=0,P++,0===--z[O]){if(O===I)break;O=e[n+g[P]]}if(O>R&&(B&T)!==x){for(0===D&&(D=R),w+=M,N=1<<(L=O-D);L+D<I&&!((N-=z[L+D])<=0);)L++,N<<=1;if(j+=1<<L,t===l&&j>o||t===u&&j>a)return 1;m[x=B&T]=R<<24|L<<16|w-v}}return 0!==B&&(m[w+B]=O-D<<24|64<<16),y.bits=R,0}},function(t,e,n){function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},function(t,e,n){const r=n(653);function i(t){if("string"!=typeof t)throw new TypeError("sequence must be a string");var e,n,i,s=[],l={LOCUS_TAG:"LOCUS",DEFINITION_TAG:"DEFINITION",ACCESSION_TAG:"ACCESSION",VERSION_TAG:"VERSION",KEYWORDS_TAG:"KEYWORDS",SOURCE_TAG:"SOURCE",ORGANISM_TAG:"ORGANISM",REFERENCE_TAG:"REFERENCE",AUTHORS_TAG:"AUTHORS",CONSORTIUM_TAG:"CONSRTM",TITLE_TAG:"TITLE",JOURNAL_TAG:"JOURNAL",PUBMED_TAG:"PUBMED",REMARK_TAG:"REMARK",FEATURES_TAG:"FEATURES",BASE_COUNT_TAG:"BASE COUNT",ORIGIN_TAG:"ORIGIN",END_SEQUENCE_TAG:"//"},u=t.split(/\r?\n/);let c;var h;if(null===u)throw new Error("sequence file is empty");var f,d,p=!1;for(let r of u){if(null===r)break;var m=M(r),v=R(r),g=D(r),y=L(r);if(m===l.END_SEQUENCE_TAG||y?(i=m,c=null):g&&(c=m),""!==r.trim()&&";"!==m){if(!p&&i!==l.LOCUS_TAG)break;switch(i){case l.LOCUS_TAG:p=!0,w(r);break;case l.FEATURES_TAG:k(r,m,v);break;case l.ORIGIN_TAG:T(r,m);break;case l.DEFINITION_TAG:case l.ACCESSION_TAG:case l.VERSION_TAG:case l.KEYWORDS_TAG:I(i,r,i.toLowerCase());break;case l.SOURCE_TAG:c===l.ORGANISM_TAG?I(c,r,"organism"):I(m,r,"source");break;case l.REFERENCE_TAG:if(m===l.REFERENCE_TAG){const t=e.references||[];e.references=t,t.push({})}E(r,c);break;case l.END_SEQUENCE_TAG:b()}}}return s[s.length-1]!==e&&b(),s;function b(){x(),s.push(e)}function _(){return e.features[e.features.length-1]}function x(){if(e&&e.features)for(var t=0;t<e.features.length;t++)e.features[t]=N(e.features[t])}function T(t,n){if(n!==l.ORIGIN_TAG){var r=t.replace(/[\s]*[0-9]*/g,"");e.sequence+=r}}function w(t){e={features:[],name:"Untitled sequence",sequence:""};const n=(t=S(l.LOCUS_TAG,t)).match(/^([^\s]+)\s+(\d+)\s+bp\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)$/);let i=n[1],o=+n[2],a=n[3],s="circular"===n[4],u=n[5];const c=e;c.circular=s,c.moleculeType=a,c.genbankDivision=u;const h=n[6].match(/^(\d{2})-(.{3})-(\d{4})$/),f=new Date;f.setFullYear(+h[3]),f.setUTCMonth(r.indexOf(h[2].toUpperCase())),f.setDate(+h[1]),f.setUTCHours(12),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),c.date=f.toISOString(),c.name=i,c.size=o}function S(t,e){return 0===(e=e.replace(/^\s*/,"")).indexOf(t)&&(e=e.replace(t,"")),e.trim()}function E(t,n){const r=e.references;let i=r[r.length-1];n?I(n,t,n.toLowerCase(),i):I(l.REFERENCE_TAG,t,"description",i)}function k(t,e,r){var i;if(e!==l.FEATURES_TAG)if(f&&(h=a(t),f=!1),o(t,h))d?(O(t.trim()),d=!0):(n&&(n[n.length-1]+=t.trim().replace(/"/g,"")),d=!1);else if(A(t))_()&&(P(t),d=!1);else{i=r.match(/complement/g)?-1:1,C();var s=_();s.type=e,s.strand=i,O(r),d=!0}else f=!0}function C(){e.features.push({locations:[],notes:{}})}function A(t){var e=!1;return(t.trim().charAt(0).match(/\//)||t.match(/^[\s]*\/[\w]+=[\S]+/))&&(e=!0),e}function O(t){t=t.trim();var e=[];t.replace(/(\d+)/g,(function(t,n){e.push(n)}));let n=_();n.start=+e[0],n.end=+e[1]}function P(t){var e,r=(e=t.trim().replace(/^\/|"$/g,"").split(/="|=/))[1];r&&(r=r.replace(/\\/g," "),t.match(/="/g)?r=r.replace(/".*/g,""):r.match(/^\d+$/g)&&(r=+r));var i=e[0],o=_().notes;o[i]?o[i].push(r):o[i]=[r],n=o[i]}function M(t){return((t=t.replace(/^[\s]*/,"")).indexOf("=")<0?t.split(/[\s]+/):t.split(/=/))[0]}function I(t,n,r,i){i=i||e;let o=S(t,n);i[r]=i[r]?`${i[r]} `:"",i[r]+=o}function R(t){return t.indexOf("=")<0?t=(t=t.replace(/^[\s]*[\S]+[\s]+|[\s]+$/,"")).trim():t.split(/=/)[1]}function L(t){var e=!1;return t.substr(0,10).match(/^[\S]+/)&&(e=!0),e}function D(t){var e=!1;return t.substr(0,10).match(/^[\s]+[\S]+/)&&(e=!0),e}function N(t){return t.notes.label?t.name=t.notes.label[0]:t.notes.gene?t.name=t.notes.gene[0]:t.notes.ApEinfo_label?t.name=t.notes.ApEinfo_label[0]:t.notes.name?t.name=t.notes.name[0]:t.notes.organism?t.name=t.notes.organism[0]:t.notes.locus_tag?t.name=t.notes.locus_tag[0]:t.notes.note?t.name=t.notes.note[0]:t.name="Untitled Feature",t.name="string"==typeof t.name?t.name:String(t.name),t}}function o(t,e){return e!==a(t)&&!t.trim().charAt(0).match(/\//)}function a(t){var e=/^\s*/.exec(t);return null!==e?e[0].length:0}t.exports=i},function(t,e,n){t.exports=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},function(t,e,n){t.exports={"track-renderer":"TrackRenderer-module_track-renderer-3TM7n","track-renderer-element":"TrackRenderer-module_track-renderer-element-2i16D","track-renderer-events":"TrackRenderer-module_track-renderer-events-3tVM2"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(17)),i=v(n(5)),o=v(n(3)),a=v(n(4)),s=v(n(6)),l=v(n(7)),u=v(n(1)),c=v(n(2)),h=v(n(169)),f=v(n(656)),d=v(n(659)),p=n(11),m=n(10);function v(t){return t&&t.__esModule?t:{default:t}}n(661);var g=function(t){function e(t){(0,o.default)(this,e);var n=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return n.options={},n.state={selectedTilesets:[{datatype:"none"}],allTracksSameDatatype:!0},n.handleSubmitBound=n.handleSubmit.bind(n),n.handleTilesetPickerDoubleClickBound=n.handleTilesetPickerDoubleClick.bind(n),n.selectedTilesetsChangedBound=n.selectedTilesetsChanged.bind(n),n}return(0,l.default)(e,t),(0,a.default)(e,[{key:"getOrientation",value:function(){function t(t){return"top"===t||"bottom"===t?"1d-horizontal":"left"===t||"right"===t?"1d-vertical":"2d"}return t}()},{key:"handleSubmit",value:function(){function t(t){t&&t.preventDefault(),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}return t}()},{key:"handleTilesetPickerDoubleClick",value:function(){function t(t){this.selectedTilesetsChanged([t]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}return t}()},{key:"handleOptionsChanged",value:function(){function t(t){this.options=t}return t}()},{key:"handlePlotTypeSelected",value:function(){function t(t){var e=this.state.selectedTilesets,n=!0,i=!1,o=void 0;try{for(var a,s=(0,r.default)(e);!(n=(a=s.next()).done);n=!0)a.value.type=t}catch(l){i=!0,o=l}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}this.selectedPlotType=t,this.setState({selectedTilesets:e})}return t}()},{key:"selectedTilesetsChanged",value:function(){function t(t){var e=null,n=!0,i=(e=0===t.length?[{datatype:"none"}]:t)[0].datatype,o=!0,a=!1,s=void 0;try{for(var l,u=(0,r.default)(e);!(o=(l=u.next()).done);o=!0)l.value.datatype!==i&&(n=!1)}catch(C){a=!0,s=C}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}if(n){var c=!0,h=!1,f=void 0;try{for(var d,v=(0,r.default)(e);!(c=(d=v.next()).done);c=!0)d.value.type=this.selectedPlotType}catch(C){h=!0,f=C}finally{try{!c&&v.return&&v.return()}finally{if(h)throw f}}}else{var g=!0,y=!1,b=void 0;try{for(var _,x=(0,r.default)(e);!(g=(_=x.next()).done);g=!0){var T=_.value,w=[T.datatype],S=this.getOrientation(this.props.position);"cooler"===T.filetype&&(w=[T.datatype,"chromsizes"]);var E=(0,p.AVAILABLE_TRACK_TYPES)([w],S),k=(0,m.getDefaultTrackForDatatype)(w[0],this.props.position,E);T.type=k.type}}catch(C){y=!0,b=C}finally{try{!g&&x.return&&x.return()}finally{if(y)throw b}}}this.setState({selectedTilesets:e,allTracksSameDatatype:n})}return t}()},{key:"render",value:function(){function t(){var t=this,e=this.getOrientation(this.props.position),n=u.default.createElement("div",null,u.default.createElement(f.default,{ref:function(){function e(e){t.tilesetFinder=e}return e}(),datatype:this.props.datatype,onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:function(){function e(e){return t.props.onTracksChosen(e,t.props.position)}return e}(),orientation:e,selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return u.default.createElement(h.default,{maxHeight:!0,okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Add Track"},n,u.default.createElement(d.default,{ref:function(){function e(e){t.plotTypeChooser=e}return e}(),allTracksSameDatatype:this.state.allTracksSameDatatype,datatypes:this.state.selectedTilesets.map((function(t){return"cooler"===t.filetype?[t.datatype,"chromsizes"]:[t.datatype]})),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:e,position:this.props.position}))}return t}()}]),e}(u.default.Component);g.defaultProps={position:"top"},g.propTypes={datatype:c.default.string.isRequired,host:c.default.string.isRequired,onCancel:c.default.func.isRequired,onTracksChosen:c.default.func.isRequired,position:c.default.string,trackSourceServers:c.default.array.isRequired},e.default=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=x(n(35)),i=x(n(17)),o=x(n(25)),a=x(n(38)),s=x(n(18)),l=x(n(44)),u=x(n(5)),c=x(n(3)),h=x(n(4)),f=x(n(6)),d=x(n(7)),p=x(n(1)),m=x(n(2)),v=x(n(26)),g=x(n(657)),y=n(24);n(658);var b=x(n(69)),_=n(11);function x(t){return t&&t.__esModule?t:{default:t}}var T=function(t){function e(t){(0,c.default)(this,e);var n=(0,f.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));n.localTracks=_.TRACKS_INFO.filter((function(t){return t.local&&!t.hidden})).map((function(t){var e=(0,l.default)({},t);return e.datatype=t.datatype[0],e})),n.augmentedTracksInfo=_.TRACKS_INFO,window.higlassTracksByType&&(0,s.default)(window.higlassTracksByType).forEach((function(t){n.augmentedTracksInfo.push(window.higlassTracksByType[t].config)})),t.datatype?n.localTracks=n.localTracks.filter((function(e){return e.datatype[0]===t.datatype})):n.localTracks=n.localTracks.filter((function(t){return t.orientation===n.props.orientation})),n.localTracks.forEach((function(t){t.uuid=v.default.nice()}));var r=n.prepareNewEntries("",n.localTracks,{}),i=(0,s.default)(r),o=i.length?[i[0]]:null;return n.mounted=!1,n.state={selectedUuid:o,options:r,filter:"",checked:[],expanded:[]},n.requestTilesetLists(),n}return(0,d.default)(e,t),(0,h.default)(e,[{key:"componentDidMount",value:function(){function t(){this.mounted=!0,this.requestTilesetLists(),this.searchBox.focus()}return t}()},{key:"componentWillUnmount",value:function(){function t(){this.mounted=!1}return t}()},{key:"prepareNewEntries",value:function(){function t(t,e,n){var r=this,i=n;return e.map((function(e){return(0,l.default)({},e,{server:t,tilesetUid:e.uuid,serverUidKey:r.serverUidKey(t,e.uuid),datatype:e.datatype,name:e.name,uid:v.default.nice()})})).forEach((function(t){i[t.serverUidKey]=t})),i}return t}()},{key:"serverUidKey",value:function(){function t(t,e){return String(t)+"/"+String(e)}return t}()},{key:"requestTilesetLists",value:function(){function t(){var t=this,e=null;if(this.props.datatype)e="dt="+String(this.props.datatype);else{var n,r=new a.default((n=[]).concat.apply(n,(0,o.default)(this.augmentedTracksInfo.filter((function(t){return t.datatype})).filter((function(e){return e.orientation===t.props.orientation||"1d-vertical"===t.props.orientation&&"1d-horizontal"===e.orientation})).map((function(t){return t.datatype})))));e=[].concat((0,o.default)(r)).map((function(t){return"dt="+String(t)})).join("&")}this.props.trackSourceServers?this.props.trackSourceServers.forEach((function(n){y.tileProxy.json(String(n)+"/tilesets/?limit=10000&"+String(e),(function(e,r){if(e)console.error("ERROR:",e);else{var i=t.prepareNewEntries(n,r.results,t.state.options),o=(0,s.default)(i),a=t.state.selectedUuid;if(!a){a=o.length?[o[0]]:null;var l=t.state.options[a[0]];t.props.selectedTilesetChanged([l])}t.mounted&&t.setState({selectedUuid:a,options:i})}}),t.props.pubSub)})):console.warn("No track source servers specified in the viewconf")}return t}()},{key:"handleOptionDoubleClick",value:function(){function t(t){var e=this.state.options[t.target.value];this.props.onDoubleClick(e)}return t}()},{key:"handleSelectedOptions",value:function(){function t(t){for(var e=[],n=[],r=0;r<t.length;r++)e.push(t[r]),n.push(this.state.options[t[r]]);this.props.selectedTilesetChanged(n),this.setState({selectedUuid:e})}return t}()},{key:"handleSelect",value:function(){function t(){for(var t=this.multiSelect.selectedOptions,e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.value)}this.handleSelectedOptions(e)}return t}()},{key:"handleSearchChange",value:function(){function t(){var t=this.searchBox;this.setState({filter:t.value})}return t}()},{key:"partitionByGroup",value:function(){function t(t,e){var n={"":{name:"",value:"",children:[]}},r=!0,o=!1,a=void 0;try{for(var l,u=(0,i.default)((0,s.default)(t));!(r=(l=u.next()).done);r=!0){var c=l.value,h=t[c];if(h.name.toLowerCase().includes(e))if("project_name"in h){var f=h.project_name;f in n||(n[f]={value:f,label:f,children:[]}),n[f].children.push({label:h.name,value:c})}else n[""].children.push({label:h.name,value:c})}}catch(_){o=!0,a=_}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}var d=n[""].children,p=!0,m=!1,v=void 0;try{for(var g,y=(0,i.default)((0,s.default)(n));!(p=(g=y.next()).done);p=!0){var b=g.value;""!==b&&(n[b].children.sort((function(t,e){return t.label.toLowerCase().localeCompare(e.label.toLowerCase(),"en")})),d.push(n[b]))}}catch(_){m=!0,v=_}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}return d.sort((function(t,e){return t.label.toLowerCase().localeCompare(e.label.toLowerCase(),"en")})),d}return t}()},{key:"handleChecked",value:function(){function t(t){this.handleSelectedOptions(t),this.setState({checked:t})}return t}()},{key:"handleExpanded",value:function(){function t(t){this.setState({expanded:t})}return t}()},{key:"render",value:function(){function t(){var t=this,e=[];for(var n in this.state.options)e.push(this.state.options[n]);var i=this.partitionByGroup(this.state.options,this.state.filter),o={width:15,height:15,top:2,right:2,position:"relative"},a=JSON.parse((0,r.default)(o));a.opacity=.5;var s=p.default.createElement("form",{onSubmit:function(){function t(t){t.preventDefault()}return t}()},p.default.createElement("div",{className:"tileset-finder-search-bar"},p.default.createElement("span",{className:"tileset-finder-label"},"Select tileset:"),p.default.createElement("input",{ref:function(){function e(e){t.searchBox=e}return e}(),className:"tileset-finder-search-box",onChange:this.handleSearchChange.bind(this),placeholder:"Search Term",type:"text"})),p.default.createElement("div",{className:"tileset-finder-checkbox-tree TilesetFinder_tileset-finder-checkbox-tree-2MsEs"},p.default.createElement(g.default,{checked:this.state.checked,expanded:this.state.expanded,icons:{uncheck:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#square_o"})),check:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#check_square_o"})),halfCheck:p.default.createElement("svg",{style:a},p.default.createElement("use",{xlinkHref:"#check_square_o"})),leaf:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#file_o"})),expandClose:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#chevron_right"})),expandOpen:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#chevron_down"})),parentClose:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#folder_o"})),parentOpen:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#folder_open_o"}))},nodes:i,onCheck:this.handleChecked.bind(this),onExpand:this.handleExpanded.bind(this)})));return p.default.createElement("div",null,s)}return t}()}]),e}(p.default.Component);T.propTypes={datatype:m.default.string,orientation:m.default.string,onDoubleClick:m.default.func,pubSub:m.default.object.isRequired,selectedTilesetChanged:m.default.func,trackSourceServers:m.default.array},e.default=(0,b.default)(T)},function(t,e,n){var r;window,r=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(t,e,n){t.exports=n(96)()},function(e,n){e.exports=t},function(t,e,n){var r=n(16),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r=n(41),i=n(47);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(31),i=n(32),o=n(33),a=n(34),s=n(35);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var r=n(14);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(12),i=n(43),o=n(44),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:l&&l in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(3)(Object,"create");t.exports=r},function(t,e,n){var r=n(56);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r;!function(){var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&t.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){var r=n(3)(n(2),"Map");t.exports=r},function(t,e,n){var r=n(2).Symbol;t.exports=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(6),i=n(17),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==l}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(42))},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch{}try{return t+""}catch{}}return""}},function(t,e,n){var r=n(48),i=n(55),o=n(57),a=n(58),s=n(59);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var r=n(60),i=n(63),o=n(64),a=1,s=2;t.exports=function(t,e,n,l,u,c){var h=n&a,f=t.length,d=e.length;if(f!=d&&!(h&&d>f))return!1;var p=c.get(t);if(p&&c.get(e))return p==e;var m=-1,v=!0,g=n&s?new r:void 0;for(c.set(t,e),c.set(e,t);++m<f;){var y=t[m],b=e[m];if(l)var _=h?l(b,y,m,e,t,c):l(y,b,m,t,e,c);if(void 0!==_){if(_)continue;v=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(y===t||u(y,t,n,l,c)))return g.push(e)}))){v=!1;break}}else if(y!==b&&!u(y,b,n,l,c)){v=!1;break}}return c.delete(t),c.delete(e),v}},function(t,e,n){(function(t){var r=n(2),i=n(81),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l}).call(this,n(22)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(83),i=n(84),o=n(85),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){var r=n(28);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=self.crypto||self.msCrypto;t.exports=function(t){t=t||21;for(var e="",n=r.getRandomValues(new Uint8Array(t));0<t--;)e+="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-"[63&n[t]];return e}},function(t,e,n){t.exports=n(98).default},function(t,e,n){var r=n(29),i=n(9);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(30),i=n(20),o=n(65),a=n(69),s=n(91),l=n(13),u=n(21),c=n(23),h=1,f="[object Arguments]",d="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,g,y){var b=l(t),_=l(e),x=b?d:s(t),T=_?d:s(e),w=(x=x==f?p:x)==p,S=(T=T==f?p:T)==p,E=x==T;if(E&&u(t)){if(!u(e))return!1;b=!0,w=!1}if(E&&!w)return y||(y=new r),b||c(t)?i(t,e,n,v,g,y):o(t,e,x,n,v,g,y);if(!(n&h)){var k=w&&m.call(t,"__wrapped__"),C=S&&m.call(e,"__wrapped__");if(k||C){var A=k?t.value():t,O=C?e.value():e;return y||(y=new r),g(A,O,n,v,y)}}return!!E&&(y||(y=new r),a(t,e,n,v,g,y))}},function(t,e,n){var r=n(4),i=n(36),o=n(37),a=n(38),s=n(39),l=n(40);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(5),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(5);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(5);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(5);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(4);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(4),i=n(11),o=n(19),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(15),i=n(45),o=n(17),a=n(18),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(12),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch{}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,i=n(46),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(2)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return t?.[e]}},function(t,e,n){var r=n(49),i=n(4),o=n(11);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(50),i=n(51),o=n(52),a=n(53),s=n(54);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var r=n(7);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(7),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(7),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(7),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(8);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(8);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(8);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(8);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(19),i=n(61),o=n(62);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(12),i=n(66),o=n(14),a=n(20),s=n(67),l=n(68),u=1,c=2,h="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",T=r?r.prototype:void 0,w=T?T.valueOf:void 0;t.exports=function(t,e,n,r,T,S,E){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!S(new i(t),new i(e)));case h:case f:case m:return o(+t,+e);case d:return t.name==e.name&&t.message==e.message;case v:case y:return t==e+"";case p:var k=s;case g:var C=r&u;if(k||(k=l),t.size!=e.size&&!C)return!1;var A=E.get(t);if(A)return A==e;r|=c,E.set(t,e);var O=a(k(t),k(e),r,T,S,E);return E.delete(t),O;case b:if(w)return w.call(t)==w.call(e)}return!1}},function(t,e,n){var r=n(2).Uint8Array;t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(70),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,l){var u=n&i,c=r(t),h=c.length;if(h!=r(e).length&&!u)return!1;for(var f=h;f--;){var d=c[f];if(!(u?d in e:o.call(e,d)))return!1}var p=l.get(t);if(p&&l.get(e))return p==e;var m=!0;l.set(t,e),l.set(e,t);for(var v=u;++f<h;){var g=t[d=c[f]],y=e[d];if(a)var b=u?a(y,g,d,e,t,l):a(g,y,d,t,e,l);if(!(void 0===b?g===y||s(g,y,n,a,l):b)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var _=t.constructor,x=e.constructor;_!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(m=!1)}return l.delete(t),l.delete(e),m}},function(t,e,n){var r=n(71),i=n(73),o=n(76);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(72),i=n(13);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(74),i=n(75),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(77),i=n(86),o=n(90);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(78),i=n(79),o=n(13),a=n(21),s=n(82),l=n(23),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),h=!n&&!c&&a(t),f=!n&&!c&&!h&&l(t),d=n||c||h||f,p=d?r(t.length,String):[],m=p.length;for(var v in t)!e&&!u.call(t,v)||d&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(80),i=n(9),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e,n){var r=n(6),i=n(9),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){t.exports=function(){return!1}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=e??n)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(6),i=n(24),o=n(9),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(16),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s}).call(this,n(22)(t))},function(t,e,n){var r=n(87),i=n(88),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(89)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(15),i=n(24);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(92),i=n(11),o=n(93),a=n(94),s=n(95),l=n(6),u=n(18),c=u(r),h=u(i),f=u(o),d=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,n){var r=n(3)(n(2),"DataView");t.exports=r},function(t,e,n){var r=n(3)(n(2),"Promise");t.exports=r},function(t,e,n){var r=n(3)(n(2),"Set");t.exports=r},function(t,e,n){var r=n(3)(n(2),"WeakMap");t.exports=r},function(t,e,n){var r=n(97);function i(){}t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){n.r(e);var r=n(10),i=n.n(r),o=n(25),a=n.n(o),s=n(26),l=n.n(s),u=n(0),c=n.n(u),h=n(1),f=n.n(h);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function m(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,y(t).apply(this,arguments))}var e;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(t,f.a.PureComponent),(e=[{key:"render",value:function(){var t=this.props,e=t.children,n=t.title,r=m(t,["children","title"]);return f.a.createElement("button",p({"aria-label":n,title:n,type:"button"},r),e)}}])&&v(t.prototype,e),t}();_(x,"propTypes",{children:c.a.node.isRequired,title:c.a.string}),_(x,"defaultProps",{title:null});var T=x;function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var E=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.props=e,this.flatNodes=n}var e;return(e=[{key:"setProps",value:function(t){this.props=t}},{key:"clone",value:function(){var e=this,n={};return Object.keys(this.flatNodes).forEach((function(t){var r=e.flatNodes[t];n[t]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){w(t,e,n[e])}))}return t}({},r)})),new t(this.props,n)}},{key:"getNode",value:function(t){return this.flatNodes[t]}},{key:"flattenNodes",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(t)&&0!==t.length){var i=this.props,o=i.disabled,a=i.noCascade;t.forEach((function(t,i){var s=e.nodeHasChildren(t);e.flatNodes[t.value]={label:t.label,value:t.value,children:t.children,parent:n,isParent:s,isLeaf:!s,showCheckbox:void 0===t.showCheckbox||t.showCheckbox,disabled:e.getDisabledState(t,n,o,a),treeDepth:r,index:i},e.flattenNodes(t.children,t,r+1)}))}}},{key:"nodeHasChildren",value:function(t){return Array.isArray(t.children)&&t.children.length>0}},{key:"getDisabledState",value:function(t,e,n,r){return!!n||!(r||!e.disabled)||!!t.disabled}},{key:"deserializeLists",value:function(t){var e=this,n=["checked","expanded"];Object.keys(this.flatNodes).forEach((function(t){n.forEach((function(n){e.flatNodes[t][n]=!1}))})),n.forEach((function(n){t[n].forEach((function(t){void 0!==e.flatNodes[t]&&(e.flatNodes[t][n]=!0)}))}))}},{key:"serializeList",value:function(t){var e=this,n=[];return Object.keys(this.flatNodes).forEach((function(r){e.flatNodes[r][t]&&n.push(r)})),n}},{key:"expandAllNodes",value:function(t){var e=this;return Object.keys(this.flatNodes).forEach((function(n){e.flatNodes[n].isParent&&(e.flatNodes[n].expanded=t)})),this}},{key:"toggleChecked",value:function(t,e,n){var r=this,i=this.flatNodes[t.value];if(i.isLeaf||n){if(t.disabled)return this;this.toggleNode(t.value,"checked",e)}else i.children.forEach((function(t){r.toggleChecked(t,e,n)}));return this}},{key:"toggleNode",value:function(t,e,n){return this.flatNodes[t][e]=n,this}}])&&S(t.prototype,e),t}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(){return(C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,P(t).apply(this,arguments))}var e;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(t,f.a.PureComponent),(e=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var t=this.props.indeterminate;this.checkbox.indeterminate=t}},{key:"render",value:function(){var t=this,e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){I(t,e,n[e])}))}return t}({},this.props);return delete e.indeterminate,f.a.createElement("input",C({},e,{ref:function(e){t.checkbox=e},type:"checkbox"}))}}])&&A(t.prototype,e),t}();I(R,"propTypes",{indeterminate:c.a.bool}),I(R,"defaultProps",{indeterminate:!1});var L=R,D=c.a.shape({check:c.a.node,uncheck:c.a.node,halfCheck:c.a.node,expandClose:c.a.node,expandOpen:c.a.node,expandAll:c.a.node,collapseAll:c.a.node,parentClose:c.a.node,parentOpen:c.a.node,leaf:c.a.node}),N=c.a.shape({collapseAll:c.a.string.isRequired,expandAll:c.a.string.isRequired,toggle:c.a.string.isRequired});function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V=function(){function t(e){var n,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(i=F(t).call(this,e))||"object"!==j(i)&&"function"!=typeof i?z(r):i).onCheck=n.onCheck.bind(z(z(n))),n.onClick=n.onClick.bind(z(z(n))),n.onExpand=n.onExpand.bind(z(z(n))),n}var e;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(t,f.a.Component),(e=[{key:"onCheck",value:function(){var t=this.props,e=t.value;(0,t.onCheck)({value:e,checked:this.getCheckState({toggle:!0})})}},{key:"onClick",value:function(){var t=this.props,e=t.expandOnClick,n=t.isParent,r=t.value,i=t.onClick;n&&e&&this.onExpand(),i({value:r,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var t=this.props,e=t.expanded,n=t.value;(0,t.onExpand)({value:n,expanded:!e})}},{key:"getCheckState",value:function(t){var e=t.toggle,n=this.props,r=n.checked,i=n.optimisticToggle;return!(0!==r||!e)||1===r&&!e||2===r&&i}},{key:"renderCollapseButton",value:function(){var t=this.props,e=t.expandDisabled,n=t.isLeaf,r=t.lang;return n?f.a.createElement("span",{className:"rct-collapse"},f.a.createElement("span",{className:"rct-icon"})):f.a.createElement(T,{className:"rct-collapse rct-collapse-btn",disabled:e,title:r.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var t=this.props,e=t.expanded,n=t.icons,r=n.expandClose,i=n.expandOpen;return e?i:r}},{key:"renderCheckboxIcon",value:function(){var t=this.props,e=t.checked,n=t.icons,r=n.uncheck,i=n.check,o=n.halfCheck;return 0===e?r:1===e?i:o}},{key:"renderNodeIcon",value:function(){var t=this.props,e=t.expanded,n=t.icon,r=t.icons,i=r.leaf,o=r.parentClose,a=r.parentOpen,s=t.isLeaf;return null!==n?n:s?i:e?a:o}},{key:"renderBareLabel",value:function(t){var e=this.props,n=e.onClick,r=e.title,i=null!==n;return f.a.createElement("span",{className:"rct-bare-label",title:r},i?f.a.createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},t):t)}},{key:"renderCheckboxLabel",value:function(t){var e=this.props,n=e.checked,r=e.disabled,i=e.title,o=e.treeId,a=e.value,s=null!==e.onClick,l="".concat(o,"-").concat(String(a).split(" ").join("_")),u=[f.a.createElement("label",{key:0,htmlFor:l,title:i},f.a.createElement(L,{checked:1===n,disabled:r,id:l,indeterminate:2===n,onClick:this.onCheck,onChange:function(){}}),f.a.createElement("span",{className:"rct-checkbox"},this.renderCheckboxIcon()),s?null:t)];return s&&u.push(f.a.createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},t)),u}},{key:"renderLabel",value:function(){var t=this.props,e=t.label,n=t.showCheckbox,r=[t.showNodeIcon?f.a.createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,f.a.createElement("span",{key:1,className:"rct-title"},e)];return n?this.renderCheckboxLabel(r):this.renderBareLabel(r)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.disabled,r=t.expanded,o=t.isLeaf,a=i()({"rct-node":!0,"rct-node-leaf":o,"rct-node-parent":!o,"rct-node-expanded":!o&&r,"rct-node-collapsed":!o&&!r,"rct-disabled":n},e);return f.a.createElement("li",{className:a},f.a.createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&B(t.prototype,e),t}();U(V,"propTypes",{checked:c.a.number.isRequired,disabled:c.a.bool.isRequired,expandDisabled:c.a.bool.isRequired,expanded:c.a.bool.isRequired,icons:D.isRequired,isLeaf:c.a.bool.isRequired,isParent:c.a.bool.isRequired,label:c.a.node.isRequired,lang:N.isRequired,optimisticToggle:c.a.bool.isRequired,showNodeIcon:c.a.bool.isRequired,treeId:c.a.string.isRequired,value:c.a.oneOfType([c.a.string,c.a.number]).isRequired,onCheck:c.a.func.isRequired,onExpand:c.a.func.isRequired,children:c.a.node,className:c.a.string,expandOnClick:c.a.bool,icon:c.a.node,showCheckbox:c.a.bool,title:c.a.string,onClick:c.a.func}),U(V,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});var G=V,X=c.a.oneOfType([c.a.arrayOf(c.a.string),c.a.arrayOf(c.a.number)]);function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W={label:c.a.node.isRequired,value:c.a.oneOfType([c.a.string,c.a.number]).isRequired,disabled:c.a.bool,icon:c.a.node,showCheckbox:c.a.bool,title:c.a.string},q=c.a.oneOfType([c.a.shape(W),c.a.shape(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Y(t,e,n[e])}))}return t}({},W,{children:c.a.arrayOf(W).isRequired}))]);function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){et(t,e,n[e])}))}return t}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nt=function(){function t(e){var n,r,i;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),r=this,n=!(i=Q(t).call(this,e))||"object"!==K(i)&&"function"!=typeof i?tt(r):i;var o=new E(e);return o.flattenNodes(e.nodes),o.deserializeLists({checked:e.checked,expanded:e.expanded}),n.state={id:e.id||"rct-".concat(l()(7)),model:o,prevProps:e},n.onCheck=n.onCheck.bind(tt(tt(n))),n.onExpand=n.onExpand.bind(tt(tt(n))),n.onNodeClick=n.onNodeClick.bind(tt(tt(n))),n.onExpandAll=n.onExpandAll.bind(tt(tt(n))),n.onCollapseAll=n.onCollapseAll.bind(tt(tt(n))),n}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(t,f.a.Component),e=t,r=[{key:"getDerivedStateFromProps",value:function(t,e){var n=e.model,r=e.prevProps,i=t.disabled,o=t.id,s=t.nodes,l=$({},e,{prevProps:t});return n.setProps(t),a()(r.nodes,s)&&r.disabled===i||n.flattenNodes(s),null!==o&&(l=$({},l,{id:o})),n.deserializeLists({checked:t.checked,expanded:t.expanded}),l}}],(n=[{key:"onCheck",value:function(t){var e=this.props,n=e.noCascade,r=e.onCheck,i=this.state.model.clone(),o=i.getNode(t.value);i.toggleChecked(t,t.checked,n),r(i.serializeList("checked"),$({},o,t))}},{key:"onExpand",value:function(t){var e=this.props.onExpand,n=this.state.model.clone(),r=n.getNode(t.value);n.toggleNode(t.value,"expanded",t.expanded),e(n.serializeList("expanded"),$({},r,t))}},{key:"onNodeClick",value:function(t){(0,this.props.onClick)($({},this.state.model.getNode(t.value),t))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,this.props.onExpand)(this.state.model.clone().expandAllNodes(t).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(t,e){var n=this.state.model.getNode(t.value);return n.isLeaf||e?n.checked?1:0:this.isEveryChildChecked(t)?1:this.isSomeChildChecked(t)?2:0}},{key:"isEveryChildChecked",value:function(t){var e=this;return t.children.every((function(t){return 1===e.state.model.getNode(t.value).checkState}))}},{key:"isSomeChildChecked",value:function(t){var e=this;return t.children.some((function(t){return e.state.model.getNode(t.value).checkState>0}))}},{key:"renderTreeNodes",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.props,o=i.expandDisabled,a=i.expandOnClick,s=i.icons,l=i.lang,u=i.noCascade,c=i.onClick,h=i.onlyLeafCheckboxes,d=i.optimisticToggle,p=i.showNodeTitle,m=i.showNodeIcon,v=this.state,g=v.id,y=v.model,b=t.defaultProps.icons,_=e.map((function(t){var e=t.value,i=y.getNode(t.value),v=i.isParent?n.renderTreeNodes(t.children,t):null;i.checkState=n.determineShallowCheckState(t,u);var _=h?i.isLeaf:i.showCheckbox;return!r.value||y.getNode(r.value).expanded?f.a.createElement(G,{key:e,checked:i.checkState,className:t.className,disabled:i.disabled,expandDisabled:o,expandOnClick:a,expanded:i.expanded,icon:t.icon,icons:$({},b,s),label:t.label,lang:l,optimisticToggle:d,isLeaf:i.isLeaf,isParent:i.isParent,showCheckbox:_,showNodeIcon:m,title:p?t.title||t.label:t.title,treeId:g,value:t.value,onCheck:n.onCheck,onClick:c&&n.onNodeClick,onExpand:n.onExpand},v):null}));return f.a.createElement("ol",null,_)}},{key:"renderExpandAll",value:function(){var t=this.props,e=t.icons,n=e.expandAll,r=e.collapseAll,i=t.lang;return t.showExpandAll?f.a.createElement("div",{className:"rct-options"},f.a.createElement(T,{className:"rct-option rct-option-expand-all",title:i.expandAll,onClick:this.onExpandAll},n),f.a.createElement(T,{className:"rct-option rct-option-collapse-all",title:i.collapseAll,onClick:this.onCollapseAll},r)):null}},{key:"renderHiddenInput",value:function(){var t=this.props,e=t.name,n=t.nameAsArray;return void 0===e?null:n?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var t=this.props,e=t.checked,n=t.name;return e.map((function(t){var e="".concat(n,"[]");return f.a.createElement("input",{key:t,name:e,type:"hidden",value:t})}))}},{key:"renderJoinedHiddenInput",value:function(){var t=this.props,e=t.checked,n=t.name,r=e.join(",");return f.a.createElement("input",{name:n,type:"hidden",value:r})}},{key:"render",value:function(){var t=this.props,e=t.disabled,n=t.nodes,r=t.nativeCheckboxes,o=this.renderTreeNodes(n),a=i()({"react-checkbox-tree":!0,"rct-disabled":e,"rct-native-display":r});return f.a.createElement("div",{className:a},this.renderExpandAll(),this.renderHiddenInput(),o)}}])&&Z(e.prototype,n),r&&Z(e,r),t}();et(nt,"propTypes",{nodes:c.a.arrayOf(q).isRequired,checked:X,disabled:c.a.bool,expandDisabled:c.a.bool,expandOnClick:c.a.bool,expanded:X,icons:D,id:c.a.string,lang:N,name:c.a.string,nameAsArray:c.a.bool,nativeCheckboxes:c.a.bool,noCascade:c.a.bool,onlyLeafCheckboxes:c.a.bool,optimisticToggle:c.a.bool,showExpandAll:c.a.bool,showNodeIcon:c.a.bool,showNodeTitle:c.a.bool,onCheck:c.a.func,onClick:c.a.func,onExpand:c.a.func}),et(nt,"defaultProps",{checked:[],disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:f.a.createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:f.a.createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:f.a.createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:f.a.createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:f.a.createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:f.a.createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:f.a.createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:f.a.createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:f.a.createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:f.a.createElement("span",{className:"rct-icon rct-icon-leaf"})},id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}}),e.default=nt}])},t.exports=r(n(1))},function(t,e,n){},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(2)),u=f(n(1)),c=n(11),h=n(10);function f(t){return t&&t.__esModule?t:{default:t}}n(660);var d=function(t){function e(t){(0,i.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.DATATYPE_TO_TRACK_TYPE=(0,c.DATATYPE_TO_TRACK_TYPE)(n.props.orientation),n.AVAILABLE_TRACK_TYPES=(0,c.AVAILABLE_TRACK_TYPES)(n.props.datatypes,n.props.orientation),n.state={selectedPlotType:n.AVAILABLE_TRACK_TYPES[0]},n}return(0,s.default)(e,t),(0,o.default)(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(){function t(t){if(this.AVAILABLE_TRACK_TYPES=(0,c.AVAILABLE_TRACK_TYPES)(t.datatypes,this.props.orientation),this.AVAILABLE_TRACK_TYPES&&t.allTracksSameDatatype&&this.AVAILABLE_TRACK_TYPES.length>0&&!this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)){var e=(0,h.getDefaultTrackForDatatype)(t.datatypes[0][0],this.props.position,this.AVAILABLE_TRACK_TYPES);this.handlePlotTypeSelected(e)}}return t}()},{key:"handlePlotTypeSelected",value:function(){function t(t){this.setState({selectedPlotType:t}),this.props.onPlotTypeSelected(t.type)}return t}()},{key:"render",value:function(){function t(){var t=this,e="No plot types available for track",n={};return c.TRACKS_INFO.forEach((function(t){n[t.type]=t})),this.AVAILABLE_TRACK_TYPES&&(e=this.AVAILABLE_TRACK_TYPES.sort((function(t,e){return t.type<e.type})).map((function(e){var r=n[e.type].thumbnail,i=t.state.selectedPlotType.type===e.type?"plot-type-item plot-type-selected":"plot-type-item",o=n[e.type].thumbnail?u.default.createElement("div",{className:"track-thumbnail",dangerouslySetInnerHTML:{__html:r.outerHTML}}):u.default.createElement("div",{className:"track-thumbnail"},u.default.createElement("svg",{height:20,width:30}));return u.default.createElement("li",{key:e.type,className:i,onClick:function(){function n(n){t.setState({selectedPlotType:e}),t.props.onPlotTypeSelected(e.type)}return n}(),style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},o,u.default.createElement("span",{style:{verticalAlign:"middle"}},e.type))}))),u.default.createElement("div",null,e.length>0&&this.props.allTracksSameDatatype&&u.default.createElement("div",{className:"plot-type-container"},e),!this.props.allTracksSameDatatype&&u.default.createElement("div",{className:"plot-type-container-empty"},"Datasets with multiple datatypes chosen. They will be added with their default track types."))}return t}()}]),e}(u.default.Component);d.propTypes={allTracksSameDatatype:l.default.bool,datatypes:l.default.array,orientation:l.default.string,onPlotTypeSelected:l.default.func,position:l.default.string},e.default=d},function(t,e,n){},function(t,e,n){t.exports={"collapse-toggle-icon":"AddTrackDialog-module_collapse-toggle-icon-1Of5_",collapsed:"AddTrackDialog-module_collapsed-1ifB1","modal-title":"AddTrackDialog-module_modal-title-1Atka","modal-container":"AddTrackDialog-module_modal-container-14d_4",modal:"AddTrackDialog-module_modal-bZqLI","modal-backdrop":"AddTrackDialog-module_modal-backdrop-ZrVQg","modal-dialog":"AddTrackDialog-module_modal-dialog-3bKDk"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(14)),l=g(n(7)),u=g(n(29)),c=g(n(1)),h=n(81),f=g(n(96)),d=g(n(67)),p=g(n(390)),m=n(183),v=n(11);function g(t){return t&&t.__esModule?t:{default:t}}n(68);var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(t){function e(t){(0,i.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.seriesRefs={},n.seriesListMenu=null,n}return(0,l.default)(e,t),(0,o.default)(e,[{key:"componentDidMount",value:function(){function t(){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"componentDidMount",this).call(this)}return t}()},{key:"render",value:function(){function t(){var t=this,e="context-menu";return this.props.theme===v.THEME_DARK&&(e+=" context-menu-dark"),c.default.createElement("div",{ref:function(){function e(e){t.div=e}return e}(),"data-menu-type":"ConfigTrackMenu",style:{left:this.state.left,top:this.state.top},className:(0,u.default)(e,y)},(0,m.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this),null),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(d.default,{contextMenu:this,onClick:function(){function e(){return t.props.onLockValueScale(t.props.tracks[0].uid)}return e}(),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}()},"Lock Value Scale With"),c.default.createElement(d.default,{contextMenu:this,onClick:function(){function e(){return t.props.onUnlockValueScale(t.props.tracks[0].uid)}return e}(),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}()},"Unlock Value Scale"),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(d.default,{contextMenu:this,onClick:function(){function e(){return t.props.onAddSeries(t.props.tracks[0].uid)}return e}(),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}()},"Add Series"),c.default.createElement(d.default,{onClick:function(){function e(){return t.props.onCloseTrack(t.props.tracks[0].uid)}return e}()},"Close Track"),c.default.createElement(d.default,{onClick:function(){function e(){t.props.onReplaceTrack(t.props.tracks[0].uid,t.props.trackOrientation)}return e}()},"Replace Track"),this.getSubmenu())}return t}()}]),e}((0,h.mix)(f.default).with(p.default));e.default=b},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(37)),i=g(n(18)),o=g(n(17)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(7)),h=g(n(29)),f=g(n(1)),d=g(n(96)),p=g(n(67)),m=g(n(391)),v=n(11);function g(t){return t&&t.__esModule?t:{default:t}}n(68);var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,l.default)(e,[{key:"getConfigureSeriesMenu",value:function(){function t(t,e,n){var r=this,a={},s=window.higlassTracksByType&&window.higlassTracksByType[n.type]&&window.higlassTracksByType[n.type].config&&window.higlassTracksByType[n.type].config.optionsInfo;if(s){var l=!0,u=!1,c=void 0;try{for(var h,d=(0,o.default)((0,i.default)(s));!(l=(h=d.next()).done);l=!0){var p=h.value;v.OPTIONS_INFO[p]=s[p]}}catch(w){u=!0,c=w}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}}if(!v.TRACKS_INFO_BY_TYPE[n.type]||!v.TRACKS_INFO_BY_TYPE[n.type].availableOptions)return null;var g=function(){function t(t){if(t in v.OPTIONS_INFO){if(a[t]={name:v.OPTIONS_INFO[t].name},v.OPTIONS_INFO[t].generateOptions){var e=v.OPTIONS_INFO[t].generateOptions(n);a[t].children||(a[t].children={});var i=function(){function e(e){var i={name:e.name,value:e.value,handler:function(){function i(){n.options[t]=e.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()}return i}()};a[t].children[e.value]=i}return e}(),s=!0,l=!1,u=void 0;try{for(var c,h=(0,o.default)(e);!(s=(c=h.next()).done);s=!0)i(c.value)}catch(p){l=!0,u=p}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}}if(v.OPTIONS_INFO[t].inlineOptions){var f=function(){function e(e){var i=v.OPTIONS_INFO[t].inlineOptions[e];a[t].children||(a[t].children={});var o={name:i.name,value:i.value};i.componentPickers&&i.componentPickers[n.type]?o.handler=function(){r.props.onConfigureTrack(n,i.componentPickers[n.type]),r.props.closeMenu()}:o.handler=function(){n.options[t]=i.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()},a[t].children[e]=o}return e}();for(var d in v.OPTIONS_INFO[t].inlineOptions)f(d)}else v.OPTIONS_INFO[t].componentPickers&&v.OPTIONS_INFO[t].componentPickers[n.type]&&(a[t].handler=function(){r.props.onConfigureTrack(n,v.OPTIONS_INFO[t].componentPickers[n.type]),r.props.closeMenu()})}}return t}(),y=!0,b=!1,_=void 0;try{for(var x,T=(0,o.default)(v.TRACKS_INFO_BY_TYPE[n.type].availableOptions);!(y=(x=T.next()).done);y=!0)g(x.value)}catch(w){b=!0,_=w}finally{try{!y&&T.return&&T.return()}finally{if(b)throw _}}return f.default.createElement(m.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:a,orientation:this.state.orientation,parentBbox:e,position:t,theme:this.props.theme})}return t}()},{key:"getTrackTypeItems",value:function(){function t(t,e,n){var o=this;window.higlassTracksByType&&(0,i.default)(window.higlassTracksByType).forEach((function(t){v.TRACKS_INFO_BY_TYPE[t]=window.higlassTracksByType[t].config}));var a=n.datatype,s=null;n.type in v.TRACKS_INFO_BY_TYPE&&(a||(a=v.TRACKS_INFO_BY_TYPE[n.type].datatype[0]),s=v.TRACKS_INFO_BY_TYPE[n.type].orientation);for(var l=(0,r.default)(v.TRACKS_INFO_BY_TYPE).filter((function(t){return t.datatype})).filter((function(t){return t.orientation})).filter((function(t){return t.datatype.includes(a)})).filter((function(t){return t.orientation===s})).map((function(t){return t.type})),u={},c=function(){function t(t){u[l[t]]={value:l[t],name:l[t],handler:function(){function e(){o.props.onChangeTrackType(n.uid,l[t])}return e}()}}return t}(),h=0;h<l.length;h++)c(h);return f.default.createElement(m.default,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:u,orientation:this.state.orientation,parentBbox:e,position:t,theme:this.props.theme})}return t}()},{key:"getSubmenu",value:function(){function t(){if(this.state.submenuShown){var t=this.state.submenuSourceBbox,e="left"===this.state.orientation?{left:this.state.left,top:t.top}:{left:this.state.left+t.width+7,top:t.top},n=this.state.submenuShown,r=n.value;return"track-type"===n.option?this.getTrackTypeItems(e,t,r):this.getConfigureSeriesMenu(e,t,r)}return f.default.createElement("div",null)}return t}()},{key:"getDivideByMenuItem",value:function(){function t(){var t=this;if(this.props.series.data&&"divided"===this.props.series.data.type){var e={tilesetUid:this.props.series.data.children[0].tilesetUid,server:this.props.series.data.children[0].server};return f.default.createElement(p.default,{onClick:function(){function n(){return t.props.onChangeTrackData(t.props.series.uid,e)}return n}(),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Remove divisor"))}return f.default.createElement(p.default,{onClick:function(){function e(){return t.props.onAddDivisor(t.props.series)}return e}(),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Divide by"))}return t}()},{key:"componentWillUnmount",value:function(){function t(){}return t}()},{key:"render",value:function(){function t(){var t=this,e=null;v.TRACKS_INFO_BY_TYPE[this.props.series.type]&&v.TRACKS_INFO_BY_TYPE[this.props.series.type].exportable&&(e=f.default.createElement(p.default,{onClick:function(){function e(){return t.props.onExportData(t.props.hostTrack.uid,t.props.track.uid)}return e}(),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Export Data")));var n=this.props.onAddSeries?f.default.createElement(p.default,{onClick:function(){function e(){t.props.onCloseTrack(t.props.series.uid),t.props.onAddSeries(t.props.hostTrack.uid)}return e}(),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Replace Series")):null,r="context-menu";return this.props.theme===v.THEME_DARK&&(r+=" context-menu-dark"),f.default.createElement("div",{ref:function(){function e(e){t.div=e}return e}(),"data-menu-type":"SeriesListMenu",onMouseLeave:this.props.handleMouseLeave,style:{left:this.state.left,top:this.state.top},className:(0,h.default)(r,y)},f.default.createElement(p.default,{onClick:function(){function t(){}return t}(),onMouseEnter:function(){function e(e){return t.handleItemMouseEnter(e,{option:"configure-series",value:t.props.track})}return e}(),onMouseLeave:function(){function e(e){return t.handleMouseLeave(e)}return e}()},"Configure Series",f.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},f.default.createElement("use",{xlinkHref:"#play"}))),f.default.createElement(p.default,{onClick:function(){function t(){}return t}(),onMouseEnter:function(){function e(e){return t.handleItemMouseEnter(e,{option:"track-type",value:t.props.track})}return e}(),onMouseLeave:function(){function e(e){return t.handleMouseLeave(e)}return e}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Track Type",f.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},f.default.createElement("use",{xlinkHref:"#play"})))),e,this.getDivideByMenuItem(),f.default.createElement(p.default,{onClick:this.props.onCloseTrack,onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Close Series")),n,this.getSubmenu())}return t}()}]),e}(d.default);e.default=b},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(2)),i=s(n(1)),o=s(n(67)),a=n(183);function s(t){return t&&t.__esModule?t:{default:t}}n(68);var l=function(t){return i.default.createElement("div",null,(0,a.getSeriesItems)(t.tracks,null,null,t.onCloseTrack),i.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),i.default.createElement(o.default,{onClick:function(){function e(){return t.onCloseTrack(t.tracks[0].uid)}return e}()},"Close all series"))};l.propTypes={onCloseTrack:r.default.func.isRequired,tracks:r.default.array.isRequired},e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(1)),i=n(125),o=a(n(394));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,i.SortableElement)((function(t){return r.default.createElement(o.default,{className:t.className,editable:t.editable,handleConfigTrack:t.handleConfigTrack,handleResizeTrack:t.handleResizeTrack,height:t.height,item:t.item,onAddSeries:t.onAddSeries,onCloseTrack:t.onCloseTrack,onCloseTrackMenuOpened:t.onCloseTrackMenuOpened,onConfigTrackMenuOpened:t.onConfigTrackMenuOpened,resizeHandles:t.resizeHandles,uid:t.uid,width:t.width})}));e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(25)),i=g(n(34)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(7)),c=g(n(29)),h=n(84),f=n(0),d=g(n(2)),p=g(n(1)),m=g(n(78)),v=n(11);function g(t){return t&&t.__esModule?t:{default:t}}n(667);var y={"../styles/DraggableDiv.module.scss":{"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},b=function(t){function e(t){(0,a.default)(this,e);var n=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.dragTopRight=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopRightFunc.bind(n)),n.dragTopLeft=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopLeftFunc.bind(n)),n.dragBottomRight=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomRightFunc.bind(n)),n.dragBottomLeft=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomLeftFunc.bind(n)),n.dragBottom=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomFunc.bind(n)),n.dragTop=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopFunc.bind(n)),n.dragLeft=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragLeftFunc.bind(n)),n.dragRight=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragRightFunc.bind(n)),n.minWidth=10,n.minHeight=10,n.bottomHandleWidth=20,n.state={uid:n.props.uid,width:n.props.width,height:n.props.height,top:n.props.top,left:n.props.left},n.domBody=(0,f.select)("body").node(),n}return(0,u.default)(e,t),(0,s.default)(e,[{key:"componentDidMount",value:function(){function t(){(0,f.select)(this.bottomHandle).call(this.dragBottom),(0,f.select)(this.topHandle).call(this.dragTop),(0,f.select)(this.leftHandle).call(this.dragLeft),(0,f.select)(this.rightHandle).call(this.dragRight)}return t}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function t(t){"width"in t&&this.setState({width:t.width}),"height"in t&&this.setState({height:t.height})}return t}()},{key:"dragBottomFunc",value:function(){function t(){var t=(0,f.mouse)(this.domBody),e=this.dragStartHeight+(t[1]-this.dragStartMousePos[1]);e=e>this.minHeight?e:this.minHeight,this.setState({height:e}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return t}()},{key:"dragLeftFunc",value:function(){function t(){var t=(0,f.mouse)(this.domBody),e=this.dragStartWidth-(t[0]-this.dragStartMousePos[0]);e=e>this.minWidth?e:this.minWidth;var n=this.dragStartLeft+t[0]-this.dragStartMousePos[0];n=e>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:n,width:e}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return t}()},{key:"dragTopFunc",value:function(){function t(){var t=(0,f.mouse)(this.domBody),e=this.dragStartHeight-(t[1]-this.dragStartMousePos[1]);e=e>this.minHeight?e:this.minHeight;var n=this.dragStartTop+t[1]-this.dragStartMousePos[1];n=e>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:n,height:e}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return t}()},{key:"dragRightFunc",value:function(){function t(){var t=(0,f.mouse)(this.domBody),e=this.dragStartWidth+(t[0]-this.dragStartMousePos[0]);e=e>this.minWidth?e:this.minWidth,this.setState({width:e}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return t}()},{key:"dragBottomLeftFunc",value:function(){function t(){var t=(0,f.mouse)(this.domBody),e=this.dragStartHeight+(t[1]-this.dragStartMousePos[1]);e=e>this.minHeight?e:this.minHeight;var n=this.dragStartWidth-(t[0]-this.dragStartMousePos[0]);n=n>this.minWidth?n:this.minWidth;var r=this.dragStartLeft+t[0]-this.dragStartMousePos[0];r=n>this.minWidth?r:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:r,width:n,height:e}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return t}()},{key:"dragBottomRightFunc",value:function(){function t(){var t=(0,f.mouse)(this.domBody),e=this.dragStartWidth+(t[0]-this.dragStartMousePos[0]);e=e>this.minWidth?e:this.minWidth;var n=this.dragStartHeight+(t[1]-this.dragStartMousePos[1]);n=n>this.minHeight?n:this.minHeight,this.setState({width:e,height:n}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return t}()},{key:"dragTopRightFunc",value:function(){function t(){var t=(0,f.mouse)(this.domBody),e=this.dragStartHeight-(t[1]-this.dragStartMousePos[1]);e=e>this.minHeight?e:this.minHeight;var n=this.dragStartTop+t[1]-this.dragStartMousePos[1];n=e>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight;var r=this.dragStartWidth+(t[0]-this.dragStartMousePos[0]);r=r>this.minWidth?r:this.minWidth,this.setState({top:n,width:r,height:e}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return t}()},{key:"dragTopLeftFunc",value:function(){function t(){var t=(0,f.mouse)(this.domBody),e=this.dragStartWidth-(t[0]-this.dragStartMousePos[0]);e=e>this.minWidth?e:this.minWidth;var n=this.dragStartLeft+t[0]-this.dragStartMousePos[0];n=e>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth;var r=this.dragStartHeight-(t[1]-this.dragStartMousePos[1]);r=r>this.minHeight?r:this.minHeight;var i=this.dragStartTop+t[1]-this.dragStartMousePos[1];i=r>this.minHeight?i:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:i,left:n,width:e,height:r}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return t}()},{key:"dragStart",value:function(){function t(){this.dragStartMousePos=(0,f.mouse)(this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,f.event.sourceEvent.stopPropagation()}return t}()},{key:"sizeChanged",value:function(){function t(){this.props.sizeChanged&&this.props.sizeChanged(this.state)}return t}()},{key:"rotateClicked",value:function(){function t(){this.props.trackRotated(this.state.uid)}return t}()},{key:"closeClicked",value:function(){function t(){this.props.trackClosed(this.state.uid)}return t}()},{key:"render",value:function(){function t(){var t=this,e=this.props.theme===v.THEME_DARK?"white":"black",n={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,opacity:this.props.opacity},o=24,a=24,s={left:this.state.width/2-o/2,width:o},l={top:this.state.height/2-a/2,height:a},u={bottom:(0,i.default)({},s,{bottom:1}),top:(0,i.default)({},s,{top:1}),left:(0,i.default)({},l,{left:1}),right:(0,i.default)({},l,{right:1})},h=[].concat((0,r.default)(this.props.resizeHandles)).map((function(n){return p.default.createElement("div",{key:n,ref:function(){function e(e){t[String(n)+"Handle"]=e}return e}(),style:u[n],title:"Resize track",className:(0,c.default)(String(n)+"-draggable-handle",y)},p.default.createElement("div",{style:{borderColor:e},className:(0,c.default)(String(n)+"-draggable-handle-grabber",y)}))}));return p.default.createElement("div",{ref:function(){function e(e){t.divContainer=e}return e}(),className:(this.props.className?this.props.className+" ":"")+"DraggableDiv-module_draggable-div-2eWml",style:n},h)}return t}()}]),e}(p.default.Component);b.propTypes={className:d.default.string,height:d.default.number,left:d.default.number,opacity:d.default.number,resizeHandles:d.default.object,sizeChanged:d.default.func,top:d.default.number,trackClosed:d.default.func,trackRotated:d.default.func,uid:d.default.string,width:d.default.number,theme:d.default.symbol},e.default=(0,m.default)(b)},function(t,e,n){t.exports={"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(2)),u=f(n(1)),c=f(n(42)),h=n(125);function f(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){(0,i.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.state={controlsVisible:!1},n}return(0,s.default)(e,t),(0,o.default)(e,[{key:"shouldComponentUpdate",value:function(){function t(){return!this.resizing}return t}()},{key:"handleMouseEnter",value:function(){function t(){this.setState({controlsVisible:!0})}return t}()},{key:"handleMouseLeave",value:function(){function t(){this.setState({controlsVisible:!1})}return t}()},{key:"handleMouseMove",value:function(){function t(){this.setState({controlsVisible:!0})}return t}()},{key:"getControls",value:function(){function t(){var t=this,e=null;return e=this.moveable?(0,h.SortableHandle)((function(){return u.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){function t(){}return t}(),style:t.getMoveImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#move"}))})):(0,h.SortableHandle)((function(){return u.default.createElement("div",null)})),u.default.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},u.default.createElement(e,null),u.default.createElement("svg",{ref:function(){function e(e){t.imgConfig=e}return e}(),className:"no-zoom",height:"10px",onClick:function(){function e(){var e=c.default.findDOMNode(t.imgConfig).getBoundingClientRect();t.props.onConfigTrackMenuOpened(t.props.uid,e)}return e}(),style:this.getSettingsImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#cog"})),u.default.createElement("svg",{ref:function(){function e(e){t.imgAdd=e}return e}(),className:"no-zoom",height:"10px",onClick:function(){function e(){return t.props.onAddSeries(t.props.uid)}return e}(),style:this.getAddImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#plus"})),u.default.createElement("svg",{ref:function(){function e(e){t.imgClose=e}return e}(),className:"no-zoom",height:"10px",onClick:function(){function e(){var e=c.default.findDOMNode(t.imgClose).getBoundingClientRect();t.props.onCloseTrackMenuOpened(t.props.uid,e)}return e}(),style:this.getCloseImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#cross"})))}return t}()}]),e}(u.default.Component);d.propTypes={configMenuOpen:l.default.bool,onConfigTrackMenuOpened:l.default.func,onCloseTrackMenuOpened:l.default.func,onAddSeries:l.default.func,uid:l.default.string},e.default=d},function(t,e,n){t.exports={"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=x(n(5)),i=x(n(3)),o=x(n(4)),a=x(n(6)),s=x(n(7)),l=x(n(29)),u=x(n(2)),c=x(n(1)),h=n(83),f=n(0),d=x(n(26)),p=x(n(393)),m=x(n(671)),v=x(n(395)),g=n(10),y=n(11);x(n(672));var b=x(n(176)),_=x(n(175));function x(t){return t&&t.__esModule?t:{default:t}}var T={styles:{"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},w=function(t){function e(t){(0,i.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.brushBehavior=(0,h.brushY)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return(0,s.default)(e,t),(0,o.default)(e,[{key:"componentDidMount",value:function(){function t(){this.props.isRangeSelectionActive&&this.addBrush()}return t}()},{key:"shouldComponentUpdate",value:function(){function t(t,e){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==t.rangeSelection&&this.moveBrush(t.rangeSelection[0]?t.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==e;if(this.props.rangeSelection!==t.rangeSelection){var n=this.props.is1dRangeSelection?0:1;return this.moveBrush(t.rangeSelection[n]?t.rangeSelection[n]:null,t.rangeSelectionEnd),this.state!==e}return!0}return t}()},{key:"componentDidUpdate",value:function(){function t(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}return t}()},{key:"addBrush",value:function(){function t(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,g.resetD3BrushStyle)(this.brushEl,_.default["track-range-selection-group-brush-selection"]))}return t}()},{key:"brushed",value:function(){function t(){var t=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelection&&!t&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(f.event.selection))}return t}()},{key:"brushStarted",value:function(){function t(){!this.sourceEvent||!f.event.selection||this.props.onRangeSelectionStart()}return t}()},{key:"brushedEnded",value:function(){function t(){if(this.props.is1dRangeSelection){var t=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,f.event.selection&&f.event.sourceEvent&&this.props.onRangeSelection&&!t&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(f.event.selection)),f.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}return t}()},{key:"moveBrush",value:function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl){var n=t?[this.props.scale(t[0]),this.props.scale(t[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,e?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}}return t}()},{key:"removeBrush",value:function(){function t(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}return t}()},{key:"render",value:function(){function t(){var t=this,e=this.props.tracks.map((function(t){return t.width})).reduce(g.sum,0),n=this.props.tracks.map((function(t){return(0,y.IS_TRACK_RANGE_SELECTABLE)(t)})).reduce(g.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return c.default.createElement("div",{className:"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},n&&c.default.createElement("svg",{ref:function(){function e(e){t.brushEl=(0,f.select)(e)}return e}(),style:{height:this.props.height,width:e},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,T)}),c.default.createElement(p.default,{axis:"x",className:String(b.default.list)+" "+String(b.default.stylizedList)+" "+String(b.default.horizontalList),component:v.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:b.default.stylizedHelper,itemClass:String(b.default.stylizedItem)+" "+String(b.default.horizontalItem),itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:m.default,items:this.props.tracks.map((function(e){return{configMenuVisible:e.uid===t.props.configTrackMenuId,uid:e.uid||d.default.nice(),height:t.props.height,width:e.width,value:e.value}})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:e}))}return t}()},{key:"sourceEvent",get:function(){function t(){return f.event&&f.event.sourceEvent}return t}()}]),e}(c.default.Component);w.propTypes={configTrackMenuId:u.default.string,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,handleSortEnd:u.default.func,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,height:u.default.number,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onRangeSelection:u.default.func,onRangeSelectionEnd:u.default.func,onRangeSelectionReset:u.default.func,onRangeSelectionStart:u.default.func,rangeSelection:u.default.array,rangeSelectionEnd:u.default.bool,referenceAncestor:u.default.func,resizeHandles:u.default.object,scale:u.default.func,tracks:u.default.array,tracksControlAlignLeft:u.default.bool},e.default=w},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(1)),i=n(125),o=a(n(396));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,i.SortableElement)((function(t){return r.default.createElement(o.default,{className:t.className,controlAlignLeft:t.controlAlignLeft,editable:t.editable,handleConfigTrack:t.handleConfigTrack,handleResizeTrack:t.handleResizeTrack,height:t.height,item:t.item,onAddSeries:t.onAddSeries,onCloseTrack:t.onCloseTrack,onCloseTrackMenuOpened:t.onCloseTrackMenuOpened,onConfigTrackMenuOpened:t.onConfigTrackMenuOpened,resizeHandles:t.resizeHandles,uid:t.uid,width:t.width})}));e.default=s},function(t,e,n){t.exports={"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(5)),i=y(n(3)),o=y(n(4)),a=y(n(6)),s=y(n(7)),l=y(n(29)),u=y(n(1)),c=y(n(2)),h=n(81),f=n(10),d=n(183),p=y(n(67)),m=y(n(96)),v=y(n(390)),g=n(11);function y(t){return t&&t.__esModule?t:{default:t}}n(68);var b={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},_=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"render",value:function(){function t(){var t=this,e=(0,d.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this)),n=this.props.customItems?u.default.Children.map(this.props.customItems,(function(e){return u.default.cloneElement(e,{onMouseEnter:function(){function e(e){t.handleOtherMouseEnter(e)}return e}()})})):null,r="context-menu";return this.props.theme===g.THEME_DARK&&(r+=" context-menu-dark"),u.default.createElement("div",{ref:function(){function e(e){t.div=e}return e}(),"data-menu-type":"ViewContextMenu",style:{left:this.state.left,top:this.state.top},className:(0,l.default)(r,b)},n,n&&u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),e,e&&u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(p.default,{onClick:function(){function e(){return t.props.onAddTrack({type:"horizontal-rule",y:t.props.coords[1],position:"whole"})}return e}(),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}()},"Add Horizontal Rule"),u.default.createElement(p.default,{onClick:function(){function e(){return t.props.onAddTrack({type:"vertical-rule",x:t.props.coords[0],position:"whole"})}return e}(),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}()},"Add Vertical Rule"),u.default.createElement(p.default,{onClick:function(){function e(){return t.props.onAddTrack({type:"cross-rule",x:t.props.coords[0],y:t.props.coords[1],position:"whole"})}return e}(),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}()},"Add Cross Rule"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),this.hasMatrixTrack(this.props.tracks)&&u.default.createElement(p.default,{onClick:this.handleAddHorizontalSection.bind(this),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}()},"Add Horizontal Cross Section"),this.hasMatrixTrack(this.props.tracks)&&u.default.createElement(p.default,{onClick:this.handleAddVerticalSection.bind(this),onMouseEnter:function(){function e(e){return t.handleOtherMouseEnter(e)}return e}()},"Add Vertical Cross Section"),this.getSubmenu())}return t}()},{key:"hasMatrixTrack",value:function(){function t(t){return(0,f.expandCombinedTracks)(this.props.tracks).filter((function(t){return"heatmap"===t.type})).length>0}return t}()},{key:"handleAddHorizontalSection",value:function(){function t(){var t=(0,f.expandCombinedTracks)(this.props.tracks).filter((function(t){return"heatmap"===t.type}))[0];this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),this.props.onAddTrack({data:{type:"horizontal-section",server:t.server,tilesetUid:t.tilesetUid,slicePos:this.props.coords[1]},options:{valueScaling:"log"},type:"horizontal-bar",height:30,position:"top"})}return t}()},{key:"handleAddVerticalSection",value:function(){function t(){var t=(0,f.expandCombinedTracks)(this.props.tracks).filter((function(t){return"heatmap"===t.type}))[0];this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),this.props.onAddTrack({data:{type:"vertical-section",server:t.server,tilesetUid:t.tilesetUid,slicePos:this.props.coords[0]},options:{valueScaling:"log"},type:"vertical-bar",height:30,position:"left"})}return t}()}]),e}((0,h.mix)(m.default).with(v.default));_.propTypes={coords:c.default.array,customItems:c.default.array},e.default=_},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=O(n(19)),i=O(n(62)),o=O(n(30)),a=O(n(25)),s=O(n(38)),l=O(n(5)),u=O(n(3)),c=O(n(4)),h=O(n(6)),f=O(n(7)),d=O(n(29)),p=n(0),m=O(n(1)),v=O(n(26)),g=O(n(2)),y=O(n(675)),b=O(n(73)),_=O(n(140)),x=O(n(264)),T=n(24),w=O(n(69)),S=n(10),E=O(n(78)),k=n(266),C=n(11),A=O(n(679));function O(t){return t&&t.__esModule?t:{default:t}}var P={styles:{"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},M=function(t){function e(t){(0,u.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,l.default)(e)).call(this,t));return n.mounted=!1,n.uid=v.default.nice(),n.chromInfo=null,n.searchField=null,n.autocompleteMenu=null,n.xScale=null,n.yScale=null,n.prevParts=[],n.props.registerViewportChangedListener(n.scalesChanged.bind(n)),n.menuPosition={left:0,top:0},n.positionText="chr4:190,998,876-191,000,255",n.state={genes:[],isFocused:!1,autocompleteServer:n.props.autocompleteServer,autocompleteId:n.props.autocompleteId,availableAssemblies:[],selectedAssembly:null},n.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},n.availableAutocompletes={},n.props.autocompleteId&&(n.availableAutocompletes[n.props.chromInfoId]=new s.default([{server:n.props.autocompleteServer,acId:n.props.autocompleteId}])),n.availableChromSizes={},n}return(0,f.default)(e,t),(0,c.default)(e,[{key:"componentDidMount",value:function(){function t(){var t=this;this.mounted=!0,(0,p.select)(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.findAvailableAutocompleteSources(),this.findAvailableChromSizes(),this.props.chromInfoPath&&(this.searchPosition=!0,(0,b.default)(this.props.chromInfoPath,(function(e){e?(t.chromInfo=e,t.searchField=new _.default(t.chromInfo),t.setPositionText()):t.searchPosition=null}))),this.setPositionText()}return t}()},{key:"componentWillUnmount",value:function(){function t(){this.mounted=!1,this.props.removeViewportChangedListener()}return t}()},{key:"onAutocompleteChange",value:function(){function t(t,e){var n=this;this.positionText=e,this.setState({value:e,loading:!0}),this.changedPart=null;for(var r=e.split(/ /),i=0,o=[],a=!1,s=0;s<r.length;s++)for(var l=r[s].split(/-/),u=0;u<l.length;u++){if(i+=1,o.push(l[u]),a=0===u,u===this.prevParts.length){this.changedPart=i-1;break}if(l[u]!==this.prevParts[u]){this.changedPart=i-1;break}}if(this.prevParts=o,this.state.autocompleteServer&&this.state.autocompleteId&&null!==this.changedPart){this.setState({loading:!0});var c=String(this.state.autocompleteServer)+"/suggest/";c+="?d="+String(this.state.autocompleteId)+"&ac="+String(o[this.changedPart].toLowerCase()),T.tileProxy.json(c,(function(t,e){if(t)n.setState({loading:!1,genes:[]});else if(n.changedPart>0&&!a){var r=String(n.state.autocompleteServer)+"/suggest/?d="+String(n.state.autocompleteId)+"&ac="+String(o[n.changedPart-1].toLowerCase())+"-"+String(o[n.changedPart].toLowerCase());T.tileProxy.json(r,(function(t,r){t?n.setState({loading:!1,genes:e}):n.setState({loading:!1,genes:r.concat(e)})}),n.props.pubSub)}else n.setState({loading:!1,genes:e})}),this.props.pubSub)}}return t}()},{key:"setAvailableAssemblies",value:function(){function t(){var t=new s.default((0,S.dictKeys)(this.availableChromSizes)),e=new s.default([].concat((0,a.default)(t)));this.gpsbForm&&this.setState({availableAssemblies:[].concat((0,a.default)(e))})}return t}()},{key:"setSelectedAssembly",value:function(){function t(t){if(this.mounted&&this.availableChromSizes[t]){var e=[].concat((0,a.default)(this.availableChromSizes[t]))[0];this.setState({autocompleteServer:e.server});var n=e.server;if(this.availableAutocompletes[t]){var r=[].concat((0,a.default)(this.availableAutocompletes[t]))[0].acId;this.props.onSelectedAssemblyChanged(t,r,n),this.gpsbForm&&this.setState({autocompleteId:r})}else this.props.onSelectedAssemblyChanged(t,null,n),this.gpsbForm&&this.setState({autocompleteId:null});this.fetchChromInfo(e.uuid,e.server)}}return t}()},{key:"setPositionText",value:function(){function t(){if(this.mounted&&this.searchField){var t=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=t.split(/[ -]/),this.gpsbForm&&(this.positionText=t,this.origPositionText=t,this.autocompleteMenu.inputEl.value=t)}}return t}()},{key:"scalesChanged",value:function(){function t(t,e){this.xScale=t,this.yScale=e,this.setPositionText()}return t}()},{key:"findAvailableChromSizes",value:function(){function t(){var t=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach((function(e){T.tileProxy.json(String(e)+"/available-chrom-sizes/",(function(n,r){n?console.error(n):(r.results.forEach((function(n){n.coordSystem in t.availableChromSizes||(t.availableChromSizes[n.coordSystem]=new s.default),t.availableChromSizes[n.coordSystem].add({server:e,uuid:n.uuid}),t.setAvailableAssemblies()})),t.searchField||t.fetchChromInfo(t.props.chromInfoId in t.availableChromSizes?[].concat((0,a.default)(t.availableChromSizes[t.props.chromInfoId]))[0].uuid:t.props.chromInfoId,t.props.chromInfoId in t.availableChromSizes?[].concat((0,a.default)(t.availableChromSizes[t.props.chromInfoId]))[0].server:t.props.chromInfoServer))}),t.props.pubSub)}))}return t}()},{key:"findAvailableAutocompleteSources",value:function(){function t(){var t=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach((function(e){T.tileProxy.json(String(e)+"/tilesets/?limit=100&dt=gene-annotation",(function(n,r){n?console.error(n):(r.results.forEach((function(n){n.coordSystem in t.availableAutocompletes||(t.availableAutocompletes[n.coordSystem]=new s.default),t.availableAutocompletes[n.coordSystem].add({server:e,acId:n.uuid}),t.setAvailableAssemblies()})),t.state.autocompleteId||t.gpsbForm&&t.availableAutocompletes[t.props.chromInfoId]&&t.setState({autocompleteId:[].concat((0,a.default)(t.availableAutocompletes[t.props.chromInfoId]))[0].acId}))}),t.props.pubSub)}))}return t}()},{key:"fetchChromInfo",value:function(){function t(t,e){var n=this;(0,b.default)(String(e)+"/chrom-sizes/?id="+String(t),(function(r){r&&(T.tileProxy.json(String(e)+"/tileset_info/?d="+String(t),(function(e,r){e||n.gpsbForm&&n.setState({selectedAssembly:r[t].coordSystem})}),n.props.pubSub),n.chromInfo=r,n.searchField=new _.default(n.chromInfo),n.setPositionText())}),this.props.pubSub)}return t}()},{key:"autocompleteKeyPress",value:function(){function t(){var t=13;p.event.keyCode===t&&this.buttonClick()}return t}()},{key:"genePositionToSearchBarText",value:function(){function t(t){}return t}()},{key:"replaceGenesWithLoadedPositions",value:function(){function t(t){for(var e=this.positionText,n=e.split(" "),r=!1,i=0;i<n.length;i++){for(var o=n[i].split("-"),a=0,s=0,l="";a<o.length;){for(s=o.length;s>a;){var u=o.slice(a,s).join("-");if(t[u.toLowerCase()]){var c=t[u.toLowerCase()],h=Math.floor((c.txEnd-c.txStart)/4);0===a&&s<o.length?l=String(c.chr)+":"+(c.txStart-h):0===a&&s===o.length?l=String(c.chr)+":"+(c.txStart-h)+"-"+String(c.txEnd+h):l+="- "+String(c.chr)+":"+String(c.txEnd+h),r=!0;break}s===a+1&&(l.length&&(l+="-"),l+=u),s-=1}a=s+1}n[i]=l}var f=n.join(" ");return this.prevParts=f.split(/[ -]/),this.positionText=f,this.setState({value:f}),r?e:null}return t}()},{key:"replaceGenesWithPositions",value:function(){function t(t){for(var e=this,n=this.positionText.split(/[ -]/),r=[],a=0;a<n.length;a++)if(0!==n[a].length){var s=this.searchField.parsePosition(n[a])[2];if(null===s||(0,o.default)(+s)){var l=String(this.state.autocompleteServer)+"/suggest/?d="+String(this.state.autocompleteId)+"&ac="+String(n[a].toLowerCase());r.push(T.tileProxy.json(l,S.toVoid,this.props.pubSub))}}i.default.all(r).then((function(n){if(n){for(var r={},i=0;i<n.length;i++)if(n[i][0])for(var o=0;o<n[i].length;o++)r[n[i][o].geneName.toLowerCase()]=n[i][o];var a=e.replaceGenesWithLoadedPositions(r);t(a)}})).catch((function(t){return console.error(t)}))}return t}()},{key:"buttonClick",value:function(){function t(){var t=this;this.setState({genes:[]}),this.replaceGenesWithPositions((function(e){var n=t.positionText;if(null!==t.searchField){var i=t.searchField.searchPosition(n),a=i[0],s=i[1];if(!a)return void t.setPositionText(t.origPositionText);if(a&&((0,o.default)(+a[0])||(0,o.default)(+a[1]))||s&&((0,o.default)(+s[0])||(0,o.default)(+s[1])))return;s||(s=a);var l=t.xScale.copy().domain(a),u=t.yScale.copy().domain(s),c=(0,S.scalesCenterAndK)(l,u),h=(0,r.default)(c,3),f=h[0],d=h[1],p=h[2];e&&t.props.onGeneSearch({geneSymbol:e,range:a,centerX:f,centerY:d}),t.props.setCenters(f,d,p,C.ZOOM_TRANSITION_DURATION)}}))}return t}()},{key:"searchFieldSubmit",value:function(){function t(){this.buttonClick()}return t}()},{key:"pathJoin",value:function(){function t(t,e){var n=e||"/",r=new RegExp(String(n)+"{1,}","g");return t.join(n).replace(r,n)}return t}()},{key:"geneSelected",value:function(){function t(t,e){for(var n=this.positionText.split(" "),r=this.changedPart,i=0;i<n.length;i++){var o=n[i].split("-"),a=e.geneName.split("-");if(!(r>o.length-1)){if(o[r]=e.geneName,2===a.length&&r>0&&o[r-1].toLowerCase()===a[0].toLowerCase()){var s=o.slice(0,r-1);s.push(a.join("-")),r<o.length-1&&s.push(o.slice(r+1)),n[i]=s.join("-")}else n[i]=o.join("-");break}r-=o.length}this.prevParts=n.join(" ").split(/[ -]/),this.positionText=n.join(" "),this.setState({value:n.join(" "),genes:[]})}return t}()},{key:"handleMenuVisibilityChange",value:function(){function t(t,e){var n=e.getBoundingClientRect();this.menuPosition={left:n.left,top:n.top+n.height},this.setState({menuOpened:t})}return t}()},{key:"handleRenderMenu",value:function(){function t(t){return m.default.createElement(x.default,null,m.default.createElement("div",{style:{left:this.menuPosition.left,top:this.menuPosition.top},className:"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU"},t))}return t}()},{key:"handleAssemblySelect",value:function(){function t(t){this.setSelectedAssembly(t),this.setState({selectedAssembly:t})}return t}()},{key:"focusHandler",value:function(){function t(t){this.setState({isFocused:t})}return t}()},{key:"render",value:function(){function t(){var t=this,e=this.state.availableAssemblies.map((function(t){return m.default.createElement("option",{key:t,value:t},t)})),n=this.state.isFocused?"styles.genome-position-search-focus":"styles.genome-position-search";return this.props.theme===C.THEME_DARK&&(n+=" styles.genome-position-search-dark"),m.default.createElement("div",{ref:function(){function e(e){t.gpsbForm=e}return e}(),className:(0,d.default)(n,P)},!this.props.hideAvailableAssemblies&&m.default.createElement("select",{ref:function(){function e(e){t.assemblyPickButton=e}return e}(),className:A.default["genome-position-search-bar-button"],id:this.uid,onSelect:this.handleAssemblySelect.bind(this),title:this.state.selectedAssembly?this.state.selectedAssembly:"(none)"},e),m.default.createElement(y.default,{ref:function(){function e(e){t.autocompleteMenu=e}return e}(),getItemValue:function(){function t(t){return t.geneName}return t}(),inputProps:{className:A.default["genome-position-search-bar"],title:"Current location: enter a symbol or location to change the position of the current view"},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:function(){function e(e,n){return t.geneSelected(e,n)}return e}(),onSubmit:this.searchFieldSubmit.bind(this),renderItem:function(){function e(e,n){return m.default.createElement("div",{key:e.refseqid,id:e.refseqid,style:n?t.styles.highlightedItem:t.styles.item},e.geneName)}return e}(),renderMenu:this.handleRenderMenu.bind(this),value:this.positionText,wrapperStyle:{width:"100%"}}),m.default.createElement(k.SearchIcon,{onClick:this.buttonClick.bind(this),theStyle:"multitrack-header-icon"}))}return t}()}]),e}(m.default.Component);M.propTypes={autocompleteId:g.default.string,autocompleteServer:g.default.string,chromInfoId:g.default.string,chromInfoServer:g.default.string,hideAvailableAssemblies:g.default.bool,isFocused:g.default.bool,pubSub:g.default.func,onFocus:g.default.func,onGeneSearch:g.default.func,onSelectedAssemblyChanged:g.default.func,registerViewportChangedListener:g.default.func,removeViewportChangedListener:g.default.func,setCenters:g.default.func,theme:g.default.symbol.isRequired,trackSourceServers:g.default.array,twoD:g.default.bool},e.default=(0,w.default)((0,E.default)(M))},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(35)),i=p(n(34)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=p(n(1)),h=n(42),f=p(n(676)),d=p(n(2));function p(t){return t&&t.__esModule?t:{default:t}}var m=[],v=function(e){function n(t){(0,a.default)(this,n);var e=(0,l.default)(this,(n.__proto__||(0,o.default)(n)).call(this,t));return e.state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},e.keyDownHandlers={ArrowDown:function(){function t(t){t.preventDefault();var e=this.getFilteredItems().length;if(e){var n=this.state.highlightedIndex,r=null===n||n===e-1?0:n+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}}return t}(),ArrowUp:function(){function t(t){t.preventDefault();var e=this.getFilteredItems().length;if(e){var n=this.state.highlightedIndex,r=0===n||null===n?e-1:n-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}}return t}(),Enter:function(){function t(t){var e=this;if(!1!==this.state.isOpen)if(null===this.state.highlightedIndex)this.setState({isOpen:!1},(function(){e.inputEl.select()}));else{t.preventDefault();var n=this.getFilteredItems()[this.state.highlightedIndex],r=this.props.getItemValue(n);this.setState({isOpen:!1,highlightedIndex:null},(function(){e.inputEl.setSelectionRange(r.length,r.length),e.props.onSelect(r,n)}))}}return t}(),Escape:function(){function t(){this.setState({highlightedIndex:null,isOpen:!1})}return t}()},e}return(0,u.default)(n,e),(0,s.default)(n,[{key:"getInitialState",value:function(){function t(){return{isOpen:!1,highlightedIndex:null}}return t}()},{key:"UNSAFE_componentWillMount",value:function(){function t(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}return t}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function t(t){this._performAutoCompleteOnUpdate=!0,(this.props.items!==t.items||this.state.highlightedIndex>=t.items.length)&&this.setState({highlightedIndex:null})}return t}()},{key:"componentDidUpdate",value:function(){function t(t,e){!0===this.state.isOpen&&!1===e.isOpen&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),e.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}return t}()},{key:"maybeScrollItemIntoView",value:function(){function t(){if(!0===this.state.isOpen&&null!==this.state.highlightedIndex){var t=this.refs["item-"+String(this.state.highlightedIndex)],e=this.refs.menu;t&&(0,f.default)((0,h.findDOMNode)(t),(0,h.findDOMNode)(e),{onlyScrollIfNeeded:!0})}}return t}()},{key:"handleKeyDown",value:function(){function t(t){this.keyDownHandlers[t.key]?this.keyDownHandlers[t.key].call(this,t):this.setState({highlightedIndex:null,isOpen:!0})}return t}()},{key:"handleChange",value:function(){function t(t){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(t,t.target.value)}return t}()},{key:"handleKeyUp",value:function(){function t(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}return t}()},{key:"getFilteredItems",value:function(){function t(){var t=this,e=this.props.items;return this.props.shouldItemRender&&(e=e.filter((function(e){return t.props.shouldItemRender(e,t.props.value)}))),this.props.sortItems&&e.sort((function(e,n){return t.props.sortItems(e,n,t.props.value)})),e}return t}()},{key:"maybeAutoCompleteText",value:function(){function t(){if(this.props.autoHighlight&&""!==this.props.value){var t=this.state.highlightedIndex,e=this.getFilteredItems();if(0!==e.length){var n=null!==t?e[t]:e[0];0===this.props.getItemValue(n).toLowerCase().indexOf(this.props.value.toLowerCase())&&null===t&&this.setState({highlightedIndex:0})}}}return t}()},{key:"setMenuPositions",value:function(){function e(){var e=this.inputEl,n=e.getBoundingClientRect(),r=t.window.getComputedStyle(e),i=parseInt(r.marginBottom,10)||0,o=parseInt(r.marginLeft,10)||0,a=parseInt(r.marginRight,10)||0;this.setState({menuTop:n.bottom+i,menuLeft:n.left+o,menuWidth:n.width+o+a})}return e}()},{key:"highlightItemFromMouse",value:function(){function t(t){this.setState({highlightedIndex:t})}return t}()},{key:"selectItemFromMouse",value:function(){function t(t){var e=this,n=this.props.getItemValue(t);this.setState({isOpen:!1,highlightedIndex:null},(function(){e.props.onSelect(n,t),e.inputEl.focus()}))}return t}()},{key:"setIgnoreBlur",value:function(){function t(t){this._ignoreBlur=t}return t}()},{key:"renderMenu",value:function(){function t(){var t=this,e=this.getFilteredItems().map((function(e,n){var r=t.props.renderItem(e,t.state.highlightedIndex===n,{cursor:"default"});return c.default.cloneElement(r,{onMouseDown:function(){function e(){return t.setIgnoreBlur(!0)}return e}(),onMouseEnter:function(){function e(){return t.highlightItemFromMouse(n)}return e}(),onClick:function(){function n(){return t.selectItemFromMouse(e)}return n}(),ref:"item-"+String(n)})})),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!e.length)return null;var r=this.props.renderMenu(e,this.props.value,n);return c.default.cloneElement(r,{ref:"menu"})}return t}()},{key:"handleInputBlur",value:function(){function t(){this.props.onFocus&&this.props.onFocus(),!this._ignoreBlur&&this.setState({isOpen:!1,highlightedIndex:null})}return t}()},{key:"handleInputFocus",value:function(){function t(){this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur?this.setIgnoreBlur(!1):(this._ignoreClick=!0,this.setState({isOpen:!0}))}return t}()},{key:"isInputFocused",value:function(){function t(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}return t}()},{key:"handleInputClick",value:function(){function t(){this.isInputFocused()&&!1===this.state.isOpen?this.setState({isOpen:!0}):null!==this.state.highlightedIndex&&!this._ignoreClick&&this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}return t}()},{key:"composeEventHandlers",value:function(){function t(t,e){return e?function(n){t(n),e(n)}:t}return t}()},{key:"render",value:function(){function t(){var t=this;this.props.debug&&m.push({id:m.length,state:this.state});var e=this.props.inputProps;return c.default.createElement("div",(0,i.default)({style:(0,i.default)({},this.props.wrapperStyle)},this.props.wrapperProps),c.default.createElement("input",(0,i.default)({},e,{ref:function(){function e(e){t.inputEl=e}return e}(),"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),e.onBlur&&e.onBlur.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),e.onClick&&e.onClick.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),e.onFocus&&e.onFocus.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),e.onKeyDown&&e.onKeyDown.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),e.onKeyUp&&e.onKeyUp.bind(this)),role:"combobox",value:this.props.value})),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&c.default.createElement("pre",{style:{marginLeft:300}},(0,r.default)(m.slice(m.length-5,m.length),null,2)))}return t}()}]),n}(c.default.Component);v.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange:function(){function t(){}return t}(),onSelect:function(){function t(){}return t}(),renderMenu:function(){function t(t,e,n){return c.default.createElement("div",{style:(0,i.default)({},n,this.menuStyle)},t)}return t}(),shouldItemRender:function(){function t(){return!0}return t}(),menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange:function(){function t(){}return t}()},v.propTypes={autoHighlight:d.default.bool,debug:d.default.bool,getItemValue:d.default.func.isRequired,inputProps:d.default.object,items:d.default.array,menuStyle:d.default.object,onChange:d.default.func,onFocus:d.default.func,onMenuVisibilityChange:d.default.func,onSelect:d.default.func,open:d.default.bool,renderItem:d.default.func.isRequired,renderMenu:d.default.func,shouldItemRender:d.default.func,sortItems:d.default.func,value:d.default.any,wrapperProps:d.default.object,wrapperStyle:d.default.object},e.default=v}).call(this,n(27))},function(t,e,n){t.exports=n(677)},function(t,e,n){var r=n(678);function i(t,e,n){n=n||{},9===e.nodeType&&(e=r.getWindow(e));var i=n.allowHorizontalScroll,o=n.onlyScrollIfNeeded,a=n.alignWithTop,s=n.alignWithLeft,l=n.offsetTop||0,u=n.offsetLeft||0,c=n.offsetBottom||0,h=n.offsetRight||0;i=void 0===i||i;var f=r.isWindow(e),d=r.offset(t),p=r.outerHeight(t),m=r.outerWidth(t),v=void 0,g=void 0,y=void 0,b=void 0,_=void 0,x=void 0,T=void 0,w=void 0,S=void 0,E=void 0;f?(T=e,E=r.height(T),S=r.width(T),w={left:r.scrollLeft(T),top:r.scrollTop(T)},_={left:d.left-w.left-u,top:d.top-w.top-l},x={left:d.left+m-(w.left+S)+h,top:d.top+p-(w.top+E)+c},b=w):(v=r.offset(e),g=e.clientHeight,y=e.clientWidth,b={left:e.scrollLeft,top:e.scrollTop},_={left:d.left-(v.left+(parseFloat(r.css(e,"borderLeftWidth"))||0))-u,top:d.top-(v.top+(parseFloat(r.css(e,"borderTopWidth"))||0))-l},x={left:d.left+m-(v.left+y+(parseFloat(r.css(e,"borderRightWidth"))||0))+h,top:d.top+p-(v.top+g+(parseFloat(r.css(e,"borderBottomWidth"))||0))+c}),_.top<0||x.top>0?!0===a?r.scrollTop(e,b.top+_.top):!1===a?r.scrollTop(e,b.top+x.top):_.top<0?r.scrollTop(e,b.top+_.top):r.scrollTop(e,b.top+x.top):o||((a=void 0===a||!!a)?r.scrollTop(e,b.top+_.top):r.scrollTop(e,b.top+x.top)),i&&(_.left<0||x.left>0?!0===s?r.scrollLeft(e,b.left+_.left):!1===s?r.scrollLeft(e,b.left+x.left):_.left<0?r.scrollLeft(e,b.left+_.left):r.scrollLeft(e,b.left+x.left):o||((s=void 0===s||!!s)?r.scrollLeft(e,b.left+_.left):r.scrollLeft(e,b.left+x.left)))}t.exports=i},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function o(t){var e=void 0,n=void 0,r=void 0,i=t.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(e=t.getBoundingClientRect()).left,r=e.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}function a(t,e){var n=t["page"+(e?"Y":"X")+"Offset"],r="scroll"+(e?"Top":"Left");if("number"!=typeof n){var i=t.document;"number"!=typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function s(t){return a(t)}function l(t){return a(t,!0)}function u(t){var e=o(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=s(r),e.top+=l(r),e}function c(t,e,n){var r="",i=t.ownerDocument,o=n||i.defaultView.getComputedStyle(t,null);return o&&(r=o.getPropertyValue(e)||o[e]),r}var h=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),f=/^(top|right|bottom|left)$/,d="currentStyle",p="runtimeStyle",m="left",v="px";function g(t,e){var n=t[d]&&t[d][e];if(h.test(n)&&!f.test(e)){var r=t.style,i=r[m],o=t[p][m];t[p][m]=t[d][m],r[m]="fontSize"===e?"1em":n||0,n=r.pixelLeft+v,r[m]=i,t[p][m]=o}return""===n?"auto":n}var y=void 0;function b(t,e){for(var n=0;n<t.length;n++)e(t[n])}function _(t){return"border-box"===y(t,"boxSizing")}typeof window<"u"&&(y=window.getComputedStyle?c:g);var x=["margin","border","padding"],T=-1,w=2,S=1,E=0;function k(t,e,n){var r={},i=t.style,o=void 0;for(o in e)e.hasOwnProperty(o)&&(r[o]=i[o],i[o]=e[o]);for(o in n.call(t),e)e.hasOwnProperty(o)&&(i[o]=r[o])}function C(t,e,n){var r=0,i=void 0,o=void 0,a=void 0;for(o=0;o<e.length;o++)if(i=e[o])for(a=0;a<n.length;a++){var s=void 0;s="border"===i?i+n[a]+"Width":i+n[a],r+=parseFloat(y(t,s))||0}return r}function A(t){return null!=t&&t==t.window}var O={};function P(t,e,n){if(A(t))return"width"===e?O.viewportWidth(t):O.viewportHeight(t);if(9===t.nodeType)return"width"===e?O.docWidth(t):O.docHeight(t);var r="width"===e?["Left","Right"]:["Top","Bottom"],i="width"===e?t.offsetWidth:t.offsetHeight;y(t);var o=_(t),a=0;(null==i||i<=0)&&(i=void 0,(null==(a=y(t,e))||Number(a)<0)&&(a=t.style[e]||0),a=parseFloat(a)||0),void 0===n&&(n=o?S:T);var s=void 0!==i||o,l=i||a;if(n===T)return s?l-C(t,["border","padding"],r):a;if(s){var u=n===w?-C(t,["border"],r):C(t,["margin"],r);return l+(n===S?0:u)}return a+C(t,x.slice(n),r)}b(["Width","Height"],(function(t){O["doc"+t]=function(e){var n=e.document;return Math.max(n.documentElement["scroll"+t],n.body["scroll"+t],O["viewport"+t](n))},O["viewport"+t]=function(e){var n="client"+t,r=e.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var M={position:"absolute",visibility:"hidden",display:"block"};function I(t){var e=void 0,n=arguments;return 0!==t.offsetWidth?e=P.apply(void 0,n):k(t,M,(function(){e=P.apply(void 0,n)})),e}function R(t,e,n){var r=n;if("object"!==(typeof e>"u"?"undefined":i(e)))return typeof r<"u"?("number"==typeof r&&(r+="px"),void(t.style[e]=r)):y(t,e);for(var o in e)e.hasOwnProperty(o)&&R(t,o,e[o])}function L(t,e){"static"===R(t,"position")&&(t.style.position="relative");var n=u(t),r={},i=void 0,o=void 0;for(o in e)e.hasOwnProperty(o)&&(i=parseFloat(R(t,o))||0,r[o]=i+e[o]-n[o]);R(t,r)}b(["width","height"],(function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);O["outer"+e]=function(e,n){return e&&I(e,t,n?E:S)};var n="width"===t?["Left","Right"]:["Top","Bottom"];O[t]=function(e,r){return void 0!==r?e?(y(e),_(e)&&(r+=C(e,["padding","border"],n)),R(e,t,r)):void 0:e&&I(e,t,T)}})),t.exports=r({getWindow:function(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow},offset:function(t,e){if(!(typeof e<"u"))return u(t);L(t,e)},isWindow:A,each:b,css:R,clone:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);if(t.overflow)for(var n in t)t.hasOwnProperty(n)&&(e.overflow[n]=t.overflow[n]);return e},scrollLeft:function(t,e){if(A(t)){if(void 0===e)return s(t);window.scrollTo(e,l(t))}else{if(void 0===e)return t.scrollLeft;t.scrollLeft=e}},scrollTop:function(t,e){if(A(t)){if(void 0===e)return l(t);window.scrollTo(s(t),e)}else{if(void 0===e)return t.scrollTop;t.scrollTop=e}},viewportWidth:0,viewportHeight:0},O)},function(t,e,n){t.exports={"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(1)),u=f(n(2)),c=f(n(170)),h=f(n(169));function f(t){return t&&t.__esModule?t:{default:t}}n(681);var d=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"render",value:function(){function t(){var t=this;return l.default.createElement(h.default,{okayOnly:!0,okayTitle:"Done",onOkay:this.props.onDone,title:"Share view link"},l.default.createElement("div",{className:"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"},l.default.createElement("input",{ref:function(){function e(e){e&&(t.input=e,e.focus(),e.select())}return e}(),onClick:function(){function t(t){t.target.select()}return t}(),placeholder:"Generating the link...",readOnly:!0,value:this.props.url}),l.default.createElement(c.default,{onClick:function(){function e(e){t.input.select(),document.execCommand("copy")}return e}()},"Copy")))}return t}()}]),e}(l.default.Component);d.defaultProps={onDone:function(){function t(){}return t}(),url:""},d.propTypes={onDone:u.default.func,url:u.default.string},e.default=d},function(t,e,n){t.exports={"export-link-dialog-wrapper":"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(7)),l=g(n(29)),u=g(n(1)),c=g(n(2)),h=g(n(264)),f=g(n(96)),d=g(n(683)),p=g(n(684)),m=g(n(78)),v=n(11);function g(t){return t&&t.__esModule?t:{default:t}}n(267);var y={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},b=function(t){function e(t){(0,i.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.configImg=null,n.plusImg=null,n.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},n.handleTrackPositionChosenBound=n.handleTrackPositionChosen.bind(n),n}return(0,s.default)(e,t),(0,o.default)(e,[{key:"componentDidMount",value:function(){function t(){this.setState({width:this.el.clientWidth})}return t}()},{key:"checkWidth",value:function(){function t(){var t=this.el.clientWidth;t!==this.state.width&&this.setState({width:t})}return t}()},{key:"handleConfigMenuOpened",value:function(){function t(t){this.setState({configMenuUid:t,configMenuPosition:this.configImg.getBoundingClientRect()})}return t}()},{key:"handleAddTrackPositionMenuOpened",value:function(){function t(t){this.setState({addTrackPositionMenuUid:t,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}return t}()},{key:"handleTrackPositionChosen",value:function(){function t(t){this.props.onTrackPositionChosen(t),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}return t}()},{key:"render",value:function(){function t(){var t=this,e=null,n=null;this.state.addTrackPositionMenuPosition&&(n=u.default.createElement(h.default,{onMenuClosed:function(){function e(){t.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}return e}()},u.default.createElement(f.default,{orientation:"left",position:this.state.addTrackPositionMenuPosition,theme:this.props.theme},u.default.createElement(p.default,{onTrackPositionChosen:this.handleTrackPositionChosenBound})))),this.state.configMenuUid&&(e=u.default.createElement(h.default,{onMenuClosed:function(){function e(){return t.setState({configMenuUid:null})}return e}()},u.default.createElement(d.default,{onClearView:function(){function e(){t.setState({configMenuUid:null}),t.props.onClearView()}return e}(),onEditViewConfig:function(){function e(){t.setState({configMenuUid:null}),t.props.onEditViewConfig(t.state.configMenuUid)}return e}(),onExportPNG:function(){function e(){t.setState({configMenuUid:null}),t.props.onExportPNG()}return e}(),onExportSVG:function(){function e(){t.setState({configMenuUid:null}),t.props.onExportSVG()}return e}(),onExportViewAsJSON:function(){function e(){t.setState({configMenuUid:null}),t.props.onExportViewsAsJSON()}return e}(),onExportViewAsLink:function(){function e(){t.setState({configMenuUid:null}),t.props.onExportViewsAsLink()}return e}(),onLockLocation:function(){function e(){t.setState({configMenuUid:null}),t.props.onLockLocation(t.state.configMenuUid)}return e}(),onLockZoom:function(){function e(){t.setState({configMenuUid:null}),t.props.onLockZoom(t.state.configMenuUid)}return e}(),onLockZoomAndLocation:function(){function e(){t.setState({configMenuUid:null}),t.props.onLockZoomAndLocation(t.state.configMenuUid)}return e}(),onOptionsChanged:function(){function e(e){t.props.onViewOptionsChanged(e),t.setState({configMenuUid:null})}return e}(),onProjectViewport:function(){function e(){t.setState({configMenuUid:null}),t.props.onProjectViewport(t.state.configMenuUid)}return e}(),onTakeAndLockZoomAndLocation:function(){function e(){t.setState({configMenuUid:null}),t.props.onTakeAndLockZoomAndLocation(t.state.configMenuUid)}return e}(),onTogglePositionSearchBox:function(){function e(){t.setState({configMenuUid:null}),t.props.onTogglePositionSearchBox(t.state.configMenuUid)}return e}(),onUnlockLocation:function(){function e(){t.setState({configMenuUid:null}),t.props.onUnlockLocation(t.state.configMenuUid)}return e}(),onUnlockZoom:function(){function e(){t.setState({configMenuUid:null}),t.props.onUnlockZoom(t.state.configMenuUid)}return e}(),onUnlockZoomAndLocation:function(){function e(){t.setState({configMenuUid:null}),t.props.onUnlockZoomAndLocation(t.state.configMenuUid)}return e}(),onYankLocation:function(){function e(){t.setState({configMenuUid:null}),t.props.onYankLocation(t.state.configMenuUid)}return e}(),onYankZoom:function(){function e(){t.setState({configMenuUid:null}),t.props.onYankZoom(t.state.configMenuUid)}return e}(),onYankZoomAndLocation:function(){function e(){t.setState({configMenuUid:null}),t.props.onYankZoomAndLocation(t.state.configMenuUid)}return e}(),onZoomToData:function(){function e(){t.setState({configMenuUid:null}),t.props.onZoomToData(t.state.configMenuUid)}return e}(),orientation:"left",position:this.state.configMenuPosition,theme:this.props.theme})));var r=this.props.getGenomePositionSearchBox(this.state.isFocused,(function(e){t.setState({isFocused:e})})),i=this.state.isFocused?"multitrack-header-focus":"multitrack-header",o=this.state.width<=v.VIEW_HEADER_MED_WIDTH_SEARCH_BAR?"multitrack-header-icon-squeazed":"multitrack-header-icon";return this.props.theme===v.THEME_DARK&&(i+=" multitrack-header-dark"),u.default.createElement("div",{ref:function(){function e(e){t.el=e}return e}(),className:(0,l.default)(i,y)},u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-left-Qj9Sm"},this.props.mouseTool===v.MOUSE_TOOL_SELECT&&u.default.createElement("svg",{title:"Selection tool active",className:(0,l.default)("mouse-tool-selection "+o,y)},u.default.createElement("use",{xlinkHref:"#select"})),u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-grabber-3jrIz",title:"Drag to move the view"},u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null)),this.state.width>v.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR&&u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-search-1X_3_"},this.props.isGenomePositionSearchBoxVisible&&r)),u.default.createElement("nav",{className:"ViewHeader-module_multitrack-header-nav-list-2nvcu"},u.default.createElement("svg",{onClick:this.props.onAddView,className:(0,l.default)(o,y)},u.default.createElement("title",null,"Add new view (clone this view)"),u.default.createElement("use",{xlinkHref:"#copy"})),u.default.createElement("svg",{ref:function(){function e(e){t.configImg=e}return e}(),onClick:function(){function e(){return t.handleConfigMenuOpened(t.props.viewUid)}return e}(),className:(0,l.default)(o,y)},u.default.createElement("title",null,"Configure this view"),u.default.createElement("use",{xlinkHref:"#cog"})),u.default.createElement("svg",{ref:function(){function e(e){t.plusImg=e}return e}(),onClick:function(){function e(){return t.handleAddTrackPositionMenuOpened(t.props.viewUid)}return e}(),className:(0,l.default)(o,y)},u.default.createElement("title",null,"Add Track"),u.default.createElement("use",{xlinkHref:"#plus"})),u.default.createElement("svg",{onClick:this.props.onCloseView,className:(0,l.default)(o,y)},u.default.createElement("title",null,"Close View"),u.default.createElement("use",{xlinkHref:"#cross"}))),e,n)}return t}()}]),e}(u.default.Component);b.defaultProps={isGenomePositionSearchBoxVisible:!1},b.propTypes={getGenomePositionSearchBox:c.default.func.isRequired,isGenomePositionSearchBoxVisible:c.default.bool,mouseTool:c.default.string.isRequired,onAddView:c.default.func.isRequired,onClearView:c.default.func.isRequired,onCloseView:c.default.func.isRequired,onEditViewConfig:c.default.func.isRequired,onExportSVG:c.default.func.isRequired,onExportPNG:c.default.func.isRequired,onExportViewsAsJSON:c.default.func.isRequired,onExportViewsAsLink:c.default.func.isRequired,onLockLocation:c.default.func.isRequired,onLockZoom:c.default.func.isRequired,onLockZoomAndLocation:c.default.func.isRequired,onProjectViewport:c.default.func.isRequired,onTakeAndLockZoomAndLocation:c.default.func.isRequired,onTogglePositionSearchBox:c.default.func.isRequired,onTrackPositionChosen:c.default.func.isRequired,onUnlockLocation:c.default.func.isRequired,onUnlockZoom:c.default.func.isRequired,onUnlockZoomAndLocation:c.default.func.isRequired,onViewOptionsChanged:c.default.func.isRequired,onYankLocation:c.default.func.isRequired,onYankZoom:c.default.func.isRequired,onYankZoomAndLocation:c.default.func.isRequired,onZoomToData:c.default.func.isRequired,theme:c.default.symbol.isRequired,viewUid:c.default.string.isRequired},e.default=(0,m.default)(b)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(17)),i=g(n(18)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(7)),c=g(n(29)),h=g(n(1)),f=g(n(2)),d=g(n(96)),p=g(n(67)),m=g(n(391));n(68);var v=n(11);function g(t){return t&&t.__esModule?t:{default:t}}var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(t){function e(t){(0,a.default)(this,e);var n=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.state={submenuShown:!1},n}return(0,u.default)(e,t),(0,s.default)(e,[{key:"getConfigureViewMenu",value:function(){function t(t,e){var n=this,o=["backgroundColor"],a={},s={},l=function(){function t(t){if(t in(0,i.default)(v.OPTIONS_INFO)&&(a[t]={name:v.OPTIONS_INFO[t].name},v.OPTIONS_INFO[t].inlineOptions)){var e=function(){function e(e){var r=v.OPTIONS_INFO[t].inlineOptions[e];a[t].children||(a[t].children={});var i={name:r.name,value:r.value,handler:function(){s[t]=r.value,n.props.onOptionsChanged(s)}};a[t].children[e]=i}return e}();for(var r in v.OPTIONS_INFO[t].inlineOptions)e(r)}}return t}(),u=!0,c=!1,f=void 0;try{for(var d,p=(0,r.default)(o);!(u=(d=p.next()).done);u=!0)l(d.value)}catch(g){c=!0,f=g}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}return h.default.createElement(m.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:a,orientation:this.state.orientation,parentBbox:e,position:t,theme:this.props.theme})}return t}()},{key:"getSubmenu",value:function(){function t(){if(this.state.submenuShown){var t=this.state.submenuSourceBbox,e="left"===this.state.orientation?{left:this.state.left,top:t.top}:{left:this.state.left+t.width+7,top:t.top};return"options"===this.state.submenuShown.option?this.getConfigureViewMenu(e,t):h.default.createElement("div",null)}return h.default.createElement("div",null)}return t}()},{key:"render",value:function(){function t(){var t=this,e="context-menu";return this.props.theme===v.THEME_DARK&&(e+=" context-menu-dark"),h.default.createElement("div",{ref:function(){function e(e){t.div=e}return e}(),"data-menu-type":"ConfigViewMenu",style:{left:this.state.left,top:this.state.top},className:(0,c.default)(e,y)},h.default.createElement(p.default,{onClick:function(){function e(e){return t.props.onTogglePositionSearchBox(e)}return e}()},"Toggle position search box"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function e(e){return t.props.onZoomToData(e)}return e}()},"Zoom to data extent"),h.default.createElement(p.default,{onClick:function(){function e(e){return t.props.onClearView(e)}return e}()},"Clear View"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function e(e){return t.props.onYankZoom(e)}return e}()},"Take zoom from"),h.default.createElement(p.default,{onClick:function(){function e(e){return t.props.onYankLocation(e)}return e}()},"Take location from"),h.default.createElement(p.default,{onClick:function(){function e(e){return t.props.onYankZoomAndLocation(e)}return e}()},"Take zoom and location from"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:this.props.onLockZoom},"Lock zoom with"),h.default.createElement(p.default,{onClick:this.props.onLockLocation},"Lock location with"),h.default.createElement(p.default,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function e(e){return t.props.onUnlockZoom(e)}return e}()},"Unlock zoom"),h.default.createElement(p.default,{onClick:function(){function e(e){return t.props.onUnlockLocation(e)}return e}()},"Unlock location"),h.default.createElement(p.default,{onClick:function(){function e(e){return t.props.onUnlockZoomAndLocation(e)}return e}()},"Unlock zoom and location"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function e(e){return t.props.onProjectViewport(e)}return e}()},"Show this viewport on"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function e(e){return t.props.onEditViewConfig(e)}return e}()},"Edit view config"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function e(){return t.props.onExportSVG()}return e}()},"Export views as SVG"),h.default.createElement(p.default,{onClick:function(){function e(){return t.props.onExportPNG()}return e}()},"Export views as PNG"),h.default.createElement(p.default,{onClick:function(){function e(){return t.props.onExportViewAsJSON()}return e}()},"Export views as JSON"),h.default.createElement(p.default,{onClick:function(){function e(){return t.props.onExportViewAsLink()}return e}()},"Export views as Link"),this.getSubmenu())}return t}()}]),e}(d.default);b.propTypes={onEditViewConfig:f.default.func.isRequired,onExportSVG:f.default.func,onExportPNG:f.default.func,onExportViewAsJSON:f.default.func,onExportViewAsLink:f.default.func,onLockLocation:f.default.func,onLockZoom:f.default.func,onLockZoomAndLocation:f.default.func,onProjectViewport:f.default.func,onTakeAndLockZoomAndLocation:f.default.func,onTogglePositionSearchBox:f.default.func,onUnlockLocation:f.default.func,onUnlockZoom:f.default.func,onUnlockZoomAndLocation:f.default.func,onYankLocation:f.default.func,onYankZoom:f.default.func,onYankZoomAndLocation:f.default.func,onZoomToData:f.default.func,theme:f.default.symbol},e.default=b},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(29)),i=l(n(2)),o=l(n(1)),a=l(n(78)),s=n(11);function l(t){return t&&t.__esModule?t:{default:t}}n(685);var u={"../styles/AddTrackPositionMenu.module.scss":{"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}};function c(t){var e="add-track-position-table";return t.theme===s.THEME_DARK&&(e+=" add-track-position-table-dark"),o.default.createElement("div",null,o.default.createElement("div",{className:"AddTrackPositionMenu-module_add-track-position-span-2hbwE"},"Add Track..."),o.default.createElement("table",{className:(0,r.default)(e,u)},o.default.createElement("tbody",null,o.default.createElement("tr",{style:{height:"30px"}},o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),o.default.createElement("td",{onClick:function(){function e(){return t.onTrackPositionChosen("top")}return e}(),className:"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e"},"top"),o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})),o.default.createElement("tr",{style:{height:"80px"}},o.default.createElement("td",{onClick:function(){function e(){return t.onTrackPositionChosen("left")}return e}(),className:"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN"},"left"),o.default.createElement("td",{onClick:function(){function e(){return t.onTrackPositionChosen("center")}return e}(),className:"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd"},"center"),o.default.createElement("td",{onClick:function(){function e(){return t.onTrackPositionChosen("right")}return e}(),className:"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn"},"right")),o.default.createElement("tr",{style:{height:"30px"}},o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),o.default.createElement("td",{onClick:function(){function e(){return t.onTrackPositionChosen("bottom")}return e}(),className:"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE"},"bottom"),o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})))))}c.propTypes={onTrackPositionChosen:i.default.func.isRequired,theme:i.default.symbol.isRequired},e.default=(0,a.default)(c)},function(t,e,n){t.exports={"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=w(n(35)),i=w(n(246)),o=w(n(247)),a=w(n(5)),s=w(n(3)),l=w(n(4)),u=w(n(6)),c=w(n(7)),h=w(n(29)),f=w(n(2)),d=w(n(1)),p=w(n(687)),m=n(688);n(689);var v=w(n(397)),g=w(n(271)),y=w(n(170)),b=w(n(169)),_=w(n(132)),x=w(n(69)),T=n(10);function w(t){return t&&t.__esModule?t:{default:t}}n(722);var S={"../styles/ViewConfigEditor.module.scss":{"view-config-editor-header":"ViewConfigEditor-module_view-config-editor-header-2nTtX","view-config-editor":"ViewConfigEditor-module_view-config-editor-2HAFN","view-config-log":"ViewConfigEditor-module_view-config-log-1mYmL","view-config-log-header":"ViewConfigEditor-module_view-config-log-header-3EbEM","view-config-log-msg":"ViewConfigEditor-module_view-config-log-msg-2-CJZ",title:"ViewConfigEditor-module_title-3nLH_",Warning:"ViewConfigEditor-module_Warning-_sgiB",Success:"ViewConfigEditor-module_Success-nclFo",Error:"ViewConfigEditor-module_Error-3enaC"}},E=function(t){function e(t){(0,s.default)(this,e);var n=(0,u.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.state={code:t.viewConfig,hide:!1,showLog:!1,logMsgs:n.getLogMsgs(t.viewConfig)},n.handleChangeBound=n.handleChange.bind(n),n.handleKeyDownBound=n.handleKeyDown.bind(n),n.handleKeyUpBound=n.handleKeyUp.bind(n),n.handleSubmitBound=n.handleSubmit.bind(n),n.hideBound=n.hide.bind(n),n.showBound=n.show.bind(n),n.toggleLogBound=n.toggleLog.bind(n),n.pubSubs=[],n.pubSubs.push(n.props.pubSub.subscribe("keydown",n.handleKeyDownBound)),n.pubSubs.push(n.props.pubSub.subscribe("keyup",n.handleKeyUpBound)),n}return(0,c.default)(e,t),(0,l.default)(e,[{key:"componentDidMount",value:function(){var t=(0,o.default)(i.default.mark(function(){function t(){return i.default.wrap(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:if(!this.editor){t.next=6;break}return this.editor._input.focus(),this.editor._input.setSelectionRange(0,0),t.next=5,(0,T.timeout)(0);case 5:this.editorWrap.scrollTop=0;case 6:case"end":return t.stop()}}return t}(),t,this)}return t}()));function e(){return t.apply(this,arguments)}return e}()},{key:"componentWillUnmount",value:function(){function t(){var t=this;this.pubSubs.forEach((function(e){return t.props.pubSub.unsubscribe(e)})),this.pubSubs=[]}return t}()},{key:"handleChange",value:function(){function t(t){var e=this.getLogMsgs(t);this.setState({code:t,logMsgs:e})}return t}()},{key:"handleKeyDown",value:function(){function t(t){"s"===t.key&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),this.props.onChange(this.state.code)),"Enter"===t.key&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),this.props.onChange(this.state.code),this.props.modal.close())}return t}()},{key:"handleKeyUp",value:function(){function t(t){this.setState({hide:!1}),"Escape"===t.key&&(t.preventDefault(),this.props.modal.close(),this.props.onCancel())}return t}()},{key:"handleSubmit",value:function(){function t(t){t&&t.preventDefault(),this.props.onSave(this.state.code)}return t}()},{key:"getLogMsgs",value:function(){function t(t){var e=[],n=void 0;try{n=JSON.parse(t)}catch(o){return console.warn(o),e.push({type:"Error",msg:o.toString()}),e}var i=(new v.default).compile(g.default);return i(n)||(console.warn("Invalid viewconf"),e.push({type:"Warning",msg:"Invalid viewconf"})),i.errors&&(console.warn((0,r.default)(i.errors,null,2)),i.errors.forEach((function(t){e.push({type:"Warning",msg:(0,r.default)(t,null,2)})}))),0===e.length&&e.push({type:"Success",msg:"No error or warnings"}),e}return t}()},{key:"hide",value:function(){function t(){this.setState({hide:!0})}return t}()},{key:"show",value:function(){function t(){this.setState({hide:!1})}return t}()},{key:"hideLog",value:function(){function t(){this.setState({showLog:!1})}return t}()},{key:"showLog",value:function(){function t(){this.setState({showLog:!0})}return t}()},{key:"toggleLog",value:function(){function t(){this.state.showLog?this.hideLog():this.showLog()}return t}()},{key:"render",value:function(){function t(){var t=this,e=this.state.logMsgs.map((function(t,e){var n=String(e)+"-"+String(t.msg);return d.default.createElement("tr",{key:n},d.default.createElement("td",{className:(0,h.default)("title "+String(t.type),S)},"["+String(e)+"] "+String(t.type)),d.default.createElement("td",null,d.default.createElement("pre",null,t.msg)))}));return d.default.createElement(b.default,{cancelShortcut:"ESC",cancelTitle:"Discard Changes",hide:this.state.hide,maxHeight:!0,okayShortcut:"\u2318+Enter",okayTitle:"Save and Close",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Edit View Config"},d.default.createElement("header",{className:"ViewConfigEditor-module_view-config-editor-header-2nTtX"},d.default.createElement(y.default,{onBlur:this.showBound,onMouseDown:this.hideBound,onMouseOut:this.showBound,onMouseUp:this.showBound},"Hide While Mousedown"),d.default.createElement(y.default,{onClick:function(){function e(){t.props.onChange(t.state.code)}return e}(),shortcut:"\u2318+S"},"Save")),d.default.createElement("div",{ref:function(){function e(e){t.editorWrap=e}return e}(),className:"ViewConfigEditor-module_view-config-editor-2HAFN"},d.default.createElement(p.default,{ref:function(){function e(e){t.editor=e}return e}(),highlight:function(){function t(t){return(0,m.highlight)(t,m.languages.json)}return t}(),onValueChange:this.handleChangeBound,padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:"inherit"},value:this.state.code})),d.default.createElement("div",{style:{height:this.state.showLog?"50%":"30px"},className:"ViewConfigEditor-module_view-config-log-1mYmL"},d.default.createElement("div",{onClick:function(){function e(){return t.toggleLogBound()}return e}(),className:"ViewConfigEditor-module_view-config-log-header-3EbEM"},"Log Messages ("+String(this.state.logMsgs.filter((function(t){return"Success"!==t.type})).length)+")"),d.default.createElement("div",{style:{padding:this.state.showLog?"10px":0},className:"ViewConfigEditor-module_view-config-log-msg-2-CJZ"},d.default.createElement("table",null,d.default.createElement("tbody",null,e)))))}return t}()}]),e}(d.default.Component);E.propTypes={modal:f.default.object.isRequired,onCancel:f.default.func.isRequired,onChange:f.default.func.isRequired,onSave:f.default.func.isRequired,pubSub:f.default.object.isRequired,viewConfig:f.default.object.isRequired},e.default=(0,x.default)((0,_.default)(E))},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(1));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function s(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=13,f=9,d=8,p=89,m=90,v=77,g=57,y=219,b=222,_=192,x=100,T=3e3,w="navigator"in t&&/Win/i.test(navigator.platform),S="navigator"in t&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),E="npm__react-simple-code-editor__textarea",k="\n/**\n * Reset the text fill color so that placeholder is visible\n */\n."+E+":empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  ."+E+" {\n    color: transparent !important;\n  }\n\n  ."+E+"::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n",C=function(t){function e(){var t,n,i;l(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=u(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i.state={capture:!0},i._recordCurrentState=function(){var t=i._input;if(t){var e=t.value,n=t.selectionStart,r=t.selectionEnd;i._recordChange({value:e,selectionStart:n,selectionEnd:r})}},i._getLines=function(t,e){return t.substring(0,e).split("\n")},i._recordChange=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i._history,o=n.stack,a=n.offset;if(o.length&&a>-1){i._history.stack=o.slice(0,a+1);var s=i._history.stack.length;if(s>x){var l=s-x;i._history.stack=o.slice(l,s),i._history.offset=Math.max(i._history.offset-l,0)}}var u=Date.now();if(e){var c=i._history.stack[i._history.offset];if(c&&u-c.timestamp<T){var h=/[^a-z0-9]([a-z0-9]+)$/i,f=i._getLines(c.value,c.selectionStart).pop().match(h),d=i._getLines(t.value,t.selectionStart).pop().match(h);if(f&&d&&d[1].startsWith(f[1]))return void(i._history.stack[i._history.offset]=r({},t,{timestamp:u}))}}i._history.stack.push(r({},t,{timestamp:u})),i._history.offset++},i._updateInput=function(t){var e=i._input;e&&(e.value=t.value,e.selectionStart=t.selectionStart,e.selectionEnd=t.selectionEnd,i.props.onValueChange(t.value))},i._applyEdits=function(t){var e=i._input,n=i._history.stack[i._history.offset];n&&e&&(i._history.stack[i._history.offset]=r({},n,{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd})),i._recordChange(t),i._updateInput(t)},i._undoEdit=function(){var t=i._history,e=t.stack,n=t.offset,r=e[n-1];r&&(i._updateInput(r),i._history.offset=Math.max(n-1,0))},i._redoEdit=function(){var t=i._history,e=t.stack,n=t.offset,r=e[n+1];r&&(i._updateInput(r),i._history.offset=Math.min(n+1,e.length-1))},i._handleKeyDown=function(t){var e=i.props,n=e.tabSize,r=e.insertSpaces,o=e.ignoreTabKey,a=e.onKeyDown;if(!a||(a(t),!t.defaultPrevented)){var s=t.target,l=s.value,u=s.selectionStart,c=s.selectionEnd,x=(r?" ":"\t").repeat(n);if(t.keyCode===f&&!o&&i.state.capture)if(t.preventDefault(),t.shiftKey){var T=i._getLines(l,u),E=T.length-1,k=i._getLines(l,c).length-1,C=l.split("\n").map((function(t,e){return e>=E&&e<=k&&t.startsWith(x)?t.substring(x.length):t})).join("\n");if(l!==C){var A=T[E];i._applyEdits({value:C,selectionStart:A.startsWith(x)?u-x.length:u,selectionEnd:c-(l.length-C.length)})}}else if(u!==c){var O=i._getLines(l,u),P=O.length-1,M=i._getLines(l,c).length-1,I=O[P];i._applyEdits({value:l.split("\n").map((function(t,e){return e>=P&&e<=M?x+t:t})).join("\n"),selectionStart:/\S/.test(I)?u+x.length:u,selectionEnd:c+x.length*(M-P+1)})}else{var R=u+x.length;i._applyEdits({value:l.substring(0,u)+x+l.substring(c),selectionStart:R,selectionEnd:R})}else if(t.keyCode===d){var L=u!==c;if(l.substring(0,u).endsWith(x)&&!L){t.preventDefault();var D=u-x.length;i._applyEdits({value:l.substring(0,u-x.length)+l.substring(c),selectionStart:D,selectionEnd:D})}}else if(t.keyCode===h){if(u===c){var N=i._getLines(l,u).pop().match(/^\s+/);if(N&&N[0]){t.preventDefault();var j="\n"+N[0],B=u+j.length;i._applyEdits({value:l.substring(0,u)+j+l.substring(c),selectionStart:B,selectionEnd:B})}}}else if(t.keyCode===g||t.keyCode===y||t.keyCode===b||t.keyCode===_){var F=void 0;t.keyCode===g&&t.shiftKey?F=["(",")"]:t.keyCode===y?F=t.shiftKey?["{","}"]:["[","]"]:t.keyCode===b?F=t.shiftKey?['"','"']:["'","'"]:t.keyCode===_&&!t.shiftKey&&(F=["`","`"]),u!==c&&F&&(t.preventDefault(),i._applyEdits({value:l.substring(0,u)+F[0]+l.substring(u,c)+F[1]+l.substring(c),selectionStart:u,selectionEnd:c+2}))}else!(S?t.metaKey&&t.keyCode===m:t.ctrlKey&&t.keyCode===m)||t.shiftKey||t.altKey?(S?t.metaKey&&t.keyCode===m&&t.shiftKey:w?t.ctrlKey&&t.keyCode===p:t.ctrlKey&&t.keyCode===m&&t.shiftKey)&&!t.altKey?(t.preventDefault(),i._redoEdit()):t.keyCode===v&&t.ctrlKey&&(!S||t.shiftKey)&&(t.preventDefault(),i.setState((function(t){return{capture:!t.capture}}))):(t.preventDefault(),i._undoEdit())}},i._handleChange=function(t){var e=t.target,n=e.value,r=e.selectionStart,o=e.selectionEnd;i._recordChange({value:n,selectionStart:r,selectionEnd:o},!0),i.props.onValueChange(n)},i._history={stack:[],offset:-1},u(i,n)}return c(e,t),i(e,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var t=this,e=this.props,n=e.value,i=e.style,a=e.padding,l=e.highlight,u=e.textareaId,c=e.autoFocus,h=e.disabled,f=e.form,d=e.maxLength,p=e.minLength,m=e.name,v=e.placeholder,g=e.readOnly,y=e.required,b=e.onClick,_=e.onFocus,x=e.onBlur,T=e.onKeyUp;e.onKeyDown,e.onValueChange,e.tabSize,e.insertSpaces,e.ignoreTabKey;var w=s(e,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"]),S={paddingTop:a,paddingRight:a,paddingBottom:a,paddingLeft:a},C=l(n);return o.createElement("div",r({},w,{style:r({},A.container,i)}),o.createElement("textarea",{ref:function(e){return t._input=e},style:r({},A.editor,A.textarea,S),className:E,id:u,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:b,onKeyUp:T,onFocus:_,onBlur:x,disabled:h,form:f,maxLength:d,minLength:p,name:m,placeholder:v,readOnly:g,required:y,autoFocus:c,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),o.createElement("pre",r({"aria-hidden":"true",style:r({},A.editor,A.highlight,S)},"string"==typeof C?{dangerouslySetInnerHTML:{__html:C+"<br />"}}:{children:C})),o.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:k}}))}},{key:"session",get:function(){return{history:this._history}},set:function(t){this._history=t.history}}]),e}(o.Component);C.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},e.default=C;var A={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}).call(this,n(27))},function(t,e,n){(function(e){var n=function(t){var e=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function(t){return t instanceof i?new i(t.type,r.util.encode(t.content),t.alias):Array.isArray(t)?t.map(r.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++n}),t.__id},clone:function t(e,n){var i,o,a=r.util.type(e);switch(n=n||{},a){case"Object":if(o=r.util.objId(e),n[o])return n[o];for(var s in i={},n[o]=i,e)e.hasOwnProperty(s)&&(i[s]=t(e[s],n));return i;case"Array":return o=r.util.objId(e),n[o]?n[o]:(i=[],n[o]=i,e.forEach((function(e,r){i[r]=t(e,n)})),i);default:return e}}},languages:{extend:function(t,e){var n=r.util.clone(r.languages[t]);for(var i in e)n[i]=e[i];return n},insertBefore:function(t,e,n,i){var o=(i=i||r.languages)[t],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==e)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=o[s])}var u=i[t];return i[t]=a,r.languages.DFS(r.languages,(function(e,n){n===u&&e!=t&&(this[e]=a)})),a},DFS:function t(e,n,i,o){o=o||{};var a=r.util.objId;for(var s in e)if(e.hasOwnProperty(s)){n.call(e,s,e[s],i||s);var l=e[s],u=r.util.type(l);"Object"!==u||o[a(l)]?"Array"===u&&!o[a(l)]&&(o[a(l)]=!0,t(l,n,s,o)):(o[a(l)]=!0,t(l,n,null,o))}}},plugins:{},highlightAll:function(t,e){r.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",i);for(var o,a=i.elements||t.querySelectorAll(i.selector),s=0;o=a[s++];)r.highlightElement(o,!0===e,i.callback)},highlightElement:function(n,i,o){for(var a,s,l=n;l&&!e.test(l.className);)l=l.parentNode;l&&(a=(l.className.match(e)||[,""])[1].toLowerCase(),s=r.languages[a]),n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,n.parentNode&&(l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+a));var u={element:n,language:a,grammar:s,code:n.textContent},c=function(t){u.highlightedCode=t,r.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r.hooks.run("after-highlight",u),r.hooks.run("complete",u),o&&o.call(u.element)};if(r.hooks.run("before-sanity-check",u),u.code)if(r.hooks.run("before-highlight",u),u.grammar)if(i&&t.Worker){var h=new Worker(r.filename);h.onmessage=function(t){c(t.data)},h.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else c(r.highlight(u.code,u.grammar,u.language));else c(r.util.encode(u.code));else r.hooks.run("complete",u)},highlight:function(t,e,n){var o={code:t,grammar:e,language:n};return r.hooks.run("before-tokenize",o),o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),i.stringify(r.util.encode(o.tokens),o.language)},matchGrammar:function(t,e,n,o,a,s,l){for(var u in n)if(n.hasOwnProperty(u)&&n[u]){if(u==l)return;var c=n[u];c="Array"===r.util.type(c)?c:[c];for(var h=0;h<c.length;++h){var f=c[h],d=f.inside,p=!!f.lookbehind,m=!!f.greedy,v=0,g=f.alias;if(m&&!f.pattern.global){var y=f.pattern.toString().match(/[imuy]*$/)[0];f.pattern=RegExp(f.pattern.source,y+"g")}f=f.pattern||f;for(var b=o,_=a;b<e.length;_+=e[b].length,++b){var x=e[b];if(e.length>t.length)return;if(!(x instanceof i)){if(m&&b!=e.length-1){if(f.lastIndex=_,!(C=f.exec(t)))break;for(var T=C.index+(p?C[1].length:0),w=C.index+C[0].length,S=b,E=_,k=e.length;S<k&&(E<w||!e[S].type&&!e[S-1].greedy);++S)T>=(E+=e[S].length)&&(++b,_=E);if(e[b]instanceof i)continue;A=S-b,x=t.slice(_,E),C.index-=_}else{f.lastIndex=0;var C=f.exec(x),A=1}if(!C){if(s)break;continue}p&&(v=C[1]?C[1].length:0),w=(T=C.index+v)+(C=C[0].slice(v)).length;var O=x.slice(0,T),P=x.slice(w),M=[b,A];O&&(++b,_+=O.length,M.push(O));var I=new i(u,d?r.tokenize(C,d):C,g,C,m);if(M.push(I),P&&M.push(P),Array.prototype.splice.apply(e,M),1!=A&&r.matchGrammar(t,e,n,b,_,!0,u),s)break}}}}},tokenize:function(t,e){var n=[t],i=e.rest;if(i){for(var o in i)e[o]=i[o];delete e.rest}return r.matchGrammar(t,n,e,0,0,!1),n},hooks:{all:{},add:function(t,e){var n=r.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=r.hooks.all[t];if(n&&n.length)for(var i,o=0;i=n[o++];)i(e)}},Token:i};function i(t,e,n,r,i){this.type=t,this.content=e,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i}if(t.Prism=r,i.stringify=function(t,e,n){if("string"==typeof t)return t;if(Array.isArray(t))return t.map((function(n){return i.stringify(n,e,t)})).join("");var o={type:t.type,content:i.stringify(t.content,e,n),tag:"span",classes:["token",t.type],attributes:{},language:e,parent:n};if(t.alias){var a=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(o.classes,a)}r.hooks.run("wrap",o);var s=Object.keys(o.attributes).map((function(t){return t+'="'+(o.attributes[t]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+(s?" "+s:"")+">"+o.content+"</"+o.tag+">"},!t.document)return t.addEventListener&&(r.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var n=JSON.parse(e.data),i=n.language,o=n.code,a=n.immediateClose;t.postMessage(r.highlight(o,r.languages[i],i)),a&&t.close()}),!1)),r;var o=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return o&&(r.filename=o.src,!r.manual&&!o.hasAttribute("data-manual")&&("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});t.exports&&(t.exports=n),typeof e<"u"&&(e.Prism=n)}).call(this,n(27))},function(t,e){Prism.languages.json={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},number:/-?\d+\.?\d*(e[+-]?\d+)?/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}}},function(t,e,n){var r=n(268),i=n(117),o=n(270),a=n(399),s=n(400),l=i.ucs2length,u=n(269),c=o.Validation;function h(t,e,n,p){var _=this,x=this._opts,T=[void 0],w={},S=[],E={},k=[],C={},A=[];e=e||{schema:t,refVal:T,refs:w};var O=f.call(this,t,e,p),P=this._compilations[O.index];if(O.compiling)return P.callValidate=D;var M=this._formats,I=this.RULES;try{var R=N(t,e,n,p);P.validate=R;var L=P.callValidate;return L&&(L.schema=R.schema,L.errors=null,L.refs=R.refs,L.refVal=R.refVal,L.root=R.root,L.$async=R.$async,x.sourceCode&&(L.source=R.source)),R}finally{d.call(this,t,e,p)}function D(){var t=P.validate,e=t.apply(this,arguments);return D.errors=t.errors,e}function N(t,n,a,f){var d=!n||n&&n.schema==t;if(n.schema!=e.schema)return h.call(_,t,n,a,f);var p,E=!0===t.$async,C=s({isTop:!0,schema:t,isRoot:d,baseId:f,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:I,validate:s,util:i,resolve:r,resolveRef:j,usePattern:U,useDefault:V,useCustomRule:G,opts:x,formats:M,logger:_.logger,self:_});C=b(T,g)+b(S,m)+b(k,v)+b(A,y)+C,x.processCode&&(C=x.processCode(C));try{p=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",C)(_,I,M,e,T,k,A,u,l,c),T[0]=p}catch(O){throw _.logger.error("Error compiling schema, function code:",C),O}return p.schema=t,p.errors=null,p.refs=w,p.refVal=T,p.root=d?p:n,E&&(p.$async=!0),!0===x.sourceCode&&(p.source={code:C,patterns:S,defaults:k}),p}function j(t,i,o){i=r.url(t,i);var a,s,l=w[i];if(void 0!==l)return z(a=T[l],s="refVal["+l+"]");if(!o&&e.refs){var u=e.refs[i];if(void 0!==u)return z(a=e.refVal[u],s=B(i,a))}s=B(i);var c=r.call(_,N,e,i);if(void 0===c){var f=n&&n[i];f&&(c=r.inlineRef(f,x.inlineRefs)?f:h.call(_,f,e,n,t))}if(void 0!==c)return H(i,c),z(c,s);F(i)}function B(t,e){var n=T.length;return T[n]=e,w[t]=n,"refVal"+n}function F(t){delete w[t]}function H(t,e){var n=w[t];T[n]=e}function z(t,e){return"object"==typeof t||"boolean"==typeof t?{code:e,schema:t,inline:!0}:{code:e,$async:t&&!!t.$async}}function U(t){var e=E[t];return void 0===e&&(e=E[t]=S.length,S[e]=t),"pattern"+e}function V(t){switch(typeof t){case"boolean":case"number":return""+t;case"string":return i.toQuotedString(t);case"object":if(null===t)return"null";var e=a(t),n=C[e];return void 0===n&&(n=C[e]=k.length,k[n]=t),"default"+n}}function G(t,e,n,r){if(!1!==_._opts.validateSchema){var i=t.definition.dependencies;if(i&&!i.every((function(t){return Object.prototype.hasOwnProperty.call(n,t)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=t.definition.validateSchema;if(o&&!o(e)){var a="keyword schema is invalid: "+_.errorsText(o.errors);if("log"!=_._opts.validateSchema)throw new Error(a);_.logger.error(a)}}var s,l=t.definition.compile,u=t.definition.inline,c=t.definition.macro;if(l)s=l.call(_,e,n,r);else if(c)s=c.call(_,e,n,r),!1!==x.validateSchema&&_.validateSchema(s,!0);else if(u)s=u.call(_,r,t.keyword,e,n);else if(!(s=t.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+t.keyword+'"failed to compile');var h=A.length;return A[h]=s,{code:"customRule"+h,validate:s}}}function f(t,e,n){var r=p.call(this,t,e,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:t,root:e,baseId:n},{index:r,compiling:!1})}function d(t,e,n){var r=p.call(this,t,e,n);r>=0&&this._compilations.splice(r,1)}function p(t,e,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==t&&i.root==e&&i.baseId==n)return r}return-1}function m(t,e){return"var pattern"+t+" = new RegExp("+i.toQuotedString(e[t])+");"}function v(t){return"var default"+t+" = defaults["+t+"];"}function g(t,e){return void 0===e[t]?"":"var refVal"+t+" = refVal["+t+"];"}function y(t){return"var customRule"+t+" = customRules["+t+"];"}function b(t,e){if(!t.length)return"";for(var n="",r=0;r<t.length;r++)n+=e(r,t);return n}t.exports=h},function(t,e,n){var r;r=function(t){function e(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length>1){e[0]=e[0].slice(0,-1);for(var r=e.length-1,i=1;i<r;++i)e[i]=e[i].slice(1,-1);return e[r]=e[r].slice(1),e.join("")}return e[0]}function n(t){return"(?:"+t+")"}function r(t){return void 0===t?"undefined":null===t?"null":Object.prototype.toString.call(t).split(" ").pop().split("]").shift().toLowerCase()}function i(t){return t.toUpperCase()}function o(t){return null!=t?t instanceof Array?t:"number"!=typeof t.length||t.split||t.setInterval||t.call?[t]:Array.prototype.slice.call(t):[]}function a(t,e){var n=t;if(e)for(var r in e)n[r]=e[r];return n}function s(t){var r="[A-Za-z]",i="[0-9]",o=e(i,"[A-Fa-f]"),a=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=e("[\\:\\/\\?\\#\\[\\]\\@]",s),u=t?"[\\uE000-\\uF8FF]":"[]",c=e(r,i,"[\\-\\.\\_\\~]",t?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n(r+e(r,i,"[\\+\\-\\.]")+"*"),n(n(a+"|"+e(c,s,"[\\:]"))+"*");var h=n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("0?[1-9]"+i)+"|0?0?"+i),f=n(h+"\\."+h+"\\."+h+"\\."+h),d=n(o+"{1,4}"),p=n(n(d+"\\:"+d)+"|"+f),m=n(n(d+"\\:")+"{6}"+p),v=n("\\:\\:"+n(d+"\\:")+"{5}"+p),g=n(n(d)+"?\\:\\:"+n(d+"\\:")+"{4}"+p),y=n(n(n(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+n(d+"\\:")+"{3}"+p),b=n(n(n(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+n(d+"\\:")+"{2}"+p),_=n(n(n(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+p),x=n(n(n(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+p),T=n(n(n(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),w=n(n(n(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),S=n([m,v,g,y,b,_,x,T,w].join("|")),E=n(n(c+"|"+a)+"+");n("[vV]"+o+"+\\."+e(c,s,"[\\:]")+"+"),n(n(a+"|"+e(c,s))+"*");var k=n(a+"|"+e(c,s,"[\\:\\@]"));return n(n(a+"|"+e(c,s,"[\\@]"))+"+"),n(n(k+"|"+e("[\\/\\?]",u))+"*"),{NOT_SCHEME:new RegExp(e("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",c,s),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",c,s),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",c,s),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",c,s),"g"),NOT_QUERY:new RegExp(e("[^\\%]",c,s,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",c,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",c,s),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",c,l),"g"),PCT_ENCODED:new RegExp(a,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+S+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+E+")")+"?\\]?$")}}var l=s(!1),u=s(!0),c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},f=2147483647,d=36,p=1,m=26,v=38,g=700,y=72,b=128,_="-",x=/^xn--/,T=/[^\0-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=d-p,k=Math.floor,C=String.fromCharCode;function A(t){throw new RangeError(S[t])}function O(t,e){for(var n=[],r=t.length;r--;)n[r]=e(t[r]);return n}function P(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+O((t=t.replace(w,".")).split("."),e).join(".")}function M(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}var I=function(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:d},R=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},L=function(t,e,n){var r=0;for(t=n?k(t/g):t>>1,t+=k(t/e);t>E*m>>1;r+=d)t=k(t/E);return k(r+(E+1)*t/(t+v))},D=function(t){var e=[],n=t.length,r=0,i=b,o=y,a=t.lastIndexOf(_);a<0&&(a=0);for(var s=0;s<a;++s)t.charCodeAt(s)>=128&&A("not-basic"),e.push(t.charCodeAt(s));for(var l=a>0?a+1:0;l<n;){for(var u=r,c=1,h=d;;h+=d){l>=n&&A("invalid-input");var v=I(t.charCodeAt(l++));(v>=d||v>k((f-r)/c))&&A("overflow"),r+=v*c;var g=h<=o?p:h>=o+m?m:h-o;if(v<g)break;var x=d-g;c>k(f/x)&&A("overflow"),c*=x}var T=e.length+1;o=L(r-u,T,0==u),k(r/T)>f-i&&A("overflow"),i+=k(r/T),r%=T,e.splice(r++,0,i)}return String.fromCodePoint.apply(String,e)},N=function(t){var e=[],n=(t=M(t)).length,r=b,i=0,o=y,a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;h<128&&e.push(C(h))}}catch(Y){s=!0,l=Y}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}var v=e.length,g=v;for(v&&e.push(_);g<n;){var x=f,T=!0,w=!1,S=void 0;try{for(var E,O=t[Symbol.iterator]();!(T=(E=O.next()).done);T=!0){var P=E.value;P>=r&&P<x&&(x=P)}}catch(Y){w=!0,S=Y}finally{try{!T&&O.return&&O.return()}finally{if(w)throw S}}var I=g+1;x-r>k((f-i)/I)&&A("overflow"),i+=(x-r)*I,r=x;var D=!0,N=!1,j=void 0;try{for(var B,F=t[Symbol.iterator]();!(D=(B=F.next()).done);D=!0){var H=B.value;if(H<r&&++i>f&&A("overflow"),H==r){for(var z=i,U=d;;U+=d){var V=U<=o?p:U>=o+m?m:U-o;if(z<V)break;var G=z-V,X=d-V;e.push(C(R(V+G%X,0))),z=k(G/X)}e.push(C(R(z,0))),o=L(i,I,g==v),i=0,++g}}}catch(Y){N=!0,j=Y}finally{try{!D&&F.return&&F.return()}finally{if(N)throw j}}++i,++r}return e.join("")},j=function(t){return P(t,(function(t){return x.test(t)?D(t.slice(4).toLowerCase()):t}))},B=function(t){return P(t,(function(t){return T.test(t)?"xn--"+N(t):t}))},F={version:"2.1.0",ucs2:{decode:M,encode:function(t){return String.fromCodePoint.apply(String,h(t))}},decode:D,encode:N,toASCII:B,toUnicode:j},H={};function z(t){var e=t.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function U(t){for(var e="",n=0,r=t.length;n<r;){var i=parseInt(t.substr(n+1,2),16);if(i<128)e+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(t.substr(n+4,2),16);e+=String.fromCharCode((31&i)<<6|63&o)}else e+=t.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var a=parseInt(t.substr(n+4,2),16),s=parseInt(t.substr(n+7,2),16);e+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else e+=t.substr(n,9);n+=9}else e+=t.substr(n,3),n+=3}return e}function V(t,e){function n(t){var n=U(t);return n.match(e.UNRESERVED)?n:t}return t.scheme&&(t.scheme=String(t.scheme).replace(e.PCT_ENCODED,n).toLowerCase().replace(e.NOT_SCHEME,"")),void 0!==t.userinfo&&(t.userinfo=String(t.userinfo).replace(e.PCT_ENCODED,n).replace(e.NOT_USERINFO,z).replace(e.PCT_ENCODED,i)),void 0!==t.host&&(t.host=String(t.host).replace(e.PCT_ENCODED,n).toLowerCase().replace(e.NOT_HOST,z).replace(e.PCT_ENCODED,i)),void 0!==t.path&&(t.path=String(t.path).replace(e.PCT_ENCODED,n).replace(t.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,z).replace(e.PCT_ENCODED,i)),void 0!==t.query&&(t.query=String(t.query).replace(e.PCT_ENCODED,n).replace(e.NOT_QUERY,z).replace(e.PCT_ENCODED,i)),void 0!==t.fragment&&(t.fragment=String(t.fragment).replace(e.PCT_ENCODED,n).replace(e.NOT_FRAGMENT,z).replace(e.PCT_ENCODED,i)),t}function G(t){return t.replace(/^0*(.*)/,"$1")||"0"}function X(t,e){var n=t.match(e.IPV4ADDRESS)||[],r=c(n,2)[1];return r?r.split(".").map(G).join("."):t}function Y(t,e){var n=t.match(e.IPV6ADDRESS)||[],r=c(n,3),i=r[1],o=r[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=c(a,2),l=s[0],u=s[1],h=u?u.split(":").map(G):[],f=l.split(":").map(G),d=e.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,m=f.length-p,v=Array(p),g=0;g<p;++g)v[g]=h[g]||f[m+g]||"";d&&(v[p-1]=X(v[p-1],e));var y=v.reduce((function(t,e,n){if(!e||"0"===e){var r=t[t.length-1];r&&r.index+r.length===n?r.length++:t.push({index:n,length:1})}return t}),[]).sort((function(t,e){return e.length-t.length}))[0],b=void 0;if(y&&y.length>1){var _=v.slice(0,y.index),x=v.slice(y.index+y.length);b=_.join(":")+"::"+x.join(":")}else b=v.join(":");return o&&(b+="%"+o),b}return t}var W=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,q=void 0==="".match(/(){0}/)[1];function K(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==e.iri?u:l;"suffix"===e.reference&&(t=(e.scheme?e.scheme+":":"")+"//"+t);var i=t.match(W);if(i){q?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==t.indexOf("@")?i[3]:void 0,n.host=-1!==t.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==t.indexOf("?")?i[7]:void 0,n.fragment=-1!==t.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=t.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=Y(X(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",e.reference&&"suffix"!==e.reference&&e.reference!==n.reference&&(n.error=n.error||"URI is not a "+e.reference+" reference.");var o=H[(e.scheme||n.scheme||"").toLowerCase()];if(e.unicodeSupport||o&&o.unicodeSupport)V(n,r);else{if(n.host&&(e.domainHost||o&&o.domainHost))try{n.host=F.toASCII(n.host.replace(r.PCT_ENCODED,U).toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+a}V(n,l)}o&&o.parse&&o.parse(n,e)}else n.error=n.error||"URI can not be parsed.";return n}function $(t,e){var n=!1!==e.iri?u:l,r=[];return void 0!==t.userinfo&&(r.push(t.userinfo),r.push("@")),void 0!==t.host&&r.push(Y(X(String(t.host),n),n).replace(n.IPV6ADDRESS,(function(t,e,n){return"["+e+(n?"%25"+n:"")+"]"}))),"number"==typeof t.port&&(r.push(":"),r.push(t.port.toString(10))),r.length?r.join(""):void 0}var Z=/^\.\.?\//,Q=/^\/\.(\/|$)/,J=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function et(t){for(var e=[];t.length;)if(t.match(Z))t=t.replace(Z,"");else if(t.match(Q))t=t.replace(Q,"/");else if(t.match(J))t=t.replace(J,"/"),e.pop();else if("."===t||".."===t)t="";else{var n=t.match(tt);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];t=t.slice(r.length),e.push(r)}return e.join("")}function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.iri?u:l,r=[],i=H[(e.scheme||t.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(t,e),t.host&&!n.IPV6ADDRESS.test(t.host)&&(e.domainHost||i&&i.domainHost))try{t.host=e.iri?F.toUnicode(t.host):F.toASCII(t.host.replace(n.PCT_ENCODED,U).toLowerCase())}catch(s){t.error=t.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+s}V(t,n),"suffix"!==e.reference&&t.scheme&&(r.push(t.scheme),r.push(":"));var o=$(t,e);if(void 0!==o&&("suffix"!==e.reference&&r.push("//"),r.push(o),t.path&&"/"!==t.path.charAt(0)&&r.push("/")),void 0!==t.path){var a=t.path;!e.absolutePath&&(!i||!i.absolutePath)&&(a=et(a)),void 0===o&&(a=a.replace(/^\/\//,"/%2F")),r.push(a)}return void 0!==t.query&&(r.push("?"),r.push(t.query)),void 0!==t.fragment&&(r.push("#"),r.push(t.fragment)),r.join("")}function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(t=K(nt(t,n),n),e=K(nt(e,n),n)),!(n=n||{}).tolerant&&e.scheme?(r.scheme=e.scheme,r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=et(e.path||""),r.query=e.query):(void 0!==e.userinfo||void 0!==e.host||void 0!==e.port?(r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=et(e.path||""),r.query=e.query):(e.path?("/"===e.path.charAt(0)?r.path=et(e.path):(void 0===t.userinfo&&void 0===t.host&&void 0===t.port||t.path?t.path?r.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:r.path=e.path:r.path="/"+e.path,r.path=et(r.path)),r.query=e.query):(r.path=t.path,void 0!==e.query?r.query=e.query:r.query=t.query),r.userinfo=t.userinfo,r.host=t.host,r.port=t.port),r.scheme=t.scheme),r.fragment=e.fragment,r}function it(t,e,n){var r=a({scheme:"null"},n);return nt(rt(K(t,r),K(e,r),r,!0),r)}function ot(t,e){return"string"==typeof t?t=nt(K(t,e),e):"object"===r(t)&&(t=K(nt(t,e),e)),t}function at(t,e,n){return"string"==typeof t?t=nt(K(t,n),n):"object"===r(t)&&(t=nt(t,n)),"string"==typeof e?e=nt(K(e,n),n):"object"===r(e)&&(e=nt(e,n)),t===e}function st(t,e){return t&&t.toString().replace(e&&e.iri?u.ESCAPE:l.ESCAPE,z)}function lt(t,e){return t&&t.toString().replace(e&&e.iri?u.PCT_ENCODED:l.PCT_ENCODED,U)}var ut={scheme:"http",domainHost:!0,parse:function(t,e){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t},serialize:function(t,e){return(t.port===("https"!==String(t.scheme).toLowerCase()?80:443)||""===t.port)&&(t.port=void 0),t.path||(t.path="/"),t}},ct={scheme:"https",domainHost:ut.domainHost,parse:ut.parse,serialize:ut.serialize},ht={},ft="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",dt="[0-9A-Fa-f]",pt=n(n("%[EFef]"+dt+"%"+dt+dt+"%"+dt+dt)+"|"+n("%[89A-Fa-f]"+dt+"%"+dt+dt)+"|"+n("%"+dt+dt)),mt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",vt=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),gt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",yt=new RegExp(ft,"g"),bt=new RegExp(pt,"g"),_t=new RegExp(e("[^]",mt,"[\\.]",'[\\"]',vt),"g"),xt=new RegExp(e("[^]",ft,gt),"g"),Tt=xt;function wt(t){var e=U(t);return e.match(yt)?e:t}var St={scheme:"mailto",parse:function(t,e){var n=t,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},a=n.query.split("&"),s=0,l=a.length;s<l;++s){var u=a[s].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),h=0,f=c.length;h<f;++h)r.push(c[h]);break;case"subject":n.subject=lt(u[1],e);break;case"body":n.body=lt(u[1],e);break;default:i=!0,o[lt(u[0],e)]=lt(u[1],e)}}i&&(n.headers=o)}n.query=void 0;for(var d=0,p=r.length;d<p;++d){var m=r[d].split("@");if(m[0]=lt(m[0]),e.unicodeSupport)m[1]=lt(m[1],e).toLowerCase();else try{m[1]=F.toASCII(lt(m[1],e).toLowerCase())}catch(v){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+v}r[d]=m.join("@")}return n},serialize:function(t,e){var n=t,r=o(t.to);if(r){for(var a=0,s=r.length;a<s;++a){var l=String(r[a]),u=l.lastIndexOf("@"),c=l.slice(0,u).replace(bt,wt).replace(bt,i).replace(_t,z),h=l.slice(u+1);try{h=e.iri?F.toUnicode(h):F.toASCII(lt(h,e).toLowerCase())}catch(m){n.error=n.error||"Email address's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+m}r[a]=c+"@"+h}n.path=r.join(",")}var f=t.headers=t.headers||{};t.subject&&(f.subject=t.subject),t.body&&(f.body=t.body);var d=[];for(var p in f)f[p]!==ht[p]&&d.push(p.replace(bt,wt).replace(bt,i).replace(xt,z)+"="+f[p].replace(bt,wt).replace(bt,i).replace(Tt,z));return d.length&&(n.query=d.join("&")),n}},Et=/^([^\:]+)\:(.*)/,kt={scheme:"urn",parse:function(t,e){var n=t.path&&t.path.match(Et),r=t;if(n){var i=e.scheme||r.scheme||"urn",o=n[1].toLowerCase(),a=n[2],s=i+":"+(e.nid||o),l=H[s];r.nid=o,r.nss=a,r.path=void 0,l&&(r=l.parse(r,e))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(t,e){var n=e.scheme||t.scheme||"urn",r=t.nid,i=n+":"+(e.nid||r),o=H[i];o&&(t=o.serialize(t,e));var a=t,s=t.nss;return a.path=(r||e.nid)+":"+s,a}},Ct=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,At={scheme:"urn:uuid",parse:function(t,e){var n=t;return n.uuid=n.nss,n.nss=void 0,!e.tolerant&&(!n.uuid||!n.uuid.match(Ct))&&(n.error=n.error||"UUID is not valid."),n},serialize:function(t,e){var n=t;return n.nss=(t.uuid||"").toLowerCase(),n}};H[ut.scheme]=ut,H[ct.scheme]=ct,H[St.scheme]=St,H[kt.scheme]=kt,H[At.scheme]=At,t.SCHEMES=H,t.pctEncChar=z,t.pctDecChars=U,t.parse=K,t.removeDotSegments=et,t.serialize=nt,t.resolveComponents=rt,t.resolve=it,t.normalize=ot,t.equal=at,t.escapeComponent=st,t.unescapeComponent=lt,Object.defineProperty(t,"__esModule",{value:!0})},r(e)},function(t,e,n){t.exports=function(t){for(var e,n=0,r=t.length,i=0;i<r;)n++,(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<r&&56320==(64512&(e=t.charCodeAt(i)))&&i++;return n}},function(t,e,n){var r=t.exports=function(t,e,n){"function"==typeof e&&(n=e,e={}),i(e,"function"==typeof(n=e.cb||n)?n:n.pre||function(){},n.post||function(){},t,"",t)};function i(t,e,n,a,s,l,u,c,h,f){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var d in e(a,s,l,u,c,h,f),a){var p=a[d];if(Array.isArray(p)){if(d in r.arrayKeywords)for(var m=0;m<p.length;m++)i(t,e,n,p[m],s+"/"+d+"/"+m,l,s,d,a,m)}else if(d in r.propsKeywords){if(p&&"object"==typeof p)for(var v in p)i(t,e,n,p[v],s+"/"+d+"/"+o(v),l,s,d,a,v)}else(d in r.keywords||t.allKeys&&!(d in r.skipKeywords))&&i(t,e,n,p,s+"/"+d,l,s,d,a)}n(a,s,l,u,c,h,f)}}function o(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(t,e,n){var r=t.exports=function(){this._cache={}};r.prototype.put=function(t,e){this._cache[t]=e},r.prototype.get=function(t){return this._cache[t]},r.prototype.del=function(t){delete this._cache[t]},r.prototype.clear=function(){this._cache={}}},function(t,e,n){var r=n(117),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,s=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,h=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,f=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,d=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,m=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function v(t){return t="full"==t?"full":"fast",r.copy(v[t])}function g(t){return t%4===0&&(t%100!==0||t%400===0)}function y(t){var e=t.match(i);if(!e)return!1;var n=+e[1],r=+e[2],a=+e[3];return r>=1&&r<=12&&a>=1&&a<=(2==r&&g(n)?29:o[r])}function b(t,e){var n=t.match(a);if(!n)return!1;var r=n[1],i=n[2],o=n[3],s=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!e||s)}t.exports=v,v.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:h,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:k,uuid:f,"json-pointer":d,"json-pointer-uri-fragment":p,"relative-json-pointer":m},v.full={date:y,time:b,"date-time":x,uri:S,"uri-reference":u,"uri-template":c,url:h,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:T,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:k,uuid:f,"json-pointer":d,"json-pointer-uri-fragment":p,"relative-json-pointer":m};var _=/t|\s/i;function x(t){var e=t.split(_);return 2==e.length&&y(e[0])&&b(e[1],!0)}function T(t){return t.length<=255&&s.test(t)}var w=/\/|:/;function S(t){return w.test(t)&&l.test(t)}var E=/[^\\]\\Z/;function k(t){if(E.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}},function(t,e,n){var r=n(697),i=n(117).toHash;t.exports=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],e=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],o=["number","integer","string","array","object","boolean","null"];return t.all=i(e),t.types=i(o),t.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){e.push(n),t.all[n]=!0}))}return e.push(n),t.all[n]={keyword:n,code:r[n],implements:i}})),t.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(t.types[n.type]=n)})),t.keywords=i(e.concat(n)),t.custom={},t}},function(t,e,n){t.exports={$ref:n(698),allOf:n(699),anyOf:n(700),$comment:n(701),const:n(702),contains:n(703),dependencies:n(704),enum:n(705),format:n(706),if:n(707),items:n(708),maximum:n(401),minimum:n(401),maxItems:n(402),minItems:n(402),maxLength:n(403),minLength:n(403),maxProperties:n(404),minProperties:n(404),multipleOf:n(709),not:n(710),oneOf:n(711),pattern:n(712),properties:n(713),propertyNames:n(714),required:n(715),uniqueItems:n(716),validate:n(400)}},function(t,e,n){t.exports=function(t,e,n){var r,i,o=" ",a=t.level,s=t.dataLevel,l=t.schema[e],u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(s||""),f="valid"+a;if("#"==l||"#/"==l)t.isRoot?(r=t.async,i="validate"):(r=!0===t.root.schema.$async,i="root.refVal[0]");else{var d=t.resolveRef(t.baseId,l,t.isRoot);if(void 0===d){var p=t.MissingRefError.message(t.baseId,l);if("fail"==t.opts.missingRefs){t.logger.error(p),(y=y||[]).push(o),o="",!1!==t.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { ref: '"+t.util.escapeQuotes(l)+"' } ",!1!==t.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(l)+"' "),t.opts.verbose&&(o+=" , schema: "+t.util.toQuotedString(l)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!t.compositeRule&&c?t.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(o+=" if (false) { ")}else{if("ignore"!=t.opts.missingRefs)throw new t.MissingRefError(t.baseId,l,p);t.logger.warn(p),c&&(o+=" if (true) { ")}}else if(d.inline){var v=t.util.copy(t);v.level++;var g="valid"+v.level;v.schema=d.schema,v.schemaPath="",v.errSchemaPath=l,o+=" "+t.validate(v).replace(/validate\.schema/g,d.code)+" ",c&&(o+=" if ("+g+") { ")}else r=!0===d.$async||t.async&&!1!==d.$async,i=d.code}if(i){var y;(y=y||[]).push(o),o="",t.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+h+", (dataPath || '')",'""'!=t.errorPath&&(o+=" + "+t.errorPath);var b=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?t.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),r){if(!t.async)throw new Error("async schema referenced by sync schema");c&&(o+=" var "+f+"; "),o+=" try { await "+b+"; ",c&&(o+=" "+f+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(o+=" "+f+" = false; "),o+=" } ",c&&(o+=" if ("+f+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(o+=" else { ")}return o}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.schema[e],o=t.schemaPath+t.util.getProperty(e),a=t.errSchemaPath+"/"+e,s=!t.opts.allErrors,l=t.util.copy(t),u="";l.level++;var c="valid"+l.level,h=l.baseId,f=!0,d=i;if(d)for(var p,m=-1,v=d.length-1;m<v;)p=d[m+=1],t.util.schemaHasRules(p,t.RULES.all)&&(f=!1,l.schema=p,l.schemaPath=o+"["+m+"]",l.errSchemaPath=a+"/"+m,r+="  "+t.validate(l)+" ",l.baseId=h,s&&(r+=" if ("+c+") { ",u+="}"));return s&&(r+=f?" if (true) { ":" "+u.slice(0,-1)+" "),r=t.util.cleanUpCode(r)}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level;if(a.every((function(e){return t.util.schemaHasRules(e,t.RULES.all)}))){var v=d.baseId;r+=" var "+f+" = errors; var "+h+" = false;  ";var g=t.compositeRule;t.compositeRule=d.compositeRule=!0;var y=a;if(y)for(var b,_=-1,x=y.length-1;_<x;)b=y[_+=1],d.schema=b,d.schemaPath=s+"["+_+"]",d.errSchemaPath=l+"/"+_,r+="  "+t.validate(d)+" ",d.baseId=v,r+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",p+="}";t.compositeRule=d.compositeRule=g,r+=" "+p+" if (!"+h+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } "),r=t.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.schema[e],o=t.errSchemaPath+"/"+e;t.opts.allErrors;var a=t.util.toQuotedString(i);return!0===t.opts.$comment?r+=" console.log("+a+");":"function"==typeof t.opts.$comment&&(r+=" self._opts.$comment("+a+", "+t.util.toQuotedString(o)+", validate.root.schema);"),r}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="valid"+i,f=t.opts.$data&&a&&a.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; "),f||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+h+" = equal("+c+", schema"+i+"); if (!"+h+") {   ";var d=d||[];d.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { allowedValue: schema"+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should be equal to constant' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;return r=d.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level,v="i"+i,g=d.dataLevel=t.dataLevel+1,y="data"+g,b=t.baseId,_=t.util.schemaHasRules(a,t.RULES.all);if(r+="var "+f+" = errors;var "+h+";",_){var x=t.compositeRule;t.compositeRule=d.compositeRule=!0,d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+m+" = false; for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0);var T=c+"["+v+"]";d.dataPathArr[g]=v;var w=t.validate(d);d.baseId=b,t.util.varOccurences(w,y)<2?r+=" "+t.util.varReplace(w,y,T)+" ":r+=" var "+y+" = "+T+"; "+w+" ",r+=" if ("+m+") break; }  ",t.compositeRule=d.compositeRule=x,r+=" "+p+" if (!"+m+") {"}else r+=" if ("+c+".length == 0) {";var S=S||[];S.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should contain a valid item' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var E=r;return r=S.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",_&&(r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),t.opts.allErrors&&(r+=" } "),r=t.util.cleanUpCode(r)}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=t.util.copy(t),d="";f.level++;var p="valid"+f.level,m={},v={},g=t.opts.ownProperties;for(x in a){var y=a[x],b=Array.isArray(y)?v:m;b[x]=y}r+="var "+h+" = errors;";var _=t.errorPath;for(var x in r+="var missing"+i+";",v)if((b=v[x]).length){if(r+=" if ( "+c+t.util.getProperty(x)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(x)+"') "),u){r+=" && ( ";var T=b;if(T)for(var w=-1,S=T.length-1;w<S;)P=T[w+=1],w&&(r+=" || "),r+=" ( ( "+(L=c+(R=t.util.getProperty(P)))+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(P)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?P:R)+") ) ";r+=")) {  ";var E="missing"+i,k="' + "+E+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(_,E,!0):_+" + "+E);var C=C||[];C.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { property: '"+t.util.escapeQuotes(x)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+t.util.escapeQuotes(b[0]):r+="properties "+t.util.escapeQuotes(b.join(", ")),r+=" when property "+t.util.escapeQuotes(x)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var A=r;r=C.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var O=b;if(O)for(var P,M=-1,I=O.length-1;M<I;){P=O[M+=1];var R=t.util.getProperty(P),L=(k=t.util.escapeQuotes(P),c+R);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(_,P,t.opts.jsonPointers)),r+=" if ( "+L+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(P)+"') "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { property: '"+t.util.escapeQuotes(x)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+t.util.escapeQuotes(b[0]):r+="properties "+t.util.escapeQuotes(b.join(", ")),r+=" when property "+t.util.escapeQuotes(x)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(d+="}",r+=" else { ")}t.errorPath=_;var D=f.baseId;for(var x in m)y=m[x],t.util.schemaHasRules(y,t.RULES.all)&&(r+=" "+p+" = true; if ( "+c+t.util.getProperty(x)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(x)+"') "),r+=") { ",f.schema=y,f.schemaPath=s+t.util.getProperty(x),f.errSchemaPath=l+"/"+t.util.escapeFragment(x),r+="  "+t.validate(f)+" ",f.baseId=D,r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}"));return u&&(r+="   "+d+" if ("+h+" == errors) {"),r=t.util.cleanUpCode(r)}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="valid"+i,f=t.opts.$data&&a&&a.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ");var d="i"+i,p="schema"+i;f||(r+=" var "+p+" = validate.schema"+s+";"),r+="var "+h+";",f&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=h+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+c+", "+p+"["+d+"])) { "+h+" = true; break; }",f&&(r+="  }  "),r+=" if (!"+h+") {   ";var m=m||[];m.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { allowedValues: schema"+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var v=r;return r=m.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||"");if(!1===t.opts.format)return u&&(r+=" if (true) { "),r;var h,f=t.opts.$data&&a&&a.$data;f?(r+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",h="schema"+i):h=a;var d=t.opts.unknownFormats,p=Array.isArray(d);if(f)r+=" var "+(m="format"+i)+" = formats["+h+"]; var "+(v="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+i)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",t.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",f&&(r+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),r+=" (","ignore"!=d&&(r+=" ("+h+" && !"+m+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),r+=") || "),r+=" ("+m+" && "+g+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",t.async?r+=" (async"+i+" ? await "+m+"("+c+") : "+m+"("+c+")) ":r+=" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {";else{var m;if(!(m=t.formats[a])){if("ignore"==d)return t.logger.warn('unknown format "'+a+'" ignored in schema at path "'+t.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(p&&d.indexOf(a)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+a+'" is used in schema at path "'+t.errSchemaPath+'"')}var v,g=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var y=!0===m.async;m=m.validate}if(g!=n)return u&&(r+=" if (true) { "),r;if(y){if(!t.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+t.util.getProperty(a)+".validate")+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+t.util.getProperty(a);v&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var _=_||[];_.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { format:  ",r+=f?""+h:""+t.util.toQuotedString(a),r+="  } ",!1!==t.opts.messages&&(r+=" , message: 'should match format \"",r+=f?"' + "+h+" + '":""+t.util.escapeQuotes(a),r+="\"' "),t.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+s:""+t.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var x=r;return r=_.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,m=t.schema.then,v=t.schema.else,g=void 0!==m&&t.util.schemaHasRules(m,t.RULES.all),y=void 0!==v&&t.util.schemaHasRules(v,t.RULES.all),b=d.baseId;if(g||y){var _;d.createErrors=!1,d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+f+" = errors; var "+h+" = true;  ";var x=t.compositeRule;t.compositeRule=d.compositeRule=!0,r+="  "+t.validate(d)+" ",d.baseId=b,d.createErrors=!0,r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",t.compositeRule=d.compositeRule=x,g?(r+=" if ("+p+") {  ",d.schema=t.schema.then,d.schemaPath=t.schemaPath+".then",d.errSchemaPath=t.errSchemaPath+"/then",r+="  "+t.validate(d)+" ",d.baseId=b,r+=" "+h+" = "+p+"; ",g&&y?r+=" var "+(_="ifClause"+i)+" = 'then'; ":_="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+p+") { ",y&&(d.schema=t.schema.else,d.schemaPath=t.schemaPath+".else",d.errSchemaPath=t.errSchemaPath+"/else",r+="  "+t.validate(d)+" ",d.baseId=b,r+=" "+h+" = "+p+"; ",g&&y?r+=" var "+(_="ifClause"+i)+" = 'else'; ":_="'else'",r+=" } "),r+=" if (!"+h+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { failingKeyword: "+_+" } ",!1!==t.opts.messages&&(r+=" , message: 'should match \"' + "+_+" + '\" schema' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { "),r=t.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level,v="i"+i,g=d.dataLevel=t.dataLevel+1,y="data"+g,b=t.baseId;if(r+="var "+f+" = errors;var "+h+";",Array.isArray(a)){var _=t.schema.additionalItems;if(!1===_){r+=" "+h+" = "+c+".length <= "+a.length+"; ";var x=l;l=t.errSchemaPath+"/additionalItems",r+="  if (!"+h+") {   ";var T=T||[];T.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { limit: "+a.length+" } ",!1!==t.opts.messages&&(r+=" , message: 'should NOT have more than "+a.length+" items' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var w=r;r=T.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=x,u&&(p+="}",r+=" else { ")}var S=a;if(S)for(var E,k=-1,C=S.length-1;k<C;)if(E=S[k+=1],t.util.schemaHasRules(E,t.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+k+") { ";var A=c+"["+k+"]";d.schema=E,d.schemaPath=s+"["+k+"]",d.errSchemaPath=l+"/"+k,d.errorPath=t.util.getPathExpr(t.errorPath,k,t.opts.jsonPointers,!0),d.dataPathArr[g]=k;var O=t.validate(d);d.baseId=b,t.util.varOccurences(O,y)<2?r+=" "+t.util.varReplace(O,y,A)+" ":r+=" var "+y+" = "+A+"; "+O+" ",r+=" }  ",u&&(r+=" if ("+m+") { ",p+="}")}"object"==typeof _&&t.util.schemaHasRules(_,t.RULES.all)&&(d.schema=_,d.schemaPath=t.schemaPath+".additionalItems",d.errSchemaPath=t.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+a.length+") {  for (var "+v+" = "+a.length+"; "+v+" < "+c+".length; "+v+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0),A=c+"["+v+"]",d.dataPathArr[g]=v,O=t.validate(d),d.baseId=b,t.util.varOccurences(O,y)<2?r+=" "+t.util.varReplace(O,y,A)+" ":r+=" var "+y+" = "+A+"; "+O+" ",u&&(r+=" if (!"+m+") break; "),r+=" } }  ",u&&(r+=" if ("+m+") { ",p+="}"))}else t.util.schemaHasRules(a,t.RULES.all)&&(d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+="  for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0),A=c+"["+v+"]",d.dataPathArr[g]=v,O=t.validate(d),d.baseId=b,t.util.varOccurences(O,y)<2?r+=" "+t.util.varReplace(O,y,A)+" ":r+=" var "+y+" = "+A+"; "+O+" ",u&&(r+=" if (!"+m+") break; "),r+=" }");return u&&(r+=" "+p+" if ("+f+" == errors) {"),r=t.util.cleanUpCode(r)}},function(t,e,n){t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],l=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(a||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s,i+="var division"+o+";if (",f&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+h+" / "+r+", ",t.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+t.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",f&&(i+="  )  "),i+=" ) {   ";var d=d||[];d.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { multipleOf: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be multiple of ",i+=f?"' + "+r:r+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=t.util.copy(t);f.level++;var d="valid"+f.level;if(t.util.schemaHasRules(a,t.RULES.all)){f.schema=a,f.schemaPath=s,f.errSchemaPath=l,r+=" var "+h+" = errors;  ";var p,m=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(p=f.opts.allErrors,f.opts.allErrors=!1),r+=" "+t.validate(f)+" ",f.createErrors=!0,p&&(f.opts.allErrors=p),t.compositeRule=f.compositeRule=m,r+=" if ("+d+") {   ";var v=v||[];v.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var g=r;r=v.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level,v=d.baseId,g="prevValid"+i,y="passingSchemas"+i;r+="var "+f+" = errors , "+g+" = false , "+h+" = false , "+y+" = null; ";var b=t.compositeRule;t.compositeRule=d.compositeRule=!0;var _=a;if(_)for(var x,T=-1,w=_.length-1;T<w;)x=_[T+=1],t.util.schemaHasRules(x,t.RULES.all)?(d.schema=x,d.schemaPath=s+"["+T+"]",d.errSchemaPath=l+"/"+T,r+="  "+t.validate(d)+" ",d.baseId=v):r+=" var "+m+" = true; ",T&&(r+=" if ("+m+" && "+g+") { "+h+" = false; "+y+" = ["+y+", "+T+"]; } else { ",p+="}"),r+=" if ("+m+") { "+h+" = "+g+" = true; "+y+" = "+T+"; }";return t.compositeRule=d.compositeRule=b,r+=p+"if (!"+h+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { passingSchemas: "+y+" } ",!1!==t.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",t.opts.allErrors&&(r+=" } "),r}},function(t,e,n){t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],l=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(a||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(f?"(new RegExp("+r+"))":t.usePattern(s))+".test("+h+") ) {   ";var d=d||[];d.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { pattern:  ",i+=f?""+r:""+t.util.toQuotedString(s),i+="  } ",!1!==t.opts.messages&&(i+=" , message: 'should match pattern \"",i+=f?"' + "+r+" + '":""+t.util.escapeQuotes(s),i+="\"' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+t.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=t.util.copy(t),d="";f.level++;var p="valid"+f.level,m="key"+i,v="idx"+i,g=f.dataLevel=t.dataLevel+1,y="data"+g,b="dataProperties"+i,_=Object.keys(a||{}),x=t.schema.patternProperties||{},T=Object.keys(x),w=t.schema.additionalProperties,S=_.length||T.length,E=!1===w,k="object"==typeof w&&Object.keys(w).length,C=t.opts.removeAdditional,A=E||k||C,O=t.opts.ownProperties,P=t.baseId,M=t.schema.required;if(M&&(!t.opts.$data||!M.$data)&&M.length<t.opts.loopRequired)var I=t.util.toHash(M);if(r+="var "+h+" = errors;var "+p+" = true;",O&&(r+=" var "+b+" = undefined;"),A){if(r+=O?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+c+") { ",S){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var R=_;if(R)for(var L=-1,D=R.length-1;L<D;)q=R[L+=1],r+=" || "+m+" == "+t.util.toQuotedString(q)+" "}if(T.length){var N=T;if(N)for(var j=-1,B=N.length-1;j<B;)it=N[j+=1],r+=" || "+t.usePattern(it)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==C)r+=" delete "+c+"["+m+"]; ";else{var F=t.errorPath,H="' + "+m+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers)),E)if(C)r+=" delete "+c+"["+m+"]; ";else{r+=" "+p+" = false; ";var z=l;l=t.errSchemaPath+"/additionalProperties",(et=et||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { additionalProperty: '"+H+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var U=r;r=et.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+U+"]); ":r+=" validate.errors = ["+U+"]; return false; ":r+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,u&&(r+=" break; ")}else if(k)if("failing"==C){r+=" var "+h+" = errors;  ";var V=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.schema=w,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers);var G=c+"["+m+"]";f.dataPathArr[g]=m;var X=t.validate(f);f.baseId=P,t.util.varOccurences(X,y)<2?r+=" "+t.util.varReplace(X,y,G)+" ":r+=" var "+y+" = "+G+"; "+X+" ",r+=" if (!"+p+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",t.compositeRule=f.compositeRule=V}else f.schema=w,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers),G=c+"["+m+"]",f.dataPathArr[g]=m,X=t.validate(f),f.baseId=P,t.util.varOccurences(X,y)<2?r+=" "+t.util.varReplace(X,y,G)+" ":r+=" var "+y+" = "+G+"; "+X+" ",u&&(r+=" if (!"+p+") break; ");t.errorPath=F}S&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}")}var Y=t.opts.useDefaults&&!t.compositeRule;if(_.length){var W=_;if(W)for(var q,K=-1,$=W.length-1;K<$;){var Z=a[q=W[K+=1]];if(t.util.schemaHasRules(Z,t.RULES.all)){var Q=t.util.getProperty(q),J=(G=c+Q,Y&&void 0!==Z.default);if(f.schema=Z,f.schemaPath=s+Q,f.errSchemaPath=l+"/"+t.util.escapeFragment(q),f.errorPath=t.util.getPath(t.errorPath,q,t.opts.jsonPointers),f.dataPathArr[g]=t.util.toQuotedString(q),X=t.validate(f),f.baseId=P,t.util.varOccurences(X,y)<2){X=t.util.varReplace(X,y,G);var tt=G}else tt=y,r+=" var "+y+" = "+G+"; ";if(J)r+=" "+X+" ";else{if(I&&I[q]){r+=" if ( "+tt+" === undefined ",O&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(q)+"') "),r+=") { "+p+" = false; ",F=t.errorPath,z=l;var et,nt=t.util.escapeQuotes(q);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(F,q,t.opts.jsonPointers)),l=t.errSchemaPath+"/required",(et=et||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+nt+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+nt+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",U=r,r=et.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+U+"]); ":r+=" validate.errors = ["+U+"]; return false; ":r+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,t.errorPath=F,r+=" } else { "}else u?(r+=" if ( "+tt+" === undefined ",O&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(q)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+tt+" !== undefined ",O&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(q)+"') "),r+=" ) { ");r+=" "+X+" } "}}u&&(r+=" if ("+p+") { ",d+="}")}}if(T.length){var rt=T;if(rt)for(var it,ot=-1,at=rt.length-1;ot<at;)Z=x[it=rt[ot+=1]],t.util.schemaHasRules(Z,t.RULES.all)&&(f.schema=Z,f.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(it),f.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(it),r+=O?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+c+") { ",r+=" if ("+t.usePattern(it)+".test("+m+")) { ",f.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers),G=c+"["+m+"]",f.dataPathArr[g]=m,X=t.validate(f),f.baseId=P,t.util.varOccurences(X,y)<2?r+=" "+t.util.varReplace(X,y,G)+" ":r+=" var "+y+" = "+G+"; "+X+" ",u&&(r+=" if (!"+p+") break; "),r+=" } ",u&&(r+=" else "+p+" = true; "),r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}"))}return u&&(r+=" "+d+" if ("+h+" == errors) {"),r=t.util.cleanUpCode(r)}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=t.util.copy(t),d="";f.level++;var p="valid"+f.level;if(r+="var "+h+" = errors;",t.util.schemaHasRules(a,t.RULES.all)){f.schema=a,f.schemaPath=s,f.errSchemaPath=l;var m="key"+i,v="idx"+i,g="i"+i,y="' + "+m+" + '",b="data"+(f.dataLevel=t.dataLevel+1),_="dataProperties"+i,x=t.opts.ownProperties,T=t.baseId;x&&(r+=" var "+_+" = undefined; "),r+=x?" "+_+" = "+_+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+_+".length; "+v+"++) { var "+m+" = "+_+"["+v+"]; ":" for (var "+m+" in "+c+") { ",r+=" var startErrs"+i+" = errors; ";var w=m,S=t.compositeRule;t.compositeRule=f.compositeRule=!0;var E=t.validate(f);f.baseId=T,t.util.varOccurences(E,b)<2?r+=" "+t.util.varReplace(E,b,w)+" ":r+=" var "+b+" = "+w+"; "+E+" ",t.compositeRule=f.compositeRule=S,r+=" if (!"+p+") { for (var "+g+"=startErrs"+i+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+m+"; }   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { propertyName: '"+y+"' } ",!1!==t.opts.messages&&(r+=" , message: 'property name \\'"+y+"\\' is invalid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+=" "+d+" if ("+h+" == errors) {"),r=t.util.cleanUpCode(r)}},function(t,e,n){t.exports=function(t,e,n){var r=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,u=!t.opts.allErrors,c="data"+(o||""),h="valid"+i,f=t.opts.$data&&a&&a.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ");var d="schema"+i;if(!f)if(a.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var p=[],m=a;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1];var b=t.schema.properties[v];b&&t.util.schemaHasRules(b,t.RULES.all)||(p[p.length]=v)}}else p=a;if(f||p.length){var _=t.errorPath,x=f||p.length>=t.opts.loopRequired,T=t.opts.ownProperties;if(u)if(r+=" var missing"+i+"; ",x){f||(r+=" var "+d+" = validate.schema"+s+"; ");var w="' + "+(O="schema"+i+"["+(C="i"+i)+"]")+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(_,O,t.opts.jsonPointers)),r+=" var "+h+" = true; ",f&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=" for (var "+C+" = 0; "+C+" < "+d+".length; "+C+"++) { "+h+" = "+c+"["+d+"["+C+"]] !== undefined ",T&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+d+"["+C+"]) "),r+="; if (!"+h+") break; } ",f&&(r+="  }  "),r+="  if (!"+h+") {   ",(E=E||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var S=r;r=E.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var E,k=p;if(k)for(var C=-1,A=k.length-1;C<A;)M=k[C+=1],C&&(r+=" || "),r+=" ( ( "+(D=c+(L=t.util.getProperty(M)))+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(M)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?M:L)+") ) ";r+=") {  ",w="' + "+(O="missing"+i)+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(_,O,!0):_+" + "+O),(E=E||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",S=r,r=E.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(x){var O;f||(r+=" var "+d+" = validate.schema"+s+"; "),w="' + "+(O="schema"+i+"["+(C="i"+i)+"]")+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(_,O,t.opts.jsonPointers)),f&&(r+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),r+=" for (var "+C+" = 0; "+C+" < "+d+".length; "+C+"++) { if ("+c+"["+d+"["+C+"]] === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+d+"["+C+"]) "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var P=p;if(P)for(var M,I=-1,R=P.length-1;I<R;){M=P[I+=1];var L=t.util.getProperty(M),D=(w=t.util.escapeQuotes(M),c+L);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(_,M,t.opts.jsonPointers)),r+=" if ( "+D+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(M)+"') "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==t.opts.messages&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=_}else u&&(r+=" if (true) {");return r}},function(t,e,n){t.exports=function(t,e,n){var r,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],l=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(a||""),f="valid"+o,d=t.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",r="schema"+o):r=s,(s||d)&&!1!==t.opts.uniqueItems){d&&(i+=" var "+f+"; if ("+r+" === false || "+r+" === undefined) "+f+" = true; else if (typeof "+r+" != 'boolean') "+f+" = false; else { "),i+=" var i = "+h+".length , "+f+" = true , j; if (i > 1) { ";var p=t.schema.items&&t.schema.items.type,m=Array.isArray(p);if(!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+f+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var v="checkDataType"+(m?"s":"");i+=" if ("+t.util[v](p,"item",!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",d&&(i+="  }  "),i+=" if (!"+f+") {   ";var g=g||[];g.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!t.compositeRule&&c?t.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(t,e,n){var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];t.exports=function(t,e){for(var n=0;n<e.length;n++){t=JSON.parse(JSON.stringify(t));var i,o=e[n].split("/"),a=t;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<r.length;i++){var s=r[i],l=a[s];l&&(a[s]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return t}},function(t,e,n){var r=n(270).MissingRef;function i(t,e,n){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof e&&(n=e,e=void 0);var a=s(t).then((function(){var n=o._addSchema(t,void 0,e);return n.validate||l(n)}));return n&&a.then((function(t){n(null,t)}),n),a;function s(t){var e=t.$schema;return e&&!o.getSchema(e)?i.call(o,{$ref:e},!0):Promise.resolve()}function l(t){try{return o._compile(t)}catch(i){if(i instanceof r)return n(i);throw i}function n(n){var r=n.missingSchema;if(u(r))throw new Error("Schema "+r+" is loaded but "+n.missingRef+" cannot be resolved");var i=o._loadingSchemas[r];return i||(i=o._loadingSchemas[r]=o._opts.loadSchema(r)).then(a,a),i.then((function(t){if(!u(r))return s(t).then((function(){u(r)||o.addSchema(t,r,void 0,e)}))})).then((function(){return l(t)}));function a(){delete o._loadingSchemas[r]}function u(t){return o._refs[t]||o._schemas[t]}}}}t.exports=i},function(t,e,n){var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(720),o=n(405);t.exports={add:s,get:l,remove:u,validate:c};var a={definitions:{simpleTypes:o.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:o.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}};function s(t,e){var n=this.RULES;if(n.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!r.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var o=e.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)l(t,o[a],e);else l(t,o,e);var s=e.metaSchema;s&&(e.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(s,!0))}function l(t,e,r){for(var o,a=0;a<n.length;a++){var s=n[a];if(s.type==e){o=s;break}}o||(o={type:e,rules:[]},n.push(o));var l={keyword:t,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(l),n.custom[t]=l}return n.keywords[t]=n.all[t]=!0,this}function l(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1}function u(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var n=0;n<e.length;n++)for(var r=e[n].rules,i=0;i<r.length;i++)if(r[i].keyword==t){r.splice(i,1);break}return this}function c(t,e){c.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(a,!0);if(n(t))return!0;if(c.errors=n.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}},function(t,e,n){t.exports=function(t,e,n){var r,i,o=" ",a=t.level,s=t.dataLevel,l=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,f="data"+(s||""),d="valid"+a,p="errs__"+a,m=t.opts.$data&&l&&l.$data;m?(o+=" var schema"+a+" = "+t.util.getData(l.$data,s,t.dataPathArr)+"; ",i="schema"+a):i=l;var v,g,y,b,_,x=this,T="definition"+a,w=x.definition,S="";if(m&&w.$data){_="keywordValidate"+a;var E=w.validateSchema;o+=" var "+T+" = RULES.custom['"+e+"'].definition; var "+_+" = "+T+".validate;"}else{if(!(b=t.useCustomRule(x,l,t.schema,t)))return;i="validate.schema"+u,_=b.code,v=w.compile,g=w.inline,y=w.macro}var k=_+".errors",C="i"+a,A="ruleErr"+a,O=w.async;if(O&&!t.async)throw new Error("async keyword in sync schema");if(g||y||(o+=k+" = null;"),o+="var "+p+" = errors;var "+d+";",m&&w.$data&&(S+="}",o+=" if ("+i+" === undefined) { "+d+" = true; } else { ",E&&(S+="}",o+=" "+d+" = "+T+".validateSchema("+i+"); if ("+d+") { ")),g)w.statements?o+=" "+b.validate+" ":o+=" "+d+" = "+b.validate+"; ";else if(y){var P=t.util.copy(t);S="",P.level++;var M="valid"+P.level;P.schema=b.validate,P.schemaPath="";var I=t.compositeRule;t.compositeRule=P.compositeRule=!0;var R=t.validate(P).replace(/validate\.schema/g,_);t.compositeRule=P.compositeRule=I,o+=" "+R}else{(j=j||[]).push(o),o="",o+="  "+_+".call( ",t.opts.passContext?o+="this":o+="self",v||!1===w.schema?o+=" , "+f+" ":o+=" , "+i+" , "+f+" , validate.schema"+t.schemaPath+" ",o+=" , (dataPath || '')",'""'!=t.errorPath&&(o+=" + "+t.errorPath);var L=s?"data"+(s-1||""):"parentData",D=s?t.dataPathArr[s]:"parentDataProperty",N=o+=" , "+L+" , "+D+" , rootData )  ";o=j.pop(),!1===w.errors?(o+=" "+d+" = ",O&&(o+="await "),o+=N+"; "):o+=O?" var "+(k="customErrors"+a)+" = null; try { "+d+" = await "+N+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } ":" "+k+" = null; "+d+" = "+N+"; "}if(w.modifying&&(o+=" if ("+L+") "+f+" = "+L+"["+D+"];"),o+=""+S,w.valid)h&&(o+=" if (true) { ");else{var j;o+=" if ( ",void 0===w.valid?(o+=" !",o+=y?""+M:""+d):o+=" "+!w.valid+" ",o+=") { ",r=x.keyword,(j=j||[]).push(o),o="",(j=j||[]).push(o),o="",!1!==t.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+x.keyword+"' } ",!1!==t.opts.messages&&(o+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),t.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var B=o;o=j.pop(),!t.compositeRule&&h?t.async?o+=" throw new ValidationError(["+B+"]); ":o+=" validate.errors = ["+B+"]; return false; ":o+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var F=o;o=j.pop(),g?w.errors?"full"!=w.errors&&(o+="  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+f+"; "),o+=" } "):!1===w.errors?o+=" "+F+" ":(o+=" if ("+p+" == errors) { "+F+" } else {  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+f+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==t.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+x.keyword+"' } ",!1!==t.opts.messages&&(o+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),t.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&h&&(t.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===w.errors?o+=" "+F+" ":(o+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+t.errorPath+";  "+A+'.schemaPath = "'+c+'";  ',t.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+f+"; "),o+=" } } else { "+F+" } "),o+=" } ",h&&(o+=" else { ")}return o}},function(t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(t,e,n){t.exports={"view-config-editor-header":"ViewConfigEditor-module_view-config-editor-header-2nTtX","view-config-editor":"ViewConfigEditor-module_view-config-editor-2HAFN","view-config-log":"ViewConfigEditor-module_view-config-log-1mYmL","view-config-log-header":"ViewConfigEditor-module_view-config-log-header-3EbEM","view-config-log-msg":"ViewConfigEditor-module_view-config-log-msg-2-CJZ",title:"ViewConfigEditor-module_title-3nLH_",Warning:"ViewConfigEditor-module_Warning-_sgiB",Success:"ViewConfigEditor-module_Success-nclFo",Error:"ViewConfigEditor-module_Error-3enaC"}},function(t,e,n){function r(t,e,n,r){var i=t.append("symbol").attr("id",e).attr("viewBox",r);n.forEach((function(t){return i.append("path").attr("d",t).attr("fill","currentColor")}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(94)),i=g(n(37)),o=g(n(35)),a=g(n(62)),s=g(n(18)),l=g(n(17)),u=g(n(725)),c=g(n(42)),h=g(n(134)),f=g(n(397)),d=g(n(271)),p=n(24),m=n(10),v=n(11);function g(t){return t&&t.__esModule?t:{default:t}}var y=function(t){t.setState(t.state)},b=function(){function t(t,e){var n=t,g=[],b=(0,h.default)(),_=function(){function t(){g.forEach((function(t){return e.unsubscribe(t)})),g=[]}return t}();return{destroy:_,publish:b.publish,stack:b.stack,public:(0,u.default)({setBroadcastMousePositionGlobally:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setBroadcastMousePositionGlobally(t)}return t}(),setShowGlobalMousePosition:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setShowGlobalMousePosition(t)}return t}(),setGlobalMousePosition:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setBroadcastMousePositionGlobally(t),n.setShowGlobalMousePosition(t)}return t}(),setAuthHeader:function(){function t(t){(0,p.setTileProxyAuthHeader)(t),n.reload()}return t}(),getAuthHeader:function(){function t(){return(0,p.setTileProxyAuthHeader)()}return t}(),getComponent:function(){function t(){return n}return t}(),reload:function(){function t(t){var e=void 0;e=t?t.flatMap((function(t){return"string"==typeof t?n.iterateOverTracksInView(t):t})):n.iterateOverTracks();var r=!0,i=!1,o=void 0;try{for(var a,u=(0,l.default)(e);!(r=(a=u.next()).done);r=!0){var c=a.value,h=c.viewId,f=c.trackId,d=n.getTrackObject(h,f),p=!0,m=!1,v=void 0;try{for(var g,y=(0,l.default)(d.childTracks||[d]);!(p=(g=y.next()).done);p=!0){var b=g.value;b.fetchedTiles&&(b.removeTiles((0,s.default)(b.fetchedTiles)),b.fetching.clear(),b.refreshTiles()),b.rerender(b.options,!0)}}catch(_){m=!0,v=_}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}}catch(_){i=!0,o=_}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}}return t}(),destroy:function(){function t(){_(),c.default.unmountComponentAtNode(n.topDiv.parentNode)}return t}(),setRangeSelectionToInt:function(){function t(){n.setState({rangeSelectionToInt:!0})}return t}(),setRangeSelectionToFloat:function(){function t(){n.setState({rangeSelectionToInt:!1})}return t}(),setRangeSelection1dSize:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;n.setState({rangeSelection1dSize:[t,e]})}return t}(),setViewConfig:function(){function t(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=n.processViewConfig(t);return new a.default((function(a){r.requestsInFlight=0,g.push(e.subscribe("requestSent",(function(){r.requestsInFlight+=1}))),g.push(e.subscribe("requestReceived",(function(){r.requestsInFlight-=1,0===r.requestsInFlight&&a()}))),n.setState({viewConfig:t,views:o},(function(){i&&a()}))}))}return t}(),getViewConfig:function(){function t(){return n.getViewsAsJson()}return t}(),validateViewConfig:function(){function t(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).verbose,n=void 0!==e&&e,r=(new f.default).compile(d.default),i=r(t);return n&&r.errors&&console.warn((0,o.default)(r.errors,null,2)),i}return t}(),getMinMaxValue:function(){function t(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n.getMinMaxValue(t,e,r,i)}return t}(),shareViewConfigAsLink:function(){function t(t){return n.handleExportViewsAsLink(t,!0)}return t}(),showAvailableTrackPositions:function(){function t(t){n.setState({draggingHappening:t})}return t}(),hideAvailableTrackPositions:function(){function t(){n.setState({draggingHappening:null})}return t}(),showTrackChooser:function(){function t(t){n.setState({chooseTrackHandler:function(){function e(){n.setState({chooseTrackHandler:null}),t.apply(void 0,arguments)}return e}()})}return t}(),hideTrackChooser:function(){function t(){this.setState({chooseTrackHandler:null})}return t}(),setTrackValueScaleLimits:function(){function t(t,e,r,i){n.setTrackValueScaleLimits(t,e,r,i)}return t}(),setDarkTheme:function(){function t(t){console.warn('`setDarkTheme(true)` is deprecated. Please use `setTheme("dark")`.');var e=t?"dark":"light";n.setTheme(e)}return t}(),setTheme:function(){function t(t){console.warn("Please note that theming is still in beta!"),n.setTheme(t)}return t}(),zoomTo:function(){function t(t,e,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n.zoomTo(t,e,r,i,o,a)}return t}(),zoomToGene:function(){function t(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n.zoomToGene(t,e,r,i)}return t}(),suggestGene:function(){function t(t,e,r){return n.suggestGene(t,e,r)}return t}(),zoomToDataExtent:function(){function t(t){n.handleZoomToData(t)}return t}(),resetViewport:function(){function t(t){n.resetViewport(t)}return t}(),activateTool:function(){function t(t){"select"===t?n.setMouseTool(v.MOUSE_TOOL_SELECT):n.setMouseTool(v.MOUSE_TOOL_MOVE)}return t}(),exportAsPngBlobPromise:function(){function t(){return n.createPNGBlobPromise()}return t}(),exportAsSvg:function(){function t(){return n.createSVGString()}return t}(),exportAsViewConfString:function(){function t(){return n.getViewsAsString()}return t}(),getRangeSelection:function(){function t(){return n.rangeSelection}return t}(),getLocation:function(){function t(t){var e=t?n.xScales[t]&&n.yScales[t]&&t:(0,i.default)(n.tiledPlots)[0]&&(0,i.default)(n.tiledPlots)[0].props.uid;return e?{xDomain:n.xScales[e].domain(),yDomain:n.yScales[e].domain(),xRange:n.xScales[e].range(),yRange:n.yScales[e].range()}:"Please provide a valid view UUID sweetheart \ud83d\ude19"}return t}(),getTrackObject:function(){function t(t,e){var r=t,o=e;return e||(r=(0,i.default)(n.state.views)[0].uid,o=t),(0,m.getTrackObjectFromHGC)(n,r,o)}return t}(),option:function(){function t(t,e){if(typeof e>"u")return n.props.options[t];"sizeMode"===t?(n.props.options[t]=e,y(n)):console.warn('This option "'+String(t)+'" is either unknown or not settable.')}return t}(),off:function(){function t(t,e,i){var o="object"===(typeof e>"u"?"undefined":(0,r.default)(e))?e.callback:e;switch(t){case"click":b.unsubscribe("click",o);break;case"cursorLocation":b.unsubscribe("cursorLocation",o);break;case"location":n.offLocationChange(i,e);break;case"mouseMoveZoom":b.unsubscribe("mouseMoveZoom",o);break;case"wheel":b.unsubscribe("wheel",o);break;case"rangeSelection":b.unsubscribe("rangeSelection",o);break;case"viewConfig":n.offViewChange(e);break;case"createSVG":n.offPostCreateSVG();break;case"geneSearch":b.unsubscribe("geneSearch",o)}}return t}(),on:function(){function t(t,e,r,i){switch(t){case"click":return b.subscribe("click",e);case"cursorLocation":return b.subscribe("cursorLocation",e);case"location":return n.onLocationChange(r,e,i);case"mouseMoveZoom":return b.subscribe("mouseMoveZoom",e);case"wheel":return b.subscribe("wheel",e);case"rangeSelection":return b.subscribe("rangeSelection",e);case"viewConfig":return n.onViewChange(e);case"createSVG":return n.onPostCreateSVG(e);case"geneSearch":return b.subscribe("geneSearch",e);default:return}}return t}()},{version:{get:function(){function t(){return"1.11.11"}return t}(),configurable:!0,enumerable:!0}})}}return t}();e.default=b},function(t,e,n){t.exports={default:n(726),__esModule:!0}},function(t,e,n){n(727);var r=n(12).Object;t.exports=function(t,e){return r.defineProperties(t,e)}},function(t,e,n){var r=n(16);r(r.S+r.F*!n(36),"Object",{defineProperties:n(162)})},function(t,e,n){t.exports={higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"}},function(t,e,n){},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(2)),u=n(9),c=d(n(1)),h=d(n(13)),f=n(820);function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){(0,i.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t)),o=(0,u.rgb)(t.color);return n.state={displayColorPicker:!1,color:{r:o.r,g:o.g,b:o.b,a:o.opacity}},n}return(0,s.default)(e,t),(0,o.default)(e,[{key:"handleClick",value:function(){function t(){this.setState((function(t){return{displayColorPicker:!t.displayColorPicker}}))}return t}()},{key:"handleClose",value:function(){function t(){this.setState({displayColorPicker:!1})}return t}()},{key:"handleChange",value:function(){function t(t){var e=t.rgb,n="rgba("+String(e.r)+","+String(e.g)+","+String(e.b)+","+String(e.a)+")";this.props.onChange(n),this.setState({color:t.rgb})}return t}()},{key:"render",value:function(){function t(){var t=(0,h.default)({default:{color:{width:"32px",height:"14px",borderRadius:"2px",background:"rgba("+String(this.state.color.r)+", "+String(this.state.color.g)+", "+String(this.state.color.b)+", "+String(this.state.color.a)+")"},swatch:{padding:"5px",background:"#fff",cursor:"pointer",borderRadius:"1px"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return c.default.createElement("div",null,c.default.createElement("div",{onClick:this.handleClick.bind(this),style:t.swatch},c.default.createElement("div",{style:t.color})),this.state.displayColorPicker?c.default.createElement("div",{style:t.popover},c.default.createElement("div",{onClick:this.handleClose.bind(this),style:t.cover}),c.default.createElement(f.SketchPicker,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}return t}()}]),e}(c.default.Component);p.propTypes={color:l.default.string,onChange:l.default.func},e.default=p},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.flattenNames=void 0;var r=s(n(732)),i=s(n(272)),o=s(n(412)),a=s(n(70));function s(t){return t&&t.__esModule?t:{default:t}}var l=e.flattenNames=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(e,(function(e){Array.isArray(e)?t(e).map((function(t){return n.push(t)})):(0,o.default)(e)?(0,i.default)(e,(function(t,e){!0===t&&n.push(e),n.push(e+"-"+t)})):(0,r.default)(e)&&n.push(e)})),n};e.default=l},function(t,e,n){var r=n(97),i=n(31),o=n(56),a="[object String]";function s(t){return"string"==typeof t||!i(t)&&o(t)&&r(t)==a}t.exports=s},function(t,e,n){var r=n(118),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;function l(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch{}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}t.exports=l},function(t,e){var n=Object.prototype.toString;function r(t){return n.call(t)}t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){var r=n(97),i=n(56),o="[object Arguments]";function a(t){return i(t)&&r(t)==o}t.exports=a},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){var r=n(97),i=n(274),o=n(56),a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",m="[object RegExp]",v="[object Set]",g="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",x="[object Float64Array]",T="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]",O={};function P(t){return o(t)&&i(t.length)&&!!O[r(t)]}O["[object Float32Array]"]=O[x]=O[T]=O[w]=O[S]=O[E]=O[k]=O[C]=O[A]=!0,O[a]=O[s]=O[b]=O[l]=O[_]=O[u]=O[c]=O[h]=O[f]=O[d]=O[p]=O[m]=O[v]=O[g]=O[y]=!1,t.exports=P},function(t,e,n){var r=n(186),i=n(741),o=Object.prototype.hasOwnProperty;function a(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}t.exports=a},function(t,e,n){var r=n(410)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(743),i=n(782),o=n(424);function a(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}t.exports=a},function(t,e,n){var r=n(187),i=n(415),o=1,a=2;function s(t,e,n,s){var l=n.length,u=l,c=!s;if(null==t)return!u;for(t=Object(t);l--;){var h=n[l];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++l<u;){var f=(h=n[l])[0],d=t[f],p=h[1];if(c&&h[2]){if(void 0===d&&!(f in t))return!1}else{var m=new r;if(s)var v=s(d,p,f,t,e,m);if(!(void 0===v?i(p,d,o|a,s,m):v))return!1}}return!0}t.exports=s},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){var r=n(189),i=Array.prototype.splice;function o(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}t.exports=o},function(t,e,n){var r=n(189);function i(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}t.exports=i},function(t,e,n){var r=n(189);function i(t){return r(this.__data__,t)>-1}t.exports=i},function(t,e,n){var r=n(189);function i(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}t.exports=i},function(t,e,n){var r=n(188);function i(){this.__data__=new r,this.size=0}t.exports=i},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){var r=n(188),i=n(279),o=n(280),a=200;function s(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}t.exports=s},function(t,e,n){var r=n(277),i=n(755),o=n(45),a=n(414),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,f=c.hasOwnProperty,d=RegExp("^"+h.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(t){return!(!o(t)||i(t))&&(r(t)?d:l).test(a(t))}t.exports=p},function(t,e,n){var r=n(756),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function o(t){return!!i&&i in t}t.exports=o},function(t,e,n){var r=n(41)["__core-js_shared__"];t.exports=r},function(t,e){function n(t,e){return t?.[e]}t.exports=n},function(t,e,n){var r=n(759),i=n(188),o=n(279);function a(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}t.exports=a},function(t,e,n){var r=n(760),i=n(761),o=n(762),a=n(763),s=n(764);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var r=n(190);function i(){this.__data__=r?r(null):{},this.size=0}t.exports=i},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){var r=n(190),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;function a(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}t.exports=a},function(t,e,n){var r=n(190),i=Object.prototype.hasOwnProperty;function o(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}t.exports=o},function(t,e,n){var r=n(190),i="__lodash_hash_undefined__";function o(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}t.exports=o},function(t,e,n){var r=n(191);function i(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}t.exports=i},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){var r=n(191);function i(t){return r(this,t).get(t)}t.exports=i},function(t,e,n){var r=n(191);function i(t){return r(this,t).has(t)}t.exports=i},function(t,e,n){var r=n(191);function i(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}t.exports=i},function(t,e,n){var r=n(187),i=n(416),o=n(775),a=n(778),s=n(192),l=n(31),u=n(185),c=n(273),h=1,f="[object Arguments]",d="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;function v(t,e,n,v,g,y){var b=l(t),_=l(e),x=b?d:s(t),T=_?d:s(e),w=(x=x==f?p:x)==p,S=(T=T==f?p:T)==p,E=x==T;if(E&&u(t)){if(!u(e))return!1;b=!0,w=!1}if(E&&!w)return y||(y=new r),b||c(t)?i(t,e,n,v,g,y):o(t,e,x,n,v,g,y);if(!(n&h)){var k=w&&m.call(t,"__wrapped__"),C=S&&m.call(e,"__wrapped__");if(k||C){var A=k?t.value():t,O=C?e.value():e;return y||(y=new r),g(A,O,n,v,y)}}return!!E&&(y||(y=new r),a(t,e,n,v,g,y))}t.exports=v},function(t,e,n){var r=n(280),i=n(772),o=n(773);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){var n="__lodash_hash_undefined__";function r(t){return this.__data__.set(t,n),this}t.exports=r},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){var r=n(118),i=n(418),o=n(120),a=n(416),s=n(776),l=n(777),u=1,c=2,h="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",T=r?r.prototype:void 0,w=T?T.valueOf:void 0;function S(t,e,n,r,T,S,E){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!S(new i(t),new i(e)));case h:case f:case m:return o(+t,+e);case d:return t.name==e.name&&t.message==e.message;case v:case y:return t==e+"";case p:var k=s;case g:var C=r&u;if(k||(k=l),t.size!=e.size&&!C)return!1;var A=E.get(t);if(A)return A==e;r|=c,E.set(t,e);var O=a(k(t),k(e),r,T,S,E);return E.delete(t),O;case b:if(w)return w.call(t)==w.call(e)}return!1}t.exports=S},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}t.exports=n},function(t,e,n){var r=n(419),i=1,o=Object.prototype.hasOwnProperty;function a(t,e,n,a,s,l){var u=n&i,c=r(t),h=c.length;if(h!=r(e).length&&!u)return!1;for(var f=h;f--;){var d=c[f];if(!(u?d in e:o.call(e,d)))return!1}var p=l.get(t);if(p&&l.get(e))return p==e;var m=!0;l.set(t,e),l.set(e,t);for(var v=u;++f<h;){var g=t[d=c[f]],y=e[d];if(a)var b=u?a(y,g,d,e,t,l):a(g,y,d,t,e,l);if(!(void 0===b?g===y||s(g,y,n,a,l):b)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var _=t.constructor,x=e.constructor;_!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(m=!1)}return l.delete(t),l.delete(e),m}t.exports=a},function(t,e,n){var r=n(99)(n(41),"DataView");t.exports=r},function(t,e,n){var r=n(99)(n(41),"Promise");t.exports=r},function(t,e,n){var r=n(99)(n(41),"Set");t.exports=r},function(t,e,n){var r=n(423),i=n(119);function o(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}t.exports=o},function(t,e,n){var r=n(415),i=n(784),o=n(425),a=n(285),s=n(423),l=n(424),u=n(145),c=1,h=2;function f(t,e){return a(t)&&s(e)?l(u(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,c|h)}}t.exports=f},function(t,e,n){var r=n(284);function i(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}t.exports=i},function(t,e,n){var r=n(786),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(787),i=500;function o(t){var e=r(t,(function(t){return n.size===i&&n.clear(),t})),n=e.cache;return e}t.exports=o},function(t,e,n){var r=n(280),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(789);function i(t){return null==t?"":r(t)}t.exports=i},function(t,e,n){var r=n(118),i=n(413),o=n(31),a=n(194),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;function c(t){if("string"==typeof t)return t;if(o(t))return i(t,c)+"";if(a(t))return u?u.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}t.exports=c},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){var r=n(193),i=n(184),o=n(31),a=n(142),s=n(274),l=n(145);function u(t,e,n){for(var u=-1,c=(e=r(e,t)).length,h=!1;++u<c;){var f=l(e[u]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++u!=c?h:!!(c=null==t?0:t.length)&&s(c)&&a(f,c)&&(o(t)||i(t))}t.exports=u},function(t,e,n){var r=n(793),i=n(794),o=n(285),a=n(145);function s(t){return o(t)?r(a(t)):i(t)}t.exports=s},function(t,e){function n(t){return function(e){return e?.[t]}}t.exports=n},function(t,e,n){var r=n(284);function i(t){return function(e){return r(e,t)}}t.exports=i},function(t,e,n){var r=n(146),i=n(98);function o(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}t.exports=o},function(t,e,n){var r=n(98);function i(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}t.exports=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.mergeClasses=void 0;var r=a(n(272)),i=a(n(798)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function a(t){return t&&t.__esModule?t:{default:t}}var s=e.mergeClasses=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.default&&(0,i.default)(t.default)||{};return e.map((function(e){var i=t[e];return i&&(0,r.default)(i,(function(t,e){n[e]||(n[e]={}),n[e]=o({},n[e],i[e])})),e})),n};e.default=s},function(t,e,n){var r=n(799),i=1,o=4;function a(t){return r(t,i|o)}t.exports=a},function(t,e,n){var r=n(187),i=n(286),o=n(195),a=n(800),s=n(801),l=n(427),u=n(196),c=n(804),h=n(805),f=n(419),d=n(806),p=n(192),m=n(807),v=n(808),g=n(430),y=n(31),b=n(185),_=n(812),x=n(45),T=n(814),w=n(119),S=1,E=2,k=4,C="[object Arguments]",A="[object Array]",O="[object Boolean]",P="[object Date]",M="[object Error]",I="[object Function]",R="[object GeneratorFunction]",L="[object Map]",D="[object Number]",N="[object Object]",j="[object RegExp]",B="[object Set]",F="[object String]",H="[object Symbol]",z="[object WeakMap]",U="[object ArrayBuffer]",V="[object DataView]",G="[object Float32Array]",X="[object Float64Array]",Y="[object Int8Array]",W="[object Int16Array]",q="[object Int32Array]",K="[object Uint8Array]",$="[object Uint8ClampedArray]",Z="[object Uint16Array]",Q="[object Uint32Array]",J={};function tt(t,e,n,A,O,P){var M,L=e&S,D=e&E,j=e&k;if(n&&(M=O?n(t,A,O,P):n(t)),void 0!==M)return M;if(!x(t))return t;var B=y(t);if(B){if(M=m(t),!L)return u(t,M)}else{var F=p(t),H=F==I||F==R;if(b(t))return l(t,L);if(F==N||F==C||H&&!O){if(M=D||H?{}:g(t),!L)return D?h(t,s(M,t)):c(t,a(M,t))}else{if(!J[F])return O?t:{};M=v(t,F,L)}}P||(P=new r);var z=P.get(t);if(z)return z;P.set(t,M),T(t)?t.forEach((function(r){M.add(tt(r,e,n,r,t,P))})):_(t)&&t.forEach((function(r,i){M.set(i,tt(r,e,n,i,t,P))}));var U=j?D?d:f:D?keysIn:w,V=B?void 0:U(t);return i(V||t,(function(r,i){V&&(r=t[i=r]),o(M,i,tt(r,e,n,i,t,P))})),M}J[C]=J[A]=J[U]=J[V]=J[O]=J[P]=J[G]=J[X]=J[Y]=J[W]=J[q]=J[L]=J[D]=J[N]=J[j]=J[B]=J[F]=J[H]=J[K]=J[$]=J[Z]=J[Q]=!0,J[M]=J[I]=J[z]=!1,t.exports=tt},function(t,e,n){var r=n(100),i=n(119);function o(t,e){return t&&r(e,i(e),t)}t.exports=o},function(t,e,n){var r=n(100),i=n(121);function o(t,e){return t&&r(e,i(e),t)}t.exports=o},function(t,e,n){var r=n(45),i=n(186),o=n(803),a=Object.prototype.hasOwnProperty;function s(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)"constructor"==s&&(e||!a.call(t,s))||n.push(s);return n}t.exports=s},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){var r=n(100),i=n(282);function o(t,e){return r(t,i(t),e)}t.exports=o},function(t,e,n){var r=n(100),i=n(428);function o(t,e){return r(t,i(t),e)}t.exports=o},function(t,e,n){var r=n(420),i=n(428),o=n(121);function a(t){return r(t,o,i)}t.exports=a},function(t,e){var n=Object.prototype.hasOwnProperty;function r(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}t.exports=r},function(t,e,n){var r=n(288),i=n(809),o=n(810),a=n(811),s=n(429),l="[object Boolean]",u="[object Date]",c="[object Map]",h="[object Number]",f="[object RegExp]",d="[object Set]",p="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",T="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",k="[object Uint32Array]";function C(t,e,n){var C=t.constructor;switch(e){case v:return r(t);case l:case u:return new C(+t);case g:return i(t,n);case y:case b:case _:case x:case T:case w:case S:case E:case k:return s(t,n);case c:return new C;case h:case p:return new C(t);case f:return o(t);case d:return new C;case m:return a(t)}}t.exports=C},function(t,e,n){var r=n(288);function i(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}t.exports=i},function(t,e){var n=/\w*$/;function r(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}t.exports=r},function(t,e,n){var r=n(118),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;function a(t){return o?Object(o.call(t)):{}}t.exports=a},function(t,e,n){var r=n(813),i=n(275),o=n(276),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(192),i=n(56),o="[object Map]";function a(t){return i(t)&&r(t)==o}t.exports=a},function(t,e,n){var r=n(815),i=n(275),o=n(276),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(192),i=n(56),o="[object Set]";function a(t){return i(t)&&r(t)==o}t.exports=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.autoprefix=void 0;var r=o(n(272)),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function o(t){return t&&t.__esModule?t:{default:t}}var a={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var e=t&&t.split(" ");return{position:"absolute",top:e&&e[0],right:e&&e[1],bottom:e&&e[2],left:e&&e[3]}},extend:function(t,e){return e[t]||{extend:t}}},s=e.autoprefix=function(t){var e={};return(0,r.default)(t,(function(t,n){var o={};(0,r.default)(t,(function(t,e){var n=a[e];n?o=i({},o,n(t)):o[e]=t})),e[n]=o})),e};e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hover=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=e.hover=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function o(){var n,l,u;a(this,o);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=u=s(this,(n=o.__proto__||Object.getPrototypeOf(o)).call.apply(n,[this].concat(h))),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return i.default.createElement(e,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},i.default.createElement(t,r({},u.props,u.state)))},s(u,l)}return l(o,n),o}(i.default.Component)};e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.active=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=e.active=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function o(){var n,l,u;a(this,o);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=u=s(this,(n=o.__proto__||Object.getPrototypeOf(o)).call.apply(n,[this].concat(h))),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return i.default.createElement(e,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},i.default.createElement(t,r({},u.props,u.state)))},s(u,l)}return l(o,n),o}(i.default.Component)};e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){var n={},r=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[t]=e};return 0===t&&r("first-child"),t===e-1&&r("last-child"),(0===t||t%2===0)&&r("even"),1===Math.abs(t%2)&&r("odd"),r("nth-child",t),n};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPicker=e.TwitterPicker=e.SwatchesPicker=e.SliderPicker=e.SketchPicker=e.PhotoshopPicker=e.MaterialPicker=e.HuePicker=e.GithubPicker=e.CompactPicker=e.ChromePicker=e.default=e.CirclePicker=e.BlockPicker=e.AlphaPicker=void 0;var r=n(821);Object.defineProperty(e,"AlphaPicker",{enumerable:!0,get:function(){return y(r).default}});var i=n(844);Object.defineProperty(e,"BlockPicker",{enumerable:!0,get:function(){return y(i).default}});var o=n(846);Object.defineProperty(e,"CirclePicker",{enumerable:!0,get:function(){return y(o).default}});var a=n(848);Object.defineProperty(e,"ChromePicker",{enumerable:!0,get:function(){return y(a).default}});var s=n(853);Object.defineProperty(e,"CompactPicker",{enumerable:!0,get:function(){return y(s).default}});var l=n(856);Object.defineProperty(e,"GithubPicker",{enumerable:!0,get:function(){return y(l).default}});var u=n(858);Object.defineProperty(e,"HuePicker",{enumerable:!0,get:function(){return y(u).default}});var c=n(860);Object.defineProperty(e,"MaterialPicker",{enumerable:!0,get:function(){return y(c).default}});var h=n(861);Object.defineProperty(e,"PhotoshopPicker",{enumerable:!0,get:function(){return y(h).default}});var f=n(867);Object.defineProperty(e,"SketchPicker",{enumerable:!0,get:function(){return y(f).default}});var d=n(870);Object.defineProperty(e,"SliderPicker",{enumerable:!0,get:function(){return y(d).default}});var p=n(874);Object.defineProperty(e,"SwatchesPicker",{enumerable:!0,get:function(){return y(p).default}});var m=n(878);Object.defineProperty(e,"TwitterPicker",{enumerable:!0,get:function(){return y(m).default}});var v=n(437);Object.defineProperty(e,"CustomPicker",{enumerable:!0,get:function(){return y(v).default}});var g=y(a);function y(t){return t&&t.__esModule?t:{default:t}}e.default=g.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AlphaPicker=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=l(n(1)),o=l(n(13)),a=n(22),s=l(n(843));function l(t){return t&&t.__esModule?t:{default:t}}var u=e.AlphaPicker=function(t){var e=t.rgb,n=t.hsl,s=t.width,l=t.height,u=t.onChange,c=t.direction,h=t.style,f=t.renderers,d=t.pointer,p=t.className,m=void 0===p?"":p,v=(0,o.default)({default:{picker:{position:"relative",width:s,height:l},alpha:{radius:"2px",style:h}}});return i.default.createElement("div",{style:v.picker,className:"alpha-picker "+m},i.default.createElement(a.Alpha,r({},v.alpha,{rgb:e,hsl:n,pointer:d,renderers:f,onChange:u,direction:c})))};u.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},e.default=(0,a.ColorWrap)(u)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Alpha=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=h(o),s=h(n(13)),l=c(n(823)),u=h(n(289));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=e.Alpha=function(t){function e(){var t,n,r;f(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.handleChange=function(t,e){var n=l.calculateChange(t,e,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,t)},r.handleMouseDown=function(t){r.handleChange(t,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},d(r,n)}return p(e,t),i(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var t=this,e=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*e.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)"},pointer:{left:0,top:100*e.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.default.createElement("div",{style:n.alpha},a.default.createElement("div",{style:n.checkboard},a.default.createElement(u.default,{renderers:this.props.renderers})),a.default.createElement("div",{style:n.gradient}),a.default.createElement("div",{style:n.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("div",{style:n.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:n.slider}))))}}]),e}(o.PureComponent||o.Component);e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateChange=function(t,e,n,r){t.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"==typeof t.pageX?t.pageX:t.touches[0].pageX,s="number"==typeof t.pageY?t.pageY:t.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=u<0?0:u>o?1:Math.round(100*u/o)/100,n.hsl.a!==c)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:c,source:"rgb"}}else{var h=void 0;if(h=l<0?0:l>i?1:Math.round(100*l/i)/100,n.a!==h)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:h,source:"rgb"}}return null}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r={},i=e.render=function(t,e,n,r){if(typeof document>"u"&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=t,o.fillRect(0,0,i.width,i.height),o.fillStyle=e,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null};e.get=function(t,e,n,o){var a=t+"-"+e+"-"+n+(o?"-server":""),s=i(t,e,n,o);return r[a]?r[a]:(r[a]=s,s)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.EditableInput=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o=s(i),a=s(n(13));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=e.EditableInput=function(t){function e(t){u(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(t){n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,t.target.value),t):n.props.onChange&&n.props.onChange(t.target.value,t),n.setState({value:t.target.value})},n.handleKeyDown=function(t){var e=String(t.target.value),r=e.indexOf("%")>-1,i=Number(e.replace(/%/g,""));if(!isNaN(i)){var o=n.props.arrowOffset||1;38===t.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,i+o),t):n.props.onChange&&n.props.onChange(i+o,t),r?n.setState({value:i+o+"%"}):n.setState({value:i+o})),40===t.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,i-o),t):n.props.onChange&&n.props.onChange(i-o,t),r?n.setState({value:i-o+"%"}):n.setState({value:i-o}))}},n.handleDrag=function(t){if(n.props.dragLabel){var e=Math.round(n.props.value+t.movementX);e>=0&&e<=n.props.dragMax&&n.props.onChange&&n.props.onChange(l({},n.props.label,e),t)}},n.handleMouseDown=function(t){n.props.dragLabel&&(t.preventDefault(),n.handleDrag(t),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},n}return h(e,t),r(e,[{key:"componentWillReceiveProps",value:function(t){var e=this.input;t.value!==this.state.value&&(e===document.activeElement?this.setState({blurValue:String(t.value).toUpperCase()}):this.setState({value:String(t.value).toUpperCase(),blurValue:!this.state.blurValue&&String(t.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var t=this,e=(0,a.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:e.wrap},o.default.createElement("input",{style:e.input,ref:function(e){return t.input=e},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("span",{style:e.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(i.PureComponent||i.Component);e.default=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Hue=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o=u(i),a=u(n(13)),s=l(n(827));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=e.Hue=function(t){function e(){var t,n,r;c(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.handleChange=function(t,e){var n=s.calculateChange(t,e,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,t)},r.handleMouseDown=function(t){r.handleChange(t,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},h(r,n)}return f(e,t),r(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,e=this.props.direction,n=void 0===e?"horizontal":e,r=(0,a.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return o.default.createElement("div",{style:r.hue},o.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:r.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:r.slider}))))}}]),e}(i.PureComponent||i.Component);e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateChange=function(t,e,n,r){t.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"==typeof t.pageX?t.pageX:t.touches[0].pageX,s="number"==typeof t.pageY?t.pageY:t.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=u<0?359:u>o?0:360*(-100*u/o+100)/100,n.hsl.h!==c)return{h:c,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var h=void 0;if(h=l<0?0:l>i?359:100*l/i*360/100,n.hsl.h!==h)return{h:h,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Raised=void 0;var r=s(n(1)),i=s(n(2)),o=s(n(13)),a=s(n(46));function s(t){return t&&t.__esModule?t:{default:t}}var l=e.Raised=function(t){var e=t.zDepth,n=t.radius,i=t.background,s=t.children,l=t.styles,u=void 0===l?{}:l,c=(0,o.default)((0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+e+"px "+4*e+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":1===e});return r.default.createElement("div",{style:c.wrap},r.default.createElement("div",{style:c.bg}),r.default.createElement("div",{style:c.content},s))};l.propTypes={background:i.default.string,zDepth:i.default.oneOf([0,1,2,3,4,5]),radius:i.default.number,styles:i.default.object},l.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},e.default=l},function(t,e,n){var r=n(187),i=n(431),o=n(408),a=n(830),s=n(45),l=n(121),u=n(432);function c(t,e,n,h,f){t!==e&&o(e,(function(o,l){if(f||(f=new r),s(o))a(t,e,l,n,c,h,f);else{var d=h?h(u(t,l),o,l+"",t,e,f):void 0;void 0===d&&(d=o),i(t,l,d)}}),l)}t.exports=c},function(t,e,n){var r=n(431),i=n(427),o=n(429),a=n(196),s=n(430),l=n(184),u=n(31),c=n(831),h=n(185),f=n(277),d=n(45),p=n(412),m=n(273),v=n(432),g=n(832);function y(t,e,n,y,b,_,x){var T=v(t,n),w=v(e,n),S=x.get(w);if(S)r(t,n,S);else{var E=_?_(T,w,n+"",t,e,x):void 0,k=void 0===E;if(k){var C=u(w),A=!C&&h(w),O=!C&&!A&&m(w);E=w,C||A||O?u(T)?E=T:c(T)?E=a(T):A?(k=!1,E=i(w,!0)):O?(k=!1,E=o(w,!0)):E=[]:p(w)||l(w)?(E=T,l(T)?E=g(T):(!d(T)||f(T))&&(E=s(w))):k=!1}k&&(x.set(w,E),b(E,w,y,_,x),x.delete(w)),r(t,n,E)}}t.exports=y},function(t,e,n){var r=n(98),i=n(56);function o(t){return i(t)&&r(t)}t.exports=o},function(t,e,n){var r=n(100),i=n(121);function o(t){return r(t,i(t))}t.exports=o},function(t,e,n){var r=n(834),i=n(426),o=n(143),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Saturation=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o=c(i),a=c(n(13)),s=c(n(836)),l=u(n(838));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=e.Saturation=function(t){function e(t){h(this,e);var n=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleChange=function(t,e){n.props.onChange&&n.throttle(n.props.onChange,l.calculateChange(t,e,n.props,n.container),t)},n.handleMouseDown=function(t){n.handleChange(t,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)((function(t,e,n){t(e,n)}),50),n}return d(e,t),r(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,e=this.props.style||{},n=e.color,r=e.white,i=e.black,s=e.pointer,l=e.circle,u=(0,a.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:s,circle:l}},{custom:!!this.props.style});return o.default.createElement("div",{style:u.color,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:u.white,className:"saturation-white"},o.default.createElement("div",{style:u.black,className:"saturation-black"}),o.default.createElement("div",{style:u.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:u.circle}))))}}]),e}(i.PureComponent||i.Component);e.default=p},function(t,e,n){var r=n(435),i=n(45),o="Expected a function";function a(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:e,trailing:s})}t.exports=a},function(t,e,n){var r=n(41),i=function(){return r.Date.now()};t.exports=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateChange=function(t,e,n,r){t.preventDefault();var i=r.getBoundingClientRect(),o=i.width,a=i.height,s="number"==typeof t.pageX?t.pageX:t.touches[0].pageX,l="number"==typeof t.pageY?t.pageY:t.touches[0].pageY,u=s-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o?u=o:c<0?c=0:c>a&&(c=a);var h=100*u/o,f=-100*c/a+100;return{h:n.hsl.h,s:h,v:f,a:n.hsl.a,source:"rgb"}}},function(t,e,n){t.exports=n(147)},function(t,e,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,l=i.round,u=i.min,c=i.max,h=i.random;function f(t,e){if(e=e||{},(t=t||"")instanceof f)return t;if(!(this instanceof f))return new f(t,e);var n=d(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function d(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"==typeof t&&(t=$(t)),"object"==typeof t&&(K(t.r)&&K(t.g)&&K(t.b)?(e=p(t.r,t.g,t.b),a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):K(t.h)&&K(t.s)&&K(t.v)?(r=X(t.s),i=X(t.v),e=y(t.h,r,i),a=!0,s="hsv"):K(t.h)&&K(t.s)&&K(t.l)&&(r=X(t.s),o=X(t.l),e=v(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=B(n),{ok:a,format:t.format||s,r:u(255,c(e.r,0)),g:u(255,c(e.g,0)),b:u(255,c(e.b,0)),a:n}}function p(t,e,n){return{r:255*F(t,255),g:255*F(e,255),b:255*F(n,255)}}function m(t,e,n){t=F(t,255),e=F(e,255),n=F(n,255);var r,i,o=c(t,e,n),a=u(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:s}}function v(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=F(t,360),e=F(e,100),n=F(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}function g(t,e,n){t=F(t,255),e=F(e,255),n=F(n,255);var r,i,o=c(t,e,n),a=u(t,e,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:s}}function y(t,e,n){t=6*F(t,360),e=F(e,100),n=F(n,100);var r=i.floor(t),o=t-r,a=n*(1-e),s=n*(1-o*e),l=n*(1-(1-o)*e),u=r%6;return{r:255*[n,s,a,a,l,n][u],g:255*[l,n,n,s,a,a][u],b:255*[a,a,l,n,n,s][u]}}function b(t,e,n,r){var i=[G(l(t).toString(16)),G(l(e).toString(16)),G(l(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function _(t,e,n,r,i){var o=[G(l(t).toString(16)),G(l(e).toString(16)),G(l(n).toString(16)),G(Y(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function x(t,e,n,r){return[G(Y(r)),G(l(t).toString(16)),G(l(e).toString(16)),G(l(n).toString(16))].join("")}function T(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s-=e/100,n.s=H(n.s),f(n)}function w(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s+=e/100,n.s=H(n.s),f(n)}function S(t){return f(t).desaturate(100)}function E(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l+=e/100,n.l=H(n.l),f(n)}function k(t,e){e=0===e?0:e||10;var n=f(t).toRgb();return n.r=c(0,u(255,n.r-l(-e/100*255))),n.g=c(0,u(255,n.g-l(-e/100*255))),n.b=c(0,u(255,n.b-l(-e/100*255))),f(n)}function C(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l-=e/100,n.l=H(n.l),f(n)}function A(t,e){var n=f(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,f(n)}function O(t){var e=f(t).toHsl();return e.h=(e.h+180)%360,f(e)}function P(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+120)%360,s:e.s,l:e.l}),f({h:(n+240)%360,s:e.s,l:e.l})]}function M(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+90)%360,s:e.s,l:e.l}),f({h:(n+180)%360,s:e.s,l:e.l}),f({h:(n+270)%360,s:e.s,l:e.l})]}function I(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+72)%360,s:e.s,l:e.l}),f({h:(n+216)%360,s:e.s,l:e.l})]}function R(t,e,n){e=e||6,n=n||30;var r=f(t).toHsl(),i=360/n,o=[f(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(f(r));return o}function L(t,e){e=e||6;for(var n=f(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(f({h:r,s:i,v:o})),o=(o+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=B(t),this._roundA=l(100*this._a)/100,this},toHsv:function(){var t=g(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=g(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),r=l(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=m(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=m(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),r=l(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return b(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return _(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*F(this._r,255))+"%",g:l(100*F(this._g,255))+"%",b:l(100*F(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*F(this._r,255))+"%, "+l(100*F(this._g,255))+"%, "+l(100*F(this._b,255))+"%)":"rgba("+l(100*F(this._r,255))+"%, "+l(100*F(this._g,255))+"%, "+l(100*F(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(N[b(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+x(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=f(t);n="#"+x(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(T,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(S,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(L,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(M,arguments)}},f.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:X(t[r]));t=n}return f(t,e)},f.equals=function(t,e){return!(!t||!e)&&f(t).toRgbString()==f(e).toRgbString()},f.random=function(){return f.fromRatio({r:h(),g:h(),b:h()})},f.mix=function(t,e,n){n=0===n?0:n||50;var r=f(t).toRgb(),i=f(e).toRgb(),o=n/100;return f({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},f.readability=function(t,e){var n=f(t),r=f(e);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(t,e,n){var r,i,o=f.readability(t,e);switch(i=!1,(r=Z(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},f.mostReadable=function(t,e,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<e.length;u++)(r=f.readability(t,e[u]))>l&&(l=r,s=f(e[u]));return f.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,f.mostReadable(t,["#fff","#000"],n))};var D=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=f.hexNames=j(D);function j(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function B(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function F(t,e){U(t)&&(t="100%");var n=V(t);return t=u(e,c(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function H(t){return u(1,c(0,t))}function z(t){return parseInt(t,16)}function U(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function V(t){return"string"==typeof t&&-1!=t.indexOf("%")}function G(t){return 1==t.length?"0"+t:""+t}function X(t){return t<=1&&(t=100*t+"%"),t}function Y(t){return i.round(255*parseFloat(t)).toString(16)}function W(t){return z(t)/255}var q=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function K(t){return!!q.CSS_UNIT.exec(t)}function $(t){t=t.replace(o,"").replace(a,"").toLowerCase();var e,n=!1;if(D[t])t=D[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=q.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=q.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=q.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=q.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=q.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=q.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=q.hex8.exec(t))?{r:z(e[1]),g:z(e[2]),b:z(e[3]),a:W(e[4]),format:n?"name":"hex8"}:(e=q.hex6.exec(t))?{r:z(e[1]),g:z(e[2]),b:z(e[3]),format:n?"name":"hex"}:(e=q.hex4.exec(t))?{r:z(e[1]+""+e[1]),g:z(e[2]+""+e[2]),b:z(e[3]+""+e[3]),a:W(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=q.hex3.exec(t))&&{r:z(e[1]+""+e[1]),g:z(e[2]+""+e[2]),b:z(e[3]+""+e[3]),format:n?"name":"hex"}}function Z(t){var e,n;return"AA"!==(e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e&&(e="AA"),"small"!==(n=(t.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:e,size:n}}t.exports?t.exports=f:void 0!==(r=function(){return f}.call(e,n,e,t))&&(t.exports=r)}(Math)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Swatch=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=l(n(1)),o=l(n(13)),a=n(842),s=l(n(289));function l(t){return t&&t.__esModule?t:{default:t}}var u=13,c=e.Swatch=function(t){var e=t.color,n=t.style,a=t.onClick,l=void 0===a?function(){}:a,c=t.onHover,h=t.title,f=void 0===h?e:h,d=t.children,p=t.focus,m=t.focusStyle,v=void 0===m?{}:m,g="transparent"===e,y=(0,o.default)({default:{swatch:r({background:e,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,p?v:{})}}),b=function(t){return l(e,t)},_=function(t){return t.keyCode===u&&l(e,t)},x=function(t){return c(e,t)},T={};return c&&(T.onMouseOver=x),i.default.createElement("div",r({style:y.swatch,onClick:b,title:f,tabIndex:0,onKeyDown:_},T),d,g&&i.default.createElement(s.default,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};e.default=(0,a.handleFocus)(c)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.handleFocus=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.handleFocus=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var t,e,n;s(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=l(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},l(n,e)}return u(a,n),i(a,[{key:"render",value:function(){return o.default.createElement(e,{onFocus:this.handleFocus,onBlur:this.handleBlur},o.default.createElement(t,r({},this.props,this.state)))}}]),a}(o.default.Component)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AlphaPointer=void 0;var r=o(n(1)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.AlphaPointer=function(t){var e=t.direction,n=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===e});return r.default.createElement("div",{style:n.picker})};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Block=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(46)),s=c(n(57)),l=n(22),u=c(n(845));function c(t){return t&&t.__esModule?t:{default:t}}var h=e.Block=function(t){var e=t.onChange,n=t.onSwatchHover,i=t.hex,c=t.colors,h=t.width,f=t.triangle,d=t.styles,p=void 0===d?{}:d,m=t.className,v=void 0===m?"":m,g="transparent"===i,y=function(t,n){s.default.isValidHex(t)&&e({hex:t,source:"hex"},n)},b=(0,o.default)((0,a.default)({default:{card:{width:h,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:s.default.getContrastingColor(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},p),{"hide-triangle":"hide"===f});return r.default.createElement("div",{style:b.card,className:"block-picker "+v},r.default.createElement("div",{style:b.triangle}),r.default.createElement("div",{style:b.head},g&&r.default.createElement(l.Checkboard,{borderRadius:"6px 6px 0 0"}),r.default.createElement("div",{style:b.label},i)),r.default.createElement("div",{style:b.body},r.default.createElement(u.default,{colors:c,onClick:y,onSwatchHover:n}),r.default.createElement(l.EditableInput,{style:{input:b.input},value:i,onChange:y})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["top","hide"]),styles:i.default.object},h.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},e.default=(0,l.ColorWrap)(h)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BlockSwatches=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(70)),a=n(22);function s(t){return t&&t.__esModule?t:{default:t}}var l=e.BlockSwatches=function(t){var e=t.colors,n=t.onClick,s=t.onSwatchHover,l=(0,i.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return r.default.createElement("div",{style:l.swatches},(0,o.default)(e,(function(t){return r.default.createElement(a.Swatch,{key:t,color:t,style:l.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+t}})})),r.default.createElement("div",{style:l.clear}))};e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var r=f(n(1)),i=f(n(2)),o=f(n(13)),a=f(n(70)),s=f(n(46)),l=h(n(438)),u=n(22),c=f(n(847));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}var d=e.Circle=function(t){var e=t.width,n=t.onChange,i=t.onSwatchHover,l=t.colors,u=t.hex,h=t.circleSize,f=t.styles,d=void 0===f?{}:f,p=t.circleSpacing,m=t.className,v=void 0===m?"":m,g=(0,o.default)((0,s.default)({default:{card:{width:e,display:"flex",flexWrap:"wrap",marginRight:-p,marginBottom:-p}}},d)),y=function(t,e){return n({hex:t,source:"hex"},e)};return r.default.createElement("div",{style:g.card,className:"circle-picker "+v},(0,a.default)(l,(function(t){return r.default.createElement(c.default,{key:t,color:t,onClick:y,onSwatchHover:i,active:u===t.toLowerCase(),circleSize:h,circleSpacing:p})})))};d.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),circleSize:i.default.number,circleSpacing:i.default.number,styles:i.default.object},d.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[l.red[500],l.pink[500],l.purple[500],l.deepPurple[500],l.indigo[500],l.blue[500],l.lightBlue[500],l.cyan[500],l.teal[500],l.green[500],l.lightGreen[500],l.lime[500],l.yellow[500],l.amber[500],l.orange[500],l.deepOrange[500],l.brown[500],l.blueGrey[500]],styles:{}},e.default=(0,u.ColorWrap)(d)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.CircleSwatch=void 0;var r=s(n(1)),i=n(13),o=s(i),a=n(22);function s(t){return t&&t.__esModule?t:{default:t}}var l=e.CircleSwatch=function(t){var e=t.color,n=t.onClick,i=t.onSwatchHover,s=t.hover,l=t.active,u=t.circleSize,c=t.circleSpacing,h=(0,o.default)({default:{swatch:{width:u,height:u,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+u/2+"px "+e,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+e}}},{hover:s,active:l});return r.default.createElement("div",{style:h.swatch},r.default.createElement(a.Swatch,{style:h.Swatch,color:e,onClick:n,onHover:i,focusStyle:{boxShadow:h.Swatch.boxShadow+", 0 0 5px "+e}}))};l.defaultProps={circleSize:28,circleSpacing:14},e.default=(0,i.handleHover)(l)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Chrome=void 0;var r=h(n(1)),i=h(n(2)),o=h(n(13)),a=h(n(46)),s=n(22),l=h(n(849)),u=h(n(851)),c=h(n(852));function h(t){return t&&t.__esModule?t:{default:t}}var f=e.Chrome=function(t){var e=t.onChange,n=t.disableAlpha,i=t.rgb,h=t.hsl,f=t.hsv,d=t.hex,p=t.renderers,m=t.styles,v=void 0===m?{}:m,g=t.className,y=void 0===g?"":g,b=(0,o.default)((0,a.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},v),{disableAlpha:n});return r.default.createElement("div",{style:b.picker,className:"chrome-picker "+y},r.default.createElement("div",{style:b.saturation},r.default.createElement(s.Saturation,{style:b.Saturation,hsl:h,hsv:f,pointer:c.default,onChange:e})),r.default.createElement("div",{style:b.body},r.default.createElement("div",{style:b.controls,className:"flexbox-fix"},r.default.createElement("div",{style:b.color},r.default.createElement("div",{style:b.swatch},r.default.createElement("div",{style:b.active}),r.default.createElement(s.Checkboard,{renderers:p}))),r.default.createElement("div",{style:b.toggles},r.default.createElement("div",{style:b.hue},r.default.createElement(s.Hue,{style:b.Hue,hsl:h,pointer:u.default,onChange:e})),r.default.createElement("div",{style:b.alpha},r.default.createElement(s.Alpha,{style:b.Alpha,rgb:i,hsl:h,pointer:u.default,renderers:p,onChange:e})))),r.default.createElement(l.default,{rgb:i,hsl:h,hex:d,onChange:e,disableAlpha:n})))};f.propTypes={disableAlpha:i.default.bool,styles:i.default.object},f.defaultProps={disableAlpha:!1,styles:{}},e.default=(0,s.ColorWrap)(f)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ChromeFields=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(1)),o=u(n(13)),a=u(n(57)),s=n(22),l=u(n(850));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=e.ChromeFields=function(t){function e(){var t,n,r;c(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=h(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(t,e){t.hex?a.default.isValidHex(t.hex)&&r.props.onChange({hex:t.hex,source:"hex"},e):t.r||t.g||t.b?r.props.onChange({r:t.r||r.props.rgb.r,g:t.g||r.props.rgb.g,b:t.b||r.props.rgb.b,source:"rgb"},e):t.a?(t.a<0?t.a=0:t.a>1&&(t.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*t.a)/100,source:"rgb"},e)):(t.h||t.s||t.l)&&("string"==typeof t.s&&t.s.includes("%")&&(t.s=t.s.replace("%","")),"string"==typeof t.l&&t.l.includes("%")&&(t.l=t.l.replace("%","")),r.props.onChange({h:t.h||r.props.hsl.h,s:Number(t.s&&t.s||r.props.hsl.s),l:Number(t.l&&t.l||r.props.hsl.l),source:"hsl"},e))},r.showHighlight=function(t){t.currentTarget.style.background="#eee"},r.hideHighlight=function(t){t.currentTarget.style.background="transparent"},h(r,n)}return f(e,t),r(e,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(t){1!==t.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var t=this,e=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=i.default.createElement("div",{style:e.fields,className:"flexbox-fix"},i.default.createElement("div",{style:e.field},i.default.createElement(s.EditableInput,{style:{input:e.input,label:e.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=i.default.createElement("div",{style:e.fields,className:"flexbox-fix"},i.default.createElement("div",{style:e.field},i.default.createElement(s.EditableInput,{style:{input:e.input,label:e.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),i.default.createElement("div",{style:e.field},i.default.createElement(s.EditableInput,{style:{input:e.input,label:e.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),i.default.createElement("div",{style:e.field},i.default.createElement(s.EditableInput,{style:{input:e.input,label:e.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),i.default.createElement("div",{style:e.alpha},i.default.createElement(s.EditableInput,{style:{input:e.input,label:e.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=i.default.createElement("div",{style:e.fields,className:"flexbox-fix"},i.default.createElement("div",{style:e.field},i.default.createElement(s.EditableInput,{style:{input:e.input,label:e.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.default.createElement("div",{style:e.field},i.default.createElement(s.EditableInput,{style:{input:e.input,label:e.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:e.field},i.default.createElement(s.EditableInput,{style:{input:e.input,label:e.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:e.alpha},i.default.createElement(s.EditableInput,{style:{input:e.input,label:e.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.default.createElement("div",{style:e.wrap,className:"flexbox-fix"},n,i.default.createElement("div",{style:e.toggle},i.default.createElement("div",{style:e.icon,onClick:this.toggleViews,ref:function(e){return t.icon=e}},i.default.createElement(l.default,{style:e.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}]),e}(i.default.Component);e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var s=24;e.default=function(t){var e=t.fill,n=void 0===e?"currentColor":e,o=t.width,l=void 0===o?s:o,u=t.height,c=void 0===u?s:u,h=t.style,f=void 0===h?{}:h,d=a(t,["fill","width","height","style"]);return i.default.createElement("svg",r({viewBox:"0 0 "+s+" "+s,style:r({fill:n,width:l,height:c},f)},d),i.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ChromePointer=void 0;var r=o(n(1)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.ChromePointer=function(){var t=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:t.picker})};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ChromePointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.ChromePointerCircle=function(){var t=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return r.default.createElement("div",{style:t.picker})};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Compact=void 0;var r=f(n(1)),i=f(n(2)),o=f(n(13)),a=f(n(70)),s=f(n(46)),l=f(n(57)),u=n(22),c=f(n(854)),h=f(n(855));function f(t){return t&&t.__esModule?t:{default:t}}var d=e.Compact=function(t){var e=t.onChange,n=t.onSwatchHover,i=t.colors,f=t.hex,d=t.rgb,p=t.styles,m=void 0===p?{}:p,v=t.className,g=void 0===v?"":v,y=(0,o.default)((0,s.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},m)),b=function(t,n){t.hex?l.default.isValidHex(t.hex)&&e({hex:t.hex,source:"hex"},n):e(t,n)};return r.default.createElement(u.Raised,{style:y.Compact,styles:m},r.default.createElement("div",{style:y.compact,className:"compact-picker "+g},r.default.createElement("div",null,(0,a.default)(i,(function(t){return r.default.createElement(c.default,{key:t,color:t,active:t.toLowerCase()===f,onClick:b,onSwatchHover:n})})),r.default.createElement("div",{style:y.clear})),r.default.createElement(h.default,{hex:f,rgb:d,onChange:b})))};d.propTypes={colors:i.default.arrayOf(i.default.string),styles:i.default.object},d.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},e.default=(0,u.ColorWrap)(d)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.CompactColor=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(t){return t&&t.__esModule?t:{default:t}}var l=e.CompactColor=function(t){var e=t.color,n=t.onClick,s=void 0===n?function(){}:n,l=t.onSwatchHover,u=t.active,c=(0,i.default)({default:{color:{background:e,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o.default.getContrastingColor(e),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":"#FFFFFF"===e,transparent:"transparent"===e});return r.default.createElement(a.Swatch,{style:c.color,color:e,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+e}},r.default.createElement("div",{style:c.dot}))};e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.CompactFields=void 0;var r=a(n(1)),i=a(n(13)),o=n(22);function a(t){return t&&t.__esModule?t:{default:t}}var s=e.CompactFields=function(t){var e=t.hex,n=t.rgb,a=t.onChange,s=(0,i.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:e},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),l=function(t,e){t.r||t.g||t.b?a({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,source:"rgb"},e):a({hex:t.hex,source:"hex"},e)};return r.default.createElement("div",{style:s.fields,className:"flexbox-fix"},r.default.createElement("div",{style:s.active}),r.default.createElement(o.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:e,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:l}))};e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Github=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(70)),s=c(n(46)),l=n(22),u=c(n(857));function c(t){return t&&t.__esModule?t:{default:t}}var h=e.Github=function(t){var e=t.width,n=t.colors,i=t.onChange,l=t.onSwatchHover,c=t.triangle,h=t.styles,f=void 0===h?{}:h,d=t.className,p=void 0===d?"":d,m=(0,o.default)((0,s.default)({default:{card:{width:e,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},f),{"hide-triangle":"hide"===c,"top-left-triangle":"top-left"===c,"top-right-triangle":"top-right"===c,"bottom-left-triangle":"bottom-left"==c,"bottom-right-triangle":"bottom-right"===c}),v=function(t,e){return i({hex:t,source:"hex"},e)};return r.default.createElement("div",{style:m.card,className:"github-picker "+p},r.default.createElement("div",{style:m.triangleShadow}),r.default.createElement("div",{style:m.triangle}),(0,a.default)(n,(function(t){return r.default.createElement(u.default,{color:t,key:t,onClick:v,onSwatchHover:l})})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:i.default.object},h.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},e.default=(0,l.ColorWrap)(h)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.GithubSwatch=void 0;var r=s(n(1)),i=n(13),o=s(i),a=n(22);function s(t){return t&&t.__esModule?t:{default:t}}var l=e.GithubSwatch=function(t){var e=t.hover,n=t.color,i=t.onClick,s=t.onSwatchHover,l={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=(0,o.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:l}},{hover:e});return r.default.createElement("div",{style:u.swatch},r.default.createElement(a.Swatch,{color:n,onClick:i,onHover:s,focusStyle:l}))};e.default=(0,i.handleHover)(l)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.HuePicker=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=c(n(1)),o=c(n(2)),a=c(n(13)),s=c(n(46)),l=n(22),u=c(n(859));function c(t){return t&&t.__esModule?t:{default:t}}var h=e.HuePicker=function(t){var e=t.width,n=t.height,o=t.onChange,u=t.hsl,c=t.direction,h=t.pointer,f=t.styles,d=void 0===f?{}:f,p=t.className,m=void 0===p?"":p,v=(0,a.default)((0,s.default)({default:{picker:{position:"relative",width:e,height:n},hue:{radius:"2px"}}},d)),g=function(t){return o({a:1,h:t.h,l:.5,s:1})};return i.default.createElement("div",{style:v.picker,className:"hue-picker "+m},i.default.createElement(l.Hue,r({},v.hue,{hsl:u,pointer:h,onChange:g,direction:c})))};h.propTypes={styles:o.default.object},h.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:u.default,styles:{}},e.default=(0,l.ColorWrap)(h)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SliderPointer=void 0;var r=o(n(1)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.SliderPointer=function(t){var e=t.direction,n=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===e});return r.default.createElement("div",{style:n.picker})};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Material=void 0;var r=l(n(1)),i=l(n(13)),o=l(n(46)),a=l(n(57)),s=n(22);function l(t){return t&&t.__esModule?t:{default:t}}var u=e.Material=function(t){var e=t.onChange,n=t.hex,l=t.rgb,u=t.styles,c=void 0===u?{}:u,h=t.className,f=void 0===h?"":h,d=(0,i.default)((0,o.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},c)),p=function(t,n){t.hex?a.default.isValidHex(t.hex)&&e({hex:t.hex,source:"hex"},n):(t.r||t.g||t.b)&&e({r:t.r||l.r,g:t.g||l.g,b:t.b||l.b,source:"rgb"},n)};return r.default.createElement(s.Raised,{styles:c},r.default.createElement("div",{style:d.material,className:"material-picker "+f},r.default.createElement(s.EditableInput,{style:{wrap:d.HEXwrap,input:d.HEXinput,label:d.HEXlabel},label:"hex",value:n,onChange:p}),r.default.createElement("div",{style:d.split,className:"flexbox-fix"},r.default.createElement("div",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"r",value:l.r,onChange:p})),r.default.createElement("div",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"g",value:l.g,onChange:p})),r.default.createElement("div",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"b",value:l.b,onChange:p})))))};e.default=(0,s.ColorWrap)(u)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Photoshop=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=p(n(1)),o=p(n(2)),a=p(n(13)),s=p(n(46)),l=n(22),u=p(n(862)),c=p(n(863)),h=p(n(864)),f=p(n(865)),d=p(n(866));function p(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=e.Photoshop=function(t){function e(t){m(this,e);var n=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:t.hex},n}return g(e,t),r(e,[{key:"render",value:function(){var t=this.props,e=t.styles,n=void 0===e?{}:e,r=t.className,o=void 0===r?"":r,p=(0,a.default)((0,s.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return i.default.createElement("div",{style:p.picker,className:"photoshop-picker "+o},i.default.createElement("div",{style:p.head},this.props.header),i.default.createElement("div",{style:p.body,className:"flexbox-fix"},i.default.createElement("div",{style:p.saturation},i.default.createElement(l.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c.default,onChange:this.props.onChange})),i.default.createElement("div",{style:p.hue},i.default.createElement(l.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:h.default,onChange:this.props.onChange})),i.default.createElement("div",{style:p.controls},i.default.createElement("div",{style:p.top,className:"flexbox-fix"},i.default.createElement("div",{style:p.previews},i.default.createElement(d.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),i.default.createElement("div",{style:p.actions},i.default.createElement(f.default,{label:"OK",onClick:this.props.onAccept,active:!0}),i.default.createElement(f.default,{label:"Cancel",onClick:this.props.onCancel}),i.default.createElement(u.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(i.default.Component);y.propTypes={header:o.default.string,styles:o.default.object},y.defaultProps={header:"Color Picker",styles:{}},e.default=(0,l.ColorWrap)(y)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPicker=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(t){return t&&t.__esModule?t:{default:t}}var l=e.PhotoshopPicker=function(t){var e=t.onChange,n=t.rgb,s=t.hsv,l=t.hex,u=(0,i.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),c=function(t,r){t["#"]?o.default.isValidHex(t["#"])&&e({hex:t["#"],source:"hex"},r):t.r||t.g||t.b?e({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,source:"rgb"},r):(t.h||t.s||t.v)&&e({h:t.h||s.h,s:t.s||s.s,v:t.v||s.v,source:"hsv"},r)};return r.default.createElement("div",{style:u.fields},r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(s.h),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(a.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:l.replace("#",""),onChange:c}),r.default.createElement("div",{style:u.fieldSymbols},r.default.createElement("div",{style:u.symbol},"\xb0"),r.default.createElement("div",{style:u.symbol},"%"),r.default.createElement("div",{style:u.symbol},"%")))};e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.PhotoshopPointerCircle=function(t){var e=t.hsl,n=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":e.l>.5});return r.default.createElement("div",{style:n.picker})};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.PhotoshopPointerCircle=function(){var t=(0,i.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return r.default.createElement("div",{style:t.pointer},r.default.createElement("div",{style:t.left},r.default.createElement("div",{style:t.leftInside})),r.default.createElement("div",{style:t.right},r.default.createElement("div",{style:t.rightInside})))};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopBotton=void 0;var r=o(n(1)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.PhotoshopBotton=function(t){var e=t.onClick,n=t.label,o=t.children,a=t.active,s=(0,i.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return r.default.createElement("div",{style:s.button,onClick:e},n||o)};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPreviews=void 0;var r=o(n(1)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.PhotoshopPreviews=function(t){var e=t.rgb,n=t.currentColor,o=(0,i.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+e.r+","+e.g+", "+e.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return r.default.createElement("div",null,r.default.createElement("div",{style:o.label},"new"),r.default.createElement("div",{style:o.swatches},r.default.createElement("div",{style:o.new}),r.default.createElement("div",{style:o.current})),r.default.createElement("div",{style:o.label},"current"))};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Sketch=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=h(n(1)),o=h(n(2)),a=h(n(13)),s=h(n(46)),l=n(22),u=h(n(868)),c=h(n(869));function h(t){return t&&t.__esModule?t:{default:t}}var f=e.Sketch=function(t){var e=t.width,n=t.rgb,o=t.hex,h=t.hsv,f=t.hsl,d=t.onChange,p=t.onSwatchHover,m=t.disableAlpha,v=t.presetColors,g=t.renderers,y=t.styles,b=void 0===y?{}:y,_=t.className,x=void 0===_?"":_,T=(0,a.default)((0,s.default)({default:r({picker:{width:e,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},b),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},b),{disableAlpha:m});return i.default.createElement("div",{style:T.picker,className:"sketch-picker "+x},i.default.createElement("div",{style:T.saturation},i.default.createElement(l.Saturation,{style:T.Saturation,hsl:f,hsv:h,onChange:d})),i.default.createElement("div",{style:T.controls,className:"flexbox-fix"},i.default.createElement("div",{style:T.sliders},i.default.createElement("div",{style:T.hue},i.default.createElement(l.Hue,{style:T.Hue,hsl:f,onChange:d})),i.default.createElement("div",{style:T.alpha},i.default.createElement(l.Alpha,{style:T.Alpha,rgb:n,hsl:f,renderers:g,onChange:d}))),i.default.createElement("div",{style:T.color},i.default.createElement(l.Checkboard,null),i.default.createElement("div",{style:T.activeColor}))),i.default.createElement(u.default,{rgb:n,hsl:f,hex:o,onChange:d,disableAlpha:m}),i.default.createElement(c.default,{colors:v,onClick:d,onSwatchHover:p}))};f.propTypes={disableAlpha:o.default.bool,width:o.default.oneOfType([o.default.string,o.default.number]),styles:o.default.object},f.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},e.default=(0,l.ColorWrap)(f)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SketchFields=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(t){return t&&t.__esModule?t:{default:t}}var l=e.SketchFields=function(t){var e=t.onChange,n=t.rgb,s=t.hsl,l=t.hex,u=t.disableAlpha,c=(0,i.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),h=function(t,r){t.hex?o.default.isValidHex(t.hex)&&e({hex:t.hex,source:"hex"},r):t.r||t.g||t.b?e({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,a:n.a,source:"rgb"},r):t.a&&(t.a<0?t.a=0:t.a>100&&(t.a=100),t.a/=100,e({h:s.h,s:s.s,l:s.l,a:t.a,source:"rgb"},r))};return r.default.createElement("div",{style:c.fields,className:"flexbox-fix"},r.default.createElement("div",{style:c.double},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"hex",value:l.replace("#",""),onChange:h})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"r",value:n.r,onChange:h,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"g",value:n.g,onChange:h,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"b",value:n.b,onChange:h,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.alpha},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"a",value:Math.round(100*n.a),onChange:h,dragLabel:"true",dragMax:"100"})))};e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SketchPresetColors=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=l(n(1)),o=l(n(2)),a=l(n(13)),s=n(22);function l(t){return t&&t.__esModule?t:{default:t}}var u=e.SketchPresetColors=function(t){var e=t.colors,n=t.onClick,o=void 0===n?function(){}:n,l=t.onSwatchHover,u=(0,a.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!e||!e.length}),c=function(t,e){o({hex:t,source:"hex"},e)};return i.default.createElement("div",{style:u.colors,className:"flexbox-fix"},e.map((function(t){var e="string"==typeof t?{color:t}:t,n=""+e.color+(e.title||"");return i.default.createElement("div",{key:n,style:u.swatchWrap},i.default.createElement(s.Swatch,r({},e,{style:u.swatch,onClick:c,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+e.color}})))})))};u.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(46)),s=n(22),l=c(n(871)),u=c(n(873));function c(t){return t&&t.__esModule?t:{default:t}}var h=e.Slider=function(t){var e=t.hsl,n=t.onChange,i=t.pointer,u=t.styles,c=void 0===u?{}:u,h=t.className,f=void 0===h?"":h,d=(0,o.default)((0,a.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},c));return r.default.createElement("div",{style:d.wrap||"",className:"slider-picker "+f},r.default.createElement("div",{style:d.hue},r.default.createElement(s.Hue,{style:d.Hue,hsl:e,pointer:i,onChange:n})),r.default.createElement("div",{style:d.swatches},r.default.createElement(l.default,{hsl:e,onClick:n})))};h.propTypes={styles:i.default.object},h.defaultProps={pointer:u.default,styles:{}},e.default=(0,s.ColorWrap)(h)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SliderSwatches=void 0;var r=a(n(1)),i=a(n(13)),o=a(n(872));function a(t){return t&&t.__esModule?t:{default:t}}var s=e.SliderSwatches=function(t){var e=t.onClick,n=t.hsl,a=(0,i.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return r.default.createElement("div",{style:a.swatches},r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100===.8&&Math.round(100*n.s)/100===.5,onClick:e,first:!0})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100===.65&&Math.round(100*n.s)/100===.5,onClick:e})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100===.5&&Math.round(100*n.s)/100===.5,onClick:e})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100===.35&&Math.round(100*n.s)/100===.5,onClick:e})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100===.2&&Math.round(100*n.s)/100===.5,onClick:e,last:!0})),r.default.createElement("div",{style:a.clear}))};e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SliderSwatch=void 0;var r=o(n(1)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.SliderSwatch=function(t){var e=t.hsl,n=t.offset,o=t.onClick,a=void 0===o?function(){}:o,s=t.active,l=t.first,u=t.last,c=(0,i.default)({default:{swatch:{height:"12px",background:"hsl("+e.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:l,last:u}),h=function(t){return a({h:e.h,s:.5,l:n,source:"hsl"},t)};return r.default.createElement("div",{style:c.swatch,onClick:h})};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SliderPointer=void 0;var r=o(n(1)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.SliderPointer=function(){var t=(0,i.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:t.picker})};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Swatches=void 0;var r=d(n(1)),i=d(n(2)),o=d(n(13)),a=d(n(70)),s=d(n(46)),l=d(n(57)),u=f(n(438)),c=n(22),h=d(n(875));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var p=e.Swatches=function(t){var e=t.width,n=t.height,i=t.onChange,u=t.onSwatchHover,f=t.colors,d=t.hex,p=t.styles,m=void 0===p?{}:p,v=t.className,g=void 0===v?"":v,y=(0,o.default)((0,s.default)({default:{picker:{width:e,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},m)),b=function(t,e){l.default.isValidHex(t)&&i({hex:t,source:"hex"},e)};return r.default.createElement("div",{style:y.picker,className:"swatches-picker "+g},r.default.createElement(c.Raised,null,r.default.createElement("div",{style:y.overflow},r.default.createElement("div",{style:y.body},(0,a.default)(f,(function(t){return r.default.createElement(h.default,{key:t.toString(),group:t,active:d,onClick:b,onSwatchHover:u})})),r.default.createElement("div",{style:y.clear})))))};p.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),height:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.arrayOf(i.default.string)),styles:i.default.object},p.defaultProps={width:320,height:240,colors:[[u.red[900],u.red[700],u.red[500],u.red[300],u.red[100]],[u.pink[900],u.pink[700],u.pink[500],u.pink[300],u.pink[100]],[u.purple[900],u.purple[700],u.purple[500],u.purple[300],u.purple[100]],[u.deepPurple[900],u.deepPurple[700],u.deepPurple[500],u.deepPurple[300],u.deepPurple[100]],[u.indigo[900],u.indigo[700],u.indigo[500],u.indigo[300],u.indigo[100]],[u.blue[900],u.blue[700],u.blue[500],u.blue[300],u.blue[100]],[u.lightBlue[900],u.lightBlue[700],u.lightBlue[500],u.lightBlue[300],u.lightBlue[100]],[u.cyan[900],u.cyan[700],u.cyan[500],u.cyan[300],u.cyan[100]],[u.teal[900],u.teal[700],u.teal[500],u.teal[300],u.teal[100]],["#194D33",u.green[700],u.green[500],u.green[300],u.green[100]],[u.lightGreen[900],u.lightGreen[700],u.lightGreen[500],u.lightGreen[300],u.lightGreen[100]],[u.lime[900],u.lime[700],u.lime[500],u.lime[300],u.lime[100]],[u.yellow[900],u.yellow[700],u.yellow[500],u.yellow[300],u.yellow[100]],[u.amber[900],u.amber[700],u.amber[500],u.amber[300],u.amber[100]],[u.orange[900],u.orange[700],u.orange[500],u.orange[300],u.orange[100]],[u.deepOrange[900],u.deepOrange[700],u.deepOrange[500],u.deepOrange[300],u.deepOrange[100]],[u.brown[900],u.brown[700],u.brown[500],u.brown[300],u.brown[100]],[u.blueGrey[900],u.blueGrey[700],u.blueGrey[500],u.blueGrey[300],u.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},e.default=(0,c.ColorWrap)(p)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SwatchesGroup=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(70)),a=s(n(876));function s(t){return t&&t.__esModule?t:{default:t}}var l=e.SwatchesGroup=function(t){var e=t.onClick,n=t.onSwatchHover,s=t.group,l=t.active,u=(0,i.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return r.default.createElement("div",{style:u.group},(0,o.default)(s,(function(t,i){return r.default.createElement(a.default,{key:t,color:t,active:t.toLowerCase()===l,first:0===i,last:i===s.length-1,onClick:e,onSwatchHover:n})})))};e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SwatchesColor=void 0;var r=l(n(1)),i=l(n(13)),o=l(n(57)),a=n(22),s=l(n(877));function l(t){return t&&t.__esModule?t:{default:t}}var u=e.SwatchesColor=function(t){var e=t.color,n=t.onClick,l=void 0===n?function(){}:n,u=t.onSwatchHover,c=t.first,h=t.last,f=t.active,d=(0,i.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:e,marginBottom:"1px"},check:{color:o.default.getContrastingColor(e),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:c,last:h,active:f,"color-#FFFFFF":"#FFFFFF"===e,transparent:"transparent"===e});return r.default.createElement(a.Swatch,{color:e,style:d.color,onClick:l,onHover:u,focusStyle:{boxShadow:"0 0 4px "+e}},r.default.createElement("div",{style:d.check},r.default.createElement(s.default,null)))};e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var s=24;e.default=function(t){var e=t.fill,n=void 0===e?"currentColor":e,o=t.width,l=void 0===o?s:o,u=t.height,c=void 0===u?s:u,h=t.style,f=void 0===h?{}:h,d=a(t,["fill","width","height","style"]);return i.default.createElement("svg",r({viewBox:"0 0 "+s+" "+s,style:r({fill:n,width:l,height:c},f)},d),i.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Twitter=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(70)),s=c(n(46)),l=c(n(57)),u=n(22);function c(t){return t&&t.__esModule?t:{default:t}}var h=e.Twitter=function(t){var e=t.onChange,n=t.onSwatchHover,i=t.hex,c=t.colors,h=t.width,f=t.triangle,d=t.styles,p=void 0===d?{}:d,m=t.className,v=void 0===m?"":m,g=(0,o.default)((0,s.default)({default:{card:{width:h,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},p),{"hide-triangle":"hide"===f,"top-left-triangle":"top-left"===f,"top-right-triangle":"top-right"===f}),y=function(t,n){l.default.isValidHex(t)&&e({hex:t,source:"hex"},n)};return r.default.createElement("div",{style:g.card,className:"twitter-picker "+v},r.default.createElement("div",{style:g.triangleShadow}),r.default.createElement("div",{style:g.triangle}),r.default.createElement("div",{style:g.body},(0,a.default)(c,(function(t,e){return r.default.createElement(u.Swatch,{key:e,color:t,hex:t,style:g.swatch,onClick:y,onHover:n,focusStyle:{boxShadow:"0 0 4px "+t}})})),r.default.createElement("div",{style:g.hash},"#"),r.default.createElement(u.EditableInput,{style:{input:g.input},value:i.replace("#",""),onChange:y}),r.default.createElement("div",{style:g.clear})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),triangle:i.default.oneOf(["hide","top-left","top-right"]),colors:i.default.arrayOf(i.default.string),styles:i.default.object},h.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},e.default=(0,u.ColorWrap)(h)},function(t,e,n){},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TRACKS_INFO=void 0;var r=s(n(881)),i=s(n(44)),o=n(327),a=n(266);function s(t){return t&&t.__esModule?t:{default:t}}var l={type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},u={type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["style","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{style:"mapbox.streets",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},c=e.TRACKS_INFO=[l,(0,i.default)({},l,{type:"osm"}),u,(0,i.default)({},u,{type:"mapbox"}),{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:a.svgVertical1DAxisIcon,availableOptions:["minWidth"],defaultOptions:{minWidth:100}},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:a.svg1DAxisIcon,defaultOptions:{}},{type:"horizontal-rule",datatype:["x-coord"],local:!0,orientation:"whole",name:"Horizontal Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"vertical-rule",datatype:["y-coord"],local:!0,orientation:"whole",name:"Vertical Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"cross-rule",datatype:["xy-coord"],local:!0,orientation:"whole",name:"Cross Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"simple-svg",datatype:[],local:!1,orientation:"2d",exportable:!0,availableOptions:["minWidth","minHeight"],defaultOptions:{minWidth:100,minHeight:100}},{type:"heatmap",datatype:["matrix"],local:!1,orientation:"2d",thumbnail:a.svg2DHeatmapIcon,exportable:!0,availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","colorbarBackgroundColor","maxZoom","minWidth","minHeight","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling","showMousePosition","mousePositionColor","showTooltip","extent","zeroValueColor"],defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],colorbarBackgroundColor:"#ffffff",maxZoom:null,minWidth:100,minHeight:100,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1,extent:"full",zeroValueColor:null},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{backgroundColor:"#000000",colorRange:["black","rgba(208,2,27,1.0)","rgba(245,166,35,1.0)","white"],colorbarBackgroundColor:"#000000",labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"linear-heatmap",aliases:["horizontal-heatmap","vertical-heatmap"],datatype:["matrix"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svg2DHeatmapIcon,defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,minWidth:100,minHeight:40,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","minWidth","minHeight","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"line",aliases:["horizontal-line","vertical-line"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svgHorizontalLineIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","lineStrokeWidth","lineStrokeColor","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode","minHeight"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelBackgroundColor:"white",labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,minHeight:20,mousePositionColor:"#000000",showTooltip:!1},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"1d-heatmap",aliases:["horizontal-1d-heatmap","vertical-1d-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svgHorizontal1dHeatmap,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin","colorRange","valueScaling","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1}},{type:"vector-heatmap",aliases:["horizontal-vector-heatmap","vertical-vector-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,minHeight:1,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"multivec",aliases:["horizontal-multivec","vertical-multivec"],datatype:["multivec"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minHeight","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling","selectRows","selectRowsAggregationMode","selectRowsAggregationWithRelativeHeight","selectRowsAggregationMethod","colorbarBackgroundColor","colorbarPosition","zeroValueColor"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,minHeight:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",selectRows:null,selectRowsAggregationMode:"mean",selectRowsAggregationWithRelativeHeight:!0,selectRowsAggregationMethod:"client",colorbarBackgroundColor:"#ffffff",colorbarPosition:"topRight",zeroValueColor:null},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{colorbarBackgroundColor:"#000000"})},{type:"point",aliases:["horizontal-point","vertical-point"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"divergent-bar",aliases:["horizontal-divergent-bar","vertical-divergent-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",axisLabelFormatting:"scientific",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"bar",aliases:["horizontal-bar","vertical-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["align","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColor","colorRange","colorRangeGradient","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","barOpacity","showMousePosition","showTooltip","aggregationMode","zeroLineVisible","zeroLineColor","zeroLineOpacity"],defaultOptions:{align:"bottom",labelColor:"[glyph-color]",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:a.svg2DTilesIcon},{type:"1d-value-interval",aliases:["horizontal-1d-value-interval","vertical-1d-value-interval"],datatype:["bed-value"],local:!1,orientation:["1d-horizontal"],rotatable:!0,name:"1D Rectangles",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"stacked-interval",aliases:["top-stacked-interval","left-stacked-interval"],datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,projection:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"gene-annotations",aliases:["horizontal-gene-annotations","vertical-gene-annotations"],datatype:["gene-annotation"],local:!1,defaultHeight:90,defaultWidth:90,rotatable:!0,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:a.svgGeneAnnotationsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","minHeight","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor","showMousePosition","mousePositionColor","fontSize","geneAnnotationHeight","geneLabelPosition","geneStrandSpacing"],defaultOptions:{fontSize:10,labelColor:"black",labelBackgroundColor:"#ffffff",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:24,plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black",showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff",plusStrandColor:"#40a0ff"})},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"linear-2d-rectangle-domains",aliases:["horizontal-2d-rectangle-domains","vertical-2d-rectangle-domains"],datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"Horizontal 2D Rectangle Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["flipDiagonal","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainFillOpacity","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{flipDiagonal:"none",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainFillOpacity:.4,rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"horizontal-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokePos","regions"],defaultOptions:{fill:"red",fillOpacity:.2,stroke:"red",strokeOpacity:0,strokeWidth:1,regions:[],strokePos:[]}},{type:"vertical-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","regions"],defaultOptions:{fill:"red",fillOpacity:"0.2",stroke:"red",strokeOpacity:"0",regions:[]}},{type:"2d-annotations",datatype:["2d-annotations"],local:!1,orientation:"2d",name:"2D Annotations",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize","isClickable","hoverColor","selectColor","exclude","trackBorderBgWidth","trackBorderBgColor","trackBorderBgAlpha"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none",isClickable:!1,hoverColor:"orange",selectColor:"fuchsia",exclude:[],trackBorderBgWidth:0,trackBorderBgColor:"black",trackBorderBgAlpha:.33}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"horizontal-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-horizontal",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"vertical-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-vertical",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",datatype:["chromsizes"],local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"chromosome-labels",aliases:["horizontal-chromosome-labels","vertical-chromosome-labels"],datatype:["chromsizes"],orientation:"1d-horizontal",rotatable:!0,minHeight:35,defaultHeight:30,name:"Chromosome Axis",thumbnail:null,availableOptions:["color","stroke","fontSize","fontIsLeftAligned","showMousePosition","mousePositionColor","tickPositions","tickFormat","reverseOrientation"],defaultOptions:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000",reverseOrientation:!1},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{color:"#808080",stroke:"#000000",mousePositionColor:"#ffffff"})},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:a.svgVertical1DTilesIcon},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:a.svg1DTilesIcon},{type:"osm-2d-tile-ids",datatype:["map-tiles"],local:!1,orientation:"2d",name:"OSM Tile Outlines",thumbnail:a.svg2DTilesIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"raster-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Raster Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"image-tiles",datatype:["image-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Image Tiles",thumbnail:null},{type:"bedlike",datatype:["bedlike"],aliases:["vertical-bedlike"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"BED-like track",thumbnail:null,availableOptions:["alternating","annotationHeight","annotationStyle","fillColor","fillOpacity","fontColor","fontSize","minusStrandColor","plusStrandColor","labelBottomMargin","labelColor","labelLeftMargin","labelPosition","labelRightMargin","labelTopMargin","labelTextOpacity","labelBackgroundOpacity","maxAnnotationHeight","minHeight","trackBorderWidth","trackBorderColor","valueColumn","colorEncoding","colorRange","colorEncodingRange","separatePlusMinusStrands","showTexts","axisPositionHorizontal","axisMargin"],defaultOptions:{alternating:!1,annotationStyle:"box",fillColor:"blue",fillOpacity:.3,fontSize:"10",axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:20,maxAnnotationHeight:null,trackBorderWidth:0,trackBorderColor:"black",valueColumn:null,colorEncoding:"itemRgb",showTexts:!1,colorRange:["#000000","#652537","#bf5458","#fba273","#ffffe0"],colorEncodingRange:!1,separatePlusMinusStrands:!0,annotationHeight:16}},{type:"empty",datatype:[],orientation:"1d-horizontal",name:"Empty track",thumbnail:null,availableOptions:[],defaultOptions:{}}];e.default=c},function(t,e,n){e.__esModule=!0;var r=i(n(131));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,n){return e in t?(0,r.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TRACKS_INFO_BY_TYPE=void 0;var r=o(n(17)),i=n(11);function o(t){return t&&t.__esModule?t:{default:t}}var a=e.TRACKS_INFO_BY_TYPE=i.TRACKS_INFO.reduce((function(t,e){if(t[e.type]=e,e.aliases){var n=!0,i=!1,o=void 0;try{for(var a,s=(0,r.default)(e.aliases);!(n=(a=s.next()).done);n=!0)t[a.value]=e}catch(l){i=!0,o=l}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}}return t}),{});e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.POSITIONS_BY_DATATYPE=void 0;var r=o(n(38)),i=n(11);function o(t){return t&&t.__esModule?t:{default:t}}var a=e.POSITIONS_BY_DATATYPE=i.TRACKS_INFO.reduce((function(t,e){for(var n=0;n<e.datatype.length;n++){var i=e.datatype[n];return t[i]?t[i].add(e.orientation):t[i]=new r.default,t}return{}}),{});e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=e.DEFAULT_TRACKS_FOR_DATATYPE={chromsizes:{center:"2d-chromosome-grid",top:"chromosome-labels",left:"chromosome-labels",bottom:"chromosome-labels",right:"chromosome-labels"},matrix:{center:"heatmap",top:"linear-heatmap",left:"linear-heatmap",right:"linear-heatmap",bottom:"linear-heatmap"},vector:{top:"bar",bottom:"bar",left:"bar",right:"bar"},"geo-json":{center:"geo-json"},"gene-annotation":{top:"gene-annotations",bottom:"gene-annotations",left:"gene-annotations",right:"gene-annotations"},bedlike:{top:"bedlike",bottom:"bedlike",left:"vertical-bedlike",right:"vertical-bedlike"}};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=Ct(n(8)),i=Ct(n(316)),o=Ct(n(83)),a=Ct(n(9)),s=Ct(n(84)),l=Ct(n(104)),u=Ct(n(20)),c=Ct(n(1080)),h=Ct(n(1082)),f=Ct(n(1081)),d=Ct(n(28)),p=Ct(n(0)),m=Ct(n(85)),v=Ct(n(157)),g=kt(n(26)),y=n(81),b=Ct(n(11)),_=Ct(n(10)),x=kt(n(365)),T=kt(n(364)),w=kt(n(363)),S=kt(n(259)),E=kt(n(352)),k=kt(n(362)),C=kt(n(370)),A=kt(n(368)),O=kt(n(369)),P=kt(n(256)),M=kt(n(378)),I=kt(n(360)),R=kt(n(135)),L=kt(n(361)),D=kt(n(366)),N=kt(n(371)),j=kt(n(260)),B=kt(n(372)),F=kt(n(116)),H=kt(n(359)),z=kt(n(358)),U=kt(n(377)),V=kt(n(115)),G=kt(n(392)),X=kt(n(394)),Y=kt(n(254)),W=kt(n(347)),q=kt(n(348)),K=kt(n(351)),$=kt(n(380)),Z=kt(n(265)),Q=kt(n(379)),J=kt(n(141)),tt=kt(n(357)),et=kt(n(40)),nt=kt(n(381)),rt=kt(n(80)),it=kt(n(367)),ot=kt(n(255)),at=kt(n(79)),st=kt(n(350)),lt=kt(n(177)),ut=kt(n(373)),ct=kt(n(262)),ht=kt(n(349)),ft=kt(n(396)),dt=kt(n(374)),pt=kt(n(886)),mt=kt(n(375)),vt=kt(n(376)),gt=kt(n(67)),yt=kt(n(245)),bt=kt(n(887)),_t=Ct(n(24)),xt=kt(n(73)),Tt=kt(n(140)),wt=kt(n(383)),St=kt(n(389)),Et=kt(n(382));function kt(t){return t&&t.__esModule?t:{default:t}}function Ct(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var At={d3Array:r,d3Axis:i,d3Brush:o,d3Color:a,d3Drag:s,d3Dsv:l,d3Format:u,d3Geo:c,d3Queue:h,d3Request:f,d3Scale:d,d3Selection:p,d3Transition:m,d3Zoom:v,PIXI:b.GLOBALS.PIXI,mix:y.mix,slugid:g.default},Ot={Annotations1dTrack:x.default,Annotations2dTrack:T.default,ArrowheadDomainsTrack:w.default,BarTrack:S.default,BedLikeTrack:E.default,CNVIntervalTrack:k.default,Chromosome2DAnnotations:C.default,Chromosome2DLabels:A.default,ChromosomeGrid:O.default,CombinedTrack:P.default,CrossRule:M.default,DivergentBarTrack:I.default,HeatmapTiledPixiTrack:R.default,Horizontal1dHeatmapTrack:L.default,Horizontal2DDomainsTrack:D.default,HorizontalChromosomeLabels:N.default,HorizontalGeneAnnotationsTrack:j.default,HorizontalHeatmapTrack:B.default,HorizontalLine1DPixiTrack:F.default,HorizontalMultivecTrack:H.default,HorizontalPoint1DPixiTrack:z.default,HorizontalRule:U.default,HorizontalTiled1DPixiTrack:V.default,HorizontalTiledPlot:G.default,HorizontalTrack:X.default,Id2DTiledPixiTrack:Y.default,IdHorizontal1DTiledPixiTrack:W.default,IdVertical1DTiledPixiTrack:q.default,LeftAxisTrack:K.default,MapboxTilesTrack:$.default,MoveableTrack:Z.default,OSMTileIdsTrack:Q.default,OSMTilesTrack:J.default,OverlayTrack:tt.default,PixiTrack:et.default,RasterTilesTrack:nt.default,SVGTrack:rt.default,SquareMarkersTrack:it.default,Tiled1DPixiTrack:ot.default,TiledPixiTrack:at.default,TopAxisTrack:st.default,Track:lt.default,ValueIntervalTrack:ut.default,VerticalRule:ct.default,VerticalTiled1DPixiTrack:ht.default,VerticalTrack:ft.default,ViewportTracker2D:dt.default,ViewportTracker2DPixi:pt.default,ViewportTrackerHorizontal:mt.default,ViewportTrackerVertical:vt.default},Pt={ContextMenuItem:gt.default,DataFetcher:yt.default,LruCache:bt.default},Mt={ChromosomeInfo:xt.default,SearchField:Tt.default},It={DataFetcher:yt.default,GBKDataFetcher:wt.default,LocalDataFetcher:St.default,getDataFetcher:Et.default};e.default={chromosomes:Mt,libraries:At,tracks:Ot,dataFetchers:It,factories:Pt,services:_t,utils:_,configs:b,VERSION:"1.11.11"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=c(n(26));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,n){(0,i.default)(this,e);var o=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t,n)),s=t.registerViewportChanged,l=t.removeViewportChanged,c=u.default.nice();return o.uid=c,o.removeViewportChanged=l,o.viewportXDomain=null,o.viewportYDomain=null,s(c,o.viewportChanged.bind(o)),o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"viewportChanged",value:function(){function t(t,e){var n=t.domain(),r=e.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return t}()},{key:"draw",value:function(){function t(){var t=this.pMain;if(this.viewportXDomain&&this.viewportYDomain){t.clear(),t.lineStyle(1,255,1),t.beginFill(16740363,1);var e=this._xScale(this.viewportXDomain[0]),n=this._yScale(this.viewportYDomain[0]),r=this._xScale(this.viewportXDomain[1])-this._xScale(this.viewportXDomain[0]),i=this._yScale(this.viewportYDomain[1])-this._yScale(this.viewportYDomain[0]);this.pMain.drawRect(e,n,r,i)}}return t}()},{key:"zoomed",value:function(){function t(t,e){this.xScale(t),this.yScale(e),this.draw()}return t}()},{key:"setPosition",value:function(){function t(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"setPosition",this).call(this,t),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.draw()}return t}()}]),e}(c(n(40)).default);e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(888);function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"default",{enumerable:!0,get:function(){function t(){return i(r).default}return t}()})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(44)),i=a(n(94)),o=a(n(18));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){this.size=0,this.limit=t,this._keymap={}}function l(t,e){var n={key:t,value:e};if(this._keymap[t]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit)return this.shift();this.size+=1}function u(){var t=this.head;return t&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):(this.head=void 0,this.tail=void 0),t.newer=void 0,t.older=void 0,delete this._keymap[t.key],this.size-=1),t}function c(t,e){var n=this._keymap[t];if(void 0!==n)return n===this.tail||(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n),e?n:n.value}function h(t){return this._keymap[t]}function f(t,e){var n=this.get(t,!0),r=void 0;return n?(r=n.value,n.value=e):(r=this.put(t,e))&&(r=r.value),r}function d(t){var e=this._keymap[t];if(e)return delete this._keymap[e.key],e.newer&&e.older?(e.older.newer=e.newer,e.newer.older=e.older):e.newer?(e.newer.older=void 0,this.head=e.newer):e.older?(e.older.newer=void 0,this.tail=e.older):(this.head=void 0,this.tail=void 0),this.size-=1,e.value}function p(){this.head=void 0,this.tail=void 0,this.size=0,this._keymap={}}function m(){return(0,o.default)(this._keymap)}function v(t,e,n){var r=void 0;if(!0===e?(n=!0,e=void 0):"object"!==(typeof e>"u"?"undefined":(0,i.default)(e))&&(e=this),n)for(r=this.tail;r;)t.call(e,r.key,r.value,this),r=r.older;else for(r=this.head;r;)t.call(e,r.key,r.value,this),r=r.newer}function g(){for(var t=[],e=this.head;e;)t.push({key:e.key.toJSON(),value:e.value.toJSON()}),e=e.newer;return t}function y(){for(var t="",e=this.head;e;)t+=String(String(e.key))+":"+String(e.value),(e=e.newer)&&(t+=" < ");return t}(0,r.default)(s.prototype,{put:l,get:c,find:h,keys:m,set:f,shift:u,remove:d,removeAll:p,forEach:v,toJSON:g,toString:y}),e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AVAILABLE_TRACK_TYPES=void 0;var r=l(n(17)),i=l(n(25)),o=l(n(37)),a=l(n(38)),s=n(11);function l(t){return t&&t.__esModule?t:{default:t}}var u=e.AVAILABLE_TRACK_TYPES=function(t,e){var n=(0,s.DATATYPE_TO_TRACK_TYPE)(e),l=new a.default((0,o.default)(n).flatMap((function(t){return t}))),u=function(t){var e=new a.default(t);l=new a.default([].concat((0,i.default)(l)).filter((function(t){return t.datatype.filter((function(t){return e.has(t)})).length>0})))},c=!0,h=!1,f=void 0;try{for(var d,p=(0,r.default)(t);!(c=(d=p.next()).done);c=!0)u(d.value)}catch(m){h=!0,f=m}finally{try{!c&&p.return&&p.return()}finally{if(h)throw f}}return[].concat((0,i.default)(l))};e.default=u},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(0,r(n(439)).default)((function(t,e){return t.concat(e)}),[]);e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return function(e){return Array.prototype.forEach.call(e,t)}};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(323));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t,e){e.dispatchEvent((0,r.default)(t))};e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=function(t,e){return[(0,r.chrToAbs)(t[0],t[1],e),(0,r.chrToAbs)(t[2],t[3],e)]};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(19));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,i,o){var a=e.chr,s=e.pos,l=n.chr,u=n.pos,c=[];if(a===l){var h=a,f=Math.floor(s/i),d=Math.min(f+o,Math.ceil(u/i));c.push([h,f,d])}else for(var p=o,m=t.findIndex((function(t){return(0,r.default)(t,1)[0]===a})),v=t.findIndex((function(t){return(0,r.default)(t,1)[0]===l})),g=m;g<=v;g++){var y=void 0,b=void 0,_=(0,r.default)(t[g],2),x=_[0],T=_[1];g<v?(y=g===m?s:0,b=T):(y=0,b=u);var w=Math.floor(y/i),S=Math.min(w+p,Math.ceil(b/i));c.push([x,w,S]),p-=S-w}return c}e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=function(t,e,n){if(0!==n.length){if(1===n.length)return n[0];var i=n[0],o=void 0!==r.DEFAULT_TRACKS_FOR_DATATYPE[t]?r.DEFAULT_TRACKS_FOR_DATATYPE[t][e]:void 0;return void 0!==o&&(i=n.find((function(t){return t.type===o}))||i),i}};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(440));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){return r.default.listen(),[t.clientWidth,t.clientHeight]};e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(18));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t,e){var n=null,i=function t(r){return r.uid===e&&(n=r),"combined"===r.type.substr(0,8)&&r.contents.forEach(t),null};return(0,r.default)(t).map((function(e){return t[e]})).filter((function(t){return t.filter})).reduce((function(t,e){return t.concat(e)}),[]).forEach(i),n};e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(18));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t,e,n){var i=t.state.views[e];if(!i)return null;var o=null,a=function t(e){return e.uid===n&&(o=e),"combined"===e.type.substr(0,8)&&e.contents.forEach(t),null},s=i.tracks;return(0,r.default)(s).map((function(t){return s[t]})).filter((function(t){return t.filter})).reduce((function(t,e){return t.concat(e)}),[]).forEach(a),o};e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(37));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t,e,n){var i=e?t[e]:(0,r.default)(t)[0];if(i){var o=i.trackRenderer.trackDefObjects[n];return o?o=o.trackObject:(0,r.default)(i.trackRenderer.trackDefObjects).map((function(t){return t.trackObject})).filter((function(t){return t.childTracks})).forEach((function(t){t.createdTracks[n]&&(o=t.createdTracks[n])})),o}console.warn(e?"Could't find view with id \""+String(e)+'"':"No views available.")};e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(443));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t,e){var n=null;return(0,r.default)(t,(function(t,r){t.uid===e&&(n=r)})),n};e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,s=document.createElement("canvas");s.width=e,s.height=n;var l=s.getContext("2d"),u=l.createLinearGradient(r,i,o,a);return t.forEach((function(t){u.addColorStop(t.from,t.color)})),l.fillStyle=u,l.fillRect(0,0,e,n),s};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){for(var n=t;n&&n!==e&&"HTML"!==n.tagName;)n=n.parentNode;return n===e};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return parseInt(t.replace(/^#/,""),16)};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(18)),i=o(n(256));function o(t){return t&&t.__esModule?t:{default:t}}var a=function t(e,n){return n===e||n instanceof i.default&&(0,r.default)(n.createdTracks).map((function(t){return n.createdTracks[t]})).some((function(n){return t(e,n)}))};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n,r,i,o){return arguments.length>6&&void 0!==arguments[6]&&arguments[6]?t>=n&&t<=r||e>=i&&e<=o:t>=n&&t<=r&&e>=i&&e<=o};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=e.invGudermannian=function(t){return Math.log(Math.tan((t+Math.PI/2)/2))},i=function(t,e){var n=t*Math.PI/180;return n=r(n),Math.pow(2,e)*(Math.PI-n)/(2*Math.PI)};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(24),i=n(10),o=function(t){return(0,i.objVals)(t).map((function(t){return t.chromInfoPath})).forEach((function(t){return r.chromInfo.get(t)}))};e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return Math.pow(2,e)*(t+180)/360};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return t>e?t:e};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(63));function i(t){return t&&t.__esModule?t:{default:t}}e.default=a;var o=1e-7;function a(t){for(var e=r.default,n=0;n<t.length;n++){var i=t[n];i<o&&i>-o||i>e&&(e=i)}return e}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return t<e?t:e};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(55));function i(t){return t&&t.__esModule?t:{default:t}}e.default=a;var o=1e-7;function a(t){for(var e=r.default,n=0;n<t.length;n++){var i=t[n];i<o&&i>-o||i<e&&(e=i)}return e}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return(t%e+e)%e};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(30));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t,e){var n=+e;if((0,r.default)(n)){var i=t.shape[0],o=t.shape[1],a=e.shape[0],s=e.shape[1];if(i!==a||o!==s)return void console.warn("Cannot assign source to target ndarray as the dimensions do not match",i,a,o,s);if(1===t.dimension)for(var l=0;l<t.shape[0];++l)t.set(l,e.get(l));else for(var u=0;u<t.shape[0];++u)for(var c=0;c<t.shape[1];++c)t.set(u,c,e.get(u,c))}else if(1===t.dimension)for(var h=0;h<t.shape[0];++h)t.set(h,n);else for(var f=0;f<t.shape[0];++f)for(var d=0;d<t.shape[1];++d)t.set(f,d,n)};e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(136)),i=o(n(445));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){return 1===t.shape.length?t:(0,r.default)((0,i.default)(t))};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=t.split("."),n=e.slice(1).join("").length;return+e.join("")/Math.pow(10,n)};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(18)),i=n(10);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){return(0,i.map)((function(e){return t[e]}))((0,r.default)(t))};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return t||e};e.default=r},function(t,e,n){function r(t){for(var e=[],n={},r={},i=0,o=0;o<t.length;o++){var a=Number(t[o][1]);i+=a;var s={id:o,chr:t[o][0],pos:i-a};e.push(s),r[s.chr]=s,n[t[o][0]]=a}return{cumPositions:e,chrPositions:r,totalLength:i,chromLengths:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=e.pixiTextToSvg=function(t){var e=document.createElement("g"),n=document.createElement("text");return 0===t.anchor.x?n.setAttribute("text-anchor","start"):1===t.anchor.x?n.setAttribute("text-anchor","end"):n.setAttribute("text-anchor","middle"),n.setAttribute("font-family",t.style.fontFamily),n.setAttribute("font-size",t.style.fontSize),e.setAttribute("transform","scale("+String(t.scale.x)+",1)"),n.setAttribute("fill",t.style.fill),n.innerHTML=t.text,e.appendChild(n),e.setAttribute("transform","translate("+String(t.x)+","+String(t.y)+")scale("+String(t.scale.x)+",1)"),e};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){try{var e=t.split(".");return function(t){var n=t;return e.forEach((function(t){n=n[t]})),n}}catch{return}};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=function(t,e,n,i,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments[8],c=a?o:i,h=a?i:o,f=a?l:s,d=a?s:l,p=Math.max(0,+c[0]||0),m=Math.max(0,+c[1]||0),v=Math.max(0,+h[0]||0),g=Math.max(0,+h[1]||0),y=[];ArrayBuffer.isView(u)||console.warn("Not supported yet");try{for(var b=new u.constructor(u.length),_=0+d,x=v;x<g;x++)b.set(t.slice(x*e+p,x*e+m),f+_*n),_+=1;var T=a?(0,r.accessorTransposition)(n,n):void 0;y=(0,r.addArrays)(u,b,T)}catch{}return y};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n,r){return[r.chrPositions[t].pos+ +e,r.chrPositions[t].pos+ +n]};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(221));function i(t){return t&&t.__esModule?t:{default:t}}var o="http://www.w3.org/2000/svg",a=function(t,e){var n=new RegExp("(\\s|^)"+String(e)+"(\\s|$)");if(t.namespaceURI===o){var i=t.getAttribute("class")||"";t.setAttribute("class",i.replace(n," "))}else t.classList?t.classList.remove(e):(0,r.default)(t,e)&&(t.className=t.className.replace(n," "))};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){t.select(".selection").attr("fill",null).attr("fill-opacity",null).attr("stroke",null).classed(e,!0)};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=t.toString(16);return 1===e.length?"0"+String(e):e},i=function(t,e,n){return"#"+String(r(t))+String(r(e))+String(r(n))};e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return[t.invert((t.range()[0]+t.range()[1])/2),e.invert((e.range()[0]+e.range()[1])/2),t.invert(1)-t.invert(0)]};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.scalesToGenomeLoci=void 0;var r=o(n(25)),i=o(n(326));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.scalesToGenomeLoci=function(t,e,n){if(null!==n&&t&&e){var o=t.domain()[0],a=t.domain()[1],s=e.domain()[0],l=e.domain()[1];return[].concat((0,r.default)((0,i.default)(o,a,n)),(0,r.default)((0,i.default)(s,l,n)))}};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(134),i=n(10),o=n(11),a=11184810,s=1,l=function(t,e,n,l,u,c,h,f,d){t.publish("app.animateOnMouseMove",!0);var p=n.mousePositionColor?(0,i.hexStrToInt)(n.mousePositionColor):a,m=n.mousePositionAlpha||s,v=new o.GLOBALS.PIXI.Graphics,g=function(){v.clear()},y=function(t,e,n){if(n||g(),v.lineStyle(1,p,m),e){var r=f?u()[0]:0;v.moveTo(0,t),v.lineTo(c()[0]+r,t)}else{var i=f?u()[1]:0;v.moveTo(t,0),v.lineTo(t,c()[1]+i)}},b=function(t){if(t.noHoveredTracks)return g(),v;var e=void 0,n=void 0;t.isFromVerticalTrack?(e=t.dataY,n=t.dataY):(e=t.dataX,n=t.isFrom2dTrack?t.dataY:t.dataX);var r=f?u():[0,0],i=h()?l()[0](n)+r[1]:l()[0](e)+r[0];return y(i),f&&y(l()[1](n)+r[1],!0,!0),v};return e.push(t.subscribe("app.mouseMove",b)),e.push(t.subscribe("app.mouseLeave",g)),e.push(t.subscribe("blur",g)),d&&e.push(r.globalPubSub.subscribe("higlass.mouseMove",b)),v},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t.pMasked:t.pForeground||t.pMain,i=function(){return[t.xScale(),t.yScale()]},o=l(t.pubSub,t.pubSubs,t.options,i,t.getPosition.bind(t),t.getDimensions.bind(t),t.getProp("flipText"),e,n);return r.addChild(o),function(){r.removeChild(o)}};e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return function(e){return Array.prototype.some.call(e,t)}};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return t+e};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=e.svgLine=function(t,e,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",t),a.setAttribute("x2",n),a.setAttribute("y1",e),a.setAttribute("y2",r),i&&a.setAttribute("stroke-width",i),o&&a.setAttribute("stroke",o),a};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){var r=void 0,i=0,o=function(){r=null},a=function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];var s=function(){i>0&&(t.apply(void 0,o),i=0)};clearTimeout(r),r=setTimeout(s,n)};a.cancel=function(){clearTimeout(r),o()},a.immediate=function(){t.apply(void 0,arguments)};var s=!1,l=function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];s?i++:(t.apply(void 0,o),a.apply(void 0,o),s=!0,i=0,setTimeout((function(){s=!1}),e))};return l};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,r=document.createElement("canvas");r.width=e,r.height=n;var i=r.getContext("2d");i.fillStyle="transparent",i.fillRect(0,0,r.width,r.height);var o=new ImageData(t,r.width,r.height);return i.putImageData(o,0,0),r};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(62));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){return new r.default((function(e){return setTimeout(e,t)}))};e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(!t.tracks)return 0;var e=0;return t.tracks.top&&(e+=t.tracks.top.map((function(t){return t.height})).reduce((function(t,e){return t+e}),0)),t.tracks.center&&(e+=t.tracks.center.map((function(t){return t.height})).reduce((function(t,e){return t+e}),0)),t.tracks.bottom&&(e+=t.tracks.bottom.map((function(t){return t.height})).reduce((function(t,e){return t+e}),0)),e};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return(t||"").replace(/\/$/,"")};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return function(i){var o=255;return i>r&&(o=Math.max(0,Math.min(255,Math.floor(t(i+n))))),e[o]}};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){for(var e=[],n=0;n<t.length;n++)t[n].contents?e=e.concat(t[n].contents):e.push(t[n]);return e};e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(942));function i(t){return t&&t.__esModule?t:{default:t}}function o(t){t.sort((function(t,e){return e.to-e.from-(t.to-t.from)}));for(var e=[[]],n=[new r.default],i=0;i<t.length;i++){for(var o=!1,a=0;a<e.length;a++){var s=n[a],l=[+t[i].from,+t[i].to];if(!s.intersects(l)){s.add(l),e[a].push(t[i]),o=!0;break}}if(!o){var u=new r.default;u.add([t[i].from,t[i].to]),e.push([t[i]]),n.push(u)}}return e}e.default=o},function(t,e,n){function r(t,e,n,r){this.interval=[t,e],this.max=-1/0,this.parentNode=null,this.left=n,this.right=r}function i(){this.root=null}function o(t,e,n){var i=new r(n[0],n[1]);if(i.max=n[1],i.parentNode=t,t[e]=i,t.max<n[1])for(;i;)i.max<n[1]&&(i.max=n[1]),i=i.parentNode}function a(t,e){t.interval[0]>e[0]?t.left?a(t.left,e):o(t,"left",e):t.right?a(t.right,e):o(t,"right",e)}function s(t,e){if(!e)return!1;if(e.interval[0]<=t&&e.interval[1]>=t)return!0;var n=!1,r=void 0;return["left","right"].forEach((function(i){(r=e[i])&&r.max>t&&(n=n||s(t,r))})),n}function l(t,e){return t[0]===e[0]&&t[1]===e[1]||t[0]<e[0]&&t[1]>e[0]||t[0]<e[1]&&t[1]>e[1]||e[0]<t[0]&&e[1]>t[0]||e[0]<t[1]&&e[1]>t[1]}function u(t,e){if(!e)return!1;if(l(e.interval,t))return!0;var n=!1,r=void 0;return["left","right"].forEach((function(i){(r=e[i])&&r.max>=t[0]&&(n=n||u(t,r))})),n}function c(t){return t?1+Math.max(c(t.left),c(t.right)):0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.add=function(){function t(t){if(!this.root)return this.root=new r(t[0],t[1]),void(this.root.max=t[1]);a(this.root,t)}return t}(),i.prototype.contains=function(){function t(t){return s(t,this.root)}return t}(),i.prototype.intersects=function(){function t(t){return u(t,this.root)}return t}(),i.prototype.height=function(){function t(){return c(this.root)}return t}(),i.prototype.findMax=function(){function t(t){for(var e=[t],n=void 0,r=-1/0,i=void 0;e.length;)(n=e.pop()).left&&e.push(n.left),n.right&&e.push(n.right),n.interval[1]>r&&(r=n.interval[1],i=n);return i}return t}(),i.prototype._removeHelper=function(){function t(t,e){if(e)if(e.interval[0]===t[0]&&e.interval[1]===t[1]){if(e.left&&e.right){for(var n=e.left;n.left;)n=n.left;var r=n.interval;n.interval=e.interval,e.interval=r,this._removeHelper(n.interval,e)}else{var i="left";e.right&&(i="right");var o=e.parentNode;o?(o.left===e?o.left=e[i]:o.right=e[i],e[i]&&(e[i].parentNode=o)):(this.root=e[i],this.root&&(this.root.parentNode=null))}var a=e.parentNode;if(a)for(var s=this.findMax(a),l=s.interval[1];s;)s.max===e.interval[1]?(s.max=l,s=s.parentNode):s=!1}else this._removeHelper(t,e.left),this._removeHelper(t,e.right)}return t}(),i.prototype.remove=function(){function t(t){return this._removeHelper(t,this.root)}return t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(17)),i=l(n(37)),o=l(n(55)),a=n(157),s=l(n(179));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t,e){for(var n=[],r=t;r<e;r++)n.push(r);return n},c=function(t,e){var n=t.map((function(t){return+t})).sort((function(t,e){return e-t})),r=e.range()[1]-e.range()[0],i=n.map((function(t){return(e.domain()[1]-e.domain()[0])/t})).map((function(t){return t/r})),o=i.filter((function(t){return t<1}));return 0===o.length?0:i.indexOf(o[o.length-1])},h=function(t,e,n,r){var i=t.range()[1]-t.range()[0],o=Math.max((n-e)/(t.domain()[1]-t.domain()[0]),1),a=384,s=Math.max(0,Math.ceil(Math.log(i/a)/Math.LN2)),l=Math.round(Math.log(o)/Math.LN2)+s,u=0;return r&&(u=Math.floor(Math.log(256)/Math.log(2)-Math.log(r)/Math.log(2))),l+=u},f=function(t,e,n){if(typeof n>"u"&&(n=o.default),t.resolutions)return c(t.resolutions,e,t.min_pos[0],t.max_pos[0]-2);var r=h(e,t.min_pos[0],t.max_pos[0],t.bins_per_dimension||t.tile_size),i=Math.min(r,n);return Math.max(i,0)},d=function(t,e,n,r,i,o){var a=Math.min(t,i),s=o/Math.pow(2,a),l=1e-7;return u(Math.max(0,Math.floor((e.domain()[0]-n)/s)),Math.min(Math.pow(2,a),Math.ceil((e.domain()[1]-n-l)/s)))},p=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.MAX_VALUE,i=1e-7,o=t*(arguments.length>4&&void 0!==arguments[4]?arguments[4]:256),a=20,s=Math.max(0,Math.floor((e.domain()[0]-n)/o)),l=Math.ceil(Math.min(r,e.domain()[1]-n-i)/o),c=u(s,l);return c.length>a&&(console.warn("Too many visible tiles: "+String(c.length)+" truncating to "+a),c=c.slice(0,a)),c};function m(t,e){(0,i.default)(t.fetchedTiles).forEach((function(n){if(n.drawnAtScale){var i=n.drawnAtScale.range(),o=t._xScale.range();if(i[0]!==o[0]||i[1]!==o[1])return void t.renderTile(n);var a=(n.drawnAtScale.domain()[1]-n.drawnAtScale.domain()[0])/(t._xScale.domain()[1]-t._xScale.domain()[0]);if(a>2||a<.5)t.renderTile(n);else{var s=t._xScale.domain().map(n.drawnAtScale)[0],l=!0,u=!1,c=void 0;try{for(var h,f=(0,r.default)(e);!(l=(h=f.next()).done);l=!0){var d=h.value;d(n).scale.x=a,d(n).x=-s*a}}catch(p){u=!0,c=p}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}}}}))}var v={calculate1DVisibleTiles:function(t,e){if(!t)return[];var n=f(t,e,t.max_zoom);if(t.resolutions){var r=t.resolutions.map((function(t){return+t})).sort((function(t,e){return e-t}));return p(r[n],e,t.min_pos[0],t.max_pos[0]).map((function(t){return[n,t]}))}return d(n,e,t.min_pos[0],t.max_pos[0],t.max_zoom,t.max_width).map((function(t){return[n,t]}))},calculate1DZoomLevel:f,drawAxis:function(t,e){if(t.axis||(t.axis=new s.default(t),t.pBase.addChild(t.axis.pAxis)),t.options.axisPositionVertical||t.options.axisPositionHorizontal)if(t.options.axisPositionVertical&&"hidden"===t.options.axisPositionVertical)t.axis.clearAxis();else if(t.options.axisPositionHorizontal&&"hidden"===t.options.axisPositionHorizontal)t.axis.clearAxis();else{var n=t.options.axisMargin||0;"left"===t.options.axisPositionHorizontal||"top"===t.options.axisPositionVertical?(t.axis.pAxis.position.x=t.position[0]+n,t.axis.pAxis.position.y=t.position[1],t.axis.drawAxisRight(e,t.dimensions[1])):"outsideLeft"===t.options.axisPositionHorizontal||"outsideTop"===t.options.axisPositionVertical?(t.axis.pAxis.position.x=t.position[0]+n,t.axis.pAxis.position.y=t.position[1],t.axis.drawAxisLeft(e,t.dimensions[1])):"right"===t.options.axisPositionHorizontal||"bottom"===t.options.axisPositionVertical?(t.axis.pAxis.position.x=t.position[0]+t.dimensions[0]-n,t.axis.pAxis.position.y=t.position[1],t.axis.drawAxisLeft(e,t.dimensions[1])):("outsideRight"===t.options.axisPositionHorizontal||"outsideBottom"===t.options.axisPositionVertical)&&(t.axis.pAxis.position.x=t.position[0]+t.dimensions[0]-n,t.axis.pAxis.position.y=t.position[1],t.axis.drawAxisRight(e,t.dimensions[1]))}else t.axis.clearAxis()},movedY:function(t,e){var n=t.valueScaleTransform,r=n.y,o=n.k;r+e/o>-(o-1)*t.dimensions[1]&&r+e/o<0&&(t.valueScaleTransform=n.translate(0,e/o)),(0,i.default)(t.fetchedTiles).forEach((function(e){e.graphics.position.y=t.valueScaleTransform.y})),t.animate()},getTilePosAndDimensions:function(t,e){var n=+e.split(".")[0],r=+e.split(".")[1],i=t.max_width,o=t.min_pos[0],a=i/Math.pow(2,n);return{tileX:o+r*a,tileWidth:a}},stretchRects:m,zoomedY:function(t,e,n,r){var i=n.k,o=n.y,s=(t-o)/i,l=Math.max(i/e,1),u=i*s+o-l*s;return u=Math.max(u,-(l-1)*r),u=Math.min(u,0),a.zoomIdentity.translate(0,u).scale(l)}};e.default=v},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.removeHGComponent=e.mountHGComponent=e.waitForTilesLoaded=e.isWaitingOnTiles=e.waitForJsonComplete=e.waitForTransitionsFinished=e.areTransitionsActive=e.changeOptions=void 0;var r=h(n(34)),i=h(n(17)),o=h(n(1)),a=h(n(42)),s=n(945),l=n(24),u=n(446),c=h(n(232));function h(t){return t&&t.__esModule?t:{default:t}}var f=100;e.changeOptions=function(t,e,n,o){var a=!0,s=!1,l=void 0;try{for(var u,c=(0,i.default)(t.instance().iterateOverTracks());!(a=(u=c.next()).done);a=!0){var h=u.value,f=h.viewId,d=h.trackId,p=h.track;f===e&&d===n&&(p.options=(0,r.default)({},p.options,o))}}catch(m){s=!0,l=m}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}t.setState(t.instance().state)};var d=e.areTransitionsActive=function(t){var e=!0,n=!1,r=void 0;try{for(var o,a=(0,i.default)(t.iterateOverTracks());!(e=(o=a.next()).done);e=!0){var s=o.value;if((0,u.getTrackRenderer)(t,s.viewId,s.trackId).activeTransitions>0)return!0}}catch(l){n=!0,r=l}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}return!1};e.waitForTransitionsFinished=function t(e,n){d(e)?setTimeout((function(){t(e,n)}),f):n()};var p=e.waitForJsonComplete=function t(e){l.requestsInFlight>0?setTimeout((function(){return t(e)}),f):e()},m=e.isWaitingOnTiles=function(t){var e=!0,n=!1,r=void 0;try{for(var o,a=(0,i.default)(t.iterateOverTracks());!(e=(o=a.next()).done);e=!0){var s=o.value,l=(0,u.getTrackObjectFromHGC)(t,s.viewId,s.trackId);if(s.track.server||s.track.tilesetUid||s.track.data&&"divided"===s.track.data.type){if(!(s.track.data&&"divided"===s.track.data.type||s.track.server&&s.track.tilesetUid))throw Error('"server" and "tilesetUid" belong together');if(l.originalTrack&&(l=l.originalTrack),!l.tilesetInfo&&!l.chromInfo||l.fetching&&l.fetching.size)return!0}}}catch(c){n=!0,r=c}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}return!1},v=e.waitForTilesLoaded=function t(e,n){m(e)?setTimeout((function(){t(e,n)}),f):n()};e.mountHGComponent=function(e,n,r,i,a){n&&(n.unmount(),n.detach()),e&&t.document.body.removeChild(e);var l=a&&a.style||"width:800px; background-color: lightgreen;",u=a&&a.bounded||!1,h=t.document.createElement("div");t.document.body.appendChild(h),h.setAttribute("style",l),h.setAttribute("id","simple-hg-component");var f=(0,s.mount)(o.default.createElement(c.default,{options:{bounded:u},viewConfig:r}),{attachTo:h});return f.update(),p((function(){if(a&&a.extendedDelay){var t=function(){return setTimeout((function(){i()}),1e3)};v(f.instance(),t)}else v(f.instance(),i)})),[h,f]},e.removeHGComponent=function(t){t&&(a.default.unmountComponentAtNode(t),document.body.removeChild(t))}}).call(this,n(27))},function(t,e,n){var r=c(n(447)),i=c(n(515)),o=c(n(510)),a=c(n(1074)),s=c(n(1075)),l=c(n(1076)),u=n(315);function c(t){return t&&t.__esModule?t:{default:t}}t.exports={render:l.default,shallow:s.default,mount:a.default,ShallowWrapper:i.default,ReactWrapper:r.default,configure:u.merge,EnzymeAdapter:o.default}},function(t,e,n){var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(448),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if(typeof window>"u")return!1;for(var t in window)try{if(!f["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{h(window[t])}catch{return!0}}catch{return!0}return!1}(),p=function(t){if(typeof window>"u"||!d)return h(t);try{return h(t)}catch{return!1}};r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),r=a(t),s=e&&"[object String]"===o.call(t),h=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=u&&n;if(s&&t.length>0&&!i.call(t,0))for(var d=0;d<t.length;++d)h.push(String(d));if(r&&t.length>0)for(var m=0;m<t.length;++m)h.push(String(m));else for(var v in t)(!f||"prototype"!==v)&&i.call(t,v)&&h.push(String(v));if(l)for(var g=p(t),y=0;y<c.length;++y)(!g||"constructor"!==c[y])&&i.call(t,c[y])&&h.push(c[y]);return h}}t.exports=r},function(t,e,n){var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,a="[object Function]";t.exports=function(t){var e=this;if("function"!=typeof e||o.call(e)!==a)throw new TypeError(r+e);for(var n,s=i.call(arguments,1),l=function(){if(this instanceof n){var r=e.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return e.apply(t,s.concat(i.call(arguments)))},u=Math.max(0,e.length-s.length),c=[],h=0;h<u;h++)c.push("$"+h);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),e.prototype){var f=function(){};f.prototype=e.prototype,n.prototype=new f,f.prototype=null}return n}},function(t,e,n){var r=n(52),i=n(451);t.exports=function(){var t=i();return r(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},function(t){t.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(t,e,n){var r=n(458),i=t.exports=Object.create(r),o={tagName:"name"};Object.keys(o).forEach((function(t){var e=o[t];Object.defineProperty(i,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})}))},function(t,e,n){var r=n(457),i=n(101);function o(t,e){this.init(t,e)}function a(t,e){return i.getElementsByTagName(t,e,!0)}function s(t,e){return i.getElementsByTagName(t,e,!0,1)[0]}function l(t,e,n){return i.getText(i.getElementsByTagName(t,e,n,1)).trim()}function u(t,e,n,r,i){var o=l(n,r,i);o&&(t[e]=o)}n(58)(o,r),o.prototype.init=r;var c=function(t){return"rss"===t||"feed"===t||"rdf:RDF"===t};o.prototype.onend=function(){var t,e,n={},i=s(c,this.dom);i&&("feed"===i.name?(e=i.children,n.type="atom",u(n,"id","id",e),u(n,"title","title",e),(t=s("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),u(n,"description","subtitle",e),(t=l("updated",e))&&(n.updated=new Date(t)),u(n,"author","email",e,!0),n.items=a("entry",e).map((function(t){var e,n={};return u(n,"id","id",t=t.children),u(n,"title","title",t),(e=s("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),(e=l("summary",t)||l("content",t))&&(n.description=e),(e=l("updated",t))&&(n.pubDate=new Date(e)),n}))):(e=s("channel",i.children).children,n.type=i.name.substr(0,3),n.id="",u(n,"title","title",e),u(n,"link","link",e),u(n,"description","description",e),(t=l("lastBuildDate",e))&&(n.updated=new Date(t)),u(n,"author","managingEditor",e,!0),n.items=a("item",i.children).map((function(t){var e,n={};return u(n,"id","guid",t=t.children),u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t),(e=l("pubDate",t))&&(n.pubDate=new Date(e)),n})))),this.dom=n,r.prototype._handleCallback.call(this,i?null:Error("couldn't find root of feed"))},t.exports=o},function(t,e,n){var r=n(123),i=n(299),o=r.isTag;function a(t,e){return t.children?t.children.map((function(t){return i(t,e)})).join(""):""}function s(t){return Array.isArray(t)?t.map(s).join(""):o(t)||t.type===r.CDATA?s(t.children):t.type===r.Text?t.data:""}t.exports={getInnerHTML:a,getOuterHTML:i,getText:s}},function(t,e,n){var r=n(954),i=n(955);e.decode=function(t,e){return(!e||e<=0?i.XML:i.HTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?i.XML:i.HTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?r.XML:r.HTML)(t)},e.encodeXML=r.XML,e.encodeHTML4=e.encodeHTML5=e.encodeHTML=r.HTML,e.decodeXML=e.decodeXMLStrict=i.XML,e.decodeHTML4=e.decodeHTML5=e.decodeHTML=i.HTML,e.decodeHTML4Strict=e.decodeHTML5Strict=e.decodeHTMLStrict=i.HTMLStrict,e.escape=r.escape},function(t,e,n){var r=s(n(298)),i=l(r);e.XML=d(r,i);var o=s(n(297)),a=l(o);function s(t){return Object.keys(t).sort().reduce((function(e,n){return e[t[n]]="&"+n+";",e}),{})}function l(t){var e=[],n=[];return Object.keys(t).forEach((function(t){1===t.length?e.push("\\"+t):n.push(t)})),n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}e.HTML=d(o,a);var u=/[^\0-\x7F]/g,c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function h(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function f(t){return"&#x"+(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function d(t,e){function n(e){return t[e]}return function(t){return t.replace(e,n).replace(c,f).replace(u,h)}}var p=l(r);function m(t){return t.replace(p,h).replace(c,f).replace(u,h)}e.escape=m},function(t,e,n){var r=n(297),i=n(456),o=n(298),a=n(455),s=u(o),l=u(r);function u(t){var e=Object.keys(t).join("|"),n=f(t),r=new RegExp("&(?:"+(e+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(t){return String(t).replace(r,n)}}var c=function(){for(var t=Object.keys(i).sort(h),e=Object.keys(r).sort(h),n=0,o=0;n<e.length;n++)t[o]===e[n]?(e[n]+=";?",o++):e[n]+=";";var a=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=f(r);function l(t){return";"!==t.substr(-1)&&(t+=";"),s(t)}return function(t){return String(t).replace(a,l)}}();function h(t,e){return t<e?1:-1}function f(t){return function(e){return"#"===e.charAt(1)?"X"===e.charAt(2)||"x"===e.charAt(2)?a(parseInt(e.substr(3),16)):a(parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}t.exports={XML:s,HTML:c,HTMLStrict:l}},function(t,e){var n=e.getChildren=function(t){return t.children},r=e.getParent=function(t){return t.parent};e.getSiblings=function(t){var e=r(t);return e?n(e):[t]},e.getAttributeValue=function(t,e){return t.attribs&&t.attribs[e]},e.hasAttrib=function(t,e){return!!t.attribs&&hasOwnProperty.call(t.attribs,e)},e.getName=function(t){return t.name}},function(t,e){e.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},e.replaceElement=function(t,e){var n=e.prev=t.prev;n&&(n.next=e);var r=e.next=t.next;r&&(r.prev=e);var i=e.parent=t.parent;if(i){var o=i.children;o[o.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(e.parent=t,1!==t.children.push(e)){var n=t.children[t.children.length-2];n.next=e,e.prev=n,e.next=null}},e.append=function(t,e){var n=t.parent,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){var i=n.children;i.splice(i.lastIndexOf(r),0,e)}}else n&&n.children.push(e)},e.prepend=function(t,e){var n=t.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}},function(t,e,n){var r=n(123).isTag;function i(t,e,n,r){return Array.isArray(e)||(e=[e]),("number"!=typeof r||!isFinite(r))&&(r=1/0),o(t,e,!1!==n,r)}function o(t,e,n,r){for(var i,a=[],s=0,l=e.length;s<l&&!(t(e[s])&&(a.push(e[s]),--r<=0)||(i=e[s].children,n&&i&&i.length>0&&(i=o(t,i,n,r),a=a.concat(i),r-=i.length,r<=0)));s++);return a}function a(t,e){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return e[n];return null}function s(t,e){for(var n=null,i=0,o=e.length;i<o&&!n;i++)r(e[i])&&(t(e[i])?n=e[i]:e[i].children.length>0&&(n=s(t,e[i].children)));return n}function l(t,e){for(var n=0,i=e.length;n<i;n++)if(r(e[n])&&(t(e[n])||e[n].children.length>0&&l(t,e[n].children)))return!0;return!1}function u(t,e){for(var n=[],i=0,o=e.length;i<o;i++)r(e[i])&&(t(e[i])&&n.push(e[i]),e[i].children.length>0&&(n=n.concat(u(t,e[i].children))));return n}t.exports={filter:i,find:o,findOneChild:a,findOne:s,existsOne:l,findAll:u}},function(t,e,n){var r=n(123),i=e.isTag=r.isTag;e.testElement=function(t,e){for(var n in t)if(t.hasOwnProperty(n))if("tag_name"===n){if(!i(e)||!t.tag_name(e.name))return!1}else if("tag_type"===n){if(!t.tag_type(e.type))return!1}else if("tag_contains"===n){if(i(e)||!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[n](e.attribs[n]))return!1;return!0};var o={tag_name:function(t){return"function"==typeof t?function(e){return i(e)&&t(e.name)}:"*"===t?i:function(e){return i(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return!i(e)&&t(e.data)}:function(e){return!i(e)&&e.data===t}}};function a(t,e){return"function"==typeof e?function(n){return n.attribs&&e(n.attribs[t])}:function(n){return n.attribs&&n.attribs[t]===e}}function s(t,e){return function(n){return t(n)||e(n)}}e.getElements=function(t,e,n,r){var i=Object.keys(t).map((function(e){var n=t[e];return e in o?o[e](n):a(e,n)}));return 0===i.length?[]:this.filter(i.reduce(s),e,n,r)},e.getElementById=function(t,e,n){return Array.isArray(e)||(e=[e]),this.findOne(a("id",t),e,!1!==n)},e.getElementsByTagName=function(t,e,n,r){return this.filter(o.tag_name(t),e,n,r)},e.getElementsByTagType=function(t,e,n,r){return this.filter(o.tag_type(t),e,n,r)}},function(t,e){e.removeSubsets=function(t){for(var e,n,r,i=t.length;--i>-1;){for(e=n=t[i],t[i]=null,r=!0;n;){if(t.indexOf(n)>-1){r=!1,t.splice(i,1);break}n=n.parent}r&&(t[i]=e)}return t};var n={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},r=e.compareDocumentPosition=function(t,e){var r,i,o,a,s,l,u=[],c=[];if(t===e)return 0;for(r=t;r;)u.unshift(r),r=r.parent;for(r=e;r;)c.unshift(r),r=r.parent;for(l=0;u[l]===c[l];)l++;return 0===l?n.DISCONNECTED:(o=(i=u[l-1]).children,a=u[l],s=c[l],o.indexOf(a)>o.indexOf(s)?i===e?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:i===t?n.PRECEDING|n.CONTAINS:n.PRECEDING)};e.uniqueSort=function(t){var e,i,o=t.length;for(t=t.slice();--o>-1;)e=t[o],(i=t.indexOf(e))>-1&&i<o&&t.splice(o,1);return t.sort((function(t,e){var i=r(t,e);return i&n.PRECEDING?-1:i&n.FOLLOWING?1:0})),t}},function(t,e,n){t.exports=i;var r=n(459);function i(t){r.call(this,new o(this),t)}function o(t){this.scope=t}n(58)(i,r),i.prototype.readable=!0;var a=n(148).EVENTS;Object.keys(a).forEach((function(t){if(0===a[t])o.prototype["on"+t]=function(){this.scope.emit(t)};else if(1===a[t])o.prototype["on"+t]=function(e){this.scope.emit(t,e)};else{if(2!==a[t])throw Error("wrong number of arguments!");o.prototype["on"+t]=function(e,n){this.scope.emit(t,e,n)}}}))},function(t,e){},function(t,e,n){function r(t){this._cbs=t||{}}t.exports=r;var i=n(148).EVENTS;Object.keys(i).forEach((function(t){if(0===i[t])t="on"+t,r.prototype[t]=function(){this._cbs[t]&&this._cbs[t]()};else if(1===i[t])t="on"+t,r.prototype[t]=function(e){this._cbs[t]&&this._cbs[t](e)};else{if(2!==i[t])throw Error("wrong number of arguments");t="on"+t,r.prototype[t]=function(e,n){this._cbs[t]&&this._cbs[t](e,n)}}}))},function(t,e,n){function r(t){this._cbs=t||{},this.events=[]}t.exports=r;var i=n(148).EVENTS;Object.keys(i).forEach((function(t){if(0===i[t])t="on"+t,r.prototype[t]=function(){this.events.push([t]),this._cbs[t]&&this._cbs[t]()};else if(1===i[t])t="on"+t,r.prototype[t]=function(e){this.events.push([t,e]),this._cbs[t]&&this._cbs[t](e)};else{if(2!==i[t])throw Error("wrong number of arguments");t="on"+t,r.prototype[t]=function(e,n){this.events.push([t,e,n]),this._cbs[t]&&this._cbs[t](e,n)}}})),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var t=0,e=this.events.length;t<e;t++)if(this._cbs[this.events[t][0]]){var n=this.events[t].length;1===n?this._cbs[this.events[t][0]]():2===n?this._cbs[this.events[t][0]](this.events[t][1]):this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2])}}},function(t,e,n){var r=n(460),i=n(464);e.parse=function(t,e){return new r(e).parse(t)},e.parseFragment=function(t,e,n){return"string"==typeof t&&(n=e,e=t,t=null),new r(n).parseFragment(e,t)},e.serialize=function(t,e){return new i(t,e).serialize()},e.treeAdapters={default:n(301),htmlparser2:n(973)},e.ParserStream=n(465),e.PlainTextConversionStream=n(985),e.SerializerStream=n(986),e.SAXParser=n(987)},function(t,e,n){var r=n(149).CODE_POINTS;function i(t,e){return t>=55296&&t<=56319&&e>=56320&&e<=57343}function o(t,e){return 1024*(t-55296)+9216+e}var a=65536,s=t.exports=function(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=a};s.prototype.dropParsedChunk=function(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])},s.prototype._addGap=function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos},s.prototype._processHighRangeCodePoint=function(t){if(this.pos!==this.lastCharPos){var e=this.html.charCodeAt(this.pos+1);i(t,e)&&(this.pos++,t=o(t,e),this._addGap())}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,r.EOF;return t},s.prototype.write=function(t,e){this.html?this.html+=t:this.html=t,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=e},s.prototype.insertHtmlAtCurrentPos=function(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1},s.prototype.advance=function(){if(this.pos++,this.pos>this.lastCharPos)return this.lastChunkWritten||(this.endOfChunkHit=!0),r.EOF;var t=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&t===r.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):t===r.CARRIAGE_RETURN?(this.skipNextNewLine=!0,r.LINE_FEED):(this.skipNextNewLine=!1,t>=55296?this._processHighRangeCodePoint(t):t)},s.prototype.retreat=function(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}},function(t,e,n){t.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},function(t,e,n){var r=n(64),i=r.TAG_NAMES,o=r.NAMESPACES;function a(t){switch(t.length){case 1:return t===i.P;case 2:return t===i.RB||t===i.RP||t===i.RT||t===i.DD||t===i.DT||t===i.LI;case 3:return t===i.RTC;case 6:return t===i.OPTION;case 8:return t===i.OPTGROUP||t===i.MENUITEM}return!1}function s(t,e){switch(t.length){case 2:if(t===i.TD||t===i.TH)return e===o.HTML;if(t===i.MI||t===i.MO||t===i.MN||t===i.MS)return e===o.MATHML;break;case 4:if(t===i.HTML)return e===o.HTML;if(t===i.DESC)return e===o.SVG;break;case 5:if(t===i.TABLE)return e===o.HTML;if(t===i.MTEXT)return e===o.MATHML;if(t===i.TITLE)return e===o.SVG;break;case 6:return(t===i.APPLET||t===i.OBJECT)&&e===o.HTML;case 7:return(t===i.CAPTION||t===i.MARQUEE)&&e===o.HTML;case 8:return t===i.TEMPLATE&&e===o.HTML;case 13:return t===i.FOREIGN_OBJECT&&e===o.SVG;case 14:return t===i.ANNOTATION_XML&&e===o.MATHML}return!1}var l=t.exports=function(t,e){this.stackTop=-1,this.items=[],this.current=t,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=e};l.prototype._indexOf=function(t){for(var e=-1,n=this.stackTop;n>=0;n--)if(this.items[n]===t){e=n;break}return e},l.prototype._isInTemplate=function(){return this.currentTagName===i.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===o.HTML},l.prototype._updateCurrentElement=function(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null},l.prototype.push=function(t){this.items[++this.stackTop]=t,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++},l.prototype.pop=function(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()},l.prototype.replace=function(t,e){var n=this._indexOf(t);this.items[n]=e,n===this.stackTop&&this._updateCurrentElement()},l.prototype.insertAfter=function(t,e){var n=this._indexOf(t)+1;this.items.splice(n,0,e),n===++this.stackTop&&this._updateCurrentElement()},l.prototype.popUntilTagNamePopped=function(t){for(;this.stackTop>-1;){var e=this.currentTagName,n=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===t&&n===o.HTML)break}},l.prototype.popUntilElementPopped=function(t){for(;this.stackTop>-1;){var e=this.current;if(this.pop(),e===t)break}},l.prototype.popUntilNumberedHeaderPopped=function(){for(;this.stackTop>-1;){var t=this.currentTagName,e=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===i.H1||t===i.H2||t===i.H3||t===i.H4||t===i.H5||t===i.H6&&e===o.HTML)break}},l.prototype.popUntilTableCellPopped=function(){for(;this.stackTop>-1;){var t=this.currentTagName,e=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===i.TD||t===i.TH&&e===o.HTML)break}},l.prototype.popAllUpToHtmlElement=function(){this.stackTop=0,this._updateCurrentElement()},l.prototype.clearBackToTableContext=function(){for(;this.currentTagName!==i.TABLE&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.clearBackToTableBodyContext=function(){for(;this.currentTagName!==i.TBODY&&this.currentTagName!==i.TFOOT&&this.currentTagName!==i.THEAD&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.clearBackToTableRowContext=function(){for(;this.currentTagName!==i.TR&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.remove=function(t){for(var e=this.stackTop;e>=0;e--)if(this.items[e]===t){this.items.splice(e,1),this.stackTop--,this._updateCurrentElement();break}},l.prototype.tryPeekProperlyNestedBodyElement=function(){var t=this.items[1];return t&&this.treeAdapter.getTagName(t)===i.BODY?t:null},l.prototype.contains=function(t){return this._indexOf(t)>-1},l.prototype.getCommonAncestor=function(t){var e=this._indexOf(t);return--e>=0?this.items[e]:null},l.prototype.isRootHtmlElementCurrent=function(){return 0===this.stackTop&&this.currentTagName===i.HTML},l.prototype.hasInScope=function(t){for(var e=this.stackTop;e>=0;e--){var n=this.treeAdapter.getTagName(this.items[e]),r=this.treeAdapter.getNamespaceURI(this.items[e]);if(n===t&&r===o.HTML)return!0;if(s(n,r))return!1}return!0},l.prototype.hasNumberedHeaderInScope=function(){for(var t=this.stackTop;t>=0;t--){var e=this.treeAdapter.getTagName(this.items[t]),n=this.treeAdapter.getNamespaceURI(this.items[t]);if((e===i.H1||e===i.H2||e===i.H3||e===i.H4||e===i.H5||e===i.H6)&&n===o.HTML)return!0;if(s(e,n))return!1}return!0},l.prototype.hasInListItemScope=function(t){for(var e=this.stackTop;e>=0;e--){var n=this.treeAdapter.getTagName(this.items[e]),r=this.treeAdapter.getNamespaceURI(this.items[e]);if(n===t&&r===o.HTML)return!0;if((n===i.UL||n===i.OL)&&r===o.HTML||s(n,r))return!1}return!0},l.prototype.hasInButtonScope=function(t){for(var e=this.stackTop;e>=0;e--){var n=this.treeAdapter.getTagName(this.items[e]),r=this.treeAdapter.getNamespaceURI(this.items[e]);if(n===t&&r===o.HTML)return!0;if(n===i.BUTTON&&r===o.HTML||s(n,r))return!1}return!0},l.prototype.hasInTableScope=function(t){for(var e=this.stackTop;e>=0;e--){var n=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===o.HTML){if(n===t)return!0;if(n===i.TABLE||n===i.TEMPLATE||n===i.HTML)return!1}}return!0},l.prototype.hasTableBodyContextInTableScope=function(){for(var t=this.stackTop;t>=0;t--){var e=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===o.HTML){if(e===i.TBODY||e===i.THEAD||e===i.TFOOT)return!0;if(e===i.TABLE||e===i.HTML)return!1}}return!0},l.prototype.hasInSelectScope=function(t){for(var e=this.stackTop;e>=0;e--){var n=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===o.HTML){if(n===t)return!0;if(n!==i.OPTION&&n!==i.OPTGROUP)return!1}}return!0},l.prototype.generateImpliedEndTags=function(){for(;a(this.currentTagName);)this.pop()},l.prototype.generateImpliedEndTagsWithExclusion=function(t){for(;a(this.currentTagName)&&this.currentTagName!==t;)this.pop()}},function(t,e,n){var r=3,i=t.exports=function(t){this.length=0,this.entries=[],this.treeAdapter=t,this.bookmark=null};i.MARKER_ENTRY="MARKER_ENTRY",i.ELEMENT_ENTRY="ELEMENT_ENTRY",i.prototype._getNoahArkConditionCandidates=function(t){var e=[];if(this.length>=r)for(var n=this.treeAdapter.getAttrList(t).length,o=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t),s=this.length-1;s>=0;s--){var l=this.entries[s];if(l.type===i.MARKER_ENTRY)break;var u=l.element,c=this.treeAdapter.getAttrList(u);this.treeAdapter.getTagName(u)===o&&this.treeAdapter.getNamespaceURI(u)===a&&c.length===n&&e.push({idx:s,attrs:c})}return e.length<r?[]:e},i.prototype._ensureNoahArkCondition=function(t){var e=this._getNoahArkConditionCandidates(t),n=e.length;if(n){for(var i=this.treeAdapter.getAttrList(t),o=i.length,a=Object.create(null),s=0;s<o;s++){var l=i[s];a[l.name]=l.value}for(s=0;s<o;s++)for(var u=0;u<n;u++){var c=e[u].attrs[s];if(a[c.name]!==c.value&&(e.splice(u,1),n--),e.length<r)return}for(s=n-1;s>=r-1;s--)this.entries.splice(e[s].idx,1),this.length--}},i.prototype.insertMarker=function(){this.entries.push({type:i.MARKER_ENTRY}),this.length++},i.prototype.pushElement=function(t,e){this._ensureNoahArkCondition(t),this.entries.push({type:i.ELEMENT_ENTRY,element:t,token:e}),this.length++},i.prototype.insertElementAfterBookmark=function(t,e){for(var n=this.length-1;n>=0&&this.entries[n]!==this.bookmark;n--);this.entries.splice(n+1,0,{type:i.ELEMENT_ENTRY,element:t,token:e}),this.length++},i.prototype.removeEntry=function(t){for(var e=this.length-1;e>=0;e--)if(this.entries[e]===t){this.entries.splice(e,1),this.length--;break}},i.prototype.clearToLastMarker=function(){for(;this.length;){var t=this.entries.pop();if(this.length--,t.type===i.MARKER_ENTRY)break}},i.prototype.getElementEntryInScopeWithTagName=function(t){for(var e=this.length-1;e>=0;e--){var n=this.entries[e];if(n.type===i.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(n.element)===t)return n}return null},i.prototype.getElementEntry=function(t){for(var e=this.length-1;e>=0;e--){var n=this.entries[e];if(n.type===i.ELEMENT_ENTRY&&n.element===t)return n}return null}},function(t,e,n){var r=n(201),i=n(124),o=n(461),a=n(462),s=n(972),l=n(64),u=n(71).inherits,c=l.TAG_NAMES,h=t.exports=function(t){r.call(this,t),this.parser=t,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null};u(h,r),h.prototype._setStartLocation=function(t){this.lastStartTagToken?(t.__location=Object.create(this.lastStartTagToken.location),t.__location.startTag=this.lastStartTagToken.location):t.__location=null},h.prototype._setEndLocation=function(t,e){var n=t.__location;if(n)if(e.location){var r=e.location,o=this.parser.treeAdapter.getTagName(t);e.type===i.END_TAG_TOKEN&&o===e.tagName?(n.endTag=Object.create(r),n.endOffset=r.endOffset):n.endOffset=r.startOffset}else e.type===i.EOF_TOKEN&&(n.endOffset=this.posTracker.offset)},h.prototype._getOverriddenMethods=function(t,e){return{_bootstrap:function(n,r){e._bootstrap.call(this,n,r),t.lastStartTagToken=null,t.lastFosterParentingLocation=null,t.currentToken=null,t.posTracker=new a(this.tokenizer.preprocessor),new o(this.tokenizer),new s(this.openElements,{onItemPop:function(e){t._setEndLocation(e,t.currentToken)}})},_runParsingLoop:function(n){e._runParsingLoop.call(this,n);for(var r=this.openElements.stackTop;r>=0;r--)t._setEndLocation(this.openElements.items[r],t.currentToken)},_processTokenInForeignContent:function(n){t.currentToken=n,e._processTokenInForeignContent.call(this,n)},_processToken:function(n){if(t.currentToken=n,e._processToken.call(this,n),n.type===i.END_TAG_TOKEN&&(n.tagName===c.HTML||n.tagName===c.BODY&&this.openElements.hasInScope(c.BODY)))for(var r=this.openElements.stackTop;r>=0;r--){var o=this.openElements.items[r];if(this.treeAdapter.getTagName(o)===n.tagName){t._setEndLocation(o,n);break}}},_setDocumentType:function(t){e._setDocumentType.call(this,t);for(var n=this.treeAdapter.getChildNodes(this.document),r=n.length,i=0;i<r;i++){var o=n[i];if(this.treeAdapter.isDocumentTypeNode(o)){o.__location=t.location;break}}},_attachElementToTree:function(n){t._setStartLocation(n),t.lastStartTagToken=null,e._attachElementToTree.call(this,n)},_appendElement:function(n,r){t.lastStartTagToken=n,e._appendElement.call(this,n,r)},_insertElement:function(n,r){t.lastStartTagToken=n,e._insertElement.call(this,n,r)},_insertTemplate:function(n){t.lastStartTagToken=n,e._insertTemplate.call(this,n),this.treeAdapter.getTemplateContent(this.openElements.current).__location=null},_insertFakeRootElement:function(){e._insertFakeRootElement.call(this),this.openElements.current.__location=null},_appendCommentNode:function(t,n){e._appendCommentNode.call(this,t,n);var r=this.treeAdapter.getChildNodes(n);r[r.length-1].__location=t.location},_findFosterParentingLocation:function(){return t.lastFosterParentingLocation=e._findFosterParentingLocation.call(this),t.lastFosterParentingLocation},_insertCharacters:function(n){e._insertCharacters.call(this,n);var r=this._shouldFosterParentOnInsertion(),i=r&&t.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,o=this.treeAdapter.getChildNodes(i),a=r&&t.lastFosterParentingLocation.beforeElement?o.indexOf(t.lastFosterParentingLocation.beforeElement)-1:o.length-1,s=o[a];s.__location?s.__location.endOffset=n.location.endOffset:s.__location=n.location}}}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){var r=n(201),i=n(71).inherits,o=t.exports=function(t,e){r.call(this,t),this.onItemPop=e.onItemPop};i(o,r),o.prototype._getOverriddenMethods=function(t,e){return{pop:function(){t.onItemPop(this.current),e.pop.call(this)},popAllUpToHtmlElement:function(){for(var n=this.stackTop;n>0;n--)t.onItemPop(this.items[n]);e.popAllUpToHtmlElement.call(this)},remove:function(n){t.onItemPop(this.current),e.remove.call(this,n)}}}},function(t,e,n){var r=n(303),i=n(64).DOCUMENT_MODE,o={element:1,text:3,cdata:4,comment:8},a={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},s=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};s.prototype={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return o[this.type]||o.element}},Object.keys(a).forEach((function(t){var e=a[t];Object.defineProperty(s.prototype,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})})),e.createDocument=function(){return new s({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":i.NO_QUIRKS})},e.createDocumentFragment=function(){return new s({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},e.createElement=function(t,e,n){for(var r=Object.create(null),i=Object.create(null),o=Object.create(null),a=0;a<n.length;a++){var l=n[a].name;r[l]=n[a].value,i[l]=n[a].namespace,o[l]=n[a].prefix}return new s({type:"script"===t||"style"===t?t:"tag",name:t,namespace:e,attribs:r,"x-attribsNamespace":i,"x-attribsPrefix":o,children:[],parent:null,prev:null,next:null})},e.createCommentNode=function(t){return new s({type:"comment",data:t,parent:null,prev:null,next:null})};var l=function(t){return new s({type:"text",data:t,parent:null,prev:null,next:null})},u=e.appendChild=function(t,e){var n=t.children[t.children.length-1];n&&(n.next=e,e.prev=n),t.children.push(e),e.parent=t},c=e.insertBefore=function(t,e,n){var r=t.children.indexOf(n),i=n.prev;i&&(i.next=e,e.prev=i),n.prev=e,e.next=n,t.children.splice(r,0,e),e.parent=t};e.setTemplateContent=function(t,e){u(t,e)},e.getTemplateContent=function(t){return t.children[0]},e.setDocumentType=function(t,e,n,i){for(var o=r.serializeContent(e,n,i),a=null,l=0;l<t.children.length;l++)if("directive"===t.children[l].type&&"!doctype"===t.children[l].name){a=t.children[l];break}a?(a.data=o,a["x-name"]=e,a["x-publicId"]=n,a["x-systemId"]=i):u(t,new s({type:"directive",name:"!doctype",data:o,"x-name":e,"x-publicId":n,"x-systemId":i}))},e.setDocumentMode=function(t,e){t["x-mode"]=e},e.getDocumentMode=function(t){return t["x-mode"]},e.detachNode=function(t){if(t.parent){var e=t.parent.children.indexOf(t),n=t.prev,r=t.next;t.prev=null,t.next=null,n&&(n.next=r),r&&(r.prev=n),t.parent.children.splice(e,1),t.parent=null}},e.insertText=function(t,e){var n=t.children[t.children.length-1];n&&"text"===n.type?n.data+=e:u(t,l(e))},e.insertTextBefore=function(t,e,n){var r=t.children[t.children.indexOf(n)-1];r&&"text"===r.type?r.data+=e:c(t,l(e),n)},e.adoptAttributes=function(t,e){for(var n=0;n<e.length;n++){var r=e[n].name;typeof t.attribs[r]>"u"&&(t.attribs[r]=e[n].value,t["x-attribsNamespace"][r]=e[n].namespace,t["x-attribsPrefix"][r]=e[n].prefix)}},e.getFirstChild=function(t){return t.children[0]},e.getChildNodes=function(t){return t.children},e.getParentNode=function(t){return t.parent},e.getAttrList=function(t){var e=[];for(var n in t.attribs)e.push({name:n,value:t.attribs[n],namespace:t["x-attribsNamespace"][n],prefix:t["x-attribsPrefix"][n]});return e},e.getTagName=function(t){return t.name},e.getNamespaceURI=function(t){return t.namespace},e.getTextNodeContent=function(t){return t.data},e.getCommentNodeContent=function(t){return t.data},e.getDocumentTypeNodeName=function(t){return t["x-name"]},e.getDocumentTypeNodePublicId=function(t){return t["x-publicId"]},e.getDocumentTypeNodeSystemId=function(t){return t["x-systemId"]},e.isTextNode=function(t){return"text"===t.type},e.isCommentNode=function(t){return"comment"===t.type},e.isDocumentTypeNode=function(t){return"directive"===t.type&&"!doctype"===t.name},e.isElementNode=function(t){return!!t.attribs}},function(t,e){},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(200).Buffer,o=n(976);function a(t,e,n){t.copy(e,n)}t.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),n=this.head,r=0;n;)a(n.data,e,r),r+=n.data.length,n=n.next;return e},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){var r=typeof t<"u"&&t||typeof self<"u"&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(978),e.setImmediate=typeof self<"u"&&self.setImmediate||typeof t<"u"&&t.setImmediate||this&&this.setImmediate,e.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof t<"u"&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(27))},function(t,e,n){(function(t,e){!function(t,n){if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?d():p()?m():t.MessageChannel?v():s&&"onreadystatechange"in s.createElement("script")?g():y(),l.setImmediate=u,l.clearImmediate=c}function u(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++}function c(t){delete o[t]}function h(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function f(t){if(a)setTimeout(f,0,t);else{var e=o[t];if(e){a=!0;try{h(e)}finally{c(t),a=!1}}}}function d(){r=function(t){e.nextTick((function(){f(t)}))}}function p(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function m(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&f(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}function v(){var t=new MessageChannel;t.port1.onmessage=function(t){f(t.data)},r=function(e){t.port2.postMessage(e)}}function g(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){f(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function y(){r=function(t){setTimeout(f,0,t)}}}(typeof self>"u"?typeof t>"u"?this:t:self)}).call(this,n(27),n(150))},function(t,e,n){(function(e){function n(t,e){if(r("noDeprecation"))return t;var n=!1;function i(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}return i}function r(t){try{if(!e.localStorage)return!1}catch{return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(this,n(27))},function(t,e,n){t.exports=o;var r=n(469),i=n(151);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(58),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(305)},function(t,e,n){t.exports=n(102)},function(t,e,n){t.exports=n(304).Transform},function(t,e,n){t.exports=n(304).PassThrough},function(t,e,n){var r=n(465),i=n(71).inherits,o=n(64).TAG_NAMES;i(t.exports=function(t){r.call(this,t),this.parser._insertFakeElement(o.HTML),this.parser._insertFakeElement(o.HEAD),this.parser.openElements.pop(),this.parser._insertFakeElement(o.BODY),this.parser._insertFakeElement(o.PRE),this.parser.treeAdapter.insertText(this.parser.openElements.current,"\n"),this.parser.switchToPlaintextParsing()},r)},function(t,e,n){var r=n(202).Readable,i=n(71).inherits,o=n(464),a=t.exports=function(t,e){r.call(this),this.serializer=new o(t,e),Object.defineProperty(this.serializer,"html",{get:function(){return""},set:this.push.bind(this)})};i(a,r),a.prototype._read=function(){this.serializer.serialize(),this.push(null)}},function(t,e,n){var r=n(202).Transform,i=n(988),o=n(71).inherits,a=n(124),s=n(461),l=n(989),u=n(302),c={locationInfo:!1},h=t.exports=function(t){r.call(this),this.options=u(c,t),this.tokenizer=new a(t),this.options.locationInfo&&new s(this.tokenizer),this.parserFeedbackSimulator=new l(this.tokenizer),this.pendingText=null,this.currentTokenLocation=void 0,this.lastChunkWritten=!1,this.stopped=!1,this.pipe(new i)};o(h,r),h.prototype._transform=function(t,e,n){this.stopped||(this.tokenizer.write(t.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()),this.push(t),n()},h.prototype._flush=function(t){t()},h.prototype.end=function(t,e,n){this.lastChunkWritten=!0,r.prototype.end.call(this,t,e,n)},h.prototype.stop=function(){this.stopped=!0},h.prototype._runParsingLoop=function(){do{var t=this.parserFeedbackSimulator.getNextToken();if(t.type===a.HIBERNATION_TOKEN)break;t.type===a.CHARACTER_TOKEN||t.type===a.WHITESPACE_CHARACTER_TOKEN||t.type===a.NULL_CHARACTER_TOKEN?(this.options.locationInfo&&(null===this.pendingText?this.currentTokenLocation=t.location:this.currentTokenLocation.endOffset=t.location.endOffset),this.pendingText=(this.pendingText||"")+t.chars):(this._emitPendingText(),this._handleToken(t))}while(!this.stopped&&t.type!==a.EOF_TOKEN)},h.prototype._handleToken=function(t){this.options.locationInfo&&(this.currentTokenLocation=t.location),t.type===a.START_TAG_TOKEN?this.emit("startTag",t.tagName,t.attrs,t.selfClosing,this.currentTokenLocation):t.type===a.END_TAG_TOKEN?this.emit("endTag",t.tagName,this.currentTokenLocation):t.type===a.COMMENT_TOKEN?this.emit("comment",t.data,this.currentTokenLocation):t.type===a.DOCTYPE_TOKEN&&this.emit("doctype",t.name,t.publicId,t.systemId,this.currentTokenLocation)},h.prototype._emitPendingText=function(){null!==this.pendingText&&(this.emit("text",this.pendingText,this.currentTokenLocation),this.pendingText=null)}},function(t,e,n){var r=n(202).Writable,i=n(71),o=t.exports=function(){r.call(this)};i.inherits(o,r),o.prototype._write=function(t,e,n){n()}},function(t,e,n){var r=n(124),i=n(463),o=n(149),a=n(64),s=a.TAG_NAMES,l=a.NAMESPACES,u=t.exports=function(t){this.tokenizer=t,this.namespaceStack=[],this.namespaceStackTop=-1,this._enterNamespace(l.HTML)};u.prototype.getNextToken=function(){var t=this.tokenizer.getNextToken();if(t.type===r.START_TAG_TOKEN)this._handleStartTagToken(t);else if(t.type===r.END_TAG_TOKEN)this._handleEndTagToken(t);else if(t.type===r.NULL_CHARACTER_TOKEN&&this.inForeignContent)t.type=r.CHARACTER_TOKEN,t.chars=o.REPLACEMENT_CHARACTER;else if(this.skipNextNewLine&&(t.type!==r.HIBERNATION_TOKEN&&(this.skipNextNewLine=!1),t.type===r.WHITESPACE_CHARACTER_TOKEN&&"\n"===t.chars[0])){if(1===t.chars.length)return this.getNextToken();t.chars=t.chars.substr(1)}return t},u.prototype._enterNamespace=function(t){this.namespaceStackTop++,this.namespaceStack.push(t),this.inForeignContent=t!==l.HTML,this.currentNamespace=t,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._leaveCurrentNamespace=function(){this.namespaceStackTop--,this.namespaceStack.pop(),this.currentNamespace=this.namespaceStack[this.namespaceStackTop],this.inForeignContent=this.currentNamespace!==l.HTML,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._ensureTokenizerMode=function(t){t===s.TEXTAREA||t===s.TITLE?this.tokenizer.state=r.MODE.RCDATA:t===s.PLAINTEXT?this.tokenizer.state=r.MODE.PLAINTEXT:t===s.SCRIPT?this.tokenizer.state=r.MODE.SCRIPT_DATA:(t===s.STYLE||t===s.IFRAME||t===s.XMP||t===s.NOEMBED||t===s.NOFRAMES||t===s.NOSCRIPT)&&(this.tokenizer.state=r.MODE.RAWTEXT)},u.prototype._handleStartTagToken=function(t){var e=t.tagName;if(e===s.SVG?this._enterNamespace(l.SVG):e===s.MATH&&this._enterNamespace(l.MATHML),this.inForeignContent){if(i.causesExit(t))return void this._leaveCurrentNamespace();var n=this.currentNamespace;n===l.MATHML?i.adjustTokenMathMLAttrs(t):n===l.SVG&&(i.adjustTokenSVGTagName(t),i.adjustTokenSVGAttrs(t)),i.adjustTokenXMLAttrs(t),e=t.tagName,!t.selfClosing&&i.isIntegrationPoint(e,n,t.attrs)&&this._enterNamespace(l.HTML)}else e===s.PRE||e===s.TEXTAREA||e===s.LISTING?this.skipNextNewLine=!0:e===s.IMAGE&&(t.tagName=s.IMG),this._ensureTokenizerMode(e)},u.prototype._handleEndTagToken=function(t){var e=t.tagName;if(this.inForeignContent)(e===s.SVG&&this.currentNamespace===l.SVG||e===s.MATH&&this.currentNamespace===l.MATHML)&&this._leaveCurrentNamespace();else{var n=this.namespaceStack[this.namespaceStackTop-1];n===l.SVG&&i.SVG_TAG_NAMES_ADJUSTMENT_MAP[e]&&(e=i.SVG_TAG_NAMES_ADJUSTMENT_MAP[e]),i.isIntegrationPoint(e,n,t.attrs)&&this._leaveCurrentNamespace()}this.currentNamespace===l.SVG&&i.adjustTokenSVGTagName(t)}},function(t,e,n){var r=n(472),i=n(991),o=n(992),a=n(474),s=n(1009),l=n(478),u=n(1010),c=n(480),h=n(481),f=n(1011),d="Expected a function",p=1,m=2,v=8,g=16,y=32,b=64,_=Math.max;function x(t,e,n,x,T,w,S,E){var k=e&m;if(!k&&"function"!=typeof t)throw new TypeError(d);var C=x?x.length:0;if(C||(e&=~(y|b),x=T=void 0),S=void 0===S?S:_(f(S),0),E=void 0===E?E:f(E),C-=T?T.length:0,e&b){var A=x,O=T;x=T=void 0}var P=k?void 0:l(t),M=[t,e,n,x,T,A,O,w,S,E];if(P&&u(M,P),t=M[0],e=M[1],n=M[2],x=M[3],T=M[4],!(E=M[9]=void 0===M[9]?k?0:t.length:_(M[9]-C,0))&&e&(v|g)&&(e&=~(v|g)),e&&e!=p)I=e==v||e==g?o(t,e,E):e!=y&&e!=(p|y)||T.length?a.apply(void 0,M):s(t,e,n,x);else var I=i(t,e,n);return h((P?r:c)(I,M),t,e)}t.exports=x},function(t,e,n){var r=n(205),i=n(41),o=1;function a(t,e,n){var a=e&o,s=r(t);function l(){return(this&&this!==i&&this instanceof l?s:t).apply(a?n:this,arguments)}return l}t.exports=a},function(t,e,n){var r=n(292),i=n(205),o=n(474),a=n(477),s=n(309),l=n(206),u=n(41);function c(t,e,n){var c=i(t);function h(){for(var i=arguments.length,f=Array(i),d=i,p=s(h);d--;)f[d]=arguments[d];var m=i<3&&f[0]!==p&&f[i-1]!==p?[]:l(f,p);return(i-=m.length)<n?a(t,e,o,h.placeholder,void 0,f,m,void 0,void 0,n-i):r(this&&this!==u&&this instanceof h?c:t,this,f)}return h}t.exports=c},function(t,e){function n(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}t.exports=n},function(t,e,n){var r=n(307),i=n(478),o=n(996),a=n(998);function s(t){var e=o(t),n=a[e];if("function"!=typeof n||!(e in r.prototype))return!1;if(t===n)return!0;var s=i(n);return!!s&&t===s[0]}t.exports=s},function(t,e){function n(){}t.exports=n},function(t,e,n){var r=n(997),i=Object.prototype.hasOwnProperty;function o(t){for(var e=t.name+"",n=r[e],o=i.call(r,e)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==t)return a.name}return e}t.exports=o},function(t,e){var n={};t.exports=n},function(t,e,n){var r=n(307),i=n(479),o=n(308),a=n(31),s=n(56),l=n(999),u=Object.prototype.hasOwnProperty;function c(t){if(s(t)&&!a(t)&&!(t instanceof r)){if(t instanceof i)return t;if(u.call(t,"__wrapped__"))return l(t)}return new i(t)}c.prototype=o.prototype,c.prototype.constructor=c,t.exports=c},function(t,e,n){var r=n(307),i=n(479),o=n(196);function a(t){if(t instanceof r)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}t.exports=a},function(t,e){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;function i(t){var e=t.match(n);return e?e[1].split(r):[]}t.exports=i},function(t,e){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function r(t,e){var r=e.length;if(!r)return t;var i=r-1;return e[i]=(r>1?"& ":"")+e[i],e=e.join(r>2?", ":" "),t.replace(n,"{\n/* [wrapped with "+e+"] */\n")}t.exports=r},function(t,e,n){var r=n(286),i=n(1003),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function a(t,e){return r(o,(function(n){var r="_."+n[0];e&n[1]&&!i(t,r)&&t.push(r)})),t.sort()}t.exports=a},function(t,e,n){var r=n(1004);function i(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}t.exports=i},function(t,e,n){var r=n(1005),i=n(1006),o=n(1007);function a(t,e,n){return e===e?o(t,e,n):r(t,i,n)}t.exports=a},function(t,e){function n(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e){function n(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e,n){var r=n(196),i=n(142),o=Math.min;function a(t,e){for(var n=t.length,a=o(e.length,n),s=r(t);a--;){var l=e[a];t[a]=i(l,n)?s[l]:void 0}return t}t.exports=a},function(t,e,n){var r=n(292),i=n(205),o=n(41),a=1;function s(t,e,n,s){var l=e&a,u=i(t);function c(){for(var e=-1,i=arguments.length,a=-1,h=s.length,f=Array(h+i),d=this&&this!==o&&this instanceof c?u:t;++a<h;)f[a]=s[a];for(;i--;)f[a++]=arguments[++e];return r(d,l?n:this,f)}return c}t.exports=s},function(t,e,n){var r=n(475),i=n(476),o=n(206),a="__lodash_placeholder__",s=1,l=2,u=4,c=8,h=128,f=256,d=Math.min;function p(t,e){var n=t[1],p=e[1],m=n|p,v=m<(s|l|h),g=p==h&&n==c||p==h&&n==f&&t[7].length<=e[8]||p==(h|f)&&e[7].length<=e[8]&&n==c;if(!v&&!g)return t;p&s&&(t[2]=e[2],m|=n&s?0:u);var y=e[3];if(y){var b=t[3];t[3]=b?r(b,y,e[4]):y,t[4]=b?o(t[3],a):e[4]}return(y=e[5])&&(b=t[5],t[5]=b?i(b,y,e[6]):y,t[6]=b?o(t[5],a):e[6]),(y=e[7])&&(t[7]=y),p&h&&(t[8]=null==t[8]?e[8]:d(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=m,t}t.exports=p},function(t,e,n){var r=n(1012);function i(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}t.exports=i},function(t,e,n){var r=n(436),i=1/0,o=17976931348623157e292;function a(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t===t?t:0:0===t?t:0}t.exports=a},function(t,e,n){var r=n(310),i=n(152),o=i.isTag,a=i.domEach,s=Object.prototype.hasOwnProperty,l=i.camelCase,u=i.cssCase,c=/\s+/,h="data-",f={forEach:n(147),extend:n(471),some:n(1021)},d={null:null,true:!0,false:!1},p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,m=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,v=function(t,e){if(t&&o(t)){if(t.attribs||(t.attribs={}),!e)return t.attribs;if(s.call(t.attribs,e))return p.test(e)?e:t.attribs[e];if("option"===t.name&&"value"===e)return r.text(t.children);if("input"===t.name&&("radio"===t.attribs.type||"checkbox"===t.attribs.type)&&"value"===e)return"on"}},g=function(t,e,n){null===n?T(t,e):t.attribs[e]=n+""};e.attr=function(t,e){return"object"==typeof t||void 0!==e?a(this,"function"==typeof e?function(n,r){g(r,t,e.call(r,n,r.attribs[t]))}:function(n,r){o(r)&&("object"==typeof t?f.forEach(t,(function(t,e){g(r,e,t)})):g(r,t,e))}):v(this[0],t)};var y=function(t,e){if(t&&o(t))return s.call(t,e)?t[e]:p.test(e)?void 0!==v(t,e):v(t,e)},b=function(t,e,n){t[e]=p.test(e)?!!n:n};e.prop=function(t,e){var n,r=0;if("string"==typeof t&&void 0===e){switch(t){case"style":n=this.css(),f.forEach(n,(function(t,e){n[r++]=e})),n.length=r;break;case"tagName":case"nodeName":n=this[0].name.toUpperCase();break;default:n=y(this[0],t)}return n}if("object"==typeof t||void 0!==e)return a(this,"function"==typeof e?function(n,r){b(r,t,e.call(r,n,y(r,t)))}:function(n,r){o(r)&&("object"==typeof t?f.forEach(t,(function(t,e){b(r,e,t)})):b(r,t,e))})};var _=function(t,e,n){if(t.data||(t.data={}),"object"==typeof e)return f.extend(t.data,e);"string"==typeof e&&void 0!==n&&(t.data[e]=n)},x=function(t,e){var n,r,i,o,a,c,f,p=1===arguments.length;for(p?i=(n=Object.keys(t.attribs).filter((function(t){return t.slice(0,h.length)===h}))).map((function(t){return l(t.slice(h.length))})):(n=[h+u(e)],i=[e]),c=0,f=n.length;c<f;++c)if(r=n[c],o=i[c],s.call(t.attribs,r)){if(a=t.attribs[r],s.call(d,a))a=d[a];else if(a===String(Number(a)))a=Number(a);else if(m.test(a))try{a=JSON.parse(a)}catch{}t.data[o]=a}return p?t.data:a};e.data=function(t,e){var n=this[0];if(n&&o(n))return n.data||(n.data={}),t?"object"==typeof t||void 0!==e?(a(this,(function(n,r){_(r,t,e)})),this):s.call(n.data,t)?n.data[t]:x(n,t):x(n)},e.val=function(t){var e=0===arguments.length,n=this[0];if(n)switch(n.name){case"textarea":return this.text(t);case"input":return"radio"===this.attr("type")?e?this.attr("value"):(this.attr("value",t),this):this.attr("value",t);case"select":var r,i=this.find("option:selected");if(void 0===i)return;if(!e){if(!s.call(this.attr(),"multiple")&&"object"==typeof t)return this;"object"!=typeof t&&(t=[t]),this.find("option").removeAttr("selected");for(var o=0;o<t.length;o++)this.find('option[value="'+t[o]+'"]').attr("selected","");return this}return r=i.attr("value"),s.call(this.attr(),"multiple")&&(r=[],a(i,(function(t,e){r.push(v(e,"value"))}))),r;case"option":return e?this.attr("value"):(this.attr("value",t),this)}};var T=function(t,e){!t.attribs||!s.call(t.attribs,e)||delete t.attribs[e]};e.removeAttr=function(t){return a(this,(function(e,n){T(n,t)})),this},e.hasClass=function(t){return f.some(this,(function(e){var n,r=e.attribs,i=r&&r.class,o=-1;if(i&&t.length)for(;(o=i.indexOf(t,o+1))>-1;)if(n=o+t.length,(0===o||c.test(i[o-1]))&&(n===i.length||c.test(i[n])))return!0}))},e.addClass=function(t){if("function"==typeof t)return a(this,(function(n,r){var i=r.attribs.class||"";e.addClass.call([r],t.call(r,n,i))}));if(!t||"string"!=typeof t)return this;for(var n=t.split(c),r=this.length,i=0;i<r;i++)if(o(this[i])){var s,l,u=v(this[i],"class");if(u){l=" "+u+" ",s=n.length;for(var h=0;h<s;h++){var f=n[h]+" ";l.indexOf(" "+f)<0&&(l+=f)}g(this[i],"class",l.trim())}else g(this[i],"class",n.join(" ").trim())}return this};var w=function(t){return t?t.trim().split(c):[]};e.removeClass=function(t){var n,r,i;return"function"==typeof t?a(this,(function(n,r){e.removeClass.call([r],t.call(r,n,r.attribs.class||""))})):(n=w(t),r=n.length,i=0===arguments.length,a(this,(function(t,e){if(o(e))if(i)e.attribs.class="";else{for(var a,s,l=w(e.attribs.class),u=0;u<r;u++)(a=l.indexOf(n[u]))>=0&&(l.splice(a,1),s=!0,u--);s&&(e.attribs.class=l.join(" "))}})))},e.toggleClass=function(t,n){if("function"==typeof t)return a(this,(function(r,i){e.toggleClass.call([i],t.call(i,r,i.attribs.class||"",n),n)}));if(!t||"string"!=typeof t)return this;for(var r,i,s=t.split(c),l=s.length,u="boolean"==typeof n?n?1:-1:0,h=this.length,f=0;f<h;f++)if(o(this[f])){r=w(this[f].attribs.class);for(var d=0;d<l;d++)i=r.indexOf(s[d]),u>=0&&i<0?r.push(s[d]):u<=0&&i>=0&&r.splice(i,1);this[f].attribs.class=r.join(" ")}return this},e.is=function(t){return!!t&&this.filter(t).length>0}},function(t,e,n){var r=n(1015),i=n(1016);t.exports=function(t){return i(r(t))},t.exports.parse=r,t.exports.compile=i},function(t,e){t.exports=r;var n=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/;function r(t){if("even"===(t=t.trim().toLowerCase()))return[2,0];if("odd"===t)return[2,1];var e,r=t.match(n);if(!r)throw new SyntaxError("n-th rule couldn't be parsed ('"+t+"')");return r[1]?(e=parseInt(r[1],10),isNaN(e)&&(e="-"===r[1].charAt(0)?-1:1)):e=0,[e,r[3]?parseInt((r[2]||"")+r[3],10):0]}},function(t,e,n){t.exports=a;var r=n(153),i=r.trueFunc,o=r.falseFunc;function a(t){var e=t[0],n=t[1]-1;if(n<0&&e<=0)return o;if(-1===e)return function(t){return t<=n};if(0===e)return function(t){return t===n};if(1===e)return n<0?i:function(t){return t>=n};var r=n%e;return r<0&&(r+=e),e>1?function(t){return t>=n&&t%e===r}:(e*=-1,function(t){return t<=n&&t%e===r})}},function(t,e,n){t.exports=f,t.exports.compileUnsafe=p,t.exports.compileToken=x;var r=n(1018),i=n(101),o=i.isTag,a=n(1019),s=n(1020),l=n(153),u=l.trueFunc,c=l.falseFunc,h=n(485);function f(t,e,n){return d(p(t,e,n))}function d(t){return function(e){return o(e)&&t(e)}}function p(t,e,n){return x(r(t,e),e,n)}function m(t){return"pseudo"===t.type&&("scope"===t.name||Array.isArray(t.data)&&t.data.some((function(t){return t.some(m)})))}var v={type:"descendant"},g={type:"pseudo",name:"scope"},y={},b=i.getParent;function _(t,e){var n=!!e&&!!e.length&&e.every((function(t){return t===y||!!b(t)}));t.forEach((function(t){if(!(t.length>0&&T(t[0])&&"descendant"!==t[0].type)){if(!n||m(t))return;t.unshift(v)}t.unshift(g)}))}function x(t,e,n){(t=t.filter((function(t){return t.length>0}))).forEach(s);var r=Array.isArray(n);return(n=e&&e.context||n)&&!r&&(n=[n]),_(t,n),t.map((function(t){return w(t,e,n,r)})).reduce(S,c)}function T(t){return h[t.type]<0}function w(t,e,n,r){var i=r&&"scope"===t[0].name&&"descendant"===t[1].type;return t.reduce((function(t,r,o){return t===c?t:a[r.type](t,r,e,n,i&&1===o)}),e&&e.rootFunc||u)}function S(t,e){return e===c||t===u?t:t===c||e===u?e:function(n){return t(n)||e(n)}}var E=n(311).filters,k=i.existsOne,C=(o=i.isTag,i.getChildren);function A(t){return t.some(T)}E.not=function(t,e,n,r){var i={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)};if(i.strict&&(e.length>1||e.some(A)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var o=x(e,i,r);return o===c?t:o===u?c:function(e){return!o(e)&&t(e)}},E.has=function(t,e,n){var r={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)},i=e.some(A)?[y]:null,a=x(e,r,i);return a===c?c:a===u?function(e){return C(e).some(o)&&t(e)}:(a=d(a),i?function(e){return t(e)&&(i[0]=e,k(a,C(e)))}:function(e){return t(e)&&k(a,C(e))})},E.matches=function(t,e,n,r){return x(e,{xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict),rootFunc:t},r)}},function(t,e,n){t.exports=m;var r=/^(?:\\.|[\w\-\u00b0-\uFFFF])+/,i=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,o=/^\s*((?:\\.|[\w\u00b0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF\-])*)|)|)\s*(i)?\]/,a={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},s={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},l={__proto__:null,"#":["id","equals"],".":["class","element"]},u={__proto__:null,has:!0,not:!0,matches:!0},c={__proto__:null,contains:!0,icontains:!0},h={__proto__:null,'"':!0,"'":!0};function f(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}function d(t){return t.replace(i,f)}function p(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function m(t,e){var n=[];if(""!==(t=v(n,t+"",e)))throw new SyntaxError("Unmatched selector: "+t);return n}function v(t,e,n){var i,f,m,y,b=[],_=!1;function x(){var t=e.match(r)[0];return e=e.substr(t.length),d(t)}function T(t){for(;p(e.charAt(t));)t++;e=e.substr(t)}function w(t){for(var n=0;"\\"===e.charAt(--t);)n++;return 1===(1&n)}for(T(0);""!==e;)if(p(f=e.charAt(0)))_=!0,T(1);else if(f in s)b.push({type:s[f]}),_=!1,T(1);else if(","===f){if(0===b.length)throw new SyntaxError("empty sub-selector");t.push(b),b=[],_=!1,T(1)}else if(_&&(b.length>0&&b.push({type:"descendant"}),_=!1),"*"===f)e=e.substr(1),b.push({type:"universal"});else if(f in l)e=e.substr(1),b.push({type:"attribute",name:l[f][0],action:l[f][1],value:x(),ignoreCase:!1});else if("["===f){if(!(i=(e=e.substr(1)).match(o)))throw new SyntaxError("Malformed attribute selector: "+e);e=e.substr(i[0].length),m=d(i[1]),(!n||("lowerCaseAttributeNames"in n?n.lowerCaseAttributeNames:!n.xmlMode))&&(m=m.toLowerCase()),b.push({type:"attribute",name:m,action:a[i[2]],value:d(i[4]||i[5]||""),ignoreCase:!!i[6]})}else if(":"===f){if(":"===e.charAt(1)){e=e.substr(2),b.push({type:"pseudo-element",name:x().toLowerCase()});continue}if(e=e.substr(1),m=x().toLowerCase(),i=null,"("===e.charAt(0))if(m in u){var S=(y=e.charAt(1))in h;if(e=v(i=[],e=e.substr(S+1),n),S){if(e.charAt(0)!==y)throw new SyntaxError("unmatched quotes in :"+m);e=e.substr(1)}if(")"!==e.charAt(0))throw new SyntaxError("missing closing parenthesis in :"+m+" "+e);e=e.substr(1)}else{for(var E=1,k=1;k>0&&E<e.length;E++)"("!==e.charAt(E)||w(E)?")"===e.charAt(E)&&!w(E)&&k--:k++;if(k)throw new SyntaxError("parenthesis not matched");i=e.substr(1,E-2),e=e.substr(E),m in c&&((y=i.charAt(0))===i.slice(-1)&&y in h&&(i=i.slice(1,-1)),i=d(i))}b.push({type:"pseudo",name:m,data:i})}else{if(!r.test(e))return b.length&&"descendant"===b[b.length-1].type&&b.pop(),g(t,b),e;m=x(),(!n||("lowerCaseTags"in n?n.lowerCaseTags:!n.xmlMode))&&(m=m.toLowerCase()),b.push({type:"tag",name:m})}return g(t,b),e}function g(t,e){if(t.length>0&&0===e.length)throw new SyntaxError("empty sub-selector");t.push(e)}},function(t,e,n){var r=n(101),i=r.isTag,o=r.getParent,a=r.getChildren,s=r.getSiblings,l=r.getName;t.exports={__proto__:null,attribute:n(484).compile,pseudo:n(311).compile,tag:function(t,e){var n=e.name;return function(e){return l(e)===n&&t(e)}},descendant:function(t,e,n,r,i){return function(e){if(i&&t(e))return!0;for(var n=!1;!n&&(e=o(e));)n=t(e);return n}},parent:function(t,e,n){if(n&&n.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(t){return a(t).some(r)};function r(e){return i(e)&&t(e)}},child:function(t){return function(e){var n=o(e);return!!n&&t(n)}},sibling:function(t){return function(e){for(var n=s(e),r=0;r<n.length;r++)if(i(n[r])){if(n[r]===e)break;if(t(n[r]))return!0}return!1}},adjacent:function(t){return function(e){for(var n,r=s(e),o=0;o<r.length;o++)if(i(r[o])){if(r[o]===e)break;n=r[o]}return!!n&&t(n)}},universal:function(t){return t}}},function(t,e,n){t.exports=o;var r=n(485),i={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function o(t){for(var e=t.map(a),n=1;n<t.length;n++){var r=e[n];if(!(r<0))for(var i=n-1;i>=0&&r<e[i];i--){var o=t[i+1];t[i+1]=t[i],t[i]=o,e[i+1]=e[i],e[i]=r}}}function a(t){var e=r[t.type];if(e===r.attribute)(e=i[t.action])===i.equals&&"id"===t.name&&(e=9),t.ignoreCase&&(e>>=1);else if(e===r.pseudo)if(t.data)if("has"===t.name||"contains"===t.name)e=0;else if("matches"===t.name||"not"===t.name){e=0;for(var n=0;n<t.data.length;n++)if(1===t.data[n].length){var o=a(t.data[n][0]);if(0===o){e=0;break}o>e&&(e=o)}t.data.length>1&&e>0&&(e-=1)}else e=1;else e=3;return e}},function(t,e,n){var r=n(417),i=n(144),o=n(1022),a=n(31),s=n(294);function l(t,e,n){var l=a(t)?r:o;return n&&s(t,e,n)&&(e=void 0),l(t,i(e,3))}t.exports=l},function(t,e,n){var r=n(146);function i(t,e){var n;return r(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}t.exports=i},function(t,e,n){var r=n(483),i=n(152),o=i.domEach,a=n(148).DomUtils.uniqueSort,s=i.isTag,l={bind:n(306),forEach:n(147),reject:n(1024),filter:n(1026),reduce:n(1027)};e.find=function(t){var e,n=l.reduce(this,(function(t,e){return t.concat(l.filter(e.children,s))}),[]),i=this.constructor.contains;if(t&&"string"!=typeof t)return e=t.cheerio?t.get():[t],this._make(e.filter((function(t){var e,n;for(e=0,n=this.length;e<n;++e)if(i(this[e],t))return!0}),this));var o={__proto__:this.options,context:this.toArray()};return this._make(r(t,n,o))},e.parent=function(t){var n=[];return o(this,(function(t,e){var r=e.parent;r&&n.indexOf(r)<0&&n.push(r)})),arguments.length&&(n=e.filter.call(n,t,this)),this._make(n)},e.parents=function(t){var e=[];return this.get().reverse().forEach((function(n){c(this,n.parent,t,1/0).forEach((function(t){-1===e.indexOf(t)&&e.push(t)}))}),this),this._make(e)},e.parentsUntil=function(t,e){var n,i,o=[];return"string"==typeof t?n=r(t,this.parents().toArray(),this.options)[0]:t&&t.cheerio?i=t.toArray():t&&(n=t),this.toArray().reverse().forEach((function(t){for(;(t=t.parent)&&(n&&t!==n||i&&-1===i.indexOf(t)||!n&&!i);)s(t)&&-1===o.indexOf(t)&&o.push(t)}),this),this._make(e?r(e,o,this.options):o)},e.closest=function(t){var e=[];return t?(o(this,function(n,r){var i=c(this,r,t,1)[0];i&&e.indexOf(i)<0&&e.push(i)}.bind(this)),this._make(e)):this._make(e)},e.next=function(t){if(!this[0])return this;var n=[];return l.forEach(this,(function(t){for(;t=t.next;)if(s(t))return void n.push(t)})),t?e.filter.call(n,t,this):this._make(n)},e.nextAll=function(t){if(!this[0])return this;var n=[];return l.forEach(this,(function(t){for(;t=t.next;)s(t)&&-1===n.indexOf(t)&&n.push(t)})),t?e.filter.call(n,t,this):this._make(n)},e.nextUntil=function(t,n){if(!this[0])return this;var i,o,a=[];return"string"==typeof t?i=r(t,this.nextAll().get(),this.options)[0]:t&&t.cheerio?o=t.get():t&&(i=t),l.forEach(this,(function(t){for(;(t=t.next)&&(i&&t!==i||o&&-1===o.indexOf(t)||!i&&!o);)s(t)&&-1===a.indexOf(t)&&a.push(t)})),n?e.filter.call(a,n,this):this._make(a)},e.prev=function(t){if(!this[0])return this;var n=[];return l.forEach(this,(function(t){for(;t=t.prev;)if(s(t))return void n.push(t)})),t?e.filter.call(n,t,this):this._make(n)},e.prevAll=function(t){if(!this[0])return this;var n=[];return l.forEach(this,(function(t){for(;t=t.prev;)s(t)&&-1===n.indexOf(t)&&n.push(t)})),t?e.filter.call(n,t,this):this._make(n)},e.prevUntil=function(t,n){if(!this[0])return this;var i,o,a=[];return"string"==typeof t?i=r(t,this.prevAll().get(),this.options)[0]:t&&t.cheerio?o=t.get():t&&(i=t),l.forEach(this,(function(t){for(;(t=t.prev)&&(i&&t!==i||o&&-1===o.indexOf(t)||!i&&!o);)s(t)&&-1===a.indexOf(t)&&a.push(t)})),n?e.filter.call(a,n,this):this._make(a)},e.siblings=function(t){var n=this.parent(),r=l.filter(n?n.children():this.siblingsAndMe(),l.bind((function(t){return s(t)&&!this.is(t)}),this));return void 0!==t?e.filter.call(r,t,this):this._make(r)},e.children=function(t){var n=l.reduce(this,(function(t,e){return t.concat(l.filter(e.children,s))}),[]);return void 0===t?this._make(n):e.filter.call(n,t,this)},e.contents=function(){return this._make(l.reduce(this,(function(t,e){return t.push.apply(t,e.children),t}),[]))},e.each=function(t){for(var e=0,n=this.length;e<n&&!1!==t.call(this[e],e,this[e]);)++e;return this},e.map=function(t){return this._make(l.reduce(this,(function(e,n,r){var i=t.call(n,r,n);return null==i?e:e.concat(i)}),[]))};var u=function(t){return function(e,n){var i;return n=n||this,i="string"==typeof e?r.compile(e,n.options):"function"==typeof e?function(t,n){return e.call(t,n,t)}:e.cheerio?e.is.bind(e):function(t){return e===t},n._make(t(this,i))}};function c(t,n,r,i){for(var o=[];n&&o.length<i;)(!r||e.filter.call([n],r,t).length)&&o.push(n),n=n.parent;return o}e.filter=u(l.filter),e.not=u(l.reject),e.has=function(t){var n=this;return e.filter.call(this,(function(){return n._make(this).find(t).length>0}))},e.first=function(){return this.length>1?this._make(this[0]):this},e.last=function(){return this.length>1?this._make(this[this.length-1]):this},e.eq=function(t){return 0===(t=+t)&&this.length<=1?this:(t<0&&(t=this.length+t),this[t]?this._make(this[t]):this._make([]))},e.get=function(t){return null==t?Array.prototype.slice.call(this):this[t<0?this.length+t:t]},e.index=function(t){var e,n;return 0===arguments.length?(e=this.parent().children(),n=this[0]):"string"==typeof t?(e=this._make(t),n=this[0]):(e=this,n=t.cheerio?t[0]:t),e.get().indexOf(n)},e.slice=function(){return this._make([].slice.apply(this,arguments))},e.end=function(){return this.prevObject||this._make([])},e.add=function(t,e){for(var n=this._make(t,e),r=a(n.get().concat(this.get())),i=0;i<r.length;++i)n[i]=r[i];return n.length=r.length,n},e.addBack=function(t){return this.add(arguments.length?this.prevObject.filter(t):this.prevObject)}},function(t,e,n){var r=n(283),i=n(486),o=n(144),a=n(31),s=n(1025);function l(t,e){return(a(t)?r:i)(t,s(o(e,3)))}t.exports=l},function(t,e){var n="Expected a function";function r(t){if("function"!=typeof t)throw new TypeError(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}t.exports=r},function(t,e,n){var r=n(283),i=n(486),o=n(144),a=n(31);function s(t,e){return(a(t)?r:i)(t,o(e,3))}t.exports=s},function(t,e,n){var r=n(1028),i=n(146),o=n(144),a=n(1029),s=n(31);function l(t,e,n){var l=s(t)?r:a,u=arguments.length<3;return l(t,o(e,4),n,u,i)}t.exports=l},function(t,e){function n(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}t.exports=n},function(t,e){function n(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}t.exports=n},function(t,e,n){var r=n(198),i=n(310),o=r.update,a=r.evaluate,s=n(152),l=s.domEach,u=s.cloneDom,c=s.isHtml,h=Array.prototype.slice,f={flatten:n(487),bind:n(306),forEach:n(147)};e._makeDomArray=function(t,e){return null==t?[]:t.cheerio?e?u(t.get(),t.options):t.get():Array.isArray(t)?f.flatten(t.map((function(t){return this._makeDomArray(t,e)}),this)):"string"==typeof t?a(t,this.options,!1):e?u([t]):[t]};var d=function(t){return function(){var e=h.call(arguments),n=this.length-1;return l(this,(function(r,o){var a,s;s="function"==typeof e[0]?e[0].call(o,r,i.html(o.children)):e,a=this._makeDomArray(s,r<n),t(a,o.children,o)}))}},p=function(t,e,n,r,i){var o,a,s,l,u,c=[e,n].concat(r),h=t[e-1]||null,f=t[e]||null;for(o=0,a=r.length;o<a;++o)s=(u=(l=r[o]).parent||l.root)&&u.children.indexOf(r[o]),u&&s>-1&&(u.children.splice(s,1),i===u&&e>s&&c[0]--),l.root=null,l.parent=i,l.prev&&(l.prev.next=l.next||null),l.next&&(l.next.prev=l.prev||null),l.prev=r[o-1]||h,l.next=r[o+1]||f;return h&&(h.next=r[0]),f&&(f.prev=r[r.length-1]),t.splice.apply(t,c)};e.appendTo=function(t){return t.cheerio||(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t.append(this),this},e.prependTo=function(t){return t.cheerio||(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t.prepend(this),this},e.append=d((function(t,e,n){p(e,e.length,0,t,n)})),e.prepend=d((function(t,e,n){p(e,0,0,t,n)})),e.wrap=function(t){var e="function"==typeof t&&t,n=this.length-1;return f.forEach(this,f.bind((function(r,i){var a,s,l,u,h=r.parent||r.root,f=h.children;if(h){for(e&&(t=e.call(r,i)),"string"==typeof t&&!c(t)&&(t=this.parents().last().find(t).clone()),s=(a=this._makeDomArray(t,i<n).slice(0,1))[0],l=0;s&&s.children&&!(l>=s.children.length);)"tag"===s.children[l].type?(s=s.children[l],l=0):l++;u=f.indexOf(r),o([r],s),p(f,u,0,a,h)}}),this)),this},e.after=function(){var t=h.call(arguments),e=this.length-1;return l(this,(function(n,r){var o=r.parent||r.root;if(o){var a,s,l=o.children,u=l.indexOf(r);u<0||(a="function"==typeof t[0]?t[0].call(r,n,i.html(r.children)):t,s=this._makeDomArray(a,n<e),p(l,u+1,0,s,o))}})),this},e.insertAfter=function(t){var e=[],n=this;return"string"==typeof t&&(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t=this._makeDomArray(t),n.remove(),l(t,(function(t,r){var i=n._makeDomArray(n.clone()),o=r.parent||r.root;if(o){var a=o.children,s=a.indexOf(r);s<0||(p(a,s+1,0,i,o),e.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(e))},e.before=function(){var t=h.call(arguments),e=this.length-1;return l(this,(function(n,r){var o=r.parent||r.root;if(o){var a,s,l=o.children,u=l.indexOf(r);u<0||(a="function"==typeof t[0]?t[0].call(r,n,i.html(r.children)):t,s=this._makeDomArray(a,n<e),p(l,u,0,s,o))}})),this},e.insertBefore=function(t){var e=[],n=this;return"string"==typeof t&&(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t=this._makeDomArray(t),n.remove(),l(t,(function(t,r){var i=n._makeDomArray(n.clone()),o=r.parent||r.root;if(o){var a=o.children,s=a.indexOf(r);s<0||(p(a,s,0,i,o),e.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(e))},e.remove=function(t){var e=this;return t&&(e=e.filter(t)),l(e,(function(t,e){var n=e.parent||e.root;if(n){var r=n.children,i=r.indexOf(e);i<0||(r.splice(i,1),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.prev=e.next=e.parent=e.root=null)}})),this},e.replaceWith=function(t){var e=this;return l(this,(function(n,r){var i=r.parent||r.root;if(i){var a,s=i.children,l=e._makeDomArray("function"==typeof t?t.call(r,n,r):t);o(l,null),a=s.indexOf(r),p(s,a,1,l,i),r.parent=r.prev=r.next=r.root=null}})),this},e.empty=function(){return l(this,(function(t,e){f.forEach(e.children,(function(t){t.next=t.prev=t.parent=null})),e.children.length=0})),this},e.html=function(t){if(void 0===t)return this[0]&&this[0].children?i.html(this[0].children,this.options):null;var e=this.options;return l(this,(function(n,r){f.forEach(r.children,(function(t){t.next=t.prev=t.parent=null}));var i=t.cheerio?t.clone().get():a(""+t,e,!1);o(i,r)})),this},e.toString=function(){return i.html(this,this.options)},e.text=function(t){return void 0===t?i.text(this):"function"==typeof t?l(this,(function(n,r){var o=[r];return e.text.call(o,t.call(r,n,i.text(o)))})):(l(this,(function(e,n){f.forEach(n.children,(function(t){t.next=t.prev=t.parent=null})),o({data:""+t,type:"text",parent:n,prev:null,next:null,children:[]},n)})),this)},e.clone=function(){return this._make(u(this.get(),this.options))}},function(t,e,n){var r=n(281),i=n(1032);function o(t,e,n,a,s){var l=-1,u=t.length;for(n||(n=i),s||(s=[]);++l<u;){var c=t[l];e>0&&n(c)?e>1?o(c,e-1,n,a,s):r(s,c):a||(s[s.length]=c)}return s}t.exports=o},function(t,e,n){var r=n(118),i=n(184),o=n(31),a=r?r.isConcatSpreadable:void 0;function s(t){return o(t)||i(t)||!!(a&&t&&t[a])}t.exports=s},function(t,e,n){var r=n(152).domEach,i={pick:n(1034)},o=Object.prototype.toString;function a(t,e,n,r){if("string"==typeof e){var i=s(t);"function"==typeof n&&(n=n.call(t,r,i[e])),""===n?delete i[e]:null!=n&&(i[e]=n),t.attribs.style=l(i)}else"object"==typeof e&&Object.keys(e).forEach((function(n){a(t,n,e[n])}))}function s(t,e){var n=u(t.attribs.style);return"string"==typeof e?n[e]:Array.isArray(e)?i.pick(n,e):n}function l(t){return Object.keys(t||{}).reduce((function(e,n){return e+(e?" ":"")+n+": "+t[n]+";"}),"")}function u(t){return(t=(t||"").trim())?t.split(";").reduce((function(t,e){var n=e.indexOf(":");return n<1||n===e.length-1||(t[e.slice(0,n).trim()]=e.slice(n+1).trim()),t}),{}):{}}e.css=function(t,e){return 2===arguments.length||"[object Object]"===o.call(t)?r(this,(function(n,r){a(r,t,e,n)})):s(this[0],t)}},function(t,e,n){var r=n(1035),i=n(1038)((function(t,e){return null==t?{}:r(t,e)}));t.exports=i},function(t,e,n){var r=n(1036),i=n(425);function o(t,e){return r(t,e,(function(e,n){return i(t,n)}))}t.exports=o},function(t,e,n){var r=n(284),i=n(1037),o=n(193);function a(t,e,n){for(var a=-1,s=e.length,l={};++a<s;){var u=e[a],c=r(t,u);n(c,u)&&i(l,o(u,t),c)}return l}t.exports=a},function(t,e,n){var r=n(195),i=n(193),o=n(142),a=n(45),s=n(145);function l(t,e,n,l){if(!a(t))return t;for(var u=-1,c=(e=i(e,t)).length,h=c-1,f=t;null!=f&&++u<c;){var d=s(e[u]),p=n;if(u!=h){var m=f[d];void 0===(p=l?l(m,d,f):void 0)&&(p=a(m)?m:o(e[u+1])?[]:{})}r(f,d,p),f=f[d]}return t}t.exports=l},function(t,e,n){var r=n(487),i=n(433),o=n(293);function a(t){return o(i(t,void 0,r),t+"")}t.exports=a},function(t,e,n){var r="input,select,textarea,keygen",i=/%20/g,o=/\r?\n/g,a={map:n(70)};e.serialize=function(){var t=this.serializeArray();return a.map(t,(function(t){return encodeURIComponent(t.name)+"="+encodeURIComponent(t.value)})).join("&").replace(i,"+")},e.serializeArray=function(){var t=this.constructor;return this.map((function(){var e=this,n=t(e);return"form"===e.name?n.find(r).toArray():n.filter(r).toArray()})).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((function(e,n){var r=t(n),i=r.attr("name"),s=r.val();return null==s&&(s=""),Array.isArray(s)?a.map(s,(function(t){return{name:i,value:t.replace(o,"\r\n")}})):{name:i,value:s.replace(o,"\r\n")}})).get()}},function(t){t.exports={name:"cheerio",version:"1.0.0-rc.3",description:"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server",author:"Matt Mueller <mattmuelle@gmail.com> (mat.io)",license:"MIT",keywords:["htmlparser","jquery","selector","scraper","parser","html"],repository:{type:"git",url:"git://github.com/cheeriojs/cheerio.git"},main:"./index.js",files:["index.js","lib"],engines:{node:">= 0.6"},dependencies:{"css-select":"~1.2.0","dom-serializer":"~0.1.1",entities:"~1.1.1",htmlparser2:"^3.9.1",lodash:"^4.15.0",parse5:"^3.0.1"},devDependencies:{benchmark:"^2.1.0",coveralls:"^2.11.9","expect.js":"~0.3.1",istanbul:"^0.4.3",jquery:"^3.0.0",jsdom:"^9.2.1",jshint:"^2.9.2",mocha:"^3.1.2",xyz:"~1.1.0"},scripts:{test:"make test"},_resolved:"https://registry.npmjs.org/cheerio/-/cheerio-1.0.0-rc.3.tgz",_integrity:"sha512-0td5ijfUPuubwLUu0OBoe98gZj8C/AA+RW3v67GPlGOrvxWjZmBXiBCRU+I8VEiNyJzjth40POfHiz2RB3gImA==",_from:"cheerio@1.0.0-rc.3"}},function(t,e,n){var r=n(53),i=n(489),o=n(312),a=n(1050),s=n(207),l=s("%TypeError%"),u=r.call(Function.call,s("%ObjectPrototype%").propertyIsEnumerable),c=r.call(Function.apply,s("%ArrayPrototype%").push),h=o(o({},i),{ToIndex:function(t){if(typeof t>"u")return 0;var e=this.ToInteger(t);if(e<0)throw new RangeError("index must be >= 0");var n=this.ToLength(e);if(!this.SameValueZero(e,n))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return n},EnumerableOwnProperties:function(t,e){var n=i.EnumerableOwnNames(t);if("key"===e)return n;if("value"===e||"key+value"===e){var r=[];return a(n,(function(n){u(t,n)&&c(r,["value"===e?t[n]:[n,t[n]]])})),r}throw new l('Assertion failed: "kind" is not "key", "value", or "key+value": '+e)}});delete h.EnumerableOwnNames,t.exports=h},function(t,e,n){var r=n(59),i=n(1043),o=n(295),a=n(207),s=a("%TypeError%"),l=a("%SyntaxError%"),u=a("%Array%"),c=a("%String%"),h=a("%Object%"),f=a("%Number%"),d=a("%Symbol%",!0),p=a("%RegExp%"),m=!!d,v=n(491),g=n(492),y=n(493),b=f.MAX_SAFE_INTEGER||Math.pow(2,53)-1,_=n(312),x=n(494),T=n(495),w=n(1048),S=parseInt,E=n(53),k=E.call(Function.call,u.prototype.slice),C=E.call(Function.call,c.prototype.slice),A=E.call(Function.call,p.prototype.test,/^0b[01]+$/i),O=E.call(Function.call,p.prototype.test,/^0o[0-7]+$/i),P=E.call(Function.call,p.prototype.exec),M=new p("["+["\x85","\u200b","\ufffe"].join("")+"]","g"),I=E.call(Function.call,p.prototype.test,M),R=/^[-+]0x[0-9a-f]+$/i,L=E.call(Function.call,p.prototype.test,R),D=E.call(Function.call,c.prototype.charCodeAt),N=E.call(Function.call,Object.prototype.toString),j=E.call(Function.call,a("%NumberPrototype%").valueOf),B=E.call(Function.call,a("%BooleanPrototype%").valueOf),F=E.call(Function.call,a("%StringPrototype%").valueOf),H=E.call(Function.call,a("%DatePrototype%").valueOf),z=Math.floor,U=Math.abs,V=Object.create,G=h.getOwnPropertyDescriptor,X=h.isExtensible,Y=h.defineProperty,W=["\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join(""),q=new RegExp("(^["+W+"]+)|(["+W+"]+$)","g"),K=E.call(Function.call,c.prototype.replace),$=function(t){return K(t,q,"")},Z=n(496),Q=n(497),J=_(_({},Z),{Call:function(t,e){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(t))throw new s(t+" is not a function");return t.apply(e,n)},ToPrimitive:i,ToNumber:function(t){var e=w(t)?t:i(t,f);if("symbol"==typeof e)throw new s("Cannot convert a Symbol value to a number");if("string"==typeof e){if(A(e))return this.ToNumber(S(C(e,2),2));if(O(e))return this.ToNumber(S(C(e,2),8));if(I(e)||L(e))return NaN;var n=$(e);if(n!==e)return this.ToNumber(n)}return f(e)},ToInt16:function(t){var e=this.ToUint16(t);return e>=32768?e-65536:e},ToInt8:function(t){var e=this.ToUint8(t);return e>=128?e-256:e},ToUint8:function(t){var e=this.ToNumber(t);if(g(e)||0===e||!y(e))return 0;var n=x(e)*z(U(e));return T(n,256)},ToUint8Clamp:function(t){var e=this.ToNumber(t);if(g(e)||e<=0)return 0;if(e>=255)return 255;var n=z(t);return n+.5<e?n+1:e<n+.5?n:n%2!==0?n+1:n},ToString:function(t){if("symbol"==typeof t)throw new s("Cannot convert a Symbol value to a string");return c(t)},ToObject:function(t){return this.RequireObjectCoercible(t),h(t)},ToPropertyKey:function(t){var e=this.ToPrimitive(t,c);return"symbol"==typeof e?e:this.ToString(e)},ToLength:function(t){var e=this.ToInteger(t);return e<=0?0:e>b?b:e},CanonicalNumericIndexString:function(t){if("[object String]"!==N(t))throw new s("must be a string");if("-0"===t)return-0;var e=this.ToNumber(t);return this.SameValue(this.ToString(e),t)?e:void 0},RequireObjectCoercible:Z.CheckObjectCoercible,IsArray:u.isArray||function(t){return"[object Array]"===N(t)},IsConstructor:function(t){return"function"==typeof t&&!!t.prototype},IsExtensible:Object.preventExtensions?function(t){return!w(t)&&X(t)}:function(t){return!0},IsInteger:function(t){if("number"!=typeof t||g(t)||!y(t))return!1;var e=U(t);return z(e)===e},IsPropertyKey:function(t){return"string"==typeof t||"symbol"==typeof t},IsRegExp:function(t){if(!t||"object"!=typeof t)return!1;if(m){var e=t[d.match];if(typeof e<"u")return Z.ToBoolean(e)}return Q(t)},SameValueZero:function(t,e){return t===e||g(t)&&g(e)},GetV:function(t,e){if(!this.IsPropertyKey(e))throw new s("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(t)[e]},GetMethod:function(t,e){if(!this.IsPropertyKey(e))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=this.GetV(t,e);if(null!=n){if(!this.IsCallable(n))throw new s(e+"is not a function");return n}},Get:function(t,e){if("Object"!==this.Type(t))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(e))throw new s("Assertion failed: IsPropertyKey(P) is not true");return t[e]},Type:function(t){return"symbol"==typeof t?"Symbol":Z.Type(t)},SpeciesConstructor:function(t,e){if("Object"!==this.Type(t))throw new s("Assertion failed: Type(O) is not Object");var n=t.constructor;if(typeof n>"u")return e;if("Object"!==this.Type(n))throw new s("O.constructor is not an Object");var r=m&&d.species?n[d.species]:void 0;if(null==r)return e;if(this.IsConstructor(r))return r;throw new s("no constructor found")},CompletePropertyDescriptor:function(t){return v(this,"Property Descriptor","Desc",t),this.IsGenericDescriptor(t)||this.IsDataDescriptor(t)?(r(t,"[[Value]]")||(t["[[Value]]"]=void 0),r(t,"[[Writable]]")||(t["[[Writable]]"]=!1)):(r(t,"[[Get]]")||(t["[[Get]]"]=void 0),r(t,"[[Set]]")||(t["[[Set]]"]=void 0)),r(t,"[[Enumerable]]")||(t["[[Enumerable]]"]=!1),r(t,"[[Configurable]]")||(t["[[Configurable]]"]=!1),t},Set:function(t,e,n,r){if("Object"!==this.Type(t))throw new s("O must be an Object");if(!this.IsPropertyKey(e))throw new s("P must be a Property Key");if("Boolean"!==this.Type(r))throw new s("Throw must be a Boolean");if(r)return t[e]=n,!0;try{t[e]=n}catch{return!1}},HasOwnProperty:function(t,e){if("Object"!==this.Type(t))throw new s("O must be an Object");if(!this.IsPropertyKey(e))throw new s("P must be a Property Key");return r(t,e)},HasProperty:function(t,e){if("Object"!==this.Type(t))throw new s("O must be an Object");if(!this.IsPropertyKey(e))throw new s("P must be a Property Key");return e in t},IsConcatSpreadable:function(t){if("Object"!==this.Type(t))return!1;if(m&&"symbol"==typeof d.isConcatSpreadable){var e=this.Get(t,Symbol.isConcatSpreadable);if(typeof e<"u")return this.ToBoolean(e)}return this.IsArray(t)},Invoke:function(t,e){if(!this.IsPropertyKey(e))throw new s("P must be a Property Key");var n=k(arguments,2),r=this.GetV(t,e);return this.Call(r,t,n)},GetIterator:function(t,e){if(!m)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var n=e;arguments.length<2&&(n=this.GetMethod(t,d.iterator));var r=this.Call(n,t);if("Object"!==this.Type(r))throw new s("iterator must return an object");return r},IteratorNext:function(t,e){var n=this.Invoke(t,"next",arguments.length<2?[]:[e]);if("Object"!==this.Type(n))throw new s("iterator next must return an object");return n},IteratorComplete:function(t){if("Object"!==this.Type(t))throw new s("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(t,"done"))},IteratorValue:function(t){if("Object"!==this.Type(t))throw new s("Assertion failed: Type(iterResult) is not Object");return this.Get(t,"value")},IteratorStep:function(t){var e=this.IteratorNext(t);return!0!==this.IteratorComplete(e)&&e},IteratorClose:function(t,e){if("Object"!==this.Type(t))throw new s("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(e))throw new s("Assertion failed: completion is not a thunk for a Completion Record");var n,r=e,i=this.GetMethod(t,"return");if(typeof i>"u")return r();try{var o=this.Call(i,t,[])}catch(a){throw n=r(),r=null,a}if(n=r(),r=null,"Object"!==this.Type(o))throw new s("iterator .return must return an object");return n},CreateIterResultObject:function(t,e){if("Boolean"!==this.Type(e))throw new s("Assertion failed: Type(done) is not Boolean");return{value:t,done:e}},RegExpExec:function(t,e){if("Object"!==this.Type(t))throw new s("R must be an Object");if("String"!==this.Type(e))throw new s("S must be a String");var n=this.Get(t,"exec");if(this.IsCallable(n)){var r=this.Call(n,t,[e]);if(null===r||"Object"===this.Type(r))return r;throw new s('"exec" method must return `null` or an Object')}return P(t,e)},ArraySpeciesCreate:function(t,e){if(!this.IsInteger(e)||e<0)throw new s("Assertion failed: length must be an integer >= 0");var n,r=0===e?0:e;if(this.IsArray(t)&&(n=this.Get(t,"constructor"),"Object"===this.Type(n)&&m&&d.species&&null===(n=this.Get(n,d.species))&&(n=void 0)),typeof n>"u")return u(r);if(!this.IsConstructor(n))throw new s("C must be a constructor");return new n(r)},CreateDataProperty:function(t,e,n){if("Object"!==this.Type(t))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(e))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=G(t,e),i=r||"function"!=typeof X||X(t);return!(!(!r||r.writable&&r.configurable)||!i)&&(Y(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}),!0)},CreateDataPropertyOrThrow:function(t,e,n){if("Object"!==this.Type(t))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(e))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=this.CreateDataProperty(t,e,n);if(!r)throw new s("unable to create data property");return r},ObjectCreate:function(t,e){if(null!==t&&"Object"!==this.Type(t))throw new s("Assertion failed: proto must be null or an object");if((arguments.length<2?[]:e).length>0)throw new l("es-abstract does not yet support internal slots");if(null===t&&!V)throw new l("native Object.create support is required to create null objects");return V(t)},AdvanceStringIndex:function(t,e,n){if("String"!==this.Type(t))throw new s("S must be a String");if(!this.IsInteger(e)||e<0||e>b)throw new s("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(n))throw new s("Assertion failed: unicode must be a Boolean");if(!n)return e+1;if(e+1>=t.length)return e+1;var r=D(t,e);if(r<55296||r>56319)return e+1;var i=D(t,e+1);return i<56320||i>57343?e+1:e+2},CreateMethodProperty:function(t,e,n){if("Object"!==this.Type(t))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(e))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!Y(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0})},DefinePropertyOrThrow:function(t,e,n){if("Object"!==this.Type(t))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(e))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!Y(t,e,n)},DeletePropertyOrThrow:function(t,e){if("Object"!==this.Type(t))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(e))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=delete t[e];if(!n)throw new TypeError("Attempt to delete property failed.");return n},EnumerableOwnNames:function(t){if("Object"!==this.Type(t))throw new s("Assertion failed: Type(O) is not Object");return o(t)},thisNumberValue:function(t){return"Number"===this.Type(t)?t:j(t)},thisBooleanValue:function(t){return"Boolean"===this.Type(t)?t:B(t)},thisStringValue:function(t){return"String"===this.Type(t)?t:F(t)},thisTimeValue:function(t){return H(t)}});delete J.CheckObjectCoercible,t.exports=J},function(t,e,n){t.exports=n(1044)},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,i=n(490),o=n(155),a=n(1045),s=n(1046),l=function(t,e){if(typeof t>"u"||null===t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var n,r,a,s="string"===e?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(n=t[s[a]],o(n)&&(r=n.call(t),i(r)))return r;throw new TypeError("No default value")},u=function(t,e){var n=t[e];if(null!==n&&typeof n<"u"){if(!o(n))throw new TypeError(n+" returned for property "+e+" of object "+t+" is not a function");return n}};t.exports=function(t){if(i(t))return t;var e,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),r&&(Symbol.toPrimitive?e=u(t,Symbol.toPrimitive):s(t)&&(e=Symbol.prototype.valueOf)),typeof e<"u"){var o=e.call(t,n);if(i(o))return o;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(a(t)||s(t))&&(n="string"),l(t,"default"===n?"number":n)}},function(t,e,n){var r=Date.prototype.getDay,i=function(t){try{return r.call(t),!0}catch{return!1}},o=Object.prototype.toString,a="[object Date]",s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(s?i(t):o.call(t)===a)}},function(t,e,n){var r=Object.prototype.toString;if(n(1047)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/,a=function(t){return"symbol"==typeof t.valueOf()&&o.test(i.call(t))};t.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==r.call(t))return!1;try{return a(t)}catch{return!1}}}else t.exports=function(t){return!1}},function(t,e,n){(function(e){var r=e.Symbol,i=n(450);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}}).call(this,n(27))},function(t,e){t.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},function(t,e,n){var r=Object.prototype.toString,i=n(490),o=n(155),a={"[[DefaultValue]]":function(t){var e;if((e=arguments.length>1?arguments[1]:"[object Date]"===r.call(t)?String:Number)===String||e===Number){var n,a,s=e===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(o(t[s[a]])&&(n=t[s[a]](),i(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};t.exports=function(t){return i(t)?t:arguments.length>1?a["[[DefaultValue]]"](t,arguments[1]):a["[[DefaultValue]]"](t)}},function(t,e,n){t.exports=function(t,e){for(var n=0;n<t.length;n+=1)e(t[n],n,t)}},function(t,e,n){var r=n(52),i=n(498);t.exports=function(){var t=i();return r(Array.prototype,{flat:t},{flat:function(){return Array.prototype.flat!==t}}),t}},function(t,e,n){var r=n(503),i=n(52);t.exports=function(){var t=r();return i(Object,{entries:t},{entries:function(){return Object.entries!==t}}),t}},function(t,e,n){var r=n(52).supportsDescriptors,i=n(505),o=n(506),a=Object.defineProperty,s=TypeError;t.exports=function(){var t=o();if(i)return t;if(!r)throw new s("Shimming Function.prototype.name support requires ES5 property descriptor support.");var e=Function.prototype;return a(e,"name",{configurable:!0,enumerable:!1,get:function(){var n=t.call(this);return this!==e&&a(this,"name",{configurable:!0,enumerable:!1,value:n,writable:!1}),n}}),t}},function(t,e,n){var r=n(53),i=n(52),o=n(507),a=n(508),s=n(1055),l=r.call(Function.call,a());i(l,{getPolyfill:a,implementation:o,shim:s}),t.exports=l},function(t,e,n){var r=n(52),i=n(508);t.exports=function(){var t=i();return r(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){return"object"==typeof t&&null!==t&&"object"==typeof e&&null!==e&&Object.keys(e).every((function(n){if(!t.propertyIsEnumerable(n))return!1;var i=e[n],o=t[n];return!("object"==typeof i&&null!==i?!r(o,i):o!==i)}))}));e.default=r,t.exports=e.default},function(t,e,n){(function(e){var n=1/0,r="[object Symbol]",i=/[&<>"'`]/g,o=RegExp(i.source),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},s="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")();function c(t){return function(e){return t?.[e]}}var h=c(a),f=Object.prototype.toString,d=u.Symbol,p=d?d.prototype:void 0,m=p?p.toString:void 0;function v(t){if("string"==typeof t)return t;if(y(t))return m?m.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}function g(t){return!!t&&"object"==typeof t}function y(t){return"symbol"==typeof t||g(t)&&f.call(t)==r}function b(t){return null==t?"":v(t)}function _(t){return(t=b(t))&&o.test(t)?t.replace(i,h):t}t.exports=_}).call(this,n(27))},function(t,e,n){var r=String.prototype.valueOf,i=function(t){try{return r.call(t),!0}catch{return!1}},o=Object.prototype.toString,a="[object String]",s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"string"==typeof t||"object"==typeof t&&(s?i(t):o.call(t)===a)}},function(t,e,n){var r=Number.prototype.toString,i=function(t){try{return r.call(t),!0}catch{return!1}},o=Object.prototype.toString,a="[object Number]",s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"number"==typeof t||"object"==typeof t&&(s?i(t):o.call(t)===a)}},function(t,e,n){var r=Boolean.prototype.toString,i=function(t){try{return r.call(t),!0}catch{return!1}},o=Object.prototype.toString,a="[object Boolean]",s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"boolean"==typeof t||"object"==typeof t&&(s?i(t):o.call(t)===a)}},function(t,e,n){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"==typeof l.get?l.get:null,c=s&&Set.prototype.forEach,h=Boolean.prototype.valueOf,f=Object.prototype.toString,d="function"==typeof BigInt?BigInt.prototype.valueOf:null,p=n(1062).custom,m=p&&T(p)?p:null;function v(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function g(t){return String(t).replace(/"/g,"&quot;")}function y(t){return"[object Array]"===O(t)}function b(t){return"[object Date]"===O(t)}function _(t){return"[object RegExp]"===O(t)}function x(t){return"[object Error]"===O(t)}function T(t){return"[object Symbol]"===O(t)}function w(t){return"[object String]"===O(t)}function S(t){return"[object Number]"===O(t)}function E(t){return"[object BigInt]"===O(t)}function k(t){return"[object Boolean]"===O(t)}t.exports=function t(e,n,r,i){if(n||(n={}),A(n,"quoteStyle")&&"single"!==n.quoteStyle&&"double"!==n.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(typeof e>"u")return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return D(e,n);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var s=typeof n.depth>"u"?5:n.depth;if(typeof r>"u"&&(r=0),r>=s&&s>0&&"object"==typeof e)return"[Object]";if(typeof i>"u")i=[];else if(M(i,e)>=0)return"[Circular]";function l(e,o){return o&&(i=i.slice()).push(o),t(e,n,r+1,i)}if("function"==typeof e){var f=P(e);return"[Function"+(f?": "+f:"")+"]"}if(T(e)){var p=Symbol.prototype.toString.call(e);return"object"==typeof e?j(p):p}if(L(e)){for(var C="<"+String(e.nodeName).toLowerCase(),O=e.attributes||[],N=0;N<O.length;N++)C+=" "+O[N].name+"="+v(g(O[N].value),"double",n);return C+=">",e.childNodes&&e.childNodes.length&&(C+="..."),C+="</"+String(e.nodeName).toLowerCase()+">"}if(y(e))return 0===e.length?"[]":"[ "+F(e,l).join(", ")+" ]";if(x(e))return 0===(H=F(e,l)).length?"["+String(e)+"]":"{ ["+String(e)+"] "+H.join(", ")+" }";if("object"==typeof e){if(m&&"function"==typeof e[m])return e[m]();if("function"==typeof e.inspect)return e.inspect()}if(I(e)){var H=[];return a.call(e,(function(t,n){H.push(l(n,e)+" => "+l(t,e))})),B("Map",o.call(e),H)}if(R(e))return H=[],c.call(e,(function(t){H.push(l(t,e))})),B("Set",u.call(e),H);if(S(e))return j(l(Number(e)));if(E(e))return j(l(d.call(e)));if(k(e))return j(h.call(e));if(w(e))return j(l(String(e)));if(!b(e)&&!_(e)){var z=F(e,l);return 0===z.length?"{}":"{ "+z.join(", ")+" }"}return String(e)};var C=Object.prototype.hasOwnProperty||function(t){return t in this};function A(t,e){return C.call(t,e)}function O(t){return f.call(t)}function P(t){if(t.name)return t.name;var e=String(t).match(/^function\s*([\w$]+)/);return e?e[1]:void 0}function M(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function I(t){if(!o)return!1;try{o.call(t);try{u.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function R(t){if(!u)return!1;try{u.call(t);try{o.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function L(t){return!(!t||"object"!=typeof t)&&(typeof HTMLElement<"u"&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)}function D(t,e){return v(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,N),"single",e)}function N(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+e.toString(16)}function j(t){return"Object("+t+")"}function B(t,e,n){return t+" ("+e+") {"+n.join(", ")+"}"}function F(t,e){var n=y(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=A(t,i)?e(t[i],t):""}for(var o in t)A(t,o)&&(n&&String(Number(o))===o&&o<t.length||(/[^\w$]/.test(o)?r.push(e(o,t)+": "+e(t[o],t)):r.push(o+": "+e(t[o],t))));return r}},function(t,e){},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.createParser=e.createGenerator=void 0;var r=o(n(1064)),i=o(n(1065));function o(t){return t&&t.__esModule?t:{default:t}}e.createGenerator=r.default,e.createParser=i.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return JSON.stringify(t)},i=function(t){var e=t.body,n=[],i=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=void 0;if("universalSelector"===u.type)c="*";else if("typeSelector"===u.type)c=u.name;else if("idSelector"===u.type)c="#"+u.name;else if("classSelector"===u.type)c="."+u.name;else if("attributePresenceSelector"===u.type)c="["+u.name+"]";else if("attributeValueSelector"===u.type)c="["+u.name+u.operator+r(u.value)+"]";else if("pseudoClassSelector"===u.type)c=":"+u.name,u.parameters.length&&(c+="("+u.parameters.map(r).join(", ")+")");else{if("pseudoElementSelector"!==u.type)throw new Error("Unknown token.");c="::"+u.name}n.push(c)}}catch(h){o=!0,a=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return n.join("")};e.default=function(){return{generate:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if("selector"===l.type)e.push(i(l));else if("descendantCombinator"===l.type)e.push(" ");else if("childCombinator"===l.type)e.push(" > ");else if("adjacentSiblingCombinator"===l.type)e.push(" + ");else{if("generalSiblingCombinator"!==l.type)throw new Error("Unknown token.");e.push(" ~ ")}}}catch(u){r=!0,o=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return e.join("")}}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1066),i=o(n(1067));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return{parse:function(t){var e=new r.Parser(i.default.ParserRules,i.default.ParserStart).feed(t).results;if(0===e.length)throw new Error("Found no parsings.");if(e.length>1)throw new Error("Ambiguous results.");return e[0]}}}},function(t,e,n){var r,i;r=this,i=function(){function t(e,n,r){return this.id=++t.highestId,this.name=e,this.symbols=n,this.postprocess=r,this}function e(t,e,n,r){this.rule=t,this.dot=e,this.reference=n,this.data=[],this.wantedBy=r,this.isComplete=this.dot===t.symbols.length}function n(t,e){this.grammar=t,this.index=e,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(t,e){this.rules=t,this.start=e||this.rules[0].name;var n=this.byName={};this.rules.forEach((function(t){n.hasOwnProperty(t.name)||(n[t.name]=[]),n[t.name].push(t)}))}function i(){this.reset("")}function o(t,e,o){if(t instanceof r){var a=t;o=e}else a=r.fromCompiled(t,e);for(var s in this.grammar=a,this.options={keepHistory:!1,lexer:a.lexer||new i},o||{})this.options[s]=o[s];this.lexer=this.options.lexer,this.lexerState=void 0;var l=new n(a,0);this.table=[l],l.wants[a.start]=[],l.predict(a.start),l.process(),this.current=0}return t.highestId=0,t.prototype.toString=function(t){function e(t){return t.literal?JSON.stringify(t.literal):t.type?"%"+t.type:t.toString()}var n=typeof t>"u"?this.symbols.map(e).join(" "):this.symbols.slice(0,t).map(e).join(" ")+" \u25cf "+this.symbols.slice(t).map(e).join(" ");return this.name+" \u2192 "+n},e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(t){var n=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=t,n.isComplete&&(n.data=n.build()),n},e.prototype.build=function(){var t=[],e=this;do{t.push(e.right.data),e=e.left}while(e.left);return t.reverse(),t},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},n.prototype.process=function(t){for(var e=this.states,n=this.wants,r=this.completed,i=0;i<e.length;i++){var a=e[i];if(a.isComplete){if(a.finish(),a.data!==o.fail){for(var s=a.wantedBy,l=s.length;l--;){var u=s[l];this.complete(u,a)}if(a.reference===this.index){var c=a.rule.name;(this.completed[c]=this.completed[c]||[]).push(a)}}}else{if("string"!=typeof(c=a.rule.symbols[a.dot])){this.scannable.push(a);continue}if(n[c]){if(n[c].push(a),r.hasOwnProperty(c)){var h=r[c];for(l=0;l<h.length;l++){var f=h[l];this.complete(a,f)}}}else n[c]=[a],this.predict(c)}}},n.prototype.predict=function(t){for(var n=this.grammar.byName[t]||[],r=0;r<n.length;r++){var i=n[r],o=this.wants[t],a=new e(i,0,this.index,o);this.states.push(a)}},n.prototype.complete=function(t,e){var n=t.nextState(e);this.states.push(n)},r.fromCompiled=function(e,n){var i=e.Lexer;e.ParserStart&&(n=e.ParserStart,e=e.ParserRules);var o=new r(e=e.map((function(e){return new t(e.name,e.symbols,e.postprocess)})),n);return o.lexer=i,o},i.prototype.reset=function(t,e){this.buffer=t,this.index=0,this.line=e?e.line:1,this.lastLineBreak=e?-e.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var t=this.buffer[this.index++];return"\n"===t&&(this.line+=1,this.lastLineBreak=this.index),{value:t}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(t,e){var n=this.buffer;if("string"==typeof n){var r=n.indexOf("\n",this.index);-1===r&&(r=n.length);var i=n.substring(this.lastLineBreak,r),o=this.index-this.lastLineBreak;return e+=" at line "+this.line+" col "+o+":\n\n",e+="  "+i+"\n",e+="  "+Array(o).join(" ")+"^"}return e+" at index "+(this.index-1)},o.fail={},o.prototype.feed=function(t){var e,r=this.lexer;for(r.reset(t,this.lexerState);e=r.next();){var o=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var a=this.current+1,s=new n(this.grammar,a);this.table.push(s);for(var l=void 0!==e.text?e.text:e.value,u=r.constructor===i?e.value:e,c=o.scannable,h=c.length;h--;){var f=c[h],d=f.rule.symbols[f.dot];if(d.test?d.test(u):d.type?d.type===e.type:d.literal===l){var p=f.nextState({data:u,token:e,isToken:!0,reference:a-1});s.states.push(p)}}if(s.process(),0===s.states.length){var m=this.lexer.formatError(e,"invalid syntax")+"\n";m+="Unexpected "+(e.type?e.type+" token: ":""),m+=JSON.stringify(void 0!==e.value?e.value:e)+"\n";var v=new Error(m);throw v.offset=this.current,v.token=e,v}this.options.keepHistory&&(o.lexerState=r.save()),this.current++}return o&&(this.lexerState=r.save()),this.results=this.finish(),this},o.prototype.save=function(){var t=this.table[this.current];return t.lexerState=this.lexerState,t},o.prototype.restore=function(t){var e=t.index;this.current=e,this.table[e]=t,this.table.splice(e+1),this.lexerState=t.lexerState,this.results=this.finish()},o.prototype.rewind=function(t){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[t])},o.prototype.finish=function(){var t=[],e=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(n){n.rule.name===e&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==o.fail&&t.push(n)})),t.map((function(t){return t.data}))},{Parser:o,Grammar:r,Rule:t}},t.exports?t.exports=i():r.nearley=i()},function(t,e,n){!function(){function e(t){return t[0]}var r,i,o=n(1068),a=function(t){return t=t.filter((function(t){return null!==t})),o(t)},s={" ":"descendantCombinator","+":"adjacentSiblingCombinator",">":"childCombinator","~":"generalSiblingCombinator"},l=function(t,e,n){var r=o(t).join(""),i=parseFloat(r);return isNaN(i)?n:i},u=function(t,e,n){return"true"===t[0]||"false"!==t[0]&&n},c=function(t,e,n){return"NaN"===t[0]?NaN:"undefined"!==t[0]?"null"===t[0]?null:n:void 0},h={Lexer:void 0,ParserRules:[{name:"combinator",symbols:["selector"]},{name:"combinator",symbols:["combinator","_",/[>+~ ]/,"_","selector"],postprocess:function(t){return(Array.isArray(t[0])?t[0]:[t[0]]).concat({type:s[t[2]]}).concat(t[4])}},{name:"selector",symbols:["selectorBody"],postprocess:function(t){return{type:"selector",body:t[0]}}},{name:"selectorBody$ebnf$1",symbols:["typeSelector"],postprocess:e},{name:"selectorBody$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"selectorBody$ebnf$2",symbols:[]},{name:"selectorBody$ebnf$2",symbols:["selectorBody$ebnf$2","simpleSelector"],postprocess:function(t){return t[0].concat([t[1]])}},{name:"selectorBody",symbols:["selectorBody$ebnf$1","selectorBody$ebnf$2"],postprocess:function(t,e,n){var r=a(t);return r.length?r:n}},{name:"selectorBody$ebnf$3",symbols:[]},{name:"selectorBody$ebnf$3",symbols:["selectorBody$ebnf$3","simpleSelector"],postprocess:function(t){return t[0].concat([t[1]])}},{name:"selectorBody",symbols:["universalSelector","selectorBody$ebnf$3"],postprocess:a},{name:"simpleSelector",symbols:["idSelector"]},{name:"simpleSelector",symbols:["classSelector"]},{name:"simpleSelector",symbols:["attributeValueSelector"]},{name:"simpleSelector",symbols:["attributePresenceSelector"]},{name:"simpleSelector",symbols:["pseudoClassSelector"]},{name:"simpleSelector",symbols:["pseudoElementSelector"]},{name:"typeSelector",symbols:["attributeName"],postprocess:function(t){return{type:"typeSelector",name:t[0]}}},{name:"className$ebnf$1",symbols:[{literal:"-"}],postprocess:e},{name:"className$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"className$ebnf$2",symbols:[]},{name:"className$ebnf$2",symbols:["className$ebnf$2",/[_a-zA-Z0-9-]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:"className",symbols:["className$ebnf$1",/[_a-zA-Z]/,"className$ebnf$2"],postprocess:function(t){return(t[0]||"")+t[1]+t[2].join("")}},{name:"attributeName$ebnf$1",symbols:[]},{name:"attributeName$ebnf$1",symbols:["attributeName$ebnf$1",/[_a-zA-Z()0-9-]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:"attributeName",symbols:[/[_a-z()A-Z]/,"attributeName$ebnf$1"],postprocess:function(t){return t[0]+t[1].join("")}},{name:"classSelector",symbols:[{literal:"."},"className"],postprocess:function(t){return{type:"classSelector",name:t[1]}}},{name:"idSelector",symbols:[{literal:"#"},"attributeName"],postprocess:function(t){return{type:"idSelector",name:t[1]}}},{name:"universalSelector",symbols:[{literal:"*"}],postprocess:function(t){return{type:"universalSelector"}}},{name:"attributePresenceSelector",symbols:[{literal:"["},"attributeName",{literal:"]"}],postprocess:function(t){return{type:"attributePresenceSelector",name:t[1]}}},{name:"attributeOperator",symbols:[{literal:"="}]},{name:"attributeOperator$string$1",symbols:[{literal:"~"},{literal:"="}],postprocess:function(t){return t.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$1"]},{name:"attributeOperator$string$2",symbols:[{literal:"|"},{literal:"="}],postprocess:function(t){return t.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$2"]},{name:"attributeOperator$string$3",symbols:[{literal:"^"},{literal:"="}],postprocess:function(t){return t.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$3"]},{name:"attributeOperator$string$4",symbols:[{literal:"$"},{literal:"="}],postprocess:function(t){return t.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$4"]},{name:"attributeOperator$string$5",symbols:[{literal:"*"},{literal:"="}],postprocess:function(t){return t.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$5"]},{name:"attributeValueSelector",symbols:[{literal:"["},"attributeName","attributeOperator","attributeValue",{literal:"]"}],postprocess:function(t){return{type:"attributeValueSelector",name:t[1],value:t[3],operator:t[2][0]}}},{name:"attributeValue",symbols:["falsyPrimitiveStrings"],postprocess:e},{name:"attributeValue",symbols:["numericValue"],postprocess:e},{name:"attributeValue",symbols:["sqstring"],postprocess:e},{name:"attributeValue",symbols:["dqstring"],postprocess:e},{name:"falsyPrimitiveStrings$string$1",symbols:[{literal:"f"},{literal:"a"},{literal:"l"},{literal:"s"},{literal:"e"}],postprocess:function(t){return t.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$1"],postprocess:u},{name:"falsyPrimitiveStrings$string$2",symbols:[{literal:"t"},{literal:"r"},{literal:"u"},{literal:"e"}],postprocess:function(t){return t.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$2"],postprocess:u},{name:"falsyPrimitiveStrings$string$3",symbols:[{literal:"N"},{literal:"a"},{literal:"N"}],postprocess:function(t){return t.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$3"],postprocess:c},{name:"falsyPrimitiveStrings$string$4",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:function(t){return t.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$4"],postprocess:c},{name:"falsyPrimitiveStrings$string$5",symbols:[{literal:"u"},{literal:"n"},{literal:"d"},{literal:"e"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"e"},{literal:"d"}],postprocess:function(t){return t.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$5"],postprocess:c},{name:"numericValue",symbols:["int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"+"},"int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"-"},"int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"-"},"int"],postprocess:l},{name:"numericValue",symbols:["int"],postprocess:l},{name:"numericValue",symbols:[{literal:"+"},"int"],postprocess:l},{name:"numericValue$string$1",symbols:[{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(t){return t.join("")}},{name:"numericValue",symbols:["numericValue$string$1"],postprocess:l},{name:"numericValue$string$2",symbols:[{literal:"+"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(t){return t.join("")}},{name:"numericValue",symbols:["numericValue$string$2"],postprocess:l},{name:"numericValue$string$3",symbols:[{literal:"-"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(t){return t.join("")}},{name:"numericValue",symbols:["numericValue$string$3"],postprocess:l},{name:"int$ebnf$1",symbols:[/[0-9]/]},{name:"int$ebnf$1",symbols:["int$ebnf$1",/[0-9]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:"int",symbols:["int$ebnf$1"]},{name:"classParameters",symbols:[]},{name:"classParameters",symbols:["classParameter"]},{name:"classParameters",symbols:["classParameters",{literal:","},"_","classParameter"],postprocess:(r=0,i=3,function(t){return t[r].concat([t[i]])})},{name:"classParameter$ebnf$1",symbols:[/[^()"', ]/]},{name:"classParameter$ebnf$1",symbols:["classParameter$ebnf$1",/[^()"', ]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:"classParameter",symbols:["classParameter$ebnf$1"],postprocess:function(t){return t[0].join("")}},{name:"classParameter",symbols:["sqstring"],postprocess:e},{name:"classParameter",symbols:["dqstring"],postprocess:e},{name:"pseudoElementSelector$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:function(t){return t.join("")}},{name:"pseudoElementSelector",symbols:["pseudoElementSelector$string$1","pseudoClassSelectorName"],postprocess:function(t){return{type:"pseudoElementSelector",name:t[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName"],postprocess:function(t){return{type:"pseudoClassSelector",name:t[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName",{literal:"("},"classParameters",{literal:")"}],postprocess:function(t){return{type:"pseudoClassSelector",name:t[1],parameters:t[3]}}},{name:"pseudoClassSelectorName$ebnf$1",symbols:[/[a-zA-Z0-9-_]/]},{name:"pseudoClassSelectorName$ebnf$1",symbols:["pseudoClassSelectorName$ebnf$1",/[a-zA-Z0-9-_]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:"pseudoClassSelectorName",symbols:[/[a-zA-Z]/,"pseudoClassSelectorName$ebnf$1"],postprocess:function(t){return t[0]+t[1].join("")}},{name:"dqstring$ebnf$1",symbols:[]},{name:"dqstring$ebnf$1",symbols:["dqstring$ebnf$1","dstrchar"],postprocess:function(t){return t[0].concat([t[1]])}},{name:"dqstring",symbols:[{literal:'"'},"dqstring$ebnf$1",{literal:'"'}],postprocess:function(t){return t[1].join("")}},{name:"dstrchar",symbols:[/[^"]/],postprocess:e},{name:"dstrchar$string$1",symbols:[{literal:"\\"},{literal:'"'}],postprocess:function(t){return t.join("")}},{name:"dstrchar",symbols:["dstrchar$string$1"],postprocess:function(t){return'"'}},{name:"sqstring$ebnf$1",symbols:[]},{name:"sqstring$ebnf$1",symbols:["sqstring$ebnf$1","sstrchar"],postprocess:function(t){return t[0].concat([t[1]])}},{name:"sqstring",symbols:[{literal:"'"},"sqstring$ebnf$1",{literal:"'"}],postprocess:function(t){return t[1].join("")}},{name:"sstrchar",symbols:[/[^']/],postprocess:e},{name:"sstrchar$string$1",symbols:[{literal:"\\"},{literal:"'"}],postprocess:function(t){return t.join("")}},{name:"sstrchar",symbols:["sstrchar$string$1"],postprocess:function(t){return"'"}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[ ]/],postprocess:function(t){return t[0].concat([t[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(t){return null}}],ParserStart:"combinator"};typeof t.exports<"u"?t.exports=h:window.grammar=h}()},function(t,e,n){(function(e){var n=1/0,r=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")();function c(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var h=Object.prototype,f=h.hasOwnProperty,d=h.toString,p=u.Symbol,m=h.propertyIsEnumerable,v=p?p.isConcatSpreadable:void 0;function g(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=y),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?g(s,e-1,n,r,i):c(i,s):r||(i[i.length]=s)}return i}function y(t){return x(t)||_(t)||!!(v&&t&&t[v])}function b(t){return t&&t.length?g(t,n):[]}function _(t){return w(t)&&f.call(t,"callee")&&(!m.call(t,"callee")||d.call(t)==i)}var x=Array.isArray;function T(t){return null!=t&&E(t.length)&&!S(t)}function w(t){return C(t)&&T(t)}function S(t){var e=k(t)?d.call(t):"";return e==o||e==a}function E(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function k(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function C(t){return!!t&&"object"==typeof t}t.exports=b}).call(this,n(27))},function(t,e,n){var r=n(52),i=n(513),o=n(514),a=n(1070),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),t.exports=s},function(t,e,n){var r=n(514),i=n(52);t.exports=function(){var t=r();return i(Object,{values:t},{values:function(){return Object.values!==t}}),t}},function(t,e,n){var r=n(1072),i=n(1073);t.exports=function(t){if(!t)return[];var e=i();return t===e.unknown?[]:t===e.all?e.elements:r(e.elements,(function(e){return e.constructor===t}))}},function(t,e){t.exports=function(t,e,r){if(t.filter)return t.filter(e,r);if(null==t)throw new TypeError;if("function"!=typeof e)throw new TypeError;for(var i=[],o=0;o<t.length;o++)if(n.call(t,o)){var a=t[o];e.call(r,a,o,t)&&i.push(a)}return i};var n=Object.prototype.hasOwnProperty},function(t,e,n){(function(e){var n=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r],r));return n},r=[["HTMLElement","article"],["HTMLElement","section"],["HTMLBaseFontElement","basefont"],["HTMLPhraseElement","cite"],["HTMLElement","noscript"],["HTMLBGSoundElement","bgsound"],["HTMLPhraseElement","blink"],["HTMLElement","multicol"],["HTMLNextIdElement","nextid"],["HTMLElement","rb"],["HTMLElement","spacer"],["HTMLAnchorElement","a"],["HTMLAreaElement","area"],["HTMLAudioElement","audio"],["HTMLBaseElement","base"],["HTMLBodyElement","body"],["HTMLBRElement","br"],["HTMLButtonElement","button"],["HTMLCanvasElement","canvas"],["HTMLContentElement","content"],["HTMLDataElement","data"],["HTMLDataListElement","datalist"],["HTMLDialogElement","dialog"],["HTMLDirectoryElement","dir"],["HTMLDivElement","div"],["HTMLDListElement","dl"],["HTMLEmbedElement","embed"],["HTMLFieldSetElement","fieldset"],["HTMLFontElement","font"],["HTMLFormElement","form"],["HTMLFrameElement","frame"],["HTMLFrameSetElement","frameset"],["HTMLHeadElement","head"],["HTMLHeadingElement","h1"],["HTMLHeadingElement","h2"],["HTMLHeadingElement","h3"],["HTMLHeadingElement","h4"],["HTMLHeadingElement","h5"],["HTMLHeadingElement","h6"],["HTMLHtmlElement","html"],["HTMLHRElement","hr"],["HTMLIFrameElement","iframe"],["HTMLImageElement","img"],["HTMLInputElement","input"],["HTMLIsIndexElement","index"],["HTMLKeygenElement","keygen","HTMLBlockElement"],["HTMLLabelElement","label"],["HTMLLegendElement","legend"],["HTMLLIElement","li"],["HTMLLinkElement","link"],["HTMLMapElement","map"],["HTMLMarqueeElement","marquee"],["HTMLMenuElement","menu"],["HTMLMetaElement","meta"],["HTMLMeterElement","meter"],["HTMLModElement","del"],["HTMLModElement","ins"],["HTMLObjectElement","object"],["HTMLOListElement","ol"],["HTMLOptGroupElement","optgroup"],["HTMLOptionElement","option"],["HTMLOutputElement","output"],["HTMLParagraphElement","p"],["HTMLParamElement","param"],["HTMLPictureElement","picture"],["HTMLPreElement","pre"],["HTMLProgressElement","progress"],["HTMLQuoteElement","q"],["HTMLQuoteElement","blockquote","HTMLBlockElement"],["HTMLScriptElement","script"],["HTMLPictureElement","picture"],["HTMLSelectElement","select"],["HTMLShadowElement","shadow"],["HTMLSourceElement","source"],["HTMLSpanElement","span"],["HTMLStyleElement","style"],["HTMLTableElement","table"],["HTMLTableCaptionElement","caption"],["HTMLTableCellElement","td","HTMLTableDataCellElement"],["HTMLTableCellElement","th","HTMLTableHeaderCellElement"],["HTMLTableRowElement","tr"],["HTMLTableColElement","col"],["HTMLTableColElement","colgroup"],["HTMLTableSectionElement","tbody"],["HTMLTableSectionElement","thead"],["HTMLTableSectionElement","tfoot"],["HTMLTemplateElement","template"],["HTMLTextAreaElement","textarea"],["HTMLTimeElement","time"],["HTMLTitleElement","title"],["HTMLTrackElement","track"],["HTMLUListElement","ul"],["HTMLVideoElement","video"]],i=function(t,e,n){if(typeof document<"u"&&"function"==typeof document.createElement){var r=document.createElement(t).constructor;if(r!==n)return r}};t.exports=function(){var t=e.HTMLUnknownElement;return{all:e.HTMLElement,elements:n(r,(function(n){var r=n[0],o=n[1],a=n[2],s=e[r],l=a&&e[a];return{constructor:i(o,l||s,t),constructorName:l?a:r,expectedConstructor:l||s,tag:o}})),unknown:t}}}).call(this,n(27))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=i(n(447));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return new r.default(t,null,e)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=i(n(515));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return new r.default(t,null,e)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r=a(n(122)),i=a(n(296)),o=a(n(103));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.default)(e).createRenderer((0,r.default)({mode:"string"},e)).render(t,e.context);return i.default.load("")(n)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(3)),i=o(n(4));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){(0,r.default)(this,t),this.customEventHandlers={},this.registeredEls={},this.pubSub=e}return(0,i.default)(t,[{key:"getEventHandler",value:function(){function t(t){var e=this;return this.customEventHandlers[t]?this.customEventHandlers[t]:function(n){return e.pubSub.publish(t,n)}}return t}()},{key:"unregister",value:function(){function t(t,e){!this.registeredEls[t]&&this.registeredEls[t]!==e||(this.registeredEls[t].removeEventListener(t,this.registeredEls[t].__handler__),this.registeredEls[t]=void 0,delete this.registeredEls[t])}return t}()},{key:"register",value:function(){function t(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e||this.registeredEls[t]===e||(this.registeredEls[t]&&this.unregister(this.registeredEls[t]),this.registeredEls[t]=e,this.registeredEls[t].__handler__=this.getEventHandler(t),this.registeredEls[t].addEventListener(t,this.registeredEls[t].__handler__,{capture:n,passive:!1}))}return t}()}]),t}(),s=function(t){return new a(t)};e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.trackInfo=e.tileDataToPixData=e.calculateTilesFromResolution=e.calculateTileWidth=e.calculateTiles=e.calculateZoomLevel=e.calculateResolution=e.calculateZoomLevelFromResolutions=e.fetchTilesDebounced=e.getTileProxyAuthHeader=e.setTileProxyAuthHeader=e.authHeader=e.requestsInFlight=void 0;var r=p(n(246)),i=p(n(247)),o=p(n(17)),a=p(n(62)),s=p(n(18)),l=function(){var t=(0,i.default)(r.default.mark(function(){function t(e,n,i){return r.default.wrap(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.indexOf("hg19")>=0)){t.next=3;break}return t.next=3,I(1);case 3:return t.abrupt("return",P(e,n,"json",i));case 4:case"end":return t.stop()}}return t}(),t,this)}return t}()));return function(){function e(e,n,r){return t.apply(this,arguments)}return e}()}();e.fetchMultiRequestTiles=_,e.calculateTileAndPosInTile=E;var u=n(8),c=p(n(26)),h=n(182),f=n(10),d=n(11);function p(t){return t&&t.__esModule?t:{default:t}}var m=15,v=c.default.nice(),g=e.requestsInFlight=0,y=e.authHeader=null,b=function(t,e,n){var r=void 0,i=[],o={},a=0,s=function(t){var e=o[t.id];e&&i[e]?i[e].ids=i[e].ids.concat(t.ids):(o[t.id]=i.length,i.push(t))},l=function(){r=null,i=[],o={}},u=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.apply(void 0,[{sessionId:v,requests:i}].concat(r)),l()},c=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];var s=function(){a>0&&(u.apply(void 0,[t].concat(i)),a=0)};clearTimeout(r),r=setTimeout(s,n)};c.cancel=function(){clearTimeout(r),l()},c.immediate=function(){t({sessionId:v,requests:i})};var h=!1,f=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];s(t),h?a++:(u.apply(void 0,[t].concat(r)),c.apply(void 0,[t].concat(r)),h=!0,a=0,setTimeout((function(){h=!1}),e))};return f};function _(t,e){var n=t.requests,r=[],i={},l={},u=!0,c=!1,f=void 0;try{for(var d,p=(0,o.default)(n);!(u=(d=p.next()).done);u=!0){var g=d.value;i[g.server]||(i[g.server]={},l[g.server]=[]);var b=!0,_=!1,x=void 0;try{for(var T,w=(0,o.default)(g.ids);!(b=(T=w.next()).done);b=!0){var S=T.value;i[g.server][S]=!0,g.options&&function(){var t=S.indexOf("."),e=S.substring(0,t),n=S.substring(t+1),r=l[g.server].find((function(t){return t.tilesetUid===e}));r?r.tileIds.push(n):l[g.server].push({tilesetUid:e,tileIds:[n],options:g.options})}()}}catch(I){_=!0,x=I}finally{try{!b&&w.return&&w.return()}finally{if(_)throw x}}}}catch(I){c=!0,f=I}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}var E=(0,s.default)(i),k=function(t){for(var n=(0,s.default)(i[t]),o=l[t],u=function(i){var s=n.slice(i,i+Math.min(n.length-i,m)),l=s.map((function(t){return"d="+String(t)})).join("&"),u=String(t)+"/tiles/?"+String(l)+"&s="+String(v),c=new a.default((function(n,r){e.publish("requestSent",u);var i={};i.outUrl=u,i.server=t,i.theseTileIds=s,i.authHeader=y,(0,h.workerGetTiles)(i.outUrl,i.server,i.theseTileIds,i.authHeader,n,o),e.publish("requestReceived",u)}));r.push(c)},c=0;c<n.length;c+=m)u(c)},C=!0,A=!1,O=void 0;try{for(var P,M=(0,o.default)(E);!(C=(P=M.next()).done);C=!0)k(P.value)}catch(I){A=!0,O=I}finally{try{!C&&M.return&&M.return()}finally{if(A)throw O}}a.default.all(r).then((function(t){var e={},r=!0,i=!1,a=void 0;try{for(var l,u=(0,o.default)(t);!(r=(l=u.next()).done);r=!0){var c=l.value,h=(0,s.default)(c),f=!0,d=!1,p=void 0;try{for(var m,v=(0,o.default)(h);!(f=(m=v.next()).done);f=!0){var g=m.value;e[String(c[g].server)+"/"+String(g)]=c[g]}}catch(I){d=!0,p=I}finally{try{!f&&v.return&&v.return()}finally{if(d)throw p}}}}catch(I){i=!0,a=I}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}var y=!0,b=!1,_=void 0;try{for(var x,T=(0,o.default)(n);!(y=(x=T.next()).done);y=!0){var w=x.value,S={},E=w.server,k=!0,C=!1,A=void 0;try{for(var O,P=(0,o.default)(w.ids);!(k=(O=P.next()).done);k=!0){var M=O.value;S[M]=e[String(E)+"/"+String(M)]}}catch(I){C=!0,A=I}finally{try{!k&&P.return&&P.return()}finally{if(C)throw A}}w.done(S)}}catch(I){b=!0,_=I}finally{try{!y&&T.return&&T.return()}finally{if(b)throw _}}}))}e.setTileProxyAuthHeader=function(t){e.authHeader=y=t},e.getTileProxyAuthHeader=function(){return y};var x=e.fetchTilesDebounced=b(_,d.TILE_FETCH_DEBOUNCE,d.TILE_FETCH_DEBOUNCE),T=e.calculateZoomLevelFromResolutions=function(t,e){var n=t.map((function(t){return+t})).sort((function(t,e){return e-t})),r=e.range()[1]-e.range()[0],i=n.map((function(t){return(e.domain()[1]-e.domain()[0])/t})).map((function(t){return t/r})),o=i.filter((function(t){return t<1}));return 0===o.length?0:i.indexOf(o[o.length-1])},w=e.calculateResolution=function(t,e){if(t.resolutions)return t.resolutions.map((function(t){return+t})).sort((function(t,e){return e-t}))[e];var n=t.max_width,r=+t.bins_per_dimension;return n/(Math.pow(2,e)*r)},S=e.calculateZoomLevel=function(t,e,n,r){var i=t.range()[1]-t.range()[0],o=Math.max((n-e)/(t.domain()[1]-t.domain()[0]),1),a=384,s=Math.max(0,Math.ceil(Math.log(i/a)/Math.LN2)),l=Math.round(Math.log(o)/Math.LN2)+s,u=0;return r&&(u=Math.floor(Math.log(256)/Math.log(2)-Math.log(r)/Math.log(2))),l+=u};function E(t,e,n,r,i){var o=null,a=t.bins_per_dimension||256;o=t.resolutions?t.resolutions[r]*a:e/Math.pow(2,r);var s=Math.floor((i-n)/o);return[s,Math.floor(a*(i-s*o)/o)]}var k=e.calculateTiles=function(t,e,n,r,i,o){var a=Math.min(t,i),s=o/Math.pow(2,a),l=1e-7;return(0,u.range)(Math.max(0,Math.floor((e.domain()[0]-n)/s)),Math.min(Math.pow(2,a),Math.ceil((e.domain()[1]-n-l)/s)))},C=e.calculateTileWidth=function(t,e,n){return t.resolutions?t.resolutions.map((function(t){return+t})).sort((function(t,e){return e-t}))[e]*n:t.max_width/Math.pow(2,e)},A=e.calculateTilesFromResolution=function(t,e,n,r,i){var o=1e-7,a=t*(i||256),s=20;r||(r=Number.MAX_VALUE);var l=Math.max(0,Math.floor((e.domain()[0]-n)/a)),c=Math.ceil(Math.min(r,e.domain()[1]-n-o)/a),h=(0,u.range)(l,c);return h.length>s&&(console.warn("Too many visible tiles: "+String(h.length)+" truncating to "+s),h=h.slice(0,s)),h},O=e.tileDataToPixData=function(t,e,n,r,i,o,a,s,l,u){var c=t.tileData;if(c.dense){if(t.mirrored&&!t.isMirrored&&t.tileData.tilePos.length>0&&t.tileData.tilePos[0]===t.tileData.tilePos[1]){t.tileData.dense=t.tileData.dense.slice();for(var f=Math.floor(Math.sqrt(t.tileData.dense.length)),d=0;d<f;d++)for(var p=d+1;p<f;p++)t.tileData.dense[d*f+p]=t.tileData.dense[p*f+d];if(s)for(var m=0;m<f;m++)for(var v=0;v<m;v++)t.tileData.dense[m*f+v]=NaN;t.isMirrored=!0}o({pixData:(0,h.workerSetPix)(c.dense.length,c.dense,e,n,r,i,a,s,t.tileData.shape,l,u)})}else o(null)};function P(t,n,r,i){e.requestsInFlight=g+=1,i.publish("requestSent",t);var o=null;if("text"===r)o=null;else{if("json"!==r)throw new Error('fetch either "text" or "json", not "'+r+'"');o="application/json"}var a={};return o&&(a["Content-Type"]=o),y&&(a.Authorization=y),fetch(t,{credentials:"same-origin",headers:a}).then((function(t){if(!t.ok)throw Error(t.statusText);return t[r]()})).then((function(t){return n(void 0,t),t})).catch((function(e){return console.error("Could not fetch "+String(t),e),n(e,void 0),e})).finally((function(){i.publish("requestReceived",t),e.requestsInFlight=g-=1}))}function M(t,e,n){return P(t,e,"text",n)}function I(t){return new a.default((function(e){return setTimeout(e,t)}))}var R=e.trackInfo=function(t,e,n,r,i){var o=String((0,f.trimTrailingSlash)(t))+"/tileset_info/?d="+String(e)+"&s="+String(v);i.publish("requestSent",o),l(o,(function(e,a){i.publish("requestReceived",o),e?r?r("Error retrieving tilesetInfo from: "+String(t)):console.warn("Error retrieving: ",o):n(a)}),i)},L={calculateResolution:w,calculateTileAndPosInTile:E,calculateTiles:k,calculateTilesFromResolution:A,calculateTileWidth:C,calculateZoomLevel:S,calculateZoomLevelFromResolutions:T,fetchTilesDebounced:x,json:l,text:M,tileDataToPixData:O,trackInfo:R};e.default=L},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.trackViewer=void 0;var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(19)),u=f(n(2)),c=f(n(1)),h=n(317);function f(t){return t&&t.__esModule?t:{default:t}}var d=e.trackViewer=function(t,e,n){var r=(0,l.default)(e,4),i=r[0],o=r[1],a=r[2],s=r[3];n.options.colorbarPosition||(n.options.colorbarPosition="hidden"),n.options.labelPosition||(n.options.labelPosition="hidden");var u="arbitary-id",c={editable:!1,zoomFixed:!1,views:[{uid:u,initialXDomain:[i,o],initialYDomain:[a,s],tracks:{center:[n]},layout:{w:12,h:12,x:0,y:0,moved:!1,static:!1}}]};return{id:u,hgApi:(0,h.viewer)(t,c,{sizeMode:"bounded"})}},p=function(t){function e(t){(0,i.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.id="id-"+String(Math.random()),n}return(0,s.default)(e,t),(0,o.default)(e,[{key:"componentDidMount",value:function(){function t(){this.initTrackViewer()}return t}()},{key:"shouldComponentUpdate",value:function(){function t(t){var e=t.x,n=t.y,r=t.width,i=t.height;return this.zoomTo(e,n,r,i),!1}return t}()},{key:"initTrackViewer",value:function(){function t(){var t=this.props,e=t.trackConfig,n=t.x,r=t.y,i=t.width,o=t.height,a=document.getElementById(this.id),s=d(a,[n,n+i,r,r+o],e),l=s.id,u=s.hgApi;this.viewUid=l,this.viewer=u}return t}()},{key:"zoomTo",value:function(){function t(t,e,n,r){this.viewer.zoomTo(this.viewUid,t,t+n,e,e+r)}return t}()},{key:"render",value:function(){function t(){return c.default.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}return t}()}]),e}(c.default.Component);e.default=p,p.propTypes={trackConfig:u.default.object,width:u.default.number,height:u.default.number,x:u.default.number,y:u.default.number}},function(t,e,n){n.r(e);var r=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){a(o,t,this.t),a(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i;function a(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var s=1e-6,l=1e-12,u=Math.PI,c=u/2,h=u/4,f=2*u,d=180/u,p=u/180,m=Math.abs,v=Math.atan,g=Math.atan2,y=Math.cos,b=Math.ceil,_=Math.exp,x=Math.log,T=Math.pow,w=Math.sin,S=Math.sign||function(t){return t>0?1:t<0?-1:0},E=Math.sqrt,k=Math.tan;function C(t){return t>1?0:t<-1?u:Math.acos(t)}function A(t){return t>1?c:t<-1?-c:Math.asin(t)}function O(t){return(t=w(t/2))*t}function P(){}function M(t,e){t&&R.hasOwnProperty(t.type)&&R[t.type](t,e)}var I={Feature:function(t,e){M(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)M(n[r].geometry,e)}},R={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){L(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)L(n[r],e,0)},Polygon:function(t,e){D(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)D(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)M(n[r],e)}};function L(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function D(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)L(t[n],e,1);e.polygonEnd()}var N,j,B,F,H,z=function(t,e){t&&I.hasOwnProperty(t.type)?I[t.type](t,e):M(t,e)},U=r(),V=r(),G={point:P,lineStart:P,lineEnd:P,polygonStart:function(){U.reset(),G.lineStart=X,G.lineEnd=Y},polygonEnd:function(){var t=+U;V.add(t<0?f+t:t),this.lineStart=this.lineEnd=this.point=P},sphere:function(){V.add(f)}};function X(){G.point=W}function Y(){q(N,j)}function W(t,e){G.point=q,N=t,j=e,B=t*=p,F=y(e=(e*=p)/2+h),H=w(e)}function q(t,e){var n=(t*=p)-B,r=n>=0?1:-1,i=r*n,o=y(e=(e*=p)/2+h),a=w(e),s=H*a,l=F*o+s*y(i),u=s*r*w(i);U.add(g(u,l)),B=t,F=o,H=a}var K=function(t){return V.reset(),z(t,G),2*V};function $(t){return[g(t[1],t[0]),A(t[2])]}function Z(t){var e=t[0],n=t[1],r=y(n);return[r*y(e),r*w(e),w(n)]}function Q(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function J(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function tt(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function et(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function nt(t){var e=E(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var rt,it,ot,at,st,lt,ut,ct,ht,ft,dt=r(),pt={point:mt,lineStart:gt,lineEnd:yt,polygonStart:function(){pt.point=bt,pt.lineStart=_t,pt.lineEnd=xt,dt.reset(),G.polygonStart()},polygonEnd:function(){G.polygonEnd(),pt.point=mt,pt.lineStart=gt,pt.lineEnd=yt,U<0?(rt=-(ot=180),it=-(at=90)):dt>s?at=90:dt<-s&&(it=-90),ft[0]=rt,ft[1]=ot}};function mt(t,e){ht.push(ft=[rt=t,ot=t]),e<it&&(it=e),e>at&&(at=e)}function vt(t,e){var n=Z([t*p,e*p]);if(ct){var r=J(ct,n),i=J([r[1],-r[0],0],r);nt(i),i=$(i);var o,a=t-st,s=a>0?1:-1,l=i[0]*d*s,u=m(a)>180;u^(s*st<l&&l<s*t)?(o=i[1]*d)>at&&(at=o):u^(s*st<(l=(l+360)%360-180)&&l<s*t)?(o=-i[1]*d)<it&&(it=o):(e<it&&(it=e),e>at&&(at=e)),u?t<st?Tt(rt,t)>Tt(rt,ot)&&(ot=t):Tt(t,ot)>Tt(rt,ot)&&(rt=t):ot>=rt?(t<rt&&(rt=t),t>ot&&(ot=t)):t>st?Tt(rt,t)>Tt(rt,ot)&&(ot=t):Tt(t,ot)>Tt(rt,ot)&&(rt=t)}else ht.push(ft=[rt=t,ot=t]);e<it&&(it=e),e>at&&(at=e),ct=n,st=t}function gt(){pt.point=vt}function yt(){ft[0]=rt,ft[1]=ot,pt.point=mt,ct=null}function bt(t,e){if(ct){var n=t-st;dt.add(m(n)>180?n+(n>0?360:-360):n)}else lt=t,ut=e;G.point(t,e),vt(t,e)}function _t(){G.lineStart()}function xt(){bt(lt,ut),G.lineEnd(),m(dt)>s&&(rt=-(ot=180)),ft[0]=rt,ft[1]=ot,ct=null}function Tt(t,e){return(e-=t)<0?e+360:e}function wt(t,e){return t[0]-e[0]}function St(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Et,kt,Ct,At,Ot,Pt,Mt,It,Rt,Lt,Dt,Nt,jt,Bt,Ft,Ht,zt=function(t){var e,n,r,i,o,a,s;if(at=ot=-(rt=it=1/0),ht=[],z(t,pt),n=ht.length){for(ht.sort(wt),e=1,o=[r=ht[0]];e<n;++e)St(r,(i=ht[e])[0])||St(r,i[1])?(Tt(r[0],i[1])>Tt(r[0],r[1])&&(r[1]=i[1]),Tt(i[0],r[1])>Tt(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=Tt(r[1],i[0]))>a&&(a=s,rt=i[0],ot=r[1])}return ht=ft=null,rt===1/0||it===1/0?[[NaN,NaN],[NaN,NaN]]:[[rt,it],[ot,at]]},Ut={sphere:P,point:Vt,lineStart:Xt,lineEnd:qt,polygonStart:function(){Ut.lineStart=Kt,Ut.lineEnd=$t},polygonEnd:function(){Ut.lineStart=Xt,Ut.lineEnd=qt}};function Vt(t,e){t*=p;var n=y(e*=p);Gt(n*y(t),n*w(t),w(e))}function Gt(t,e,n){++Et,Ct+=(t-Ct)/Et,At+=(e-At)/Et,Ot+=(n-Ot)/Et}function Xt(){Ut.point=Yt}function Yt(t,e){t*=p;var n=y(e*=p);Bt=n*y(t),Ft=n*w(t),Ht=w(e),Ut.point=Wt,Gt(Bt,Ft,Ht)}function Wt(t,e){t*=p;var n=y(e*=p),r=n*y(t),i=n*w(t),o=w(e),a=g(E((a=Ft*o-Ht*i)*a+(a=Ht*r-Bt*o)*a+(a=Bt*i-Ft*r)*a),Bt*r+Ft*i+Ht*o);kt+=a,Pt+=a*(Bt+(Bt=r)),Mt+=a*(Ft+(Ft=i)),It+=a*(Ht+(Ht=o)),Gt(Bt,Ft,Ht)}function qt(){Ut.point=Vt}function Kt(){Ut.point=Zt}function $t(){Qt(Nt,jt),Ut.point=Vt}function Zt(t,e){Nt=t,jt=e,t*=p,e*=p,Ut.point=Qt;var n=y(e);Bt=n*y(t),Ft=n*w(t),Ht=w(e),Gt(Bt,Ft,Ht)}function Qt(t,e){t*=p;var n=y(e*=p),r=n*y(t),i=n*w(t),o=w(e),a=Ft*o-Ht*i,s=Ht*r-Bt*o,l=Bt*i-Ft*r,u=E(a*a+s*s+l*l),c=A(u),h=u&&-c/u;Rt+=h*a,Lt+=h*s,Dt+=h*l,kt+=c,Pt+=c*(Bt+(Bt=r)),Mt+=c*(Ft+(Ft=i)),It+=c*(Ht+(Ht=o)),Gt(Bt,Ft,Ht)}var Jt=function(t){Et=kt=Ct=At=Ot=Pt=Mt=It=Rt=Lt=Dt=0,z(t,Ut);var e=Rt,n=Lt,r=Dt,i=e*e+n*n+r*r;return i<l&&(e=Pt,n=Mt,r=It,kt<s&&(e=Ct,n=At,r=Ot),(i=e*e+n*n+r*r)<l)?[NaN,NaN]:[g(n,e)*d,A(r/E(i))*d]},te=function(t){return function(){return t}},ee=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function ne(t,e){return[m(t)>u?t+Math.round(-t/f)*f:t,e]}function re(t,e,n){return(t%=f)?e||n?ee(oe(t),ae(e,n)):oe(t):e||n?ae(e,n):ne}function ie(t){return function(e,n){return[(e+=t)>u?e-f:e<-u?e+f:e,n]}}function oe(t){var e=ie(t);return e.invert=ie(-t),e}function ae(t,e){var n=y(t),r=w(t),i=y(e),o=w(e);function a(t,e){var a=y(e),s=y(t)*a,l=w(t)*a,u=w(e),c=u*n+s*r;return[g(l*i-c*o,s*n-u*r),A(c*i+l*o)]}return a.invert=function(t,e){var a=y(e),s=y(t)*a,l=w(t)*a,u=w(e),c=u*i-l*o;return[g(l*i+u*o,s*n+c*r),A(c*n-s*r)]},a}ne.invert=ne;var se=function(t){function e(e){return(e=t(e[0]*p,e[1]*p))[0]*=d,e[1]*=d,e}return t=re(t[0]*p,t[1]*p,t.length>2?t[2]*p:0),e.invert=function(e){return(e=t.invert(e[0]*p,e[1]*p))[0]*=d,e[1]*=d,e},e};function le(t,e,n,r,i,o){if(n){var a=y(e),s=w(e),l=r*n;null==i?(i=e+r*f,o=e-l/2):(i=ue(a,i),o=ue(a,o),(r>0?i<o:i>o)&&(i+=r*f));for(var u,c=i;r>0?c>o:c<o;c-=l)u=$([a,-s*y(c),-s*w(c)]),t.point(u[0],u[1])}}function ue(t,e){(e=Z(e))[0]-=t,nt(e);var n=C(-e[1]);return((-e[2]<0?-n:n)+f-s)%f}var ce=function(){var t,e,n=te([0,0]),r=te(90),i=te(6),o={point:a};function a(n,r){t.push(n=e(n,r)),n[0]*=d,n[1]*=d}function s(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*p,l=i.apply(this,arguments)*p;return t=[],e=re(-a[0]*p,-a[1]*p,0).invert,le(o,s,l,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return s.center=function(t){return arguments.length?(n="function"==typeof t?t:te([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(r="function"==typeof t?t:te(+t),s):r},s.precision=function(t){return arguments.length?(i="function"==typeof t?t:te(+t),s):i},s},he=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:P,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},fe=function(t,e){return m(t[0]-e[0])<s&&m(t[1]-e[1])<s};function de(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var pe=function(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(fe(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}s.push(n=new de(r,t,null,!0)),l.push(n.o=new de(r,null,n,!1)),s.push(n=new de(a,t,null,!1)),l.push(n.o=new de(a,null,n,!0))}})),s.length){for(l.sort(e),me(s),me(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(u=f.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}u=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}};function me(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var ve=r(),ge=function(t,e){var n=e[0],r=e[1],i=w(r),o=[w(n),-y(n),0],a=0,l=0;ve.reset(),1===i?r=c+s:-1===i&&(r=-c-s);for(var d=0,p=t.length;d<p;++d)if(v=(m=t[d]).length)for(var m,v,b=m[v-1],_=b[0],x=b[1]/2+h,T=w(x),S=y(x),E=0;E<v;++E,_=C,T=P,S=M,b=k){var k=m[E],C=k[0],O=k[1]/2+h,P=w(O),M=y(O),I=C-_,R=I>=0?1:-1,L=R*I,D=L>u,N=T*P;if(ve.add(g(N*R*w(L),S*M+N*y(L))),a+=D?I+R*f:I,D^_>=n^C>=n){var j=J(Z(b),Z(k));nt(j);var B=J(o,j);nt(B);var F=(D^I>=0?-1:1)*A(B[2]);(r>F||r===F&&(j[0]||j[1]))&&(l+=D^I>=0?1:-1)}}return(a<-s||a<s&&ve<-s)^1&l},ye=n(8),be=function(t,e,n,r){return function(i){var o,a,s,l=e(i),u=he(),c=e(u),h=!1,f={point:d,lineStart:m,lineEnd:v,polygonStart:function(){f.point=g,f.lineStart=y,f.lineEnd=b,a=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=m,f.lineEnd=v,a=Object(ye.merge)(a);var t=ge(o,r);a.length?(h||(i.polygonStart(),h=!0),pe(a,xe,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){l.point(t,e)}function m(){f.point=p,l.lineStart()}function v(){f.point=d,l.lineEnd()}function g(t,e){s.push([t,e]),c.point(t,e)}function y(){c.lineStart(),s=[]}function b(){g(s[0][0],s[0][1]),c.lineEnd();var t,e,n,r,l=c.clean(),f=u.result(),d=f.length;if(s.pop(),o.push(s),s=null,d){if(1&l){if((e=(n=f[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}return}d>1&&2&l&&f.push(f.pop().concat(f.shift())),a.push(f.filter(_e))}}return f}};function _e(t){return t.length>1}function xe(t,e){return((t=t.x)[0]<0?t[1]-c-s:c-t[1])-((e=e.x)[0]<0?e[1]-c-s:c-e[1])}var Te=be((function(){return!0}),we,Ee,[-u,-c]);function we(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var l=o>0?u:-u,h=m(o-n);m(h-u)<s?(t.point(n,r=(r+a)/2>0?c:-c),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(o,r),e=0):i!==l&&h>=u&&(m(n-i)<s&&(n-=i*s),m(o-l)<s&&(o-=l*s),r=Se(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=o,r=a),i=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Se(t,e,n,r){var i,o,a=w(t-n);return m(a)>s?v((w(e)*(o=y(r))*w(n)-w(r)*(i=y(e))*w(t))/(i*o*a)):(e+r)/2}function Ee(t,e,n,r){var i;if(null==t)i=n*c,r.point(-u,i),r.point(0,i),r.point(u,i),r.point(u,0),r.point(u,-i),r.point(0,-i),r.point(-u,-i),r.point(-u,0),r.point(-u,i);else if(m(t[0]-e[0])>s){var o=t[0]<e[0]?u:-u;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}var ke=function(t){var e=y(t),n=6*p,r=e>0,i=m(e)>s;function o(e,r,i,o){le(o,t,n,i,e,r)}function a(t,n){return y(t)*y(n)>e}function l(t){var e,n,o,l,f;return{lineStart:function(){l=o=!1,f=1},point:function(d,p){var m,v=[d,p],g=a(d,p),y=r?g?0:h(d,p):g?h(d+(d<0?u:-u),p):0;if(!e&&(l=o=g)&&t.lineStart(),g!==o&&(!(m=c(e,v))||fe(e,m)||fe(v,m))&&(v[0]+=s,v[1]+=s,g=a(v[0],v[1])),g!==o)f=0,g?(t.lineStart(),m=c(v,e),t.point(m[0],m[1])):(m=c(e,v),t.point(m[0],m[1]),t.lineEnd()),e=m;else if(i&&e&&r^g){var b;!(y&n)&&(b=c(v,e,!0))&&(f=0,r?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1])))}g&&(!e||!fe(e,v))&&t.point(v[0],v[1]),e=v,o=g,n=y},lineEnd:function(){o&&t.lineEnd(),e=null},clean:function(){return f|(l&&o)<<1}}}function c(t,n,r){var i=[1,0,0],o=J(Z(t),Z(n)),a=Q(o,o),l=o[0],c=a-l*l;if(!c)return!r&&t;var h=e*a/c,f=-e*l/c,d=J(i,o),p=et(i,h);tt(p,et(o,f));var v=d,g=Q(p,v),y=Q(v,v),b=g*g-y*(Q(p,p)-1);if(!(b<0)){var _=E(b),x=et(v,(-g-_)/y);if(tt(x,p),x=$(x),!r)return x;var T,w=t[0],S=n[0],k=t[1],C=n[1];S<w&&(T=w,w=S,S=T);var A=S-w,O=m(A-u)<s;if(!O&&C<k&&(T=k,k=C,C=T),O||A<s?O?k+C>0^x[1]<(m(x[0]-w)<s?k:C):k<=x[1]&&x[1]<=C:A>u^(w<=x[0]&&x[0]<=S)){var P=et(v,(-g+_)/y);return tt(P,p),[x,$(P)]}}}function h(e,n){var i=r?t:u-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return be(a,l,o,r?[0,-t]:[-u,t-u])},Ce=function(t,e,n,r,i,o){var a,s=t[0],l=t[1],u=0,c=1,h=e[0]-s,f=e[1]-l;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}return u>0&&(t[0]=s+u*h,t[1]=l+u*f),c<1&&(e[0]=s+c*h,e[1]=l+c*f),!0}}}}},Ae=1e9,Oe=-Ae;function Pe(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var c=0,h=0;if(null==i||(c=a(i,s))!==(h=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==h);else l.point(o[0],o[1])}function a(r,i){return m(r[0]-t)<s?i>0?0:3:m(r[0]-n)<s?i>0?2:1:m(r[1]-e)<s?i>0?1:0:i>0?3:2}function l(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var s,u,c,h,f,d,p,m,v,g,y,b=a,_=he(),x={point:T,lineStart:k,lineEnd:C,polygonStart:S,polygonEnd:E};function T(t,e){i(t,e)&&b.point(t,e)}function w(){for(var e=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,c=s.length,h=s[0],f=h[0],d=h[1];l<c;++l)o=f,a=d,f=(h=s[l])[0],d=h[1],a<=r?d>r&&(f-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(f-o)*(r-a)<(d-a)*(t-o)&&--e;return e}function S(){b=_,s=[],u=[],y=!0}function E(){var t=w(),e=y&&t,n=(s=Object(ye.merge)(s)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&pe(s,l,t,o,a),a.polygonEnd()),b=a,s=u=c=null}function k(){x.point=A,u&&u.push(c=[]),g=!0,v=!1,p=m=NaN}function C(){s&&(A(h,f),d&&v&&_.rejoin(),s.push(_.result())),x.point=T,v&&b.lineEnd()}function A(o,a){var s=i(o,a);if(u&&c.push([o,a]),g)h=o,f=a,d=s,g=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&v)b.point(o,a);else{var l=[p=Math.max(Oe,Math.min(Ae,p)),m=Math.max(Oe,Math.min(Ae,m))],_=[o=Math.max(Oe,Math.min(Ae,o)),a=Math.max(Oe,Math.min(Ae,a))];Ce(l,_,t,e,n,r)?(v||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),s||b.lineEnd(),y=!1):s&&(b.lineStart(),b.point(o,a),y=!1)}p=o,m=a,v=s}return x}}var Me,Ie,Re,Le=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=Pe(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}},De=r(),Ne={sphere:P,point:P,lineStart:je,lineEnd:P,polygonStart:P,polygonEnd:P};function je(){Ne.point=Fe,Ne.lineEnd=Be}function Be(){Ne.point=Ne.lineEnd=P}function Fe(t,e){Me=t*=p,Ie=w(e*=p),Re=y(e),Ne.point=He}function He(t,e){t*=p;var n=w(e*=p),r=y(e),i=m(t-Me),o=y(i),a=r*w(i),s=Re*n-Ie*r*o,l=Ie*n+Re*r*o;De.add(g(E(a*a+s*s),l)),Me=t,Ie=n,Re=r}var ze=function(t){return De.reset(),z(t,Ne),+De},Ue=[null,null],Ve={type:"LineString",coordinates:Ue},Ge=function(t,e){return Ue[0]=t,Ue[1]=e,ze(Ve)},Xe={Feature:function(t,e){return We(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(We(n[r].geometry,e))return!0;return!1}},Ye={Sphere:function(){return!0},Point:function(t,e){return qe(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(qe(n[r],e))return!0;return!1},LineString:function(t,e){return Ke(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ke(n[r],e))return!0;return!1},Polygon:function(t,e){return $e(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if($e(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(We(n[r],e))return!0;return!1}};function We(t,e){return!(!t||!Ye.hasOwnProperty(t.type))&&Ye[t.type](t,e)}function qe(t,e){return 0===Ge(t,e)}function Ke(t,e){var n=Ge(t[0],t[1]);return Ge(t[0],e)+Ge(e,t[1])<=n+s}function $e(t,e){return!!ge(t.map(Ze),Qe(e))}function Ze(t){return(t=t.map(Qe)).pop(),t}function Qe(t){return[t[0]*p,t[1]*p]}var Je=function(t,e){return(t&&Xe.hasOwnProperty(t.type)?Xe[t.type]:We)(t,e)};function tn(t,e,n){var r=Object(ye.range)(t,e-s,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function en(t,e,n){var r=Object(ye.range)(t,e-s,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function nn(){var t,e,n,r,i,o,a,l,u,c,h,f,d=10,p=d,v=90,g=360,y=2.5;function _(){return{type:"MultiLineString",coordinates:x()}}function x(){return Object(ye.range)(b(r/v)*v,n,v).map(h).concat(Object(ye.range)(b(l/g)*g,a,g).map(f)).concat(Object(ye.range)(b(e/d)*d,t,d).filter((function(t){return m(t%v)>s})).map(u)).concat(Object(ye.range)(b(o/p)*p,i,p).filter((function(t){return m(t%g)>s})).map(c))}return _.lines=function(){return x().map((function(t){return{type:"LineString",coordinates:t}}))},_.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(a).slice(1),h(n).reverse().slice(1),f(l).reverse().slice(1))]}},_.extent=function(t){return arguments.length?_.extentMajor(t).extentMinor(t):_.extentMinor()},_.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),l>a&&(t=l,l=a,a=t),_.precision(y)):[[r,l],[n,a]]},_.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),_.precision(y)):[[e,o],[t,i]]},_.step=function(t){return arguments.length?_.stepMajor(t).stepMinor(t):_.stepMinor()},_.stepMajor=function(t){return arguments.length?(v=+t[0],g=+t[1],_):[v,g]},_.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],_):[d,p]},_.precision=function(s){return arguments.length?(y=+s,u=tn(o,i,90),c=en(e,t,y),h=tn(l,a,90),f=en(r,n,y),_):y},_.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}function rn(){return nn()()}var on,an,sn,ln,un=function(t,e){var n=t[0]*p,r=t[1]*p,i=e[0]*p,o=e[1]*p,a=y(r),s=w(r),l=y(o),u=w(o),c=a*y(n),h=a*w(n),f=l*y(i),m=l*w(i),v=2*A(E(O(o-r)+a*l*O(i-n))),b=w(v),_=v?function(t){var e=w(t*=v)/b,n=w(v-t)/b,r=n*c+e*f,i=n*h+e*m,o=n*s+e*u;return[g(i,r)*d,g(o,E(r*r+i*i))*d]}:function(){return[n*d,r*d]};return _.distance=v,_},cn=function(t){return t},hn=r(),fn=r(),dn={point:P,lineStart:P,lineEnd:P,polygonStart:function(){dn.lineStart=pn,dn.lineEnd=gn},polygonEnd:function(){dn.lineStart=dn.lineEnd=dn.point=P,hn.add(m(fn)),fn.reset()},result:function(){var t=hn/2;return hn.reset(),t}};function pn(){dn.point=mn}function mn(t,e){dn.point=vn,on=sn=t,an=ln=e}function vn(t,e){fn.add(ln*t-sn*e),sn=t,ln=e}function gn(){vn(on,an)}var yn=dn,bn=1/0,_n=bn,xn=-bn,Tn=xn;function wn(t,e){t<bn&&(bn=t),t>xn&&(xn=t),e<_n&&(_n=e),e>Tn&&(Tn=e)}var Sn,En,kn,Cn,An={point:wn,lineStart:P,lineEnd:P,polygonStart:P,polygonEnd:P,result:function(){var t=[[bn,_n],[xn,Tn]];return xn=Tn=-(_n=bn=1/0),t}},On=0,Pn=0,Mn=0,In=0,Rn=0,Ln=0,Dn=0,Nn=0,jn=0,Bn={point:Fn,lineStart:Hn,lineEnd:Vn,polygonStart:function(){Bn.lineStart=Gn,Bn.lineEnd=Xn},polygonEnd:function(){Bn.point=Fn,Bn.lineStart=Hn,Bn.lineEnd=Vn},result:function(){var t=jn?[Dn/jn,Nn/jn]:Ln?[In/Ln,Rn/Ln]:Mn?[On/Mn,Pn/Mn]:[NaN,NaN];return On=Pn=Mn=In=Rn=Ln=Dn=Nn=jn=0,t}};function Fn(t,e){On+=t,Pn+=e,++Mn}function Hn(){Bn.point=zn}function zn(t,e){Bn.point=Un,Fn(kn=t,Cn=e)}function Un(t,e){var n=t-kn,r=e-Cn,i=E(n*n+r*r);In+=i*(kn+t)/2,Rn+=i*(Cn+e)/2,Ln+=i,Fn(kn=t,Cn=e)}function Vn(){Bn.point=Fn}function Gn(){Bn.point=Yn}function Xn(){Wn(Sn,En)}function Yn(t,e){Bn.point=Wn,Fn(Sn=kn=t,En=Cn=e)}function Wn(t,e){var n=t-kn,r=e-Cn,i=E(n*n+r*r);In+=i*(kn+t)/2,Rn+=i*(Cn+e)/2,Ln+=i,Dn+=(i=Cn*t-kn*e)*(kn+t),Nn+=i*(Cn+e),jn+=3*i,Fn(kn=t,Cn=e)}var qn=Bn;function Kn(t){this._context=t}Kn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,f)}},result:P};var $n,Zn,Qn,Jn,tr,er=r(),nr={point:P,lineStart:function(){nr.point=rr},lineEnd:function(){$n&&ir(Zn,Qn),nr.point=P},polygonStart:function(){$n=!0},polygonEnd:function(){$n=null},result:function(){var t=+er;return er.reset(),t}};function rr(t,e){nr.point=ir,Zn=Jn=t,Qn=tr=e}function ir(t,e){Jn-=t,tr-=e,er.add(E(Jn*Jn+tr*tr)),Jn=t,tr=e}var or=nr;function ar(){this._string=[]}function sr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}ar.prototype={_radius:4.5,_circle:sr(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=sr(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var lr=function(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),z(t,n(r))),r.result()}return o.area=function(t){return z(t,n(yn)),yn.result()},o.measure=function(t){return z(t,n(or)),or.result()},o.bounds=function(t){return z(t,n(An)),An.result()},o.centroid=function(t){return z(t,n(qn)),qn.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,cn):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new ar):new Kn(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)},ur=function(t){return{stream:cr(t)}};function cr(t){return function(e){var n=new hr;for(var r in t)n[r]=t[r];return n.stream=e,n}}function hr(){}function fr(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),z(n,t.stream(An)),e(An.result()),null!=r&&t.clipExtent(r),t}function dr(t,e,n){return fr(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function pr(t,e,n){return dr(t,[[0,0],e],n)}function mr(t,e,n){return fr(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function vr(t,e,n){return fr(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}hr.prototype={constructor:hr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var gr=16,yr=y(30*p),br=function(t,e){return+e?xr(t,e):_r(t)};function _r(t){return cr({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function xr(t,e){function n(r,i,o,a,l,u,c,h,f,d,p,v,y,b){var _=c-r,x=h-i,T=_*_+x*x;if(T>4*e&&y--){var w=a+d,S=l+p,k=u+v,C=E(w*w+S*S+k*k),O=A(k/=C),P=m(m(k)-1)<s||m(o-f)<s?(o+f)/2:g(S,w),M=t(P,O),I=M[0],R=M[1],L=I-r,D=R-i,N=x*L-_*D;(N*N/T>e||m((_*L+x*D)/T-.5)>.3||a*d+l*p+u*v<yr)&&(n(r,i,o,a,l,u,I,R,P,w/=C,S/=C,k,y,b),b.point(I,R),n(I,R,P,w,S,k,c,h,f,d,p,v,y,b))}}return function(e){var r,i,o,a,s,l,u,c,h,f,d,p,m={point:v,lineStart:g,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=_},polygonEnd:function(){e.polygonEnd(),m.lineStart=g}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function g(){c=NaN,m.point=y,e.lineStart()}function y(r,i){var o=Z([r,i]),a=t(r,i);n(c,h,u,f,d,p,c=a[0],h=a[1],u=r,f=o[0],d=o[1],p=o[2],gr,e),e.point(c,h)}function b(){m.point=v,e.lineEnd()}function _(){g(),m.point=x,m.lineEnd=T}function x(t,e){y(r=t,e),i=c,o=h,a=f,s=d,l=p,m.point=y}function T(){n(c,h,u,f,d,p,i,o,r,a,s,l,gr,e),m.lineEnd=b,b()}return m}}var Tr=cr({point:function(t,e){this.stream.point(t*p,e*p)}});function wr(t){return cr({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Sr(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r}function Er(t,e,n,r){var i=y(r),o=w(r),a=i*t,s=o*t,l=i/t,u=o/t,c=(o*n-i*e)/t,h=(o*e+i*n)/t;function f(t,r){return[a*t-s*r+e,n-s*t-a*r]}return f.invert=function(t,e){return[l*t-u*e+c,h-u*t-l*e]},f}function kr(t){return Cr((function(){return t}))()}function Cr(t){var e,n,r,i,o,a,s,l,u,c,h=150,f=480,m=250,v=0,g=0,y=0,b=0,_=0,x=0,T=null,w=Te,S=null,k=cn,C=.5;function A(t){return l(t[0]*p,t[1]*p)}function O(t){return(t=l.invert(t[0],t[1]))&&[t[0]*d,t[1]*d]}function P(){var t=Er(h,0,0,x).apply(null,e(v,g)),r=(x?Er:Sr)(h,f-t[0],m-t[1],x);return n=re(y,b,_),s=ee(e,r),l=ee(n,s),a=br(s,C),M()}function M(){return u=c=null,A}return A.stream=function(t){return u&&c===t?u:u=Tr(wr(n)(w(a(k(c=t)))))},A.preclip=function(t){return arguments.length?(w=t,T=void 0,M()):w},A.postclip=function(t){return arguments.length?(k=t,S=r=i=o=null,M()):k},A.clipAngle=function(t){return arguments.length?(w=+t?ke(T=t*p):(T=null,Te),M()):T*d},A.clipExtent=function(t){return arguments.length?(k=null==t?(S=r=i=o=null,cn):Pe(S=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),M()):null==S?null:[[S,r],[i,o]]},A.scale=function(t){return arguments.length?(h=+t,P()):h},A.translate=function(t){return arguments.length?(f=+t[0],m=+t[1],P()):[f,m]},A.center=function(t){return arguments.length?(v=t[0]%360*p,g=t[1]%360*p,P()):[v*d,g*d]},A.rotate=function(t){return arguments.length?(y=t[0]%360*p,b=t[1]%360*p,_=t.length>2?t[2]%360*p:0,P()):[y*d,b*d,_*d]},A.angle=function(t){return arguments.length?(x=t%360*p,P()):x*d},A.precision=function(t){return arguments.length?(a=br(s,C=t*t),M()):E(C)},A.fitExtent=function(t,e){return dr(A,t,e)},A.fitSize=function(t,e){return pr(A,t,e)},A.fitWidth=function(t,e){return mr(A,t,e)},A.fitHeight=function(t,e){return vr(A,t,e)},function(){return e=t.apply(this,arguments),A.invert=e.invert&&O,P()}}function Ar(t){var e=0,n=u/3,r=Cr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*p,n=t[1]*p):[e*d,n*d]},i}function Or(t){var e=y(t);function n(t,n){return[t*e,w(n)/e]}return n.invert=function(t,n){return[t/e,A(n*e)]},n}function Pr(t,e){var n=w(t),r=(n+w(e))/2;if(m(r)<s)return Or(t);var i=1+n*(2*r-n),o=E(i)/r;function a(t,e){var n=E(i-2*r*w(e))/r;return[n*w(t*=r),o-n*y(t)]}return a.invert=function(t,e){var n=o-e;return[g(t,m(n))/r*S(n),A((i-(t*t+n*n)*r*r)/(2*r))]},a}var Mr=function(){return Ar(Pr).scale(155.424).center([0,33.6442])},Ir=function(){return Mr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function Rr(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}var Lr=function(){var t,e,n,r,i,o,a=Ir(),l=Mr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Mr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function h(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,h}return h.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(t)},h.stream=function(n){return t&&e===n?t:t=Rr([a.stream(e=n),l.stream(n),u.stream(n)])},h.precision=function(t){return arguments.length?(a.precision(t),l.precision(t),u.precision(t),f()):a.precision()},h.scale=function(t){return arguments.length?(a.scale(t),l.scale(.35*t),u.scale(t),h.translate(a.translate())):a.scale()},h.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],h=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,h-.238*e],[o+.455*e,h+.238*e]]).stream(c),r=l.translate([o-.307*e,h+.201*e]).clipExtent([[o-.425*e+s,h+.12*e+s],[o-.214*e-s,h+.234*e-s]]).stream(c),i=u.translate([o-.205*e,h+.212*e]).clipExtent([[o-.214*e+s,h+.166*e+s],[o-.115*e-s,h+.234*e-s]]).stream(c),f()},h.fitExtent=function(t,e){return dr(h,t,e)},h.fitSize=function(t,e){return pr(h,t,e)},h.fitWidth=function(t,e){return mr(h,t,e)},h.fitHeight=function(t,e){return vr(h,t,e)},h.scale(1070)};function Dr(t){return function(e,n){var r=y(e),i=y(n),o=t(r*i);return[o*i*w(e),o*w(n)]}}function Nr(t){return function(e,n){var r=E(e*e+n*n),i=t(r),o=w(i),a=y(i);return[g(e*o,r*a),A(r&&n*o/r)]}}var jr=Dr((function(t){return E(2/(1+t))}));jr.invert=Nr((function(t){return 2*A(t/2)}));var Br=function(){return kr(jr).scale(124.75).clipAngle(179.999)},Fr=Dr((function(t){return(t=C(t))&&t/w(t)}));Fr.invert=Nr((function(t){return t}));var Hr=function(){return kr(Fr).scale(79.4188).clipAngle(179.999)};function zr(t,e){return[t,x(k((c+e)/2))]}zr.invert=function(t,e){return[t,2*v(_(e))-c]};var Ur=function(){return Vr(zr).scale(961/f)};function Vr(t){var e,n,r,i=kr(t),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,c=null;function h(){var o=u*a(),s=i(se(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===zr?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),h()):a()},i.translate=function(t){return arguments.length?(s(t),h()):s()},i.center=function(t){return arguments.length?(o(t),h()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),h()):null==c?null:[[c,e],[n,r]]},h()}function Gr(t){return k((c+t)/2)}function Xr(t,e){var n=y(t),r=t===e?w(t):x(n/y(e))/x(Gr(e)/Gr(t)),i=n*T(Gr(t),r)/r;if(!r)return zr;function o(t,e){i>0?e<-c+s&&(e=-c+s):e>c-s&&(e=c-s);var n=i/T(Gr(e),r);return[n*w(r*t),i-n*y(r*t)]}return o.invert=function(t,e){var n=i-e,o=S(r)*E(t*t+n*n);return[g(t,m(n))/r*S(n),2*v(T(i/o,1/r))-c]},o}var Yr=function(){return Ar(Xr).scale(109.5).parallels([30,30])};function Wr(t,e){return[t,e]}Wr.invert=Wr;var qr=function(){return kr(Wr).scale(152.63)};function Kr(t,e){var n=y(t),r=t===e?w(t):(n-y(e))/(e-t),i=n/r+t;if(m(r)<s)return Wr;function o(t,e){var n=i-e,o=r*t;return[n*w(o),i-n*y(o)]}return o.invert=function(t,e){var n=i-e;return[g(t,m(n))/r*S(n),i-S(r)*E(t*t+n*n)]},o}var $r=function(){return Ar(Kr).scale(131.154).center([0,13.9389])},Zr=1.340264,Qr=-.081106,Jr=893e-6,ti=.003796,ei=E(3)/2,ni=12;function ri(t,e){var n=A(ei*w(e)),r=n*n,i=r*r*r;return[t*y(n)/(ei*(Zr+3*Qr*r+i*(7*Jr+9*ti*r))),n*(Zr+Qr*r+i*(Jr+ti*r))]}ri.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<ni&&(o=(i=(r-=n=(r*(Zr+Qr*i+o*(Jr+ti*i))-e)/(Zr+3*Qr*i+o*(7*Jr+9*ti*i)))*r)*i*i,!(m(n)<l));++a);return[ei*t*(Zr+3*Qr*i+o*(7*Jr+9*ti*i))/y(r),A(w(r)/ei)]};var ii=function(){return kr(ri).scale(177.158)};function oi(t,e){var n=y(e),r=y(t)*n;return[n*w(t)/r,w(e)/r]}oi.invert=Nr(v);var ai=function(){return kr(oi).scale(144.049).clipAngle(60)};function si(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?cn:cr({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}var li=function(){var t,e,n,r,i,o,a=1,s=0,l=0,u=1,c=1,h=cn,f=null,d=cn;function p(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=h(d(i=t))},postclip:function(r){return arguments.length?(d=r,f=t=e=n=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(f=t=e=n=null,cn):Pe(f=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),p()):null==f?null:[[f,t],[e,n]]},scale:function(t){return arguments.length?(h=si((a=+t)*u,a*c,s,l),p()):a},translate:function(t){return arguments.length?(h=si(a*u,a*c,s=+t[0],l=+t[1]),p()):[s,l]},reflectX:function(t){return arguments.length?(h=si(a*(u=t?-1:1),a*c,s,l),p()):u<0},reflectY:function(t){return arguments.length?(h=si(a*u,a*(c=t?-1:1),s,l),p()):c<0},fitExtent:function(t,e){return dr(o,t,e)},fitSize:function(t,e){return pr(o,t,e)},fitWidth:function(t,e){return mr(o,t,e)},fitHeight:function(t,e){return vr(o,t,e)}}};function ui(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}ui.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(m(n)>s&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var ci=function(){return kr(ui).scale(175.295)};function hi(t,e){return[y(e)*w(t),w(e)]}hi.invert=Nr(A);var fi=function(){return kr(hi).scale(249.5).clipAngle(90+s)};function di(t,e){var n=y(e),r=1+y(t)*n;return[n*w(t)/r,w(e)/r]}di.invert=Nr((function(t){return 2*v(t)}));var pi=function(){return kr(di).scale(250).clipAngle(142)};function mi(t,e){return[x(k((c+e)/2)),-t]}mi.invert=function(t,e){return[-e,2*v(_(t))-c]};var vi=function(){var t=Vr(mi),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};n.d(e,"geoArea",(function(){return K})),n.d(e,"geoBounds",(function(){return zt})),n.d(e,"geoCentroid",(function(){return Jt})),n.d(e,"geoCircle",(function(){return ce})),n.d(e,"geoClipAntimeridian",(function(){return Te})),n.d(e,"geoClipCircle",(function(){return ke})),n.d(e,"geoClipExtent",(function(){return Le})),n.d(e,"geoClipRectangle",(function(){return Pe})),n.d(e,"geoContains",(function(){return Je})),n.d(e,"geoDistance",(function(){return Ge})),n.d(e,"geoGraticule",(function(){return nn})),n.d(e,"geoGraticule10",(function(){return rn})),n.d(e,"geoInterpolate",(function(){return un})),n.d(e,"geoLength",(function(){return ze})),n.d(e,"geoPath",(function(){return lr})),n.d(e,"geoAlbers",(function(){return Ir})),n.d(e,"geoAlbersUsa",(function(){return Lr})),n.d(e,"geoAzimuthalEqualArea",(function(){return Br})),n.d(e,"geoAzimuthalEqualAreaRaw",(function(){return jr})),n.d(e,"geoAzimuthalEquidistant",(function(){return Hr})),n.d(e,"geoAzimuthalEquidistantRaw",(function(){return Fr})),n.d(e,"geoConicConformal",(function(){return Yr})),n.d(e,"geoConicConformalRaw",(function(){return Xr})),n.d(e,"geoConicEqualArea",(function(){return Mr})),n.d(e,"geoConicEqualAreaRaw",(function(){return Pr})),n.d(e,"geoConicEquidistant",(function(){return $r})),n.d(e,"geoConicEquidistantRaw",(function(){return Kr})),n.d(e,"geoEqualEarth",(function(){return ii})),n.d(e,"geoEqualEarthRaw",(function(){return ri})),n.d(e,"geoEquirectangular",(function(){return qr})),n.d(e,"geoEquirectangularRaw",(function(){return Wr})),n.d(e,"geoGnomonic",(function(){return ai})),n.d(e,"geoGnomonicRaw",(function(){return oi})),n.d(e,"geoIdentity",(function(){return li})),n.d(e,"geoProjection",(function(){return kr})),n.d(e,"geoProjectionMutator",(function(){return Cr})),n.d(e,"geoMercator",(function(){return Ur})),n.d(e,"geoMercatorRaw",(function(){return zr})),n.d(e,"geoNaturalEarth1",(function(){return ci})),n.d(e,"geoNaturalEarth1Raw",(function(){return ui})),n.d(e,"geoOrthographic",(function(){return fi})),n.d(e,"geoOrthographicRaw",(function(){return hi})),n.d(e,"geoStereographic",(function(){return pi})),n.d(e,"geoStereographicRaw",(function(){return di})),n.d(e,"geoTransverseMercator",(function(){return vi})),n.d(e,"geoTransverseMercatorRaw",(function(){return mi})),n.d(e,"geoRotation",(function(){return se})),n.d(e,"geoStream",(function(){return z})),n.d(e,"geoTransform",(function(){return ur}))},function(t,e,n){n.r(e);var r=n(72),i=n(65),o=function(t,e){var n,o,l,u,c=Object(i.a)("beforesend","progress","load","error"),h=Object(r.a)(),f=new XMLHttpRequest,d=null,p=null,m=0;function v(t){var e,r=f.status;if(!r&&s(f)||r>=200&&r<300||304===r){if(l)try{e=l.call(n,f)}catch(i){return void c.call("error",n,i)}else e=f;c.call("load",n,e)}else c.call("error",n,t)}if(typeof XDomainRequest<"u"&&!("withCredentials"in f)&&/^(http(s)?:)?\/\//.test(t)&&(f=new XDomainRequest),"onload"in f?f.onload=f.onerror=f.ontimeout=v:f.onreadystatechange=function(t){f.readyState>3&&v(t)},f.onprogress=function(t){c.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?h.get(t):(null==e?h.remove(t):h.set(t,e+""),n)},mimeType:function(t){return arguments.length?(o=null==t?null:t+"",n):o},responseType:function(t){return arguments.length?(u=t,n):u},timeout:function(t){return arguments.length?(m=+t,n):m},user:function(t){return arguments.length<1?d:(d=null==t?null:t+"",n)},password:function(t){return arguments.length<1?p:(p=null==t?null:t+"",n)},response:function(t){return l=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,r,i){return f.open(e,t,!0,d,p),null!=o&&!h.has("accept")&&h.set("accept",o+",*/*"),f.setRequestHeader&&h.each((function(t,e){f.setRequestHeader(e,t)})),null!=o&&f.overrideMimeType&&f.overrideMimeType(o),null!=u&&(f.responseType=u),m>0&&(f.timeout=m),null==i&&"function"==typeof r&&(i=r,r=null),null!=i&&1===i.length&&(i=a(i)),null!=i&&n.on("error",i).on("load",(function(t){i(null,t)})),c.call("beforesend",n,f),f.send(r??null),n},abort:function(){return f.abort(),n},on:function(){var t=c.on.apply(c,arguments);return t===c?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n};function a(t){return function(e,n){t(null==e?n:null)}}function s(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}var l=function(t,e){return function(n,r){var i=o(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},u=l("text/html",(function(t){return document.createRange().createContextualFragment(t.responseText)})),c=l("application/json",(function(t){return JSON.parse(t.responseText)})),h=l("text/plain",(function(t){return t.responseText})),f=l("application/xml",(function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e})),d=n(104),p=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=o(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(m(e,r=t)):r},a.row(r),i?a.get(i):a}};function m(t,e){return function(n){return t(n.responseText,e)}}var v=p("text/csv",d.csvParse),g=p("text/tab-separated-values",d.tsvParse);n.d(e,"request",(function(){return o})),n.d(e,"html",(function(){return u})),n.d(e,"json",(function(){return c})),n.d(e,"text",(function(){return h})),n.d(e,"xml",(function(){return f})),n.d(e,"csv",(function(){return v})),n.d(e,"tsv",(function(){return g}))},function(t,e,n){n.r(e);var r=[].slice,i={};function o(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function a(t){if(!t._start)try{s(t)}catch(e){if(t._tasks[t._ended+t._active-1])u(t,e);else if(!t._data)throw e}}function s(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,o=n[r];n[r]=l(t,e),--t._waiting,++t._active,n=o.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||i)}}function l(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?u(t,n):(t._data[e]=r,t._waiting?a(t):c(t))))}}function u(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch{}t._active=NaN,c(t)}function c(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function h(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new o(t)}o.prototype=h.prototype={constructor:o,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=r.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),a(this),this},abort:function(){return null==this._error&&u(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},c(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,c(this),this}},n.d(e,"queue",(function(){return h}))}]))}(l);const Ms=a({__proto__:null},[l.exports])}}]);
//# sourceMappingURL=240.b889dac8.chunk.js.map